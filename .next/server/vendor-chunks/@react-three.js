/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@react-three";
exports.ids = ["vendor-chunks/@react-three"];
exports.modules = {

/***/ "(ssr)/./node_modules/@react-three/drei/index.cjs.js":
/*!*****************************************************!*\
  !*** ./node_modules/@react-three/drei/index.cjs.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("Object.defineProperty(exports, \"__esModule\", ({value:!0}));var e=__webpack_require__(/*! @babel/runtime/helpers/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/extends.js\"),t=__webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\"),r=__webpack_require__(/*! react-dom/client */ \"(ssr)/./node_modules/next/dist/compiled/react-dom/client.js\"),n=__webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.cjs\"),a=__webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.js\"),o=__webpack_require__(/*! zustand */ \"(ssr)/./node_modules/zustand/index.js\"),i=__webpack_require__(/*! @use-gesture/react */ \"(ssr)/./node_modules/@use-gesture/react/dist/use-gesture-react.cjs.js\"),s=__webpack_require__(/*! maath */ \"(ssr)/./node_modules/maath/dist/maath.cjs.js\"),l=__webpack_require__(/*! @react-spring/three */ \"(ssr)/./node_modules/@react-spring/three/dist/cjs/index.js\"),c=__webpack_require__(/*! zustand/middleware */ \"(ssr)/./node_modules/zustand/middleware.js\"),u=__webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/index.cjs\"),d=__webpack_require__(/*! zustand/shallow */ \"(ssr)/./node_modules/zustand/shallow.js\"),m=__webpack_require__(/*! troika-three-text */ \"(ssr)/./node_modules/troika-three-text/dist/troika-three-text.umd.js\"),f=__webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.cjs.js\"),p=__webpack_require__(/*! meshline */ \"(ssr)/./node_modules/meshline/dist/index.cjs\"),h=__webpack_require__(/*! camera-controls */ \"(ssr)/./node_modules/camera-controls/dist/camera-controls.cjs\"),x=__webpack_require__(/*! hls.js */ \"(ssr)/./node_modules/hls.js/dist/hls.js\"),y=__webpack_require__(/*! stats.js */ \"(ssr)/./node_modules/stats.js/build/stats.min.js\"),v=__webpack_require__(/*! stats-gl */ \"(ssr)/./node_modules/stats-gl/dist/main.cjs\"),g=__webpack_require__(/*! detect-gpu */ \"(ssr)/./node_modules/detect-gpu/dist/detect-gpu.umd.js\"),w=__webpack_require__(/*! three-mesh-bvh */ \"(ssr)/./node_modules/three-mesh-bvh/build/index.umd.cjs\"),z=__webpack_require__(/*! react-composer */ \"(ssr)/./node_modules/react-composer/lib/index.js\"),b=__webpack_require__(/*! @monogrid/gainmap-js */ \"(ssr)/./node_modules/@react-three/drei/node_modules/@monogrid/gainmap-js/dist/decode.umd.cjs\"),E=__webpack_require__(/*! tunnel-rat */ \"(ssr)/./node_modules/tunnel-rat/dist/index.cjs.js\");function M(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if(\"default\"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var T=M(e),C=S(t),P=S(r),R=S(n),D=M(h),F=M(y),k=M(v),_=M(z),A=M(E);const L=new n.Vector3,I=new n.Vector3,B=new n.Vector3,V=new n.Vector2;function U(e,t,r){const n=L.setFromMatrixPosition(e.matrixWorld);n.project(t);const a=r.width/2,o=r.height/2;return[n.x*a+a,-n.y*o+o]}const O=e=>Math.abs(e)<1e-10?0:e;function N(e,t,r=\"\"){let n=\"matrix3d(\";for(let r=0;16!==r;r++)n+=O(t[r]*e.elements[r])+(15!==r?\",\":\")\");return r+n}const j=(W=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>N(e,W));var W;const G=(e,t)=>{return N(e,[1/(r=t),1/r,1/r,1,-1/r,-1/r,-1/r,-1,1/r,1/r,1/r,1,1,1,1,1],\"translate(-50%,-50%)\");var r};const H=C.forwardRef((({children:e,eps:t=.001,style:r,className:o,prepend:i,center:s,fullscreen:l,portal:c,distanceFactor:u,sprite:d=!1,transform:m=!1,occlude:f,onOcclude:p,castShadow:h,receiveShadow:x,material:y,geometry:v,zIndexRange:g=[16777271,0],calculatePosition:w=U,as:z=\"div\",wrapperClass:b,pointerEvents:E=\"auto\",...M},S)=>{const{gl:R,camera:D,scene:F,size:k,raycaster:_,events:A,viewport:N}=a.useThree(),[W]=C.useState((()=>document.createElement(z))),H=C.useRef(),$=C.useRef(null),q=C.useRef(0),X=C.useRef([0,0]),Z=C.useRef(null),Y=C.useRef(null),Q=(null==c?void 0:c.current)||A.connected||R.domElement.parentNode,K=C.useRef(null),J=C.useRef(!1),ee=C.useMemo((()=>f&&\"blending\"!==f||Array.isArray(f)&&f.length&&function(e){return e&&\"object\"==typeof e&&\"current\"in e}(f[0])),[f]);C.useLayoutEffect((()=>{const e=R.domElement;f&&\"blending\"===f?(e.style.zIndex=`${Math.floor(g[0]/2)}`,e.style.position=\"absolute\",e.style.pointerEvents=\"none\"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)}),[f]),C.useLayoutEffect((()=>{if($.current){const e=H.current=P.createRoot(W);if(F.updateMatrixWorld(),m)W.style.cssText=\"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";else{const e=w($.current,D,k);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return Q&&(i?Q.prepend(W):Q.appendChild(W)),()=>{Q&&Q.removeChild(W),e.unmount()}}}),[Q,m]),C.useLayoutEffect((()=>{b&&(W.className=b)}),[b]);const te=C.useMemo((()=>m?{position:\"absolute\",top:0,left:0,width:k.width,height:k.height,transformStyle:\"preserve-3d\",pointerEvents:\"none\"}:{position:\"absolute\",transform:s?\"translate3d(-50%,-50%,0)\":\"none\",...l&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...r}),[r,s,l,k,m]),re=C.useMemo((()=>({position:\"absolute\",pointerEvents:E})),[E]);C.useLayoutEffect((()=>{var t,n;(J.current=!1,m)?null==(t=H.current)||t.render(C.createElement(\"div\",{ref:Z,style:te},C.createElement(\"div\",{ref:Y,style:re},C.createElement(\"div\",{ref:S,className:o,style:r,children:e})))):null==(n=H.current)||n.render(C.createElement(\"div\",{ref:S,style:te,className:o,children:e}))}));const ne=C.useRef(!0);a.useFrame((e=>{if($.current){D.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);const e=m?X.current:w($.current,D,k);if(m||Math.abs(q.current-D.zoom)>t||Math.abs(X.current[0]-e[0])>t||Math.abs(X.current[1]-e[1])>t){const t=function(e,t){const r=L.setFromMatrixPosition(e.matrixWorld),n=I.setFromMatrixPosition(t.matrixWorld),a=r.sub(n),o=t.getWorldDirection(B);return a.angleTo(o)>Math.PI/2}($.current,D);let r=!1;ee&&(Array.isArray(f)?r=f.map((e=>e.current)):\"blending\"!==f&&(r=[F]));const a=ne.current;if(r){const e=function(e,t,r,n){const a=L.setFromMatrixPosition(e.matrixWorld),o=a.clone();o.project(t),V.set(o.x,o.y),r.setFromCamera(V,t);const i=r.intersectObjects(n,!0);if(i.length){const e=i[0].distance;return a.distanceTo(r.ray.origin)<e}return!0}($.current,D,_,r);ne.current=e&&!t}else ne.current=!t;a!==ne.current&&(p?p(!ne.current):W.style.display=ne.current?\"block\":\"none\");const o=Math.floor(g[0]/2),i=f?ee?[g[0],o]:[o-1,0]:g;if(W.style.zIndex=`${function(e,t,r){if(t instanceof n.PerspectiveCamera||t instanceof n.OrthographicCamera){const n=L.setFromMatrixPosition(e.matrixWorld),a=I.setFromMatrixPosition(t.matrixWorld),o=n.distanceTo(a),i=(r[1]-r[0])/(t.far-t.near),s=r[1]-i*t.far;return Math.round(i*o+s)}}($.current,D,i)}`,m){const[e,t]=[k.width/2,k.height/2],r=D.projectionMatrix.elements[5]*t,{isOrthographicCamera:n,top:a,left:o,bottom:i,right:s}=D,l=j(D.matrixWorldInverse),c=n?`scale(${r})translate(${O(-(s+o)/2)}px,${O((a+i)/2)}px)`:`translateZ(${r}px)`;let m=$.current.matrixWorld;d&&(m=D.matrixWorldInverse.clone().transpose().copyPosition(m).scale($.current.scale),m.elements[3]=m.elements[7]=m.elements[11]=0,m.elements[15]=1),W.style.width=k.width+\"px\",W.style.height=k.height+\"px\",W.style.perspective=n?\"\":`${r}px`,Z.current&&Y.current&&(Z.current.style.transform=`${c}${l}translate(${e}px,${t}px)`,Y.current.style.transform=G(m,1/((u||10)/400)))}else{const t=void 0===u?1:function(e,t){if(t instanceof n.OrthographicCamera)return t.zoom;if(t instanceof n.PerspectiveCamera){const r=L.setFromMatrixPosition(e.matrixWorld),n=I.setFromMatrixPosition(t.matrixWorld),a=t.fov*Math.PI/180,o=r.distanceTo(n);return 1/(2*Math.tan(a/2)*o)}return 1}($.current,D)*u;W.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}X.current=e,q.current=D.zoom}}if(!ee&&K.current&&!J.current)if(m){if(Z.current){const e=Z.current.children[0];if(null!=e&&e.clientWidth&&null!=e&&e.clientHeight){const{isOrthographicCamera:t}=D;if(t||v)M.scale&&(Array.isArray(M.scale)?M.scale instanceof n.Vector3?K.current.scale.copy(M.scale.clone().divideScalar(1)):K.current.scale.set(1/M.scale[0],1/M.scale[1],1/M.scale[2]):K.current.scale.setScalar(1/M.scale));else{const t=(u||10)/400,r=e.clientWidth*t,n=e.clientHeight*t;K.current.scale.set(r,n,1)}J.current=!0}}}else{const t=W.children[0];if(null!=t&&t.clientWidth&&null!=t&&t.clientHeight){const e=1/N.factor,r=t.clientWidth*e,n=t.clientHeight*e;K.current.scale.set(r,n,1),J.current=!0}K.current.lookAt(e.camera.position)}}));const ae=C.useMemo((()=>({vertexShader:m?void 0:'\\n          /*\\n            This shader is from the THREE\\'s SpriteMaterial.\\n            We need to turn the backing plane into a Sprite\\n            (make it always face the camera) if \"transfrom\"\\n            is false.\\n          */\\n          #include <common>\\n\\n          void main() {\\n            vec2 center = vec2(0., 1.);\\n            float rotation = 0.0;\\n\\n            // This is somewhat arbitrary, but it seems to work well\\n            // Need to figure out how to derive this dynamically if it even matters\\n            float size = 0.03;\\n\\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n            vec2 scale;\\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n            if ( isPerspective ) scale *= - mvPosition.z;\\n\\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\\n            vec2 rotatedPosition;\\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n            mvPosition.xy += rotatedPosition;\\n\\n            gl_Position = projectionMatrix * mvPosition;\\n          }\\n      ',fragmentShader:\"\\n        void main() {\\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\n        }\\n      \"})),[m]);return C.createElement(\"group\",T.default({},M,{ref:$}),f&&!ee&&C.createElement(\"mesh\",{castShadow:h,receiveShadow:x,ref:K},v||C.createElement(\"planeGeometry\",null),y||C.createElement(\"shaderMaterial\",{side:n.DoubleSide,vertexShader:ae.vertexShader,fragmentShader:ae.fragmentShader})))}));let $=0;const q=o.create((e=>(n.DefaultLoadingManager.onStart=(t,r,n)=>{e({active:!0,item:t,loaded:r,total:n,progress:(r-$)/(n-$)*100})},n.DefaultLoadingManager.onLoad=()=>{e({active:!1})},n.DefaultLoadingManager.onError=t=>e((e=>({errors:[...e.errors,t]}))),n.DefaultLoadingManager.onProgress=(t,r,n)=>{r===n&&($=n),e({active:!0,item:t,loaded:r,total:n,progress:(r-$)/(n-$)*100||100})},{errors:[],active:!1,progress:0,item:\"\",loaded:0,total:0})));const X=e=>`Loading ${e.toFixed(2)}%`;const Z={container:{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",background:\"#171717\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",transition:\"opacity 300ms ease\",zIndex:1e3},inner:{width:100,height:3,background:\"#272727\",textAlign:\"center\"},bar:{height:3,width:\"100%\",background:\"white\",transition:\"transform 200ms\",transformOrigin:\"left center\"},data:{display:\"inline-block\",position:\"relative\",fontVariantNumeric:\"tabular-nums\",marginTop:\"0.8em\",color:\"#f0f0f0\",fontSize:\"0.6em\",fontFamily:'-apple-system, BlinkMacSystemFont, \"Inter\", \"Segoe UI\", \"Helvetica Neue\", Helvetica, Arial, Roboto, Ubuntu, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"',whiteSpace:\"nowrap\"}},Y=C.createContext(null);function Q(){return C.useContext(Y)}const K=C.forwardRef((({children:e},t)=>{const r=C.useRef(null);C.useImperativeHandle(t,(()=>r.current),[]);const n=Q(),{width:o,height:i}=a.useThree((e=>e.viewport));return a.useFrame((()=>{r.current.position.x=n.horizontal?-o*(n.pages-1)*n.offset:0,r.current.position.y=n.horizontal?0:i*(n.pages-1)*n.offset})),C.createElement(\"group\",{ref:r},e)})),J=C.forwardRef((({children:e,style:t,...r},n)=>{const o=Q(),i=C.useRef(null);C.useImperativeHandle(n,(()=>i.current),[]);const{width:s,height:l}=a.useThree((e=>e.size)),c=C.useContext(a.context),u=C.useMemo((()=>P.createRoot(o.fixed)),[o.fixed]);return a.useFrame((()=>{o.delta>o.eps&&(i.current.style.transform=`translate3d(${o.horizontal?-s*(o.pages-1)*o.offset:0}px,${o.horizontal?0:l*(o.pages-1)*-o.offset}px,0)`)})),u.render(C.createElement(\"div\",T.default({ref:i,style:{...t,position:\"absolute\",top:0,left:0,willChange:\"transform\"}},r),C.createElement(Y.Provider,{value:o},C.createElement(a.context.Provider,{value:c},e)))),null})),ee=C.forwardRef((({html:e,...t},r)=>{const n=e?J:K;return C.createElement(n,T.default({ref:r},t))}));const te=C.createContext(null);const re=C.createContext([]);const ne=C.forwardRef((function({children:e,follow:t=!0,lockX:r=!1,lockY:o=!1,lockZ:i=!1,...s},l){const c=C.useRef(null),u=C.useRef(null),d=new n.Quaternion;return a.useFrame((({camera:e})=>{if(!t||!u.current)return;const n=c.current.rotation.clone();u.current.updateMatrix(),u.current.updateWorldMatrix(!1,!1),u.current.getWorldQuaternion(d),e.getWorldQuaternion(c.current.quaternion).premultiply(d.invert()),r&&(c.current.rotation.x=n.x),o&&(c.current.rotation.y=n.y),i&&(c.current.rotation.z=n.z)})),C.useImperativeHandle(l,(()=>u.current),[]),C.createElement(\"group\",T.default({ref:u},s),C.createElement(\"group\",{ref:c},e))})),ae=C.forwardRef((({children:e,depth:t=-1,...r},n)=>{const o=C.useRef(null);return C.useImperativeHandle(n,(()=>o.current),[]),a.useFrame((({camera:e})=>{o.current.quaternion.copy(e.quaternion),o.current.position.copy(e.position)})),C.createElement(\"group\",T.default({ref:o},r),C.createElement(\"group\",{\"position-z\":-t},e))})),oe=new R.Vector3,ie=new R.Vector3,se=new R.Vector3,le=(e,t,r,n=1)=>{const a=oe.set(e.x/r.width*2-1,-e.y/r.height*2+1,n);return a.unproject(t),a},ce=(e,t,r,n)=>{const a=((e,t,r)=>{const n=r.width/2,a=r.height/2;t.updateMatrixWorld(!1);const o=e.project(t);return o.x=o.x*n+n,o.y=-o.y*a+a,o})(se.copy(e),r,n);let o=0;for(let i=0;i<2;++i){const s=ie.copy(a).setComponent(i,a.getComponent(i)+t),l=le(s,r,n,s.z);o=Math.max(o,e.distanceTo(l))}return o},ue=new n.Vector3,de=t.forwardRef((({scale:e=1,...r},n)=>{const o=t.useRef(null);return C.useImperativeHandle(n,(()=>o.current),[]),a.useFrame((t=>{const r=o.current;if(!r)return;const n=ce(r.getWorldPosition(ue),e,t.camera,t.size);r.scale.setScalar(n*e)})),C.createElement(\"object3D\",T.default({ref:o},r))})),me=C.forwardRef((function({points:e,color:t=16777215,vertexColors:r,linewidth:o,lineWidth:i,segments:s,dashed:l,...c},d){var m,f;const p=a.useThree((e=>e.size)),h=C.useMemo((()=>s?new u.LineSegments2:new u.Line2),[s]),[x]=C.useState((()=>new u.LineMaterial)),y=4===(null==r||null==(m=r[0])?void 0:m.length)?4:3,v=C.useMemo((()=>{const a=s?new u.LineSegmentsGeometry:new u.LineGeometry,o=e.map((e=>{const t=Array.isArray(e);return e instanceof n.Vector3||e instanceof n.Vector4?[e.x,e.y,e.z]:e instanceof n.Vector2?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e}));if(a.setPositions(o.flat()),r){t=16777215;const e=r.map((e=>e instanceof n.Color?e.toArray():e));a.setColors(e.flat(),y)}return a}),[e,s,r,y]);return C.useLayoutEffect((()=>{h.computeLineDistances()}),[e,h]),C.useLayoutEffect((()=>{l?x.defines.USE_DASH=\"\":delete x.defines.USE_DASH,x.needsUpdate=!0}),[l,x]),C.useEffect((()=>()=>{v.dispose(),x.dispose()}),[v]),C.createElement(\"primitive\",T.default({object:h,ref:d},c),C.createElement(\"primitive\",{object:v,attach:\"geometry\"}),C.createElement(\"primitive\",T.default({object:x,attach:\"material\",color:t,vertexColors:Boolean(r),resolution:[p.width,p.height],linewidth:null!==(f=null!=o?o:i)&&void 0!==f?f:1,dashed:l,transparent:4===y},c)))})),fe=new n.Vector3,pe=C.forwardRef((function({start:e=[0,0,0],end:t=[0,0,0],mid:r,segments:a=20,...o},i){const s=C.useRef(null);C.useImperativeHandle(i,(()=>s.current));const[l]=C.useState((()=>new n.QuadraticBezierCurve3(void 0,void 0,void 0))),c=C.useCallback(((e,t,r,a=20)=>(e instanceof n.Vector3?l.v0.copy(e):l.v0.set(...e),t instanceof n.Vector3?l.v2.copy(t):l.v2.set(...t),r instanceof n.Vector3?l.v1.copy(r):Array.isArray(r)?l.v1.set(...r):l.v1.copy(l.v0.clone().add(l.v2.clone().sub(l.v0)).add(fe.set(0,l.v0.y-l.v2.y,0))),l.getPoints(a))),[]);C.useLayoutEffect((()=>{s.current.setPoints=(e,t,r)=>{const n=c(e,t,r);s.current.geometry&&s.current.geometry.setPositions(n.map((e=>e.toArray())).flat())}}),[]);const u=C.useMemo((()=>c(e,t,r,a)),[e,t,r,a]);return C.createElement(me,T.default({ref:s,points:u},o))})),he=C.forwardRef((function({start:e,end:t,midA:r,midB:a,segments:o=20,...i},s){const l=C.useMemo((()=>{const i=e instanceof n.Vector3?e:new n.Vector3(...e),s=t instanceof n.Vector3?t:new n.Vector3(...t),l=r instanceof n.Vector3?r:new n.Vector3(...r),c=a instanceof n.Vector3?a:new n.Vector3(...a);return new n.CubicBezierCurve3(i,l,c,s).getPoints(o)}),[e,t,r,a,o]);return C.createElement(me,T.default({ref:s,points:l},i))})),xe=C.forwardRef((function({points:e,closed:t=!1,curveType:r=\"centripetal\",tension:a=.5,segments:o=20,vertexColors:i,...s},l){const c=C.useMemo((()=>{const o=e.map((e=>e instanceof n.Vector3?e:new n.Vector3(...e)));return new n.CatmullRomCurve3(o,t,r,a)}),[e,t,r,a]),u=C.useMemo((()=>c.getPoints(o)),[c,o]),d=C.useMemo((()=>{if(!i||i.length<2)return;if(i.length===o+1)return i;const e=i.map((e=>e instanceof n.Color?e:new n.Color(...e)));t&&e.push(e[0].clone());const r=[e[0]],a=o/(e.length-1);for(let t=1;t<o;t++){const n=t%a/a,o=Math.floor(t/a);r.push(e[o].clone().lerp(e[o+1],n))}return r.push(e[e.length-1]),r}),[i,o]);return C.createElement(me,T.default({ref:l,points:u,vertexColors:d},s))})),ye=C.forwardRef((({url:e,distance:t=1,loop:r=!0,autoplay:o,...i},s)=>{const l=C.useRef(null);C.useImperativeHandle(s,(()=>l.current),[]);const c=a.useThree((({camera:e})=>e)),[u]=C.useState((()=>new n.AudioListener)),d=a.useLoader(n.AudioLoader,e);return C.useEffect((()=>{const e=l.current;e&&(e.setBuffer(d),e.setRefDistance(t),e.setLoop(r),o&&!e.isPlaying&&e.play())}),[d,c,t,r]),C.useEffect((()=>{const e=l.current;return c.add(u),()=>{c.remove(u),e&&(e.isPlaying&&e.stop(),e.source&&e.source._connected&&e.disconnect())}}),[]),C.createElement(\"positionalAudio\",T.default({ref:l,args:[u]},i))})),ve=C.forwardRef((({sdfGlyphSize:e=64,anchorX:t=\"center\",anchorY:r=\"middle\",font:n,fontSize:o=1,children:i,characters:s,onSync:l,...c},u)=>{const d=a.useThree((({invalidate:e})=>e)),[p]=C.useState((()=>new m.Text)),[h,x]=C.useMemo((()=>{const e=[];let t=\"\";return C.Children.forEach(i,(r=>{\"string\"==typeof r||\"number\"==typeof r?t+=r:e.push(r)})),[e,t]}),[i]);return f.suspend((()=>new Promise((e=>m.preloadFont({font:n,characters:s},e)))),[\"troika-text\",n,s]),C.useLayoutEffect((()=>{p.sync((()=>{d(),l&&l(p)}))})),C.useEffect((()=>()=>p.dispose()),[p]),C.createElement(\"primitive\",T.default({object:p,ref:u,font:n,text:x,anchorX:t,anchorY:r,fontSize:o,sdfGlyphSize:e},c),h)}));let ge=null;async function we(e){const t=await async function(e){return\"string\"==typeof e?await(await fetch(e)).json():e}(e);return r=t,ge||(ge=new u.FontLoader),ge.parse(r);var r}function ze(e){return f.suspend(we,[e])}ze.preload=e=>f.preload(we,[e]),ze.clear=e=>f.clear([e]);const be=[\"string\",\"number\"],Ee=C.forwardRef((({font:e,letterSpacing:r=0,lineHeight:n=1,size:o=1,height:i=.2,bevelThickness:s=.1,bevelSize:l=.01,bevelEnabled:c=!1,bevelOffset:d=0,bevelSegments:m=4,curveSegments:f=8,smooth:p,children:h,...x},y)=>{C.useMemo((()=>a.extend({RenamedTextGeometry:u.TextGeometry})),[]);const v=C.useRef(null),g=ze(e),w=t.useMemo((()=>({font:g,size:o,height:i,bevelThickness:s,bevelSize:l,bevelEnabled:c,bevelSegments:m,bevelOffset:d,curveSegments:f,letterSpacing:r,lineHeight:n})),[g,o,i,s,l,c,m,d,f,r,n]),[z,...b]=t.useMemo((()=>(e=>{let t=\"\";const r=[];return C.Children.forEach(e,(e=>{be.includes(typeof e)?t+=e+\"\":r.push(e)})),[t,...r]})(h)),[h]),E=C.useMemo((()=>[z,w]),[z,w]);return C.useLayoutEffect((()=>{p&&(v.current.geometry=u.mergeVertices(v.current.geometry,p),v.current.geometry.computeVertexNormals())}),[E,p]),C.useImperativeHandle(y,(()=>v.current),[]),C.createElement(\"mesh\",T.default({},x,{ref:v}),C.createElement(\"renamedTextGeometry\",{args:E}),b)})),Me=C.forwardRef((({children:e,multisamping:t=8,renderIndex:r=1,disableRender:o,disableGamma:i,disableRenderPass:s,depthBuffer:l=!0,stencilBuffer:c=!1,anisotropy:d=1,encoding:m,type:f,...p},h)=>{C.useMemo((()=>a.extend({EffectComposer:u.EffectComposer,RenderPass:u.RenderPass,ShaderPass:u.ShaderPass})),[]);const x=C.useRef(null);C.useImperativeHandle(h,(()=>x.current),[]);const{scene:y,camera:v,gl:g,size:w,viewport:z}=a.useThree(),[b]=C.useState((()=>{const e=new n.WebGLRenderTarget(w.width,w.height,{type:f||n.HalfFloatType,format:n.RGBAFormat,depthBuffer:l,stencilBuffer:c,anisotropy:d});return f===n.UnsignedByteType&&null!=m&&(\"colorSpace\"in e?e.texture.colorSpace=m:e.texture.encoding=m),e.samples=t,e}));C.useEffect((()=>{var e,t;null==(e=x.current)||e.setSize(w.width,w.height),null==(t=x.current)||t.setPixelRatio(z.dpr)}),[g,w,z.dpr]),a.useFrame((()=>{var e;o||null==(e=x.current)||e.render()}),r);const E=[];return s||E.push(C.createElement(\"renderPass\",{key:\"renderpass\",attach:`passes-${E.length}`,args:[y,v]})),i||E.push(C.createElement(\"shaderPass\",{attach:`passes-${E.length}`,key:\"gammapass\",args:[u.GammaCorrectionShader]})),C.Children.forEach(e,(e=>{e&&E.push(C.cloneElement(e,{key:E.length,attach:`passes-${E.length}`}))})),C.createElement(\"effectComposer\",T.default({ref:x,args:[g,b]},p),E)}));let Se=function(e){return e.Linear=\"linear\",e.Radial=\"radial\",e}({});function Te(e,t,r,n){const a=class extends R.ShaderMaterial{constructor(a={}){const o=Object.entries(e);super({uniforms:o.reduce(((e,[t,r])=>({...e,...R.UniformsUtils.clone({[t]:{value:r}})})),{}),vertexShader:t,fragmentShader:r}),this.key=\"\",o.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),Object.assign(this,a),n&&n(this)}};return a.key=R.MathUtils.generateUUID(),a}const Ce=e=>e===Object(e)&&!Array.isArray(e)&&\"function\"!=typeof e;function Pe(e,r){const o=a.useThree((e=>e.gl)),i=a.useLoader(n.TextureLoader,Ce(e)?Object.values(e):e);t.useLayoutEffect((()=>{null==r||r(i)}),[r]),t.useEffect((()=>{if(\"initTexture\"in o){let e=[];Array.isArray(i)?e=i:i instanceof n.Texture?e=[i]:Ce(i)&&(e=Object.values(i)),e.forEach((e=>{e instanceof n.Texture&&o.initTexture(e)}))}}),[o,i]);const s=t.useMemo((()=>{if(Ce(e)){const t={};let r=0;for(const n in e)t[n]=i[r++];return t}return i}),[e,i]);return s}Pe.preload=e=>a.useLoader.preload(n.TextureLoader,e),Pe.clear=e=>a.useLoader.clear(n.TextureLoader,e);const Re=(()=>parseInt(n.REVISION.replace(/\\D+/g,\"\")))(),De=Te({color:new R.Color(\"white\"),scale:new R.Vector2(1,1),imageBounds:new R.Vector2(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},\"\\n  varying vec2 vUv;\\n  varying vec2 vPos;\\n  void main() {\\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\\n    vUv = uv;\\n    vPos = position.xy;\\n  }\\n\",`\\n  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\\n  varying vec2 vUv;\\n  varying vec2 vPos;\\n  uniform vec2 scale;\\n  uniform vec2 imageBounds;\\n  uniform float resolution;\\n  uniform vec3 color;\\n  uniform sampler2D map;\\n  uniform float radius;\\n  uniform float zoom;\\n  uniform float grayscale;\\n  uniform float opacity;\\n  const vec3 luma = vec3(.299, 0.587, 0.114);\\n  vec4 toGrayscale(vec4 color, float intensity) {\\n    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);\\n  }\\n  vec2 aspect(vec2 size) {\\n    return size / min(size.x, size.y);\\n  }\\n  \\n  const float PI = 3.14159265;\\n    \\n  // from https://iquilezles.org/articles/distfunctions\\n  float udRoundBox( vec2 p, vec2 b, float r ) {\\n    return length(max(abs(p)-b+r,0.0))-r;\\n  }\\n\\n  void main() {\\n    vec2 s = aspect(scale);\\n    vec2 i = aspect(imageBounds);\\n    float rs = s.x / s.y;\\n    float ri = i.x / i.y;\\n    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\\n    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\\n    vec2 uv = vUv * s / new + offset;\\n    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);\\n\\n    vec2 res = vec2(scale * resolution);\\n    vec2 halfRes = 0.5 * res;\\n    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    \\n\\t  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));\\n    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);\\n    \\n    #include <tonemapping_fragment>\\n    #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n  }\\n`),Fe=C.forwardRef((({children:e,color:t,segments:r=1,scale:n=1,zoom:o=1,grayscale:i=0,opacity:s=1,radius:l=0,texture:c,toneMapped:u,transparent:d,side:m,...f},p)=>{a.extend({ImageMaterial:De});const h=C.useRef(null),x=a.useThree((e=>e.size)),y=Array.isArray(n)?[n[0],n[1]]:[n,n],v=[c.image.width,c.image.height],g=Math.max(x.width,x.height);return C.useImperativeHandle(p,(()=>h.current),[]),C.useLayoutEffect((()=>{h.current.geometry.parameters&&h.current.material.scale.set(y[0]*h.current.geometry.parameters.width,y[1]*h.current.geometry.parameters.height)}),[y[0],y[1]]),C.createElement(\"mesh\",T.default({ref:h,scale:Array.isArray(n)?[...n,1]:n},f),C.createElement(\"planeGeometry\",{args:[1,1,r,r]}),C.createElement(\"imageMaterial\",{color:t,map:c,zoom:o,grayscale:i,opacity:s,scale:y,imageBounds:v,resolution:g,radius:l,toneMapped:u,transparent:d,side:m,key:De.key}),e)})),ke=C.forwardRef((({url:e,...t},r)=>{const n=Pe(e);return C.createElement(Fe,T.default({},t,{texture:n,ref:r}))})),_e=C.forwardRef((({url:e,...t},r)=>C.createElement(Fe,T.default({},t,{ref:r})))),Ae=C.forwardRef(((e,t)=>{if(e.url)return C.createElement(ke,T.default({},e,{ref:t}));if(e.texture)return C.createElement(_e,T.default({},e,{ref:t}));throw new Error(\"<Image /> requires a url or texture\")})),Le=C.forwardRef((({threshold:e=15,geometry:t,...r},n)=>{const a=C.useRef(null);C.useImperativeHandle(n,(()=>a.current),[]);const o=C.useMemo((()=>[0,0,0,1,0,0]),[]),i=C.useRef(),s=C.useRef();return C.useLayoutEffect((()=>{const r=a.current.parent,n=null!=t?t:null==r?void 0:r.geometry;if(!n)return;if(i.current===n&&s.current===e)return;i.current=n,s.current=e;const o=new R.EdgesGeometry(n,e).attributes.position.array;a.current.geometry.setPositions(o),a.current.geometry.attributes.instanceStart.needsUpdate=!0,a.current.geometry.attributes.instanceEnd.needsUpdate=!0,a.current.computeLineDistances()})),C.createElement(me,T.default({segments:!0,points:o,ref:a,raycast:()=>null},r))})),Ie=Te({screenspace:!1,color:new R.Color(\"black\"),opacity:1,thickness:.05,size:new R.Vector2},\"#include <common>\\n   #include <morphtarget_pars_vertex>\\n   #include <skinning_pars_vertex>\\n   #include <clipping_planes_pars_vertex>\\n   uniform float thickness;\\n   uniform bool screenspace;\\n   uniform vec2 size;\\n   void main() {\\n     #if defined (USE_SKINNING)\\n\\t     #include <beginnormal_vertex>\\n       #include <morphnormal_vertex>\\n       #include <skinbase_vertex>\\n       #include <skinnormal_vertex>\\n       #include <defaultnormal_vertex>\\n     #endif\\n     #include <begin_vertex>\\n\\t   #include <morphtarget_vertex>\\n\\t   #include <skinning_vertex>\\n     #include <project_vertex>\\n     #include <clipping_planes_vertex>\\n     vec4 tNormal = vec4(normal, 0.0);\\n     vec4 tPosition = vec4(transformed, 1.0);\\n     #ifdef USE_INSTANCING\\n       tNormal = instanceMatrix * tNormal;\\n       tPosition = instanceMatrix * tPosition;\\n     #endif\\n     if (screenspace) {\\n       vec3 newPosition = tPosition.xyz + tNormal.xyz * thickness;\\n       gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0); \\n     } else {\\n       vec4 clipPosition = projectionMatrix * modelViewMatrix * tPosition;\\n       vec4 clipNormal = projectionMatrix * modelViewMatrix * tNormal;\\n       vec2 offset = normalize(clipNormal.xy) * thickness / size * clipPosition.w * 2.0;\\n       clipPosition.xy += offset;\\n       gl_Position = clipPosition;\\n     }\\n   }\",`uniform vec3 color;\\n   uniform float opacity;\\n   #include <clipping_planes_pars_fragment>\\n   void main(){\\n     #include <clipping_planes_fragment>\\n     gl_FragColor = vec4(color, opacity);\\n     #include <tonemapping_fragment>\\n     #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n   }`);const Be={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},Ve=(e,t=1)=>(e.set(e.subarray(t)),e.fill(-1/0,-t),e);function Ue(e,t){const{length:r,local:o,decay:i,interval:s,stride:l}={...Be,...t},c=C.useRef(),[u]=C.useState((()=>new n.Vector3));C.useLayoutEffect((()=>{e&&(c.current=Float32Array.from({length:10*r*3},((t,r)=>e.position.getComponent(r%3))))}),[r,e]);const d=C.useRef(new n.Vector3),m=C.useRef(0);return a.useFrame((()=>{if(e&&c.current){if(0===m.current){let t;o?t=e.position:(e.getWorldPosition(u),t=u);const r=1*i;for(let e=0;e<r;e++)t.distanceTo(d.current)<l||(Ve(c.current,3),c.current.set(t.toArray(),c.current.length-3));d.current.copy(t)}m.current++,m.current=m.current%s}})),c}const Oe=C.forwardRef(((e,t)=>{const{children:r}=e,{width:o,length:i,decay:s,local:l,stride:c,interval:u}={...Be,...e},{color:d=\"hotpink\",attenuation:m,target:f}=e,h=a.useThree((e=>e.size)),x=a.useThree((e=>e.scene)),y=C.useRef(null),[v,g]=C.useState(null),w=Ue(v,{length:i,decay:s,local:l,stride:c,interval:u});C.useEffect((()=>{const e=(null==f?void 0:f.current)||y.current.children.find((e=>e instanceof n.Object3D));e&&g(e)}),[w,f]);const z=C.useMemo((()=>new p.MeshLineGeometry),[]),b=C.useMemo((()=>{var e;const t=new p.MeshLineMaterial({lineWidth:.1*o,color:d,sizeAttenuation:1,resolution:new n.Vector2(h.width,h.height)});let a;if(r)if(Array.isArray(r))a=r.find((e=>{const t=e;return\"string\"==typeof t.type&&\"meshLineMaterial\"===t.type}));else{const e=r;\"string\"==typeof e.type&&\"meshLineMaterial\"===e.type&&(a=e)}return\"object\"==typeof(null==(e=a)?void 0:e.props)&&t.setValues(a.props),t}),[o,d,h,r]);return C.useEffect((()=>{b.uniforms.resolution.value.set(h.width,h.height)}),[h]),a.useFrame((()=>{w.current&&z.setPoints(w.current,m)})),C.createElement(\"group\",null,a.createPortal(C.createElement(\"mesh\",{ref:t,geometry:z,material:b}),x),C.createElement(\"group\",{ref:y},r))}));function Ne(e,t=16,r,a,o){const[i,s]=C.useState((()=>{const e=Array.from({length:t},(()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])).flat();return new n.InstancedBufferAttribute(Float32Array.from(e),16)}));return C.useLayoutEffect((()=>{if(void 0===e.current)return;const l=new u.MeshSurfaceSampler(e.current);a&&l.setWeightAttribute(a),l.build();const c=new n.Vector3,d=new n.Vector3,m=new n.Color,f=new n.Object3D;e.current.updateMatrixWorld(!0);for(let n=0;n<t;n++)l.sample(c,d,m),\"function\"==typeof r?r({dummy:f,sampledMesh:e.current,position:c,normal:d,color:m},n):f.position.copy(c),f.updateMatrix(),null!=o&&o.current&&o.current.setMatrixAt(n,f.matrix),f.matrix.toArray(i.array,16*n);null!=o&&o.current&&(o.current.instanceMatrix.needsUpdate=!0),i.needsUpdate=!0,s(new n.InstancedBufferAttribute(i.array,i.itemSize).copy(i))}),[e,o,a,t,r]),i}const je=C.forwardRef((({isChild:e=!1,object:t,children:r,deep:n,castShadow:a,receiveShadow:o,inject:i,keys:s,...l},c)=>{const d={keys:s,deep:n,inject:i,castShadow:a,receiveShadow:o};if(t=C.useMemo((()=>{if(!1===e&&!Array.isArray(t)){let e=!1;if(t.traverse((t=>{t.isSkinnedMesh&&(e=!0)})),e)return u.SkeletonUtils.clone(t)}return t}),[t,e]),Array.isArray(t))return C.createElement(\"group\",T.default({},l,{ref:c}),t.map((e=>C.createElement(je,T.default({key:e.uuid,object:e},d)))),r);const{children:m,...f}=function(e,{keys:t=[\"near\",\"far\",\"color\",\"distance\",\"decay\",\"penumbra\",\"angle\",\"intensity\",\"skeleton\",\"visible\",\"castShadow\",\"receiveShadow\",\"morphTargetDictionary\",\"morphTargetInfluences\",\"name\",\"geometry\",\"material\",\"position\",\"rotation\",\"scale\",\"up\",\"userData\",\"bindMode\",\"bindMatrix\",\"bindMatrixInverse\",\"skeleton\"],deep:r,inject:n,castShadow:a,receiveShadow:o}){let i={};for(const r of t)i[r]=e[r];return r&&(i.geometry&&\"materialsOnly\"!==r&&(i.geometry=i.geometry.clone()),i.material&&\"geometriesOnly\"!==r&&(i.material=i.material.clone())),n&&(i=\"function\"==typeof n?{...i,children:n(e)}:C.isValidElement(n)?{...i,children:n}:{...i,...n}),e instanceof R.Mesh&&(a&&(i.castShadow=!0),o&&(i.receiveShadow=!0)),i}(t,d),p=t.type[0].toLowerCase()+t.type.slice(1);return C.createElement(p,T.default({},f,l,{ref:c}),t.children.map((e=>\"Bone\"===e.type?C.createElement(\"primitive\",T.default({key:e.uuid,object:e},d)):C.createElement(je,T.default({key:e.uuid,object:e},d,{isChild:!0})))),r,m)})),We=C.createContext(null),Ge=C.forwardRef((({resolution:e=28,maxPolyCount:t=1e4,enableUvs:r=!1,enableColors:n=!1,children:o,...i},s)=>{const l=C.useRef(null);C.useImperativeHandle(s,(()=>l.current),[]);const c=C.useMemo((()=>new u.MarchingCubes(e,null,r,n,t)),[e,t,r,n]),d=C.useMemo((()=>({getParent:()=>l})),[]);return a.useFrame((()=>{c.update(),c.reset()}),-1),C.createElement(C.Fragment,null,C.createElement(\"primitive\",T.default({object:c,ref:l},i),C.createElement(We.Provider,{value:d},o)))})),He=C.forwardRef((({strength:e=.5,subtract:t=12,color:r,...n},o)=>{const{getParent:i}=C.useContext(We),s=C.useMemo((()=>i()),[i]),l=C.useRef(null);C.useImperativeHandle(o,(()=>l.current),[]);const c=new R.Vector3;return a.useFrame((n=>{s.current&&l.current&&(l.current.getWorldPosition(c),s.current.addBall(.5+.5*c.x,.5+.5*c.y,.5+.5*c.z,e,t,r))})),C.createElement(\"group\",T.default({ref:l},n))})),$e=C.forwardRef((({planeType:e=\"x\",strength:t=.5,subtract:r=12,...n},o)=>{const{getParent:i}=C.useContext(We),s=C.useMemo((()=>i()),[i]),l=C.useRef(null);C.useImperativeHandle(o,(()=>l.current),[]);const c=C.useMemo((()=>\"x\"===e?\"addPlaneX\":\"y\"===e?\"addPlaneY\":\"addPlaneZ\"),[e]);return a.useFrame((()=>{s.current&&l.current&&s.current[c](t,r)})),C.createElement(\"group\",T.default({ref:l},n))}));function qe(e=[0,0,0]){return function(e){return Array.isArray(e)}(e)?e:e instanceof R.Vector3||e instanceof R.Euler?[e.x,e.y,e.z]:[e,e,e]}const Xe=C.forwardRef((function({debug:e,depthTest:t=!1,polygonOffsetFactor:r=-10,map:n,mesh:o,children:i,position:s,rotation:l,scale:c,...d},m){const f=C.useRef(null);C.useImperativeHandle(m,(()=>f.current));const p=C.useRef(null),h=C.useRef({position:new R.Vector3,rotation:new R.Euler,scale:new R.Vector3(1,1,1)});return C.useLayoutEffect((()=>{const e=(null==o?void 0:o.current)||f.current.parent,t=f.current;if(!(e instanceof R.Mesh))throw new Error('Decal must have a Mesh as parent or specify its \"mesh\" prop');if(e){a.applyProps(h.current,{position:s,scale:c});const r=e.matrixWorld.clone();if(e.matrixWorld.identity(),l&&\"number\"!=typeof l)a.applyProps(h.current,{rotation:l});else{const t=new R.Object3D;t.position.copy(h.current.position);const r=e.geometry.attributes.position.array;void 0===e.geometry.attributes.normal&&e.geometry.computeVertexNormals();const n=e.geometry.attributes.normal.array;let o=1/0;new R.Vector3;let i=new R.Vector3;const s=t.position.x,c=t.position.y,u=t.position.z,d=r.length;let m=-1;for(let e=0;e<d;e+=3){const t=r[e]-s,n=r[e+1]-c,a=r[e+2]-u,i=t*t+n*n+a*a;i<o&&(o=i,m=e)}i.fromArray(n,m),t.lookAt(t.position.clone().add(i)),t.rotateZ(Math.PI),t.rotateY(Math.PI),\"number\"==typeof l&&t.rotateZ(l),a.applyProps(h.current,{rotation:t.rotation})}return t.geometry=new u.DecalGeometry(e,h.current.position,h.current.rotation,h.current.scale),e.matrixWorld=r,()=>{t.geometry.dispose()}}}),[o,...qe(s),...qe(c),...qe(l)]),C.useLayoutEffect((()=>{p.current&&(a.applyProps(p.current,h.current),p.current.traverse((e=>e.raycast=()=>null)))}),[e]),C.createElement(\"mesh\",T.default({ref:f,\"material-transparent\":!0,\"material-polygonOffset\":!0,\"material-polygonOffsetFactor\":r,\"material-depthTest\":t,\"material-map\":n},d),i,e&&C.createElement(\"mesh\",{ref:p},C.createElement(\"boxGeometry\",null),C.createElement(\"meshNormalMaterial\",{wireframe:!0}),C.createElement(\"axesHelper\",null)))})),Ze=t.forwardRef((function({src:e,skipFill:r,skipStrokes:o,fillMaterial:i,strokeMaterial:s,fillMeshProps:l,strokeMeshProps:c,...d},m){const f=a.useLoader(u.SVGLoader,e.startsWith(\"<svg\")?`data:image/svg+xml;utf8,${e}`:e),p=t.useMemo((()=>o?[]:f.paths.map((e=>{var t;return void 0===(null==(t=e.userData)?void 0:t.style.stroke)||\"none\"===e.userData.style.stroke?null:e.subPaths.map((t=>u.SVGLoader.pointsToStroke(t.getPoints(),e.userData.style)))}))),[f,o]);t.useEffect((()=>()=>p.forEach((e=>e&&e.map((e=>e.dispose()))))),[p]);let h=0;return C.createElement(\"object3D\",T.default({ref:m},d),C.createElement(\"object3D\",{scale:[1,-1,1]},f.paths.map(((e,a)=>{var d,m;return C.createElement(t.Fragment,{key:a},!r&&void 0!==(null==(d=e.userData)?void 0:d.style.fill)&&\"none\"!==e.userData.style.fill&&u.SVGLoader.createShapes(e).map(((t,r)=>C.createElement(\"mesh\",T.default({key:r},l,{renderOrder:h++}),C.createElement(\"shapeGeometry\",{args:[t]}),C.createElement(\"meshBasicMaterial\",T.default({color:e.userData.style.fill,opacity:e.userData.style.fillOpacity,transparent:!0,side:n.DoubleSide,depthWrite:!1},i))))),!o&&void 0!==(null==(m=e.userData)?void 0:m.style.stroke)&&\"none\"!==e.userData.style.stroke&&e.subPaths.map(((t,r)=>C.createElement(\"mesh\",T.default({key:r,geometry:p[a][r]},c,{renderOrder:h++}),C.createElement(\"meshBasicMaterial\",T.default({color:e.userData.style.stroke,opacity:e.userData.style.strokeOpacity,transparent:!0,side:n.DoubleSide,depthWrite:!1},s))))))}))))}));let Ye=null,Qe=\"https://www.gstatic.com/draco/versioned/decoders/1.5.5/\";function Ke(e=!0,t=!0,r){return n=>{r&&r(n),e&&(Ye||(Ye=new u.DRACOLoader),Ye.setDecoderPath(\"string\"==typeof e?e:Qe),n.setDRACOLoader(Ye)),t&&n.setMeshoptDecoder(\"function\"==typeof u.MeshoptDecoder?u.MeshoptDecoder():u.MeshoptDecoder)}}const Je=(e,t,r,n)=>a.useLoader(u.GLTFLoader,e,Ke(t,r,n));Je.preload=(e,t,r,n)=>a.useLoader.preload(u.GLTFLoader,e,Ke(t,r,n)),Je.clear=e=>a.useLoader.clear(u.GLTFLoader,e),Je.setDecoderPath=e=>{Qe=e};const et=C.forwardRef((({src:e,useDraco:t,useMeshOpt:r,extendLoader:n,...a},o)=>{const{scene:i}=Je(e,t,r,n);return C.createElement(je,T.default({ref:o},a,{object:i}))}));const tt=Te({alphaTest:0,viewport:new R.Vector2(1980,1080),focal:1e3,centerAndScaleTexture:null,covAndColorTexture:null},\"\\n    precision highp sampler2D;\\n    precision highp usampler2D;\\n    out vec4 vColor;\\n    out vec3 vPosition;\\n    uniform vec2 resolution;\\n    uniform vec2 viewport;\\n    uniform float focal;\\n    attribute uint splatIndex;\\n    uniform sampler2D centerAndScaleTexture;\\n    uniform usampler2D covAndColorTexture;    \\n\\n    vec2 unpackInt16(in uint value) {\\n      int v = int(value);\\n      int v0 = v >> 16;\\n      int v1 = (v & 0xFFFF);\\n      if((v & 0x8000) != 0)\\n        v1 |= 0xFFFF0000;\\n      return vec2(float(v1), float(v0));\\n    }\\n\\n    void main () {\\n      ivec2 texSize = textureSize(centerAndScaleTexture, 0);\\n      ivec2 texPos = ivec2(splatIndex%uint(texSize.x), splatIndex/uint(texSize.x));\\n      vec4 centerAndScaleData = texelFetch(centerAndScaleTexture, texPos, 0);\\n      vec4 center = vec4(centerAndScaleData.xyz, 1);\\n      vec4 camspace = modelViewMatrix * center;\\n      vec4 pos2d = projectionMatrix * camspace;\\n\\n      float bounds = 1.2 * pos2d.w;\\n      if (pos2d.z < -pos2d.w || pos2d.x < -bounds || pos2d.x > bounds\\n        || pos2d.y < -bounds || pos2d.y > bounds) {\\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\\n        return;\\n      }\\n\\n      uvec4 covAndColorData = texelFetch(covAndColorTexture, texPos, 0);\\n      vec2 cov3D_M11_M12 = unpackInt16(covAndColorData.x) * centerAndScaleData.w;\\n      vec2 cov3D_M13_M22 = unpackInt16(covAndColorData.y) * centerAndScaleData.w;\\n      vec2 cov3D_M23_M33 = unpackInt16(covAndColorData.z) * centerAndScaleData.w;\\n      mat3 Vrk = mat3(\\n        cov3D_M11_M12.x, cov3D_M11_M12.y, cov3D_M13_M22.x,\\n        cov3D_M11_M12.y, cov3D_M13_M22.y, cov3D_M23_M33.x,\\n        cov3D_M13_M22.x, cov3D_M23_M33.x, cov3D_M23_M33.y\\n      );\\n\\n      mat3 J = mat3(\\n        focal / camspace.z, 0., -(focal * camspace.x) / (camspace.z * camspace.z),\\n        0., focal / camspace.z, -(focal * camspace.y) / (camspace.z * camspace.z),\\n        0., 0., 0.\\n      );\\n\\n      mat3 W = transpose(mat3(modelViewMatrix));\\n      mat3 T = W * J;\\n      mat3 cov = transpose(T) * Vrk * T;\\n      vec2 vCenter = vec2(pos2d) / pos2d.w;\\n      float diagonal1 = cov[0][0] + 0.3;\\n      float offDiagonal = cov[0][1];\\n      float diagonal2 = cov[1][1] + 0.3;\\n      float mid = 0.5 * (diagonal1 + diagonal2);\\n      float radius = length(vec2((diagonal1 - diagonal2) / 2.0, offDiagonal));\\n      float lambda1 = mid + radius;\\n      float lambda2 = max(mid - radius, 0.1);\\n      vec2 diagonalVector = normalize(vec2(offDiagonal, lambda1 - diagonal1));\\n      vec2 v1 = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\\n      vec2 v2 = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\\n      uint colorUint = covAndColorData.w;\\n      vColor = vec4(\\n        float(colorUint & uint(0xFF)) / 255.0,\\n        float((colorUint >> uint(8)) & uint(0xFF)) / 255.0,\\n        float((colorUint >> uint(16)) & uint(0xFF)) / 255.0,\\n        float(colorUint >> uint(24)) / 255.0\\n      );\\n      vPosition = position;\\n\\n      gl_Position = vec4(\\n        vCenter \\n          + position.x * v2 / viewport * 2.0 \\n          + position.y * v1 / viewport * 2.0, pos2d.z / pos2d.w, 1.0);\\n    }\\n    \",`\\n    #include <alphatest_pars_fragment>\\n    #include <alphahash_pars_fragment>\\n    in vec4 vColor;\\n    in vec3 vPosition;\\n    void main () {\\n      float A = -dot(vPosition.xy, vPosition.xy);\\n      if (A < -4.0) discard;\\n      float B = exp(A) * vColor.a;\\n      vec4 diffuseColor = vec4(vColor.rgb, B);\\n      #include <alphatest_fragment>\\n      #include <alphahash_fragment>\\n      gl_FragColor = diffuseColor;\\n      #include <tonemapping_fragment>\\n      #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n    }\\n  `);function rt(e){let t=null,r=0;e.onmessage=n=>{if(\"push\"==n.data.method){0===r&&(t=new Float32Array(n.data.length));const e=new Float32Array(n.data.matrices);t.set(e,r),r+=e.length}else if(\"sort\"==n.data.method&&null!==t){const r=function(e,r=!1){const n=t.length/16;let a=-1/0,o=1/0;const i=new Float32Array(n),s=new Int32Array(i.buffer),l=new Int32Array(n);let c=0;for(let s=0;s<n;s++){const n=e[0]*t[16*s+12]+e[1]*t[16*s+13]+e[2]*t[16*s+14]+e[3];(r||n<0&&t[16*s+15]>-1e-4*n)&&(i[c]=n,l[c]=s,c++,n>a&&(a=n),n<o&&(o=n))}const u=65535/(a-o),d=new Uint32Array(65536);for(let e=0;e<c;e++)s[e]=(i[e]-o)*u|0,d[s[e]]++;const m=new Uint32Array(65536);for(let e=1;e<65536;e++)m[e]=m[e-1]+d[e-1];const f=new Uint32Array(c);for(let e=0;e<c;e++)f[m[s[e]]++]=l[e];return f}(new Float32Array(n.data.view),n.data.hashed);e.postMessage({indices:r,key:n.data.key},[r.buffer])}}}class nt extends R.Loader{constructor(...e){super(...e),this.gl=null,this.chunkSize=25e3}load(e,t,r,n){const a={gl:this.gl,url:this.manager.resolveURL(e),worker:new Worker(URL.createObjectURL(new Blob([\"(\",rt.toString(),\")(self)\"],{type:\"application/javascript\"}))),manager:this.manager,update:(e,t,r)=>function(e,t,r,n){if(e.updateMatrixWorld(),t.gl.getCurrentViewport(r.viewport),r.material.viewport.x=r.viewport.z,r.material.viewport.y=r.viewport.w,r.material.focal=r.viewport.w/2*Math.abs(e.projectionMatrix.elements[5]),r.ready){if(n&&r.sorted)return;r.ready=!1;const e=new Float32Array([r.modelViewMatrix.elements[2],-r.modelViewMatrix.elements[6],r.modelViewMatrix.elements[10],r.modelViewMatrix.elements[14]]);t.worker.postMessage({method:\"sort\",src:t.url,key:r.uuid,view:e.buffer,hashed:n},[e.buffer]),n&&t.loaded&&(r.sorted=!0)}}(t,a,e,r),connect:e=>function(e,t){e.loading||async function(e){e.loading=!0;let t=0,r=0;const n=[];let a=0;const o=0!==e.totalDownloadBytes;for(;;)try{const{value:i,done:s}=await e.stream.read();if(s)break;if(t+=i.length,null!=e.totalDownloadBytes){const r=t/e.totalDownloadBytes*100;if(e.onProgress&&r-a>1){const n=new ProgressEvent(\"progress\",{lengthComputable:o,loaded:t,total:e.totalDownloadBytes});e.onProgress(n),a=r}}n.push(i);const l=t-r;if(null!=e.totalDownloadBytes&&l>e.rowLength*e.chunkSize){let t=Math.floor(l/e.rowLength);const a=new Uint8Array(l);let i=0;for(const e of n)a.set(e,i),i+=e.length;if(n.length=0,l>t*e.rowLength){const r=new Uint8Array(l-t*e.rowLength);r.set(a.subarray(l-r.length,l),0),n.push(r)}const s=new Uint8Array(t*e.rowLength);s.set(a.subarray(0,s.byteLength),0);const c=at(e,s.buffer,t);if(e.worker.postMessage({method:\"push\",src:e.url,length:16*e.numVertices,matrices:c.buffer},[c.buffer]),r+=t*e.rowLength,e.onProgress){const t=new ProgressEvent(\"progress\",{lengthComputable:o,loaded:e.totalDownloadBytes,total:e.totalDownloadBytes});e.onProgress(t)}}}catch(e){console.error(e);break}if(t-r>0){let t=new Uint8Array(n.reduce(((e,t)=>e+t.length),0)),r=0;for(const e of n)t.set(e,r),r+=e.length;let a=Math.floor(t.byteLength/e.rowLength);const o=at(e,t.buffer,a);e.worker.postMessage({method:\"push\",src:e.url,length:16*a,matrices:o.buffer},[o.buffer])}e.loaded=!0,e.manager.itemEnd(e.url)}(e);t.ready=!1,t.pm=new R.Matrix4,t.vm1=new R.Matrix4,t.vm2=new R.Matrix4,t.viewport=new R.Vector4;let r=new Uint32Array(e.bufferTextureWidth*e.bufferTextureHeight);const n=new R.InstancedBufferAttribute(r,1,!1);n.setUsage(R.DynamicDrawUsage);const a=t.geometry=new R.InstancedBufferGeometry,o=new Float32Array(18),i=new R.BufferAttribute(o,3);function s(e){if(t&&e.data.key===t.uuid){let r=new Uint32Array(e.data.indices);a.attributes.splatIndex.set(r),a.attributes.splatIndex.needsUpdate=!0,a.instanceCount=r.length,t.ready=!0}}async function l(){for(;;){const t=e.gl.properties.get(e.centerAndScaleTexture),r=e.gl.properties.get(e.covAndColorTexture);if(null!=t&&t.__webglTexture&&null!=r&&r.__webglTexture&&e.loadedVertexCount>0)break;await new Promise((e=>setTimeout(e,10)))}t.ready=!0}return a.setAttribute(\"position\",i),i.setXYZ(2,-2,2,0),i.setXYZ(1,2,2,0),i.setXYZ(0,-2,-2,0),i.setXYZ(5,-2,-2,0),i.setXYZ(4,2,2,0),i.setXYZ(3,2,-2,0),i.needsUpdate=!0,a.setAttribute(\"splatIndex\",n),a.instanceCount=1,e.worker.addEventListener(\"message\",s),l(),()=>e.worker.removeEventListener(\"message\",s)}(a,e),loading:!1,loaded:!1,loadedVertexCount:0,chunkSize:this.chunkSize,totalDownloadBytes:0,numVertices:0,rowLength:32,maxVertexes:0,bufferTextureWidth:0,bufferTextureHeight:0,stream:null,centerAndScaleData:null,covAndColorData:null,covAndColorTexture:null,centerAndScaleTexture:null,onProgress:r};(async function(e){e.manager.itemStart(e.url);const t=await fetch(e.url);if(null===t.body)throw\"Failed to fetch file\";let r=t.headers.get(\"Content-Length\");const n=r?parseInt(r):void 0;if(null==n)throw\"Failed to get content length\";e.stream=t.body.getReader(),e.totalDownloadBytes=n,e.numVertices=Math.floor(e.totalDownloadBytes/e.rowLength);const a=e.gl.getContext();let o=a.getParameter(a.MAX_TEXTURE_SIZE);e.maxVertexes=o*o,e.numVertices>e.maxVertexes&&(e.numVertices=e.maxVertexes);return e.bufferTextureWidth=o,e.bufferTextureHeight=Math.floor((e.numVertices-1)/o)+1,e.centerAndScaleData=new Float32Array(e.bufferTextureWidth*e.bufferTextureHeight*4),e.covAndColorData=new Uint32Array(e.bufferTextureWidth*e.bufferTextureHeight*4),e.centerAndScaleTexture=new R.DataTexture(e.centerAndScaleData,e.bufferTextureWidth,e.bufferTextureHeight,R.RGBAFormat,R.FloatType),e.centerAndScaleTexture.needsUpdate=!0,e.covAndColorTexture=new R.DataTexture(e.covAndColorData,e.bufferTextureWidth,e.bufferTextureHeight,R.RGBAIntegerFormat,R.UnsignedIntType),e.covAndColorTexture.internalFormat=\"RGBA32UI\",e.covAndColorTexture.needsUpdate=!0,e})(a).then(t).catch((e=>{null==n||n(e),a.manager.itemError(a.url)}))}}function at(e,t,r){const n=e.gl.getContext();if(e.loadedVertexCount+r>e.maxVertexes&&(r=e.maxVertexes-e.loadedVertexCount),r<=0)throw\"Failed to parse file\";const a=new Uint8Array(t),o=new Float32Array(t),i=new Float32Array(16*r),s=new Uint8Array(e.covAndColorData.buffer),l=new Int16Array(e.covAndColorData.buffer);for(let t=0;t<r;t++){const r=new R.Quaternion(-(a[32*t+28+1]-128)/128,(a[32*t+28+2]-128)/128,(a[32*t+28+3]-128)/128,-(a[32*t+28+0]-128)/128);r.invert();const n=new R.Vector3(o[8*t+0],o[8*t+1],-o[8*t+2]),c=new R.Vector3(o[8*t+3+0],o[8*t+3+1],o[8*t+3+2]),u=new R.Matrix4;u.makeRotationFromQuaternion(r),u.transpose(),u.scale(c);const d=u.clone();u.transpose(),u.premultiply(d),u.setPosition(n);const m=[0,1,2,5,6,10];let f=0;for(let e=0;e<m.length;e++)Math.abs(u.elements[m[e]])>f&&(f=Math.abs(u.elements[m[e]]));let p=4*e.loadedVertexCount+4*t;e.centerAndScaleData[p+0]=n.x,e.centerAndScaleData[p+1]=-n.y,e.centerAndScaleData[p+2]=n.z,e.centerAndScaleData[p+3]=f/32767,p=8*e.loadedVertexCount+4*t*2;for(let e=0;e<m.length;e++)l[p+e]=32767*u.elements[m[e]]/f;p=16*e.loadedVertexCount+4*(4*t+3);const h=new R.Color(a[32*t+24+0]/255,a[32*t+24+1]/255,a[32*t+24+2]/255);h.convertSRGBToLinear(),s[p+0]=255*h.r,s[p+1]=255*h.g,s[p+2]=255*h.b,s[p+3]=a[32*t+24+3],u.elements[15]=Math.max(c.x,c.y,c.z)*a[32*t+24+3]/255;for(let e=0;e<16;e++)i[16*t+e]=u.elements[e]}for(;r>0;){let t=0,a=0;const o=e.loadedVertexCount%e.bufferTextureWidth,i=Math.floor(e.loadedVertexCount/e.bufferTextureWidth);e.loadedVertexCount%e.bufferTextureWidth!=0?(t=Math.min(e.bufferTextureWidth,o+r)-o,a=1):Math.floor(r/e.bufferTextureWidth)>0?(t=e.bufferTextureWidth,a=Math.floor(r/e.bufferTextureWidth)):(t=r%e.bufferTextureWidth,a=1);const s=e.gl.properties.get(e.centerAndScaleTexture);n.bindTexture(n.TEXTURE_2D,s.__webglTexture),n.texSubImage2D(n.TEXTURE_2D,0,o,i,t,a,n.RGBA,n.FLOAT,e.centerAndScaleData,4*e.loadedVertexCount);const l=e.gl.properties.get(e.covAndColorTexture);n.bindTexture(n.TEXTURE_2D,l.__webglTexture),n.texSubImage2D(n.TEXTURE_2D,0,o,i,t,a,n.RGBA_INTEGER,n.UNSIGNED_INT,e.covAndColorData,4*e.loadedVertexCount),e.gl.resetState(),e.loadedVertexCount+=t*a,r-=t*a}return i}function ot(e,t,r){const n=a.useThree((e=>e.size)),o=a.useThree((e=>e.viewport)),i=\"number\"==typeof e?e:n.width*o.dpr,s=\"number\"==typeof t?t:n.height*o.dpr,l=(\"number\"==typeof e?r:e)||{},{samples:c=0,depth:u,...d}=l,m=C.useMemo((()=>{const e=new R.WebGLRenderTarget(i,s,{minFilter:R.LinearFilter,magFilter:R.LinearFilter,type:R.HalfFloatType,...d});return u&&(e.depthTexture=new R.DepthTexture(i,s,R.FloatType)),e.samples=c,e}),[]);return C.useLayoutEffect((()=>{m.setSize(i,s),c&&(m.samples=c)}),[c,m,i,s]),C.useEffect((()=>()=>m.dispose()),[]),m}const it=C.forwardRef((({envMap:e,resolution:t=256,frames:r=1/0,children:n,makeDefault:o,...i},s)=>{const l=a.useThree((({set:e})=>e)),c=a.useThree((({camera:e})=>e)),u=a.useThree((({size:e})=>e)),d=C.useRef(null);C.useImperativeHandle(s,(()=>d.current),[]);const m=C.useRef(null),f=ot(t);C.useLayoutEffect((()=>{i.manual||d.current.updateProjectionMatrix()}),[u,i]),C.useLayoutEffect((()=>{d.current.updateProjectionMatrix()})),C.useLayoutEffect((()=>{if(o){const e=c;return l((()=>({camera:d.current}))),()=>l((()=>({camera:e})))}}),[d,o,l]);let p=0,h=null;const x=\"function\"==typeof n;return a.useFrame((t=>{x&&(r===1/0||p<r)&&(m.current.visible=!1,t.gl.setRenderTarget(f),h=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,d.current),t.scene.background=h,t.gl.setRenderTarget(null),m.current.visible=!0,p++)})),C.createElement(C.Fragment,null,C.createElement(\"orthographicCamera\",T.default({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:d},i),!x&&n),C.createElement(\"group\",{ref:m},x&&n(f.texture)))})),st=C.forwardRef((({envMap:e,resolution:t=256,frames:r=1/0,makeDefault:n,children:o,...i},s)=>{const l=a.useThree((({set:e})=>e)),c=a.useThree((({camera:e})=>e)),u=a.useThree((({size:e})=>e)),d=C.useRef(null);C.useImperativeHandle(s,(()=>d.current),[]);const m=C.useRef(null),f=ot(t);C.useLayoutEffect((()=>{i.manual||(d.current.aspect=u.width/u.height)}),[u,i]),C.useLayoutEffect((()=>{d.current.updateProjectionMatrix()}));let p=0,h=null;const x=\"function\"==typeof o;return a.useFrame((t=>{x&&(r===1/0||p<r)&&(m.current.visible=!1,t.gl.setRenderTarget(f),h=t.scene.background,e&&(t.scene.background=e),t.gl.render(t.scene,d.current),t.scene.background=h,t.gl.setRenderTarget(null),m.current.visible=!0,p++)})),C.useLayoutEffect((()=>{if(n){const e=c;return l((()=>({camera:d.current}))),()=>l((()=>({camera:e})))}}),[d,n,l]),C.createElement(C.Fragment,null,C.createElement(\"perspectiveCamera\",T.default({ref:d},i),!x&&o),C.createElement(\"group\",{ref:m},x&&o(f.texture)))}));function lt({resolution:e=256,near:r=.1,far:o=1e3,envMap:i,fog:s}={}){const l=a.useThree((({gl:e})=>e)),c=a.useThree((({scene:e})=>e)),u=t.useMemo((()=>{const t=new n.WebGLCubeRenderTarget(e);return t.texture.type=n.HalfFloatType,t}),[e]);t.useEffect((()=>()=>{u.dispose()}),[u]);const d=t.useMemo((()=>new R.CubeCamera(r,o,u)),[r,o,u]);let m,f;const p=C.useCallback((()=>{m=c.fog,f=c.background,c.background=i||f,c.fog=s||m,d.update(l,c),c.fog=m,c.background=f}),[l,c,d]);return{fbo:u,camera:d,update:p}}const ct=C.forwardRef(((e,t)=>{const{camera:r,onChange:n,makeDefault:o,...i}=e,s=a.useThree((e=>e.camera)),l=a.useThree((e=>e.invalidate)),c=a.useThree((e=>e.get)),d=a.useThree((e=>e.set)),m=r||s,f=C.useMemo((()=>new u.DeviceOrientationControls(m)),[m]);return C.useEffect((()=>{const e=e=>{l(),n&&n(e)};return null==f||null==f.addEventListener||f.addEventListener(\"change\",e),()=>null==f||null==f.removeEventListener?void 0:f.removeEventListener(\"change\",e)}),[n,f,l]),a.useFrame((()=>null==f?void 0:f.update()),-1),C.useEffect((()=>{const e=f;return null==e||e.connect(),()=>null==e?void 0:e.dispose()}),[f]),C.useEffect((()=>{if(o){const e=c().controls;return d({controls:f}),()=>d({controls:e})}}),[o,f]),f?C.createElement(\"primitive\",T.default({ref:t,object:f},i)):null})),ut=C.forwardRef((({domElement:e,...t},r)=>{const{onChange:n,makeDefault:o,...i}=t,s=a.useThree((e=>e.invalidate)),l=a.useThree((e=>e.camera)),c=a.useThree((e=>e.gl)),d=a.useThree((e=>e.events)),m=a.useThree((e=>e.get)),f=a.useThree((e=>e.set)),p=e||d.connected||c.domElement,h=C.useMemo((()=>new u.FlyControls(l)),[l]);return C.useEffect((()=>(h.connect(p),()=>{h.dispose()})),[p,h,s]),C.useEffect((()=>{const e=e=>{s(),n&&n(e)};return null==h.addEventListener||h.addEventListener(\"change\",e),()=>null==h.removeEventListener?void 0:h.removeEventListener(\"change\",e)}),[n,s]),C.useEffect((()=>{if(o){const e=m().controls;return f({controls:h}),()=>f({controls:e})}}),[o,h]),a.useFrame(((e,t)=>h.update(t))),C.createElement(\"primitive\",T.default({ref:r,object:h,args:[l,p]},i))})),dt=C.forwardRef(((e={enableDamping:!0},t)=>{const{domElement:r,camera:n,makeDefault:o,onChange:i,onStart:s,onEnd:l,...c}=e,d=a.useThree((e=>e.invalidate)),m=a.useThree((e=>e.camera)),f=a.useThree((e=>e.gl)),p=a.useThree((e=>e.events)),h=a.useThree((e=>e.set)),x=a.useThree((e=>e.get)),y=r||p.connected||f.domElement,v=n||m,g=C.useMemo((()=>new u.MapControls(v)),[v]);return C.useEffect((()=>{g.connect(y);const e=e=>{d(),i&&i(e)};return g.addEventListener(\"change\",e),s&&g.addEventListener(\"start\",s),l&&g.addEventListener(\"end\",l),()=>{g.dispose(),g.removeEventListener(\"change\",e),s&&g.removeEventListener(\"start\",s),l&&g.removeEventListener(\"end\",l)}}),[i,s,l,g,d,y]),C.useEffect((()=>{if(o){const e=x().controls;return h({controls:g}),()=>h({controls:e})}}),[o,g]),a.useFrame((()=>g.update()),-1),C.createElement(\"primitive\",T.default({ref:t,object:g,enableDamping:!0},c))})),mt=C.forwardRef((({makeDefault:e,camera:t,regress:r,domElement:n,enableDamping:o=!0,keyEvents:i=!1,onChange:s,onStart:l,onEnd:c,...d},m)=>{const f=a.useThree((e=>e.invalidate)),p=a.useThree((e=>e.camera)),h=a.useThree((e=>e.gl)),x=a.useThree((e=>e.events)),y=a.useThree((e=>e.setEvents)),v=a.useThree((e=>e.set)),g=a.useThree((e=>e.get)),w=a.useThree((e=>e.performance)),z=t||p,b=n||x.connected||h.domElement,E=C.useMemo((()=>new u.OrbitControls(z)),[z]);return a.useFrame((()=>{E.enabled&&E.update()}),-1),C.useEffect((()=>(i&&E.connect(!0===i?b:i),E.connect(b),()=>{E.dispose()})),[i,b,r,E,f]),C.useEffect((()=>{const e=e=>{f(),r&&w.regress(),s&&s(e)},t=e=>{l&&l(e)},n=e=>{c&&c(e)};return E.addEventListener(\"change\",e),E.addEventListener(\"start\",t),E.addEventListener(\"end\",n),()=>{E.removeEventListener(\"start\",t),E.removeEventListener(\"end\",n),E.removeEventListener(\"change\",e)}}),[s,l,c,E,f,y]),C.useEffect((()=>{if(e){const e=g().controls;return v({controls:E}),()=>v({controls:e})}}),[e,E]),C.createElement(\"primitive\",T.default({ref:m,object:E,enableDamping:o},d))})),ft=C.forwardRef((({makeDefault:e,camera:t,domElement:r,regress:n,onChange:o,onStart:i,onEnd:s,...l},c)=>{const{invalidate:d,camera:m,gl:f,events:p,set:h,get:x,performance:y,viewport:v}=a.useThree(),g=t||m,w=r||p.connected||f.domElement,z=C.useMemo((()=>new u.TrackballControls(g)),[g]);return a.useFrame((()=>{z.enabled&&z.update()}),-1),C.useEffect((()=>(z.connect(w),()=>{z.dispose()})),[w,n,z,d]),C.useEffect((()=>{const e=e=>{d(),n&&y.regress(),o&&o(e)};return z.addEventListener(\"change\",e),i&&z.addEventListener(\"start\",i),s&&z.addEventListener(\"end\",s),()=>{i&&z.removeEventListener(\"start\",i),s&&z.removeEventListener(\"end\",s),z.removeEventListener(\"change\",e)}}),[o,i,s,z,d]),C.useEffect((()=>{z.handleResize()}),[v]),C.useEffect((()=>{if(e){const e=x().controls;return h({controls:z}),()=>h({controls:e})}}),[e,z]),C.createElement(\"primitive\",T.default({ref:c,object:z},l))})),pt=t.forwardRef((({camera:e,makeDefault:r,regress:n,domElement:o,onChange:i,onStart:s,onEnd:l,...c},d)=>{const m=a.useThree((e=>e.invalidate)),f=a.useThree((e=>e.camera)),p=a.useThree((e=>e.gl)),h=a.useThree((e=>e.events)),x=a.useThree((e=>e.set)),y=a.useThree((e=>e.get)),v=a.useThree((e=>e.performance)),g=e||f,w=o||h.connected||p.domElement,z=t.useMemo((()=>new u.ArcballControls(g)),[g]);return a.useFrame((()=>{z.enabled&&z.update()}),-1),t.useEffect((()=>(z.connect(w),()=>{z.dispose()})),[w,n,z,m]),t.useEffect((()=>{const e=e=>{m(),n&&v.regress(),i&&i(e)};return z.addEventListener(\"change\",e),s&&z.addEventListener(\"start\",s),l&&z.addEventListener(\"end\",l),()=>{z.removeEventListener(\"change\",e),s&&z.removeEventListener(\"start\",s),l&&z.removeEventListener(\"end\",l)}}),[i,s,l]),t.useEffect((()=>{if(r){const e=y().controls;return x({controls:z}),()=>x({controls:e})}}),[r,z]),C.createElement(\"primitive\",T.default({ref:d,object:z},c))})),ht=C.forwardRef((({children:e,domElement:t,onChange:r,onMouseDown:n,onMouseUp:o,onObjectChange:i,object:s,makeDefault:l,camera:c,enabled:d,axis:m,mode:f,translationSnap:p,rotationSnap:h,scaleSnap:x,space:y,size:v,showX:g,showY:w,showZ:z,...b},E)=>{const M=a.useThree((e=>e.controls)),S=a.useThree((e=>e.gl)),P=a.useThree((e=>e.events)),D=a.useThree((e=>e.camera)),F=a.useThree((e=>e.invalidate)),k=a.useThree((e=>e.get)),_=a.useThree((e=>e.set)),A=c||D,L=t||P.connected||S.domElement,I=C.useMemo((()=>new u.TransformControls(A,L)),[A,L]),B=C.useRef(null);C.useLayoutEffect((()=>(s?I.attach(s instanceof R.Object3D?s:s.current):B.current instanceof R.Object3D&&I.attach(B.current),()=>{I.detach()})),[s,e,I]),C.useEffect((()=>{if(M){const e=e=>M.enabled=!e.value;return I.addEventListener(\"dragging-changed\",e),()=>I.removeEventListener(\"dragging-changed\",e)}}),[I,M]);const V=C.useRef(),U=C.useRef(),O=C.useRef(),N=C.useRef();return C.useLayoutEffect((()=>{V.current=r}),[r]),C.useLayoutEffect((()=>{U.current=n}),[n]),C.useLayoutEffect((()=>{O.current=o}),[o]),C.useLayoutEffect((()=>{N.current=i}),[i]),C.useEffect((()=>{const e=e=>{F(),null==V.current||V.current(e)},t=e=>null==U.current?void 0:U.current(e),r=e=>null==O.current?void 0:O.current(e),n=e=>null==N.current?void 0:N.current(e);return I.addEventListener(\"change\",e),I.addEventListener(\"mouseDown\",t),I.addEventListener(\"mouseUp\",r),I.addEventListener(\"objectChange\",n),()=>{I.removeEventListener(\"change\",e),I.removeEventListener(\"mouseDown\",t),I.removeEventListener(\"mouseUp\",r),I.removeEventListener(\"objectChange\",n)}}),[F,I]),C.useEffect((()=>{if(l){const e=k().controls;return _({controls:I}),()=>_({controls:e})}}),[l,I]),C.createElement(C.Fragment,null,C.createElement(\"primitive\",{ref:E,object:I,enabled:d,axis:m,mode:f,translationSnap:p,rotationSnap:h,scaleSnap:x,space:y,size:v,showX:g,showY:w,showZ:z}),C.createElement(\"group\",T.default({ref:B},b),e))})),xt=C.forwardRef((({domElement:e,selector:t,onChange:r,onLock:n,onUnlock:o,enabled:i=!0,makeDefault:s,...l},c)=>{const{camera:d,...m}=l,f=a.useThree((e=>e.setEvents)),p=a.useThree((e=>e.gl)),h=a.useThree((e=>e.camera)),x=a.useThree((e=>e.invalidate)),y=a.useThree((e=>e.events)),v=a.useThree((e=>e.get)),g=a.useThree((e=>e.set)),w=d||h,z=e||y.connected||p.domElement,b=C.useMemo((()=>new u.PointerLockControls(w)),[w]);return C.useEffect((()=>{if(i){b.connect(z);const e=v().events.compute;return f({compute(e,t){const r=t.size.width/2,n=t.size.height/2;t.pointer.set(r/t.size.width*2-1,-n/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),()=>{b.disconnect(),f({compute:e})}}}),[i,b]),C.useEffect((()=>{const e=e=>{x(),r&&r(e)};b.addEventListener(\"change\",e),n&&b.addEventListener(\"lock\",n),o&&b.addEventListener(\"unlock\",o);const a=()=>b.lock(),i=t?Array.from(document.querySelectorAll(t)):[document];return i.forEach((e=>e&&e.addEventListener(\"click\",a))),()=>{b.removeEventListener(\"change\",e),n&&b.removeEventListener(\"lock\",n),o&&b.removeEventListener(\"unlock\",o),i.forEach((e=>e?e.removeEventListener(\"click\",a):void 0))}}),[r,n,o,t,b,x]),C.useEffect((()=>{if(s){const e=v().controls;return g({controls:b}),()=>g({controls:e})}}),[s,b]),C.createElement(\"primitive\",T.default({ref:c,object:b},m))})),yt=C.forwardRef((({domElement:e,makeDefault:t,...r},n)=>{const o=a.useThree((e=>e.camera)),i=a.useThree((e=>e.gl)),s=a.useThree((e=>e.events)),l=a.useThree((e=>e.get)),c=a.useThree((e=>e.set)),d=e||s.connected||i.domElement,[m]=C.useState((()=>new u.FirstPersonControls(o,d)));return C.useEffect((()=>{if(t){const e=l().controls;return c({controls:m}),()=>c({controls:e})}}),[t,m]),a.useFrame(((e,t)=>{m.update(t)}),-1),m?C.createElement(\"primitive\",T.default({ref:n,object:m},r)):null})),vt=t.forwardRef(((e,r)=>{t.useMemo((()=>{const e={Box3:n.Box3,MathUtils:{clamp:n.MathUtils.clamp},Matrix4:n.Matrix4,Quaternion:n.Quaternion,Raycaster:n.Raycaster,Sphere:n.Sphere,Spherical:n.Spherical,Vector2:n.Vector2,Vector3:n.Vector3,Vector4:n.Vector4};D.default.install({THREE:e}),a.extend({CameraControlsImpl:D.default})}),[]);const{camera:o,domElement:i,makeDefault:s,onStart:l,onEnd:c,onChange:u,regress:d,...m}=e,f=a.useThree((e=>e.camera)),p=a.useThree((e=>e.gl)),h=a.useThree((e=>e.invalidate)),x=a.useThree((e=>e.events)),y=a.useThree((e=>e.setEvents)),v=a.useThree((e=>e.set)),g=a.useThree((e=>e.get)),w=a.useThree((e=>e.performance)),z=o||f,b=i||x.connected||p.domElement,E=t.useMemo((()=>new D.default(z)),[z]);return a.useFrame(((e,t)=>{E.enabled&&E.update(t)}),-1),t.useEffect((()=>(E.connect(b),()=>{E.disconnect()})),[b,E]),t.useEffect((()=>{const e=e=>{h(),d&&w.regress(),u&&u(e)},t=e=>{l&&l(e)},r=e=>{c&&c(e)};return E.addEventListener(\"update\",e),E.addEventListener(\"controlstart\",t),E.addEventListener(\"controlend\",r),E.addEventListener(\"control\",e),E.addEventListener(\"transitionstart\",e),E.addEventListener(\"wake\",e),()=>{E.removeEventListener(\"update\",e),E.removeEventListener(\"controlstart\",t),E.removeEventListener(\"controlend\",r),E.removeEventListener(\"control\",e),E.removeEventListener(\"transitionstart\",e),E.removeEventListener(\"wake\",e)}}),[E,l,c,h,y,d,u]),t.useEffect((()=>{if(s){const e=g().controls;return v({controls:E}),()=>v({controls:e})}}),[s,E]),C.createElement(\"primitive\",T.default({ref:r,object:E},m))})),gt=C.createContext(null);function wt(){const e=C.useContext(gt);if(!e)throw new Error(\"useMotion hook must be used in a MotionPathControls component.\");return e}function zt({points:e=50,color:t=\"black\"}){const{path:r}=wt(),[n,a]=C.useState([]),o=C.useMemo((()=>new R.MeshBasicMaterial({color:t})),[t]),i=C.useMemo((()=>new R.SphereGeometry(.025,16,16)),[]),s=C.useRef([]);return C.useEffect((()=>{r.curves!==s.current&&(a(r.getPoints(e)),s.current=r.curves)})),n.map(((e,t)=>C.createElement(\"mesh\",{key:t,material:o,geometry:i,position:[e.x,e.y,e.z]})))}const bt=C.forwardRef((({children:e,curves:t=[],debug:r=!1,debugColor:n=\"black\",object:o,focus:i,loop:l=!0,offset:c,smooth:u=!1,eps:d=1e-5,damping:m=.1,focusDamping:f=.1,maxSpeed:p=1/0,...h},x)=>{const{camera:y}=a.useThree(),v=C.useRef(null),g=C.useRef(null!=c?c:0),w=C.useMemo((()=>new R.CurvePath),[]),z=C.useMemo((()=>({focus:i,object:(null==o?void 0:o.current)instanceof R.Object3D?o:{current:y},path:w,current:g.current,offset:g.current,point:new R.Vector3,tangent:new R.Vector3,next:new R.Vector3})),[i,o]);C.useLayoutEffect((()=>{var e,r;w.curves=[];const n=t.length>0?t:null!==(e=null==(r=v.current)||null==(r=r.__r3f)?void 0:r.objects)&&void 0!==e?e:[];for(let e=0;e<n.length;e++)w.add(n[e]);if(u){const e=w.getPoints(\"number\"==typeof u?u:1),t=new R.CatmullRomCurve3(e);w.curves=[t]}w.updateArcLengths()})),C.useImperativeHandle(x,(()=>Object.assign(v.current,{motion:z})),[z]),C.useLayoutEffect((()=>{g.current=s.misc.repeat(g.current,1)}),[c]);const b=C.useMemo((()=>new R.Vector3),[]);return a.useFrame(((e,t)=>{const r=z.offset;if(s.easing.damp(g,\"current\",void 0!==c?c:z.current,m,t,p,void 0,d),z.offset=l?s.misc.repeat(g.current,1):s.misc.clamp(g.current,0,1),w.getCurveLengths().length>0){w.getPointAt(z.offset,z.point),w.getTangentAt(z.offset,z.tangent).normalize(),w.getPointAt(s.misc.repeat(g.current-(r-z.offset),1),z.next);const e=(null==o?void 0:o.current)instanceof R.Object3D?o.current:y;e.position.copy(z.point),i&&s.easing.dampLookAt(e,(e=>(null==e?void 0:e.current)instanceof R.Object3D)(i)?i.current.getWorldPosition(b):i,f,t,p,void 0,d)}})),C.createElement(\"group\",T.default({ref:v},h),C.createElement(gt.Provider,{value:z},e,r&&C.createElement(zt,{color:n})))}));function Et({defaultScene:e,defaultCamera:t,renderPriority:r=1}){const{gl:n,scene:o,camera:i}=a.useThree();let s;return a.useFrame((()=>{s=n.autoClear,1===r&&(n.autoClear=!0,n.render(e,t)),n.autoClear=!1,n.clearDepth(),n.render(o,i),n.autoClear=s}),r),C.createElement(\"group\",{onPointerOver:()=>null})}function Mt({children:e,renderPriority:t=1}){const{scene:r,camera:n}=a.useThree(),[o]=C.useState((()=>new R.Scene));return C.createElement(C.Fragment,null,a.createPortal(C.createElement(C.Fragment,null,e,C.createElement(Et,{defaultScene:r,defaultCamera:n,renderPriority:t})),o,{events:{priority:t+1}}))}const St=C.createContext({}),Tt=()=>C.useContext(St),Ct=2*Math.PI,Pt=new n.Object3D,Rt=new n.Matrix4,[Dt,Ft]=[new n.Quaternion,new n.Quaternion],kt=new n.Vector3,_t=new n.Vector3,At=e=>\"getTarget\"in e,Lt=\"#f0f0f0\",It=\"#999\",Bt=\"black\",Vt=\"black\",Ut=[\"Right\",\"Left\",\"Top\",\"Bottom\",\"Front\",\"Back\"],Ot=e=>new n.Vector3(...e).multiplyScalar(.38),Nt=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(Ot),jt=[.25,.25,.25],Wt=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(Ot),Gt=Wt.map((e=>e.toArray().map((e=>0==e?.5:.25)))),Ht=({hover:e,index:t,font:r=\"20px Inter var, Arial, sans-serif\",faces:o=Ut,color:i=Lt,hoverColor:s=It,textColor:l=Bt,strokeColor:c=Vt,opacity:u=1})=>{const d=a.useThree((e=>e.gl)),m=C.useMemo((()=>{const e=document.createElement(\"canvas\");e.width=128,e.height=128;const a=e.getContext(\"2d\");return a.fillStyle=i,a.fillRect(0,0,e.width,e.height),a.strokeStyle=c,a.strokeRect(0,0,e.width,e.height),a.font=r,a.textAlign=\"center\",a.fillStyle=l,a.fillText(o[t].toUpperCase(),64,76),new n.CanvasTexture(e)}),[t,o,r,i,l,c]);return C.createElement(\"meshBasicMaterial\",{map:m,\"map-anisotropy\":d.capabilities.getMaxAnisotropy()||1,attach:`material-${t}`,color:e?s:\"white\",transparent:!0,opacity:u})},$t=e=>{const{tweenCamera:t}=Tt(),[r,n]=C.useState(null);return C.createElement(\"mesh\",{onPointerOut:e=>{e.stopPropagation(),n(null)},onPointerMove:e=>{e.stopPropagation(),n(Math.floor(e.faceIndex/2))},onClick:e.onClick||(e=>{e.stopPropagation(),t(e.face.normal)})},[...Array(6)].map(((t,n)=>C.createElement(Ht,T.default({key:n,index:n,hover:r===n},e)))),C.createElement(\"boxGeometry\",null))},qt=({onClick:e,dimensions:t,position:r,hoverColor:n=It})=>{const{tweenCamera:a}=Tt(),[o,i]=C.useState(!1);return C.createElement(\"mesh\",{scale:1.01,position:r,onPointerOver:e=>{e.stopPropagation(),i(!0)},onPointerOut:e=>{e.stopPropagation(),i(!1)},onClick:e||(e=>{e.stopPropagation(),a(r)})},C.createElement(\"meshBasicMaterial\",{color:o?n:\"white\",transparent:!0,opacity:.6,visible:o}),C.createElement(\"boxGeometry\",{args:t}))};function Xt({scale:e=[.8,.05,.05],color:t,rotation:r}){return C.createElement(\"group\",{rotation:r},C.createElement(\"mesh\",{position:[.4,0,0]},C.createElement(\"boxGeometry\",{args:e}),C.createElement(\"meshBasicMaterial\",{color:t,toneMapped:!1})))}function Zt({onClick:e,font:t,disabled:r,arcStyle:o,label:i,labelColor:s,axisHeadScale:l=1,...c}){const u=a.useThree((e=>e.gl)),d=C.useMemo((()=>{const e=document.createElement(\"canvas\");e.width=64,e.height=64;const r=e.getContext(\"2d\");return r.beginPath(),r.arc(32,32,16,0,2*Math.PI),r.closePath(),r.fillStyle=o,r.fill(),i&&(r.font=t,r.textAlign=\"center\",r.fillStyle=s,r.fillText(i,32,41)),new n.CanvasTexture(e)}),[o,i,s,t]),[m,f]=C.useState(!1),p=(i?1:.75)*(m?1.2:1)*l;return C.createElement(\"sprite\",T.default({scale:p,onPointerOver:r?void 0:e=>{e.stopPropagation(),f(!0)},onPointerOut:r?void 0:e||(e=>{e.stopPropagation(),f(!1)})},c),C.createElement(\"spriteMaterial\",{map:d,\"map-anisotropy\":u.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:i?1:.75,toneMapped:!1}))}const Yt=Te({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new R.Color,sectionColor:new R.Color,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new R.Vector3,worldPlanePosition:new R.Vector3},\"\\n    varying vec3 localPosition;\\n    varying vec4 worldPosition;\\n\\n    uniform vec3 worldCamProjPosition;\\n    uniform vec3 worldPlanePosition;\\n    uniform float fadeDistance;\\n    uniform bool infiniteGrid;\\n    uniform bool followCamera;\\n\\n    void main() {\\n      localPosition = position.xzy;\\n      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;\\n      \\n      worldPosition = modelMatrix * vec4(localPosition, 1.0);\\n      if (followCamera) {\\n        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);\\n        localPosition = (inverse(modelMatrix) * worldPosition).xyz;\\n      }\\n\\n      gl_Position = projectionMatrix * viewMatrix * worldPosition;\\n    }\\n  \",`\\n    varying vec3 localPosition;\\n    varying vec4 worldPosition;\\n\\n    uniform vec3 worldCamProjPosition;\\n    uniform float cellSize;\\n    uniform float sectionSize;\\n    uniform vec3 cellColor;\\n    uniform vec3 sectionColor;\\n    uniform float fadeDistance;\\n    uniform float fadeStrength;\\n    uniform float fadeFrom;\\n    uniform float cellThickness;\\n    uniform float sectionThickness;\\n\\n    float getGrid(float size, float thickness) {\\n      vec2 r = localPosition.xz / size;\\n      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\\n      float line = min(grid.x, grid.y) + 1.0 - thickness;\\n      return 1.0 - min(line, 1.0);\\n    }\\n\\n    void main() {\\n      float g1 = getGrid(cellSize, cellThickness);\\n      float g2 = getGrid(sectionSize, sectionThickness);\\n\\n      vec3 from = worldCamProjPosition*vec3(fadeFrom);\\n      float dist = distance(from, worldPosition.xyz);\\n      float d = 1.0 - min(dist / fadeDistance, 1.0);\\n      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));\\n\\n      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));\\n      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\\n      if (gl_FragColor.a <= 0.0) discard;\\n\\n      #include <tonemapping_fragment>\\n      #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n    }\\n  `),Qt=C.forwardRef((({args:e,cellColor:t=\"#000000\",sectionColor:r=\"#2080ff\",cellSize:n=.5,sectionSize:o=1,followCamera:i=!1,infiniteGrid:s=!1,fadeDistance:l=100,fadeStrength:c=1,fadeFrom:u=1,cellThickness:d=.5,sectionThickness:m=1,side:f=R.BackSide,...p},h)=>{a.extend({GridMaterial:Yt});const x=C.useRef(null);C.useImperativeHandle(h,(()=>x.current),[]);const y=new R.Plane,v=new R.Vector3(0,1,0),g=new R.Vector3(0,0,0);a.useFrame((e=>{y.setFromNormalAndCoplanarPoint(v,g).applyMatrix4(x.current.matrixWorld);const t=x.current.material,r=t.uniforms.worldCamProjPosition,n=t.uniforms.worldPlanePosition;y.projectPoint(e.camera.position,r.value),n.value.set(0,0,0).applyMatrix4(x.current.matrixWorld)}));const w={cellSize:n,sectionSize:o,cellColor:t,sectionColor:r,cellThickness:d,sectionThickness:m},z={fadeDistance:l,fadeStrength:c,fadeFrom:u,infiniteGrid:s,followCamera:i};return C.createElement(\"mesh\",T.default({ref:x,frustumCulled:!1},p),C.createElement(\"gridMaterial\",T.default({transparent:!0,\"extensions-derivatives\":!0,side:f},w,z)),C.createElement(\"planeGeometry\",{args:e}))}));function Kt(e,{path:t}){const[r]=a.useLoader(n.CubeTextureLoader,[e],(e=>e.setPath(t)));return r}function Jt(e){return a.useLoader(u.FBXLoader,e)}Kt.preload=(e,{path:t})=>a.useLoader.preload(n.CubeTextureLoader,[e],(e=>e.setPath(t))),Jt.preload=e=>a.useLoader.preload(u.FBXLoader,e),Jt.clear=e=>a.useLoader.clear(u.FBXLoader,e);const er=\"https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master\";function tr(e,r=`${er}/basis/`){const n=a.useThree((e=>e.gl)),o=a.useLoader(u.KTX2Loader,Ce(e)?Object.values(e):e,(e=>{e.detectSupport(n),e.setTranscoderPath(r)}));if(t.useEffect((()=>{(Array.isArray(o)?o:[o]).forEach(n.initTexture)}),[n,o]),Ce(e)){const t=Object.keys(e),r={};return t.forEach((e=>Object.assign(r,{[e]:o[t.indexOf(e)]}))),r}return o}tr.preload=(e,t=`${er}/basis/`)=>a.useLoader.preload(u.KTX2Loader,e,(e=>{e.setTranscoderPath(t)})),tr.clear=e=>a.useLoader.clear(u.KTX2Loader,e);const rr=((e,t)=>\"undefined\"!=typeof window&&\"function\"==typeof(null==(e=window.document)?void 0:e.createElement)&&\"string\"==typeof(null==(t=window.navigator)?void 0:t.userAgent))();let nr=null;function ar(e,{unsuspend:r=\"loadedmetadata\",start:n=!0,hls:o={},crossOrigin:i=\"anonymous\",muted:s=!0,loop:l=!0,playsInline:c=!0,onVideoFrame:u,...d}={}){const m=a.useThree((e=>e.gl)),p=t.useRef(null),h=f.suspend((()=>new Promise((async t=>{let n,a;\"string\"==typeof e?n=e:a=e;const u=Object.assign(document.createElement(\"video\"),{src:n,srcObject:a,crossOrigin:i,loop:l,muted:s,playsInline:c,...d});if(n&&rr&&n.endsWith(\".m3u8\")){const e=p.current=await async function(...e){var t;null!==(t=nr)&&void 0!==t||(nr=await Promise.resolve().then((function(){return S(__webpack_require__(/*! hls.js */ \"(ssr)/./node_modules/hls.js/dist/hls.js\"))})));const r=nr.default;return r.isSupported()?new r(...e):null}(o);e&&(e.on(x.Events.MEDIA_ATTACHED,(()=>{e.loadSource(n)})),e.attachMedia(u))}const f=new R.VideoTexture(u);\"colorSpace\"in f?f.colorSpace=m.outputColorSpace:f.encoding=m.outputEncoding,u.addEventListener(r,(()=>t(f)))}))),[e]),y=h.source.data;return ir(y,u),t.useEffect((()=>(n&&h.image.play(),()=>{p.current&&(p.current.destroy(),p.current=null)})),[h,n]),h}const or=t.forwardRef((({children:e,src:r,...n},a)=>{const o=ar(r,n);return t.useEffect((()=>()=>{o.dispose()}),[o]),t.useImperativeHandle(a,(()=>o),[o]),C.createElement(C.Fragment,null,null==e?void 0:e(o))})),ir=(e,r)=>{t.useEffect((()=>{if(!r)return;if(!e.requestVideoFrameCallback)return;let t;const n=(...a)=>{r(...a),t=e.requestVideoFrameCallback(n)};return e.requestVideoFrameCallback(n),()=>e.cancelVideoFrameCallback(t)}),[e,r])},sr=(e,t)=>{if(Array.isArray(e))return e[0];return e[null!=t?t:Object.keys(e)[0]][0]},lr=e=>{for(let t=3;t<e.length;t+=4)if(0!==e[t])return!1;return!0};function cr(e,r,o,i,s,l){const c=C.useRef(a.useThree((e=>e.viewport))),u=C.useRef(null),d=C.useRef(0),m=C.useRef(e),f=C.useRef(r),p=C.useRef(o),[h,x]=t.useState(null),[y,v]=C.useState(new R.Texture),g=C.useMemo((()=>new R.TextureLoader),[]),[w,z]=t.useState(null),b=C.useCallback(((e,t,r)=>{const n=t*(c.current.aspect>e/t?c.current.width/e:c.current.height/t),a=e*(c.current.aspect>e/t?c.current.width/e:c.current.height/t)*r,o=n*r;let i=Math.min(1,a),s=Math.min(1,o);return a>1&&(i=1,s=o/a*1),new R.Vector3(i,s,1)}),[]),E=C.useCallback(((e,t)=>{if(e.image){const r=document.createElement(\"canvas\"),n=r.getContext(\"2d\",l);if(!n)throw new Error(\"Failed to get 2d context\");r.width=e.image.width,r.height=e.image.height,n.drawImage(e.image,0,0);const a=e.image.width,o=e.image.height,i=Math.round(Math.sqrt(t*(a/o))),s=Math.round(t/i),c=a/i,u=o/s,d=[];for(let e=0;e<s;e++)for(let r=0;r<i;r++){if(e*i+r>=t){d.push({row:e,col:r});continue}const a=n.getImageData(r*c,e*u,c,u).data;lr(a)&&d.push({row:e,col:r})}return{rows:s,columns:i,frameWidth:c,frameHeight:u,emptyFrames:d}}return{rows:0,columns:0,frameWidth:0,frameHeight:0,emptyFrames:[]}}),[l]),M=C.useCallback((e=>{const t=e=>{let t=null;for(const r of e){const{w:e,h:n}=r.frame,a=e*n;(!t||a>t.area)&&(t={w:e,h:n,area:a})}return e.map((e=>{const{w:r,h:n}=e.frame,a=r*n,o=t?a===t.area?1:Math.sqrt(a/t.area):1;return{...e,scaleRatio:o}}))};if(Array.isArray(e))return t(e);{const r={};for(const n in e)r[n]=t(e[n]);return r}}),[]),S=C.useCallback((()=>{const e={},t=u.current,r=p.current;if(t){if(r&&Array.isArray(t.frames)){for(let n=0;n<r.length;n++){e[r[n]]=[];for(const a of t.frames){const t=a.frame,o=a.sourceSize.w,i=a.sourceSize.h;\"string\"==typeof a.filename&&-1!==a.filename.toLowerCase().indexOf(r[n].toLowerCase())&&e[r[n]].push({...a,frame:t,sourceSize:{w:o,h:i}})}}for(const t in e){const r=M(e[t]);Array.isArray(r)&&(e[t]=r)}return e}if(r&&\"object\"==typeof t.frames){for(let n=0;n<r.length;n++){e[r[n]]=[];for(const a in t.frames){const o=t.frames[a],i=o.frame,s=o.sourceSize.w,l=o.sourceSize.h;\"string\"==typeof a&&-1!==a.toLowerCase().indexOf(r[n].toLowerCase())&&e[r[n]].push({...o,frame:i,sourceSize:{w:s,h:l}})}}for(const t in e){const r=M(e[t]);Array.isArray(r)&&(e[t]=r)}return e}{let e=[];return null!=t&&t.frames&&(e=Array.isArray(t.frames)?t.frames.map((e=>({...e,x:e.frame.x,y:e.frame.y,w:e.frame.w,h:e.frame.h}))):Object.values(t.frames).flat().map((e=>({...e,x:e.frame.x,y:e.frame.y,w:e.frame.w,h:e.frame.h})))),M(e)}}return[]}),[M,u]),T=C.useCallback(((e,t)=>{let r=new R.Vector3(1,1,1);if(null===e){if(t&&i){const e=t.image.width,n=t.image.height;d.current=i;const{rows:a,columns:o,frameWidth:s,frameHeight:l,emptyFrames:c}=E(t,i),m={frames:[],meta:{version:\"1.0\",size:{w:e,h:n},rows:a,columns:o,frameWidth:s,frameHeight:l,scale:\"1\"}};for(let e=0;e<a;e++)for(let t=0;t<o;t++){(null!=c?c:[]).some((r=>r.row===e&&r.col===t))||Array.isArray(m.frames)&&m.frames.push({frame:{x:t*s,y:e*l,w:s,h:l},scaleRatio:1,rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:s,h:l},sourceSize:{w:s,h:l}})}r=b(s,l,.1),u.current=m}u.current&&u.current.frames&&(u.current.frames=M(u.current.frames))}else if(t){u.current=e,u.current.frames=S(),d.current=Array.isArray(e.frames)?e.frames.length:Object.keys(e.frames).length;const{w:t,h:n}=sr(e.frames).sourceSize;r=b(t,n,.1)}x(u.current),\"encoding\"in t?t.encoding=3001:\"colorSpace\"in t&&(t.colorSpace=R.SRGBColorSpace),v(t),z({spriteTexture:t,spriteData:u.current,aspect:r})}),[E,i,S,b,M]),P=C.useCallback(((e,t,r)=>{const n=fetch(e).then((e=>e.json())),a=new Promise((e=>{g.load(t,e)}));Promise.all([n,a]).then((e=>{r(e[0],e[1])}))}),[g]),D=C.useCallback((e=>{if(!e&&!m.current)throw new Error(\"Either textureUrl or input must be provided\");const t=null!=e?e:m.current;if(!t)throw new Error(\"A valid texture URL must be provided\");g.load(t,(e=>T(null,e)))}),[g,T]),F=C.useCallback(((e,t)=>{t&&e?P(t,e,T):D(e)}),[P,D,T]);return C.useLayoutEffect((()=>{f.current&&m.current?P(f.current,m.current,T):m.current&&D();const e=m.current;return()=>{e&&a.useLoader.clear(n.TextureLoader,e)}}),[P,D,T]),C.useLayoutEffect((()=>{null==s||s(y,null!=h?h:null)}),[y,h,s]),{spriteObj:w,loadJsonAndTexture:F}}function ur(e,t,...r){const n=C.useRef(),o=a.useThree((e=>e.scene));return C.useLayoutEffect((()=>{let a;if(e&&null!=e&&e.current&&t&&(n.current=a=new t(e.current,...r)),a)return a.traverse((e=>e.raycast=()=>null)),o.add(a),()=>{n.current=void 0,o.remove(a),null==a.dispose||a.dispose()}}),[o,t,e,...r]),a.useFrame((()=>{var e;null==(e=n.current)||null==e.update||e.update()})),n}cr.preload=e=>a.useLoader.preload(n.TextureLoader,e),cr.clear=e=>a.useLoader.clear(n.TextureLoader,e);function dr(e,t){\"function\"==typeof e?e(t):null!=e&&(e.current=t)}const mr=C.forwardRef((function({className:e,parent:t,id:r,clearStatsGlStyle:n,...o},i){const s=a.useThree((e=>e.gl)),l=C.useMemo((()=>{const e=new k.default({...o});return e.init(s),e}),[s]);return C.useImperativeHandle(i,(()=>l.domElement),[l]),C.useEffect((()=>{if(l){const o=t&&t.current||document.body;null==o||o.appendChild(l.domElement),l.domElement.querySelectorAll(\"canvas\").forEach((e=>{e.style.removeProperty(\"position\")})),r&&(l.domElement.id=r),n&&l.domElement.removeAttribute(\"style\"),l.domElement.removeAttribute(\"style\");const i=(null!=e?e:\"\").split(\" \").filter((e=>e));i.length&&l.domElement.classList.add(...i);const s=a.addAfterEffect((()=>l.update()));return()=>{i.length&&l.domElement.classList.remove(...i),null==o||o.removeChild(l.domElement),s()}}}),[t,l,e,r,n]),null}));const fr=e=>f.suspend((()=>g.getGPUTier(e)),[\"useDetectGPU\"]);const pr=e=>e.isMesh;const hr=C.forwardRef((({enabled:e=!0,firstHitOnly:t=!1,children:r,strategy:o=w.SAH,verbose:i=!1,setBoundingBox:s=!0,maxDepth:l=40,maxLeafTris:c=10,indirect:u=!1,...d},m)=>{const f=C.useRef(null),p=a.useThree((e=>e.raycaster));return C.useImperativeHandle(m,(()=>f.current),[]),C.useEffect((()=>{if(e){const e={strategy:o,verbose:i,setBoundingBox:s,maxDepth:l,maxLeafTris:c,indirect:u},r=f.current;return p.firstHitOnly=t,r.traverse((t=>{pr(t)&&!t.geometry.boundsTree&&t.raycast===n.Mesh.prototype.raycast&&(t.raycast=w.acceleratedRaycast,t.geometry.computeBoundsTree=w.computeBoundsTree,t.geometry.disposeBoundsTree=w.disposeBoundsTree,t.geometry.computeBoundsTree(e))})),()=>{delete p.firstHitOnly,r.traverse((e=>{pr(e)&&e.geometry.boundsTree&&(e.geometry.disposeBoundsTree(),e.raycast=n.Mesh.prototype.raycast)}))}}}),[]),C.createElement(\"group\",T.default({ref:f},d),r)}));function xr(e){const t=C.useRef(null),r=C.useRef(!1),n=C.useRef(!1),o=C.useRef(e);return C.useLayoutEffect((()=>{o.current=e}),[e]),C.useEffect((()=>{const e=t.current;if(e){const t=a.addEffect((()=>(r.current=!1,!0))),i=e.onBeforeRender;e.onBeforeRender=()=>r.current=!0;const s=a.addAfterEffect((()=>(r.current!==n.current&&(null==o.current||o.current(n.current=r.current)),!0)));return()=>{e.onBeforeRender=i,t(),s()}}}),[]),t}const yr=new R.Box3,vr=new R.Vector3;const gr=e=>Math.sqrt(1-Math.pow(e-1,2));class wr{constructor({size:e=256,maxAge:t=750,radius:r=.3,intensity:n=.2,interpolate:a=0,smoothing:o=0,minForce:i=.3,blend:s=\"screen\",ease:l=gr}={}){this.size=e,this.maxAge=t,this.radius=r,this.intensity=n,this.ease=l,this.interpolate=a,this.smoothing=o,this.minForce=i,this.blend=s,this.trail=[],this.force=0,this.initTexture()}initTexture(){this.canvas=document.createElement(\"canvas\"),this.canvas.width=this.canvas.height=this.size;const e=this.canvas.getContext(\"2d\");if(null===e)throw new Error(\"2D not available\");this.ctx=e,this.ctx.fillStyle=\"black\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new n.Texture(this.canvas),this.canvas.id=\"touchTexture\",this.canvas.style.width=this.canvas.style.height=`${this.canvas.width}px`}update(e){this.clear(),this.trail.forEach(((t,r)=>{t.age+=1e3*e,t.age>this.maxAge&&this.trail.splice(r,1)})),this.trail.length||(this.force=0),this.trail.forEach((e=>{this.drawTouch(e)})),this.texture.needsUpdate=!0}clear(){this.ctx.globalCompositeOperation=\"source-over\",this.ctx.fillStyle=\"black\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}addTouch(e){const t=this.trail[this.trail.length-1];if(t){const r=t.x-e.x,n=t.y-e.y,a=r*r+n*n,o=Math.max(this.minForce,Math.min(1e4*a,1));if(this.force=function(e,t,r=.9){return t*r+e*(1-r)}(o,this.force,this.smoothing),this.interpolate){const e=Math.ceil(a/Math.pow(.5*this.radius/this.interpolate,2));if(e>1)for(let a=1;a<e;a++)this.trail.push({x:t.x-r/e*a,y:t.y-n/e*a,age:0,force:o})}}this.trail.push({x:e.x,y:e.y,age:0,force:this.force})}drawTouch(e){const t={x:e.x*this.size,y:(1-e.y)*this.size};let r=1;r=e.age<.3*this.maxAge?this.ease(e.age/(.3*this.maxAge)):this.ease(1-(e.age-.3*this.maxAge)/(.7*this.maxAge)),r*=e.force,this.ctx.globalCompositeOperation=this.blend;const n=this.size*this.radius*r,a=this.ctx.createRadialGradient(t.x,t.y,Math.max(0,.25*n),t.x,t.y,Math.max(0,n));a.addColorStop(0,`rgba(255, 255, 255, ${this.intensity})`),a.addColorStop(1,\"rgba(0, 0, 0, 0.0)\"),this.ctx.beginPath(),this.ctx.fillStyle=a,this.ctx.arc(t.x,t.y,Math.max(0,n),0,2*Math.PI),this.ctx.fill()}}function zr(e={}){const{size:r,maxAge:n,radius:o,intensity:i,interpolate:s,smoothing:l,minForce:c,blend:u,ease:d}=e,m=t.useMemo((()=>new wr(e)),[r,n,o,i,s,l,c,u,d]);a.useFrame(((e,t)=>{m.update(t)}));const f=t.useCallback((e=>m.addTouch(e.uv)),[m]);return[m.texture,f]}const br=C.forwardRef((function({children:e,disable:t,disableX:r,disableY:a,disableZ:o,left:i,right:s,top:l,bottom:c,front:u,back:d,onCentered:m,precise:f=!0,cacheKey:p=0,...h},x){const y=C.useRef(null),v=C.useRef(null),g=C.useRef(null);return C.useLayoutEffect((()=>{v.current.matrixWorld.identity();const e=(new n.Box3).setFromObject(g.current,f),p=new n.Vector3,h=new n.Sphere,x=e.max.x-e.min.x,w=e.max.y-e.min.y,z=e.max.z-e.min.z;e.getCenter(p),e.getBoundingSphere(h);const b=l?w/2:c?-w/2:0,E=i?-x/2:s?x/2:0,M=u?z/2:d?-z/2:0;v.current.position.set(t||r?0:-p.x+E,t||a?0:-p.y+b,t||o?0:-p.z+M),void 0!==m&&m({parent:y.current.parent,container:y.current,width:x,height:w,depth:z,boundingBox:e,boundingSphere:h,center:p,verticalAlignment:b,horizontalAlignment:E,depthAlignment:M})}),[p,m,l,i,u,t,r,a,o,f,s,c,d]),C.useImperativeHandle(x,(()=>y.current),[]),C.createElement(\"group\",T.default({ref:y},h),C.createElement(\"group\",{ref:v},C.createElement(\"group\",{ref:g},e)))})),Er=C.forwardRef((({font:e,color:t=\"#cbcbcb\",bevelSize:r=.04,debug:n=!1,children:a,...o},i)=>{const[s,l]=C.useState(0),c=C.useCallback(((e=1)=>l(s+e)),[s]),u=C.useCallback(((e=1)=>l(s-e)),[s]),d=C.useMemo((()=>({incr:c,decr:u})),[c,u]);return C.useImperativeHandle(i,(()=>d),[d]),C.createElement(\"group\",o,C.createElement(C.Suspense,{fallback:null},C.createElement(br,{top:!0,cacheKey:JSON.stringify({counter:s,font:e})},C.createElement(Ee,{bevelEnabled:!0,bevelSize:r,font:e},n?C.createElement(\"meshNormalMaterial\",{wireframe:!0}):C.createElement(\"meshStandardMaterial\",{color:t}),s))),a)})),Mr=(e,t)=>{\"updateRanges\"in e?e.updateRanges[0]=t:e.updateRange=t};const Sr=new R.Matrix4,Tr=new R.Matrix4,Cr=[],Pr=new R.Mesh;class Rr extends R.Group{constructor(){super(),this.color=new R.Color(\"white\"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return null==(e=this.instance.current)?void 0:e.geometry}raycast(e,t){const r=this.instance.current;if(!r)return;if(!r.geometry||!r.material)return;Pr.geometry=r.geometry;const n=r.matrixWorld,a=r.userData.instances.indexOf(this.instanceKey);if(!(-1===a||a>r.count)){r.getMatrixAt(a,Sr),Tr.multiplyMatrices(n,Sr),Pr.matrixWorld=Tr,r.material instanceof R.Material?Pr.material.side=r.material.side:Pr.material.side=r.material[0].side,Pr.raycast(e,Cr);for(let e=0,r=Cr.length;e<r;e++){const r=Cr[e];r.instanceId=a,r.object=this,t.push(r)}Cr.length=0}}}const Dr=C.createContext(null),Fr=new R.Matrix4,kr=new R.Matrix4,_r=new R.Matrix4,Ar=new R.Vector3,Lr=new R.Quaternion,Ir=new R.Vector3,Br=C.forwardRef((({context:e,children:t,...r},n)=>{C.useMemo((()=>a.extend({PositionMesh:Rr})),[]);const o=C.useRef();C.useImperativeHandle(n,(()=>o.current),[]);const{subscribe:i,getParent:s}=C.useContext(e||Dr);return C.useLayoutEffect((()=>i(o)),[]),C.createElement(\"positionMesh\",T.default({instance:s(),instanceKey:o,ref:o},r),t)})),Vr=C.forwardRef((({context:e,children:t,range:r,limit:n=1e3,frames:o=1/0,...i},s)=>{const[{localContext:l,instance:c}]=C.useState((()=>{const e=C.createContext(null);return{localContext:e,instance:C.forwardRef(((t,r)=>C.createElement(Br,T.default({context:e},t,{ref:r}))))}})),u=C.useRef(null);C.useImperativeHandle(s,(()=>u.current),[]);const[d,m]=C.useState([]),[[f,p]]=C.useState((()=>{const e=new Float32Array(16*n);for(let t=0;t<n;t++)_r.identity().toArray(e,16*t);return[e,new Float32Array([...new Array(3*n)].map((()=>1)))]}));C.useEffect((()=>{u.current.instanceMatrix.needsUpdate=!0}));let h=0,x=0;const y=C.useRef([]);C.useLayoutEffect((()=>{y.current=Object.entries(u.current.geometry.attributes).filter((([e,t])=>t.isInstancedBufferAttribute))})),a.useFrame((()=>{if(o===1/0||h<o){u.current.updateMatrix(),u.current.updateMatrixWorld(),Fr.copy(u.current.matrixWorld).invert(),x=Math.min(n,void 0!==r?r:n,d.length),u.current.count=x,Mr(u.current.instanceMatrix,{offset:0,count:16*x}),Mr(u.current.instanceColor,{offset:0,count:3*x});for(let e=0;e<d.length;e++){const t=d[e].current;t.matrixWorld.decompose(Ar,Lr,Ir),kr.compose(Ar,Lr,Ir).premultiply(Fr),kr.toArray(f,16*e),u.current.instanceMatrix.needsUpdate=!0,t.color.toArray(p,3*e),u.current.instanceColor.needsUpdate=!0}h++}}));const v=C.useMemo((()=>({getParent:()=>u,subscribe:e=>(m((t=>[...t,e])),()=>m((t=>t.filter((t=>t.current!==e.current)))))})),[]);return C.createElement(\"instancedMesh\",T.default({userData:{instances:d,limit:n,frames:o},matrixAutoUpdate:!1,ref:u,args:[null,null,0],raycast:()=>null},i),C.createElement(\"instancedBufferAttribute\",{attach:\"instanceMatrix\",count:f.length/16,array:f,itemSize:16,usage:R.DynamicDrawUsage}),C.createElement(\"instancedBufferAttribute\",{attach:\"instanceColor\",count:p.length/3,array:p,itemSize:3,usage:R.DynamicDrawUsage}),\"function\"==typeof t?C.createElement(l.Provider,{value:v},t(c)):e?C.createElement(e.Provider,{value:v},t):C.createElement(Dr.Provider,{value:v},t))})),Ur=C.forwardRef((function({meshes:e,children:t,...r},n){const a=Array.isArray(e);if(!a)for(const t of Object.keys(e))e[t].isMesh||delete e[t];return C.createElement(\"group\",{ref:n},C.createElement(_.default,{components:(a?e:Object.values(e)).map((({geometry:e,material:t})=>C.createElement(Vr,T.default({key:e.uuid,geometry:e,material:t},r))))},(r=>a?t(...r):t(Object.keys(e).filter((t=>e[t].isMesh)).reduce(((e,t,n)=>({...e,[t]:r[n]})),{})))))}));const Or=C.forwardRef((({name:e,defaultValue:t,normalized:r,usage:n=R.DynamicDrawUsage},o)=>{const i=C.useRef(null);C.useImperativeHandle(o,(()=>i.current),[]),C.useLayoutEffect((()=>{const r=i.current.__r3f.parent;r.geometry.attributes[e]=i.current;const n=Array.isArray(t)?t:[t],a=Array.from({length:r.userData.limit},(()=>n)).flat();return i.current.array=new Float32Array(a),i.current.itemSize=n.length,i.current.count=a.length/i.current.itemSize,()=>{delete r.geometry.attributes[e]}}),[e]);let s=0;return a.useFrame((()=>{const t=i.current.__r3f.parent;if(t.userData.frames===1/0||s<t.userData.frames){for(let r=0;r<t.userData.instances.length;r++){const n=t.userData.instances[r].current[e];void 0!==n&&(i.current.set(Array.isArray(n)?n:\"function\"==typeof n.toArray?n.toArray():[n],r*i.current.itemSize),i.current.needsUpdate=!0)}s++}})),C.createElement(\"instancedBufferAttribute\",{ref:i,usage:n,normalized:r})})),Nr=C.createContext(null);const jr=new R.PlaneGeometry(1,1),Wr=C.forwardRef((({startFrame:e=0,endFrame:t,fps:r=30,frameName:n=\"\",textureDataURL:o,textureImageURL:i,loop:s=!1,numberOfFrames:l=1,autoPlay:c=!0,animationNames:u,onStart:d,onEnd:m,onLoopEnd:f,onFrame:p,play:h,pause:x=!1,flipX:y=!1,alphaTest:v=0,children:g,asSprite:w=!1,offset:z,playBackwards:b=!1,resetOnEnd:E=!1,maxItems:M=1,instanceItems:S=[[0,0,0]],spriteDataset:P,canvasRenderingContext2DSettings:D,roundFramePosition:F=!1,meshProps:k={},..._},A)=>{const L=C.useRef(new R.Group),I=C.useRef(null),B=C.useRef(null),V=C.useRef(null),U=C.useRef(window.performance.now()),O=C.useRef(e),N=C.useRef(n),j=r>0?1e3/r:0,[W,G]=C.useState(new R.Texture),H=C.useRef(0),[$,q]=C.useState(new R.Vector3(1,1,1)),X=y?-1:1,Z=C.useRef(x),Y=C.useRef(z),Q=C.useRef(!1),{spriteObj:K,loadJsonAndTexture:J}=cr(null,null,u,l,void 0,D),ee=C.useRef(n),te=C.useCallback(((e,t)=>{if(null===t)l&&(H.current=l,b&&(O.current=l-1),I.current=t);else{var r,n;I.current=t,I.current&&Array.isArray(I.current.frames)?H.current=I.current.frames.length:I.current&&\"object\"==typeof I.current&&ee.current?H.current=I.current.frames[ee.current].length:H.current=0,b&&(O.current=H.current-1);const{w:a,h:o}=sr(null!==(r=null==(n=I.current)?void 0:n.frames)&&void 0!==r?r:[],ee.current).sourceSize,i=oe(a,o);q(i),B.current&&(B.current.map=e)}G(e)}),[l,b]),re=C.useCallback((()=>{if(!I.current)return;const{meta:{size:e},frames:t}=I.current,{w:r,h:a}=Array.isArray(t)?t[0].sourceSize:n&&t[n]?t[n][0].sourceSize:{w:0,h:0};B.current&&B.current.map&&(B.current.map.wrapS=B.current.map.wrapT=R.RepeatWrapping,B.current.map.center.set(0,0),B.current.map.repeat.set(1*X/(e.w/r),1/(e.h/a)));const o=1/((e.h-1)/a);B.current&&B.current.map&&(B.current.map.offset.x=0,B.current.map.offset.y=1-o),d&&d({currentFrameName:null!=n?n:\"\",currentFrame:O.current})}),[X,n,d]),ae=C.useMemo((()=>({current:Y.current,offset:Y.current,imageUrl:i,hasEnded:!1,ref:A})),[i,A]);C.useImperativeHandle(A,(()=>L.current),[]),C.useLayoutEffect((()=>{Y.current=z}),[z]);const oe=(e,t)=>{var r;const n=new R.Vector3,a=t/e;return n.set(1,a,1),null==(r=V.current)||r.scale.copy(n),n};C.useEffect((()=>{var e;P?te(null==P||null==(e=P.spriteTexture)?void 0:e.clone(),P.spriteData):i&&o&&J(i,o)}),[J,P,o,i,te]),C.useEffect((()=>{var e;K&&te(null==K||null==(e=K.spriteTexture)?void 0:e.clone(),null==K?void 0:K.spriteData)}),[K,te]),C.useEffect((()=>{var e;(ae.hasEnded=!1,I.current&&!0===b)?O.current=(null!==(e=I.current.frames.length)&&void 0!==e?e:0)-1:O.current=0}),[b,ae]),C.useLayoutEffect((()=>{re()}),[W,y,re]),C.useEffect((()=>{c&&(Z.current=!1)}),[c]),C.useLayoutEffect((()=>{if(N.current!==n&&n&&(O.current=0,N.current=n,ae.hasEnded=!1,j<=0&&(O.current=t||e||0),I.current)){const{w:e,h:t}=sr(I.current.frames,n).sourceSize,r=oe(e,t);q(r)}}),[n,j,ae,t,e]);const ie=(e,t,r,n)=>{var a=void 0===z?ae.current:z;const o=O.current;let i=0,s=0;oe(e,t);const l=F?Math.round((r.w-1)/e):(r.w-1)/e,c=F?Math.round((r.h-1)/t):(r.h-1)/t;if(!n[o])return;const{frame:{x:u,y:d},sourceSize:{w:m,h:f}}=n[o],p=1/l,h=1/c;if(B.current&&B.current.map&&(i=X>0?p*(u/m):p*(u/m)-B.current.map.repeat.x,s=Math.abs(1-h)-h*(d/f),B.current.map.offset.x=i,B.current.map.offset.y=s),null!=a){let e=Math.floor(a*n.length);e=Math.max(0,Math.min(e,n.length-1)),isNaN(e)&&(e=0),O.current=e}else b?O.current-=1:O.current+=1};return a.useFrame(((r,a)=>{var o,i;null!=(o=I.current)&&o.frames&&null!=(i=B.current)&&i.map&&(Z.current||ae.hasEnded||!c&&!h||((()=>{if(null===(r=I.current)||!(\"meta\"in r)||!(\"frames\"in r))return;var r;const{meta:{size:a},frames:o}=I.current,{w:i,h:l}=sr(o,n).sourceSize,c=Array.isArray(o)?o:n?o[n]:[],u=t||c.length-1;var p=void 0===z?ae.current:z;if(j<=0)return O.current=t||e||0,void ie(i,l,a,c);const h=window.performance.now(),x=h-U.current;if(!(x<=j)){var y=b?O.current<0:O.current>u,v=b?O.current===u:0===O.current,g=b?O.current<0:O.current>=u;if(y){if(O.current=s&&null!=e?e:0,b&&(O.current=u),s?null==f||f({currentFrameName:null!=n?n:\"\",currentFrame:O.current}):(null==m||m({currentFrameName:null!=n?n:\"\",currentFrame:O.current}),ae.hasEnded=!E,E&&(Z.current=!0)),!s)return}else v&&(null==d||d({currentFrameName:null!=n?n:\"\",currentFrame:O.current}));void 0!==p&&g?!1===Q.current&&(null==m||m({currentFrameName:null!=n?n:\"\",currentFrame:O.current}),Q.current=!0):Q.current=!1,x<=j||(U.current=h-x%j,ie(i,l,a,c))}})(),null==p||p({currentFrameName:N.current,currentFrame:O.current})))})),C.createElement(\"group\",T.default({},_,{ref:L,scale:function(e=new R.Vector3(1,1,1),t=1){return\"number\"==typeof t?e.multiplyScalar(t):Array.isArray(t)?e.multiply(new R.Vector3(...t)):t instanceof R.Vector3?e.multiply(t):void 0}($,_.scale)}),C.createElement(Nr.Provider,{value:ae},w&&C.createElement(ne,null,C.createElement(\"mesh\",T.default({ref:V,scale:1,geometry:jr},k),C.createElement(\"meshBasicMaterial\",{premultipliedAlpha:!1,toneMapped:!1,side:R.DoubleSide,ref:B,map:W,transparent:!0,alphaTest:null!=v?v:0}))),!w&&C.createElement(Vr,T.default({geometry:jr,limit:null!=M?M:1},k),C.createElement(\"meshBasicMaterial\",{premultipliedAlpha:!1,toneMapped:!1,side:R.DoubleSide,ref:B,map:W,transparent:!0,alphaTest:null!=v?v:0}),(null!=S?S:[0]).map(((e,t)=>C.createElement(Br,T.default({key:t,ref:1===(null==S?void 0:S.length)?V:null,position:e,scale:1},k))))),g))})),Gr=C.forwardRef((({children:e,curve:t},r)=>{const[n]=C.useState((()=>new R.Scene)),[o,i]=C.useState(),s=C.useRef(null);return C.useLayoutEffect((()=>{s.current=new u.Flow(n.children[0]),i(s.current.object3D)}),[e]),C.useEffect((()=>{var e;t&&(null==(e=s.current)||e.updateCurve(0,t))}),[t]),C.useImperativeHandle(r,(()=>s.current)),C.createElement(C.Fragment,null,a.createPortal(e,n),o&&C.createElement(\"primitive\",{object:o}))}));class Hr extends n.MeshPhysicalMaterial{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`\\n      uniform float time;\\n      uniform float radius;\\n      uniform float distort;\\n      #define GLSLIFY 1\\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}\\n      ${e.vertexShader}\\n    `,e.vertexShader=e.vertexShader.replace(\"#include <begin_vertex>\",\"\\n        float updateTime = time / 50.0;\\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\\n        \")}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const $r=C.forwardRef((({speed:e=1,...t},r)=>{const[n]=C.useState((()=>new Hr));return a.useFrame((t=>n&&(n.time=t.clock.elapsedTime*e))),C.createElement(\"primitive\",T.default({object:n,ref:r,attach:\"material\"},t))}));class qr extends n.MeshStandardMaterial{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`\\n      uniform float time;\\n      uniform float factor;\\n      ${e.vertexShader}\\n    `,e.vertexShader=e.vertexShader.replace(\"#include <begin_vertex>\",\"float theta = sin( time + position.y ) / 2.0 * factor;\\n        float c = cos( theta );\\n        float s = sin( theta );\\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\\n        vec3 transformed = vec3( position ) * m;\\n        vNormal = vNormal * m;\")}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const Xr=C.forwardRef((({speed:e=1,...t},r)=>{const[n]=C.useState((()=>new qr));return a.useFrame((t=>n&&(n.time=t.clock.elapsedTime*e))),C.createElement(\"primitive\",T.default({object:n,ref:r,attach:\"material\"},t))}));class Zr extends R.ShaderMaterial{constructor(e=new R.Vector2){super({uniforms:{inputBuffer:new R.Uniform(null),depthBuffer:new R.Uniform(null),resolution:new R.Uniform(new R.Vector2),texelSize:new R.Uniform(new R.Vector2),halfTexelSize:new R.Uniform(new R.Vector2),kernel:new R.Uniform(0),scale:new R.Uniform(1),cameraNear:new R.Uniform(0),cameraFar:new R.Uniform(1),minDepthThreshold:new R.Uniform(0),maxDepthThreshold:new R.Uniform(1),depthScale:new R.Uniform(0),depthToBlurRatioBias:new R.Uniform(.25)},fragmentShader:`#include <common>\\n        #include <dithering_pars_fragment>      \\n        uniform sampler2D inputBuffer;\\n        uniform sampler2D depthBuffer;\\n        uniform float cameraNear;\\n        uniform float cameraFar;\\n        uniform float minDepthThreshold;\\n        uniform float maxDepthThreshold;\\n        uniform float depthScale;\\n        uniform float depthToBlurRatioBias;\\n        varying vec2 vUv;\\n        varying vec2 vUv0;\\n        varying vec2 vUv1;\\n        varying vec2 vUv2;\\n        varying vec2 vUv3;\\n\\n        void main() {\\n          float depthFactor = 0.0;\\n          \\n          #ifdef USE_DEPTH\\n            vec4 depth = texture2D(depthBuffer, vUv);\\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\\n            depthFactor *= depthScale;\\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\\n          #endif\\n          \\n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\\n          gl_FragColor = sum * 0.25 ;\\n\\n          #include <dithering_fragment>\\n          #include <tonemapping_fragment>\\n          #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n        }`,vertexShader:\"uniform vec2 texelSize;\\n        uniform vec2 halfTexelSize;\\n        uniform float kernel;\\n        uniform float scale;\\n        varying vec2 vUv;\\n        varying vec2 vUv0;\\n        varying vec2 vUv1;\\n        varying vec2 vUv2;\\n        varying vec2 vUv3;\\n\\n        void main() {\\n          vec2 uv = position.xy * 0.5 + 0.5;\\n          vUv = uv;\\n\\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\\n\\n          gl_Position = vec4(position.xy, 1.0, 1.0);\\n        }\",blending:R.NoBlending,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(e.x,e.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setResolution(e){this.uniforms.resolution.value.copy(e)}}class Yr{constructor({gl:e,resolution:t,width:r=500,height:a=500,minDepthThreshold:o=0,maxDepthThreshold:i=1,depthScale:s=0,depthToBlurRatioBias:l=.25}){this.renderToScreen=!1,this.renderTargetA=new n.WebGLRenderTarget(t,t,{minFilter:n.LinearFilter,magFilter:n.LinearFilter,stencilBuffer:!1,depthBuffer:!1,type:n.HalfFloatType}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new Zr,this.convolutionMaterial.setTexelSize(1/r,1/a),this.convolutionMaterial.setResolution(new n.Vector2(r,a)),this.scene=new n.Scene,this.camera=new n.Camera,this.convolutionMaterial.uniforms.minDepthThreshold.value=o,this.convolutionMaterial.uniforms.maxDepthThreshold.value=i,this.convolutionMaterial.uniforms.depthScale.value=s,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=l,this.convolutionMaterial.defines.USE_DEPTH=s>0;const c=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),u=new Float32Array([0,0,2,0,0,2]),d=new n.BufferGeometry;d.setAttribute(\"position\",new n.BufferAttribute(c,3)),d.setAttribute(\"uv\",new n.BufferAttribute(u,2)),this.screen=new n.Mesh(d,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(e,t,r){const n=this.scene,a=this.camera,o=this.renderTargetA,i=this.renderTargetB;let s=this.convolutionMaterial,l=s.uniforms;l.depthBuffer.value=t.depthTexture;const c=s.kernel;let u,d,m,f=t;for(d=0,m=c.length-1;d<m;++d)u=1&d?i:o,l.kernel.value=c[d],l.inputBuffer.value=f.texture,e.setRenderTarget(u),e.render(n,a),f=u;l.kernel.value=c[d],l.inputBuffer.value=f.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(n,a)}}class Qr extends n.MeshStandardMaterial{constructor(e={}){super(e),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(e)}onBeforeCompile(e){var t;null!=(t=e.defines)&&t.USE_UV||(e.defines.USE_UV=\"\"),e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader=`\\n        uniform mat4 textureMatrix;\\n        varying vec4 my_vUv;\\n      ${e.vertexShader}`,e.vertexShader=e.vertexShader.replace(\"#include <project_vertex>\",\"#include <project_vertex>\\n        my_vUv = textureMatrix * vec4( position, 1.0 );\\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\"),e.fragmentShader=`\\n        uniform sampler2D tDiffuse;\\n        uniform sampler2D tDiffuseBlur;\\n        uniform sampler2D tDepth;\\n        uniform sampler2D distortionMap;\\n        uniform float distortion;\\n        uniform float cameraNear;\\n\\t\\t\\t  uniform float cameraFar;\\n        uniform bool hasBlur;\\n        uniform float mixBlur;\\n        uniform float mirror;\\n        uniform float mixStrength;\\n        uniform float minDepthThreshold;\\n        uniform float maxDepthThreshold;\\n        uniform float mixContrast;\\n        uniform float depthScale;\\n        uniform float depthToBlurRatioBias;\\n        varying vec4 my_vUv;\\n        ${e.fragmentShader}`,e.fragmentShader=e.fragmentShader.replace(\"#include <emissivemap_fragment>\",\"#include <emissivemap_fragment>\\n\\n      float distortionFactor = 0.0;\\n      #ifdef USE_DISTORTION\\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\\n      #endif\\n\\n      vec4 new_vUv = my_vUv;\\n      new_vUv.x += distortionFactor;\\n      new_vUv.y += distortionFactor;\\n\\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\\n\\n      vec4 merge = base;\\n\\n      #ifdef USE_NORMALMAP\\n        vec2 normal_uv = vec2(0.0);\\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\\n        vec3 coord = new_vUv.xyz / new_vUv.w;\\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\\n        merge = base_normal;\\n        blur = blur_normal;\\n      #endif\\n\\n      float depthFactor = 0.0001;\\n      float blurFactor = 0.0;\\n\\n      #ifdef USE_DEPTH\\n        vec4 depth = texture2DProj(tDepth, new_vUv);\\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\\n        depthFactor *= depthScale;\\n        depthFactor = max(0.0001, min(1.0, depthFactor));\\n\\n        #ifdef USE_BLUR\\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\\n          merge = merge * min(1.0, depthFactor + 0.5);\\n        #else\\n          merge = merge * depthFactor;\\n        #endif\\n\\n      #endif\\n\\n      float reflectorRoughnessFactor = roughness;\\n      #ifdef USE_ROUGHNESSMAP\\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\\n      #endif\\n\\n      #ifdef USE_BLUR\\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\\n        merge = mix(merge, blur, blurFactor);\\n      #endif\\n\\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\\n\\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\\n      \")}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(e){this._tDiffuse.value=e}get tDepth(){return this._tDepth.value}set tDepth(e){this._tDepth.value=e}get distortionMap(){return this._distortionMap.value}set distortionMap(e){this._distortionMap.value=e}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(e){this._tDiffuseBlur.value=e}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(e){this._textureMatrix.value=e}get hasBlur(){return this._hasBlur.value}set hasBlur(e){this._hasBlur.value=e}get mirror(){return this._mirror.value}set mirror(e){this._mirror.value=e}get mixBlur(){return this._mixBlur.value}set mixBlur(e){this._mixBlur.value=e}get mixStrength(){return this._blurStrength.value}set mixStrength(e){this._blurStrength.value=e}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(e){this._minDepthThreshold.value=e}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(e){this._maxDepthThreshold.value=e}get depthScale(){return this._depthScale.value}set depthScale(e){this._depthScale.value=e}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(e){this._depthToBlurRatioBias.value=e}get distortion(){return this._distortion.value}set distortion(e){this._distortion.value=e}get mixContrast(){return this._mixContrast.value}set mixContrast(e){this._mixContrast.value=e}}const Kr=C.forwardRef((({mixBlur:e=0,mixStrength:t=1,resolution:r=256,blur:o=[0,0],minDepthThreshold:i=.9,maxDepthThreshold:s=1,depthScale:l=0,depthToBlurRatioBias:c=.25,mirror:u=0,distortion:d=1,mixContrast:m=1,distortionMap:f,reflectorOffset:p=0,...h},x)=>{a.extend({MeshReflectorMaterialImpl:Qr});const y=a.useThree((({gl:e})=>e)),v=a.useThree((({camera:e})=>e)),g=a.useThree((({scene:e})=>e)),w=(o=Array.isArray(o)?o:[o,o])[0]+o[1]>0,z=C.useRef(null);C.useImperativeHandle(x,(()=>z.current),[]);const[b]=C.useState((()=>new n.Plane)),[E]=C.useState((()=>new n.Vector3)),[M]=C.useState((()=>new n.Vector3)),[S]=C.useState((()=>new n.Vector3)),[P]=C.useState((()=>new n.Matrix4)),[R]=C.useState((()=>new n.Vector3(0,0,-1))),[D]=C.useState((()=>new n.Vector4)),[F]=C.useState((()=>new n.Vector3)),[k]=C.useState((()=>new n.Vector3)),[_]=C.useState((()=>new n.Vector4)),[A]=C.useState((()=>new n.Matrix4)),[L]=C.useState((()=>new n.PerspectiveCamera)),I=C.useCallback((()=>{var e;const t=z.current.parent||(null==(e=z.current)?void 0:e.__r3f.parent);if(!t)return;if(M.setFromMatrixPosition(t.matrixWorld),S.setFromMatrixPosition(v.matrixWorld),P.extractRotation(t.matrixWorld),E.set(0,0,1),E.applyMatrix4(P),M.addScaledVector(E,p),F.subVectors(M,S),F.dot(E)>0)return;F.reflect(E).negate(),F.add(M),P.extractRotation(v.matrixWorld),R.set(0,0,-1),R.applyMatrix4(P),R.add(S),k.subVectors(M,R),k.reflect(E).negate(),k.add(M),L.position.copy(F),L.up.set(0,1,0),L.up.applyMatrix4(P),L.up.reflect(E),L.lookAt(k),L.far=v.far,L.updateMatrixWorld(),L.projectionMatrix.copy(v.projectionMatrix),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(L.projectionMatrix),A.multiply(L.matrixWorldInverse),A.multiply(t.matrixWorld),b.setFromNormalAndCoplanarPoint(E,M),b.applyMatrix4(L.matrixWorldInverse),D.set(b.normal.x,b.normal.y,b.normal.z,b.constant);const r=L.projectionMatrix;_.x=(Math.sign(D.x)+r.elements[8])/r.elements[0],_.y=(Math.sign(D.y)+r.elements[9])/r.elements[5],_.z=-1,_.w=(1+r.elements[10])/r.elements[14],D.multiplyScalar(2/D.dot(_)),r.elements[2]=D.x,r.elements[6]=D.y,r.elements[10]=D.z+1,r.elements[14]=D.w}),[v,p]),[B,V,U,O]=C.useMemo((()=>{const a={minFilter:n.LinearFilter,magFilter:n.LinearFilter,type:n.HalfFloatType},p=new n.WebGLRenderTarget(r,r,a);p.depthBuffer=!0,p.depthTexture=new n.DepthTexture(r,r),p.depthTexture.format=n.DepthFormat,p.depthTexture.type=n.UnsignedShortType;const h=new n.WebGLRenderTarget(r,r,a);return[p,h,new Yr({gl:y,resolution:r,width:o[0],height:o[1],minDepthThreshold:i,maxDepthThreshold:s,depthScale:l,depthToBlurRatioBias:c}),{mirror:u,textureMatrix:A,mixBlur:e,tDiffuse:p.texture,tDepth:p.depthTexture,tDiffuseBlur:h.texture,hasBlur:w,mixStrength:t,minDepthThreshold:i,maxDepthThreshold:s,depthScale:l,depthToBlurRatioBias:c,distortion:d,distortionMap:f,mixContrast:m,\"defines-USE_BLUR\":w?\"\":void 0,\"defines-USE_DEPTH\":l>0?\"\":void 0,\"defines-USE_DISTORTION\":f?\"\":void 0}]}),[y,o,A,r,u,w,e,t,i,s,l,c,d,f,m]);return a.useFrame((()=>{var e;const t=z.current.parent||(null==(e=z.current)?void 0:e.__r3f.parent);if(!t)return;t.visible=!1;const r=y.xr.enabled,n=y.shadowMap.autoUpdate;I(),y.xr.enabled=!1,y.shadowMap.autoUpdate=!1,y.setRenderTarget(B),y.state.buffers.depth.setMask(!0),y.autoClear||y.clear(),y.render(g,L),w&&U.render(y,B,V),y.xr.enabled=r,y.shadowMap.autoUpdate=n,t.visible=!0,y.setRenderTarget(null)})),C.createElement(\"meshReflectorMaterialImpl\",T.default({attach:\"material\",key:\"key\"+O[\"defines-USE_BLUR\"]+O[\"defines-USE_DEPTH\"]+O[\"defines-USE_DISTORTION\"],ref:z},O,h))})),Jr=Te({envMap:null,bounces:3,ior:2.4,correctMips:!0,aberrationStrength:.01,fresnel:0,bvh:new w.MeshBVHUniformStruct,color:new R.Color(\"white\"),opacity:1,resolution:new R.Vector2,viewMatrixInverse:new R.Matrix4,projectionMatrixInverse:new R.Matrix4},\"\\n  uniform mat4 viewMatrixInverse;\\n\\n  varying vec3 vWorldPosition;\\n  varying vec3 vNormal;\\n  varying mat4 vModelMatrixInverse;\\n\\n  #include <color_pars_vertex>\\n\\n  void main() {\\n    #include <color_vertex>\\n\\n    vec4 transformedNormal = vec4(normal, 0.0);\\n    vec4 transformedPosition = vec4(position, 1.0);\\n    #ifdef USE_INSTANCING\\n      transformedNormal = instanceMatrix * transformedNormal;\\n      transformedPosition = instanceMatrix * transformedPosition;\\n    #endif\\n\\n    #ifdef USE_INSTANCING\\n      vModelMatrixInverse = inverse(modelMatrix * instanceMatrix);\\n    #else\\n      vModelMatrixInverse = inverse(modelMatrix);\\n    #endif\\n\\n    vWorldPosition = (modelMatrix * transformedPosition).xyz;\\n    vNormal = normalize((viewMatrixInverse * vec4(normalMatrix * transformedNormal.xyz, 0.0)).xyz);\\n    gl_Position = projectionMatrix * viewMatrix * modelMatrix * transformedPosition;\\n  }\",`\\n  #define ENVMAP_TYPE_CUBE_UV\\n  precision highp isampler2D;\\n  precision highp usampler2D;\\n  varying vec3 vWorldPosition;\\n  varying vec3 vNormal;\\n  varying mat4 vModelMatrixInverse;\\n\\n  #include <color_pars_fragment>\\n\\n  #ifdef ENVMAP_TYPE_CUBEM\\n    uniform samplerCube envMap;\\n  #else\\n    uniform sampler2D envMap;\\n  #endif\\n\\n  uniform float bounces;\\n  ${w.shaderStructs}\\n  ${w.shaderIntersectFunction}\\n  uniform BVH bvh;\\n  uniform float ior;\\n  uniform bool correctMips;\\n  uniform vec2 resolution;\\n  uniform float fresnel;\\n  uniform mat4 modelMatrix;\\n  uniform mat4 projectionMatrixInverse;\\n  uniform mat4 viewMatrixInverse;\\n  uniform float aberrationStrength;\\n  uniform vec3 color;\\n  uniform float opacity;\\n\\n  float fresnelFunc(vec3 viewDirection, vec3 worldNormal) {\\n    return pow( 1.0 + dot( viewDirection, worldNormal), 10.0 );\\n  }\\n\\n  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 normal, float ior, mat4 modelMatrixInverse) {\\n    vec3 rayOrigin = ro;\\n    vec3 rayDirection = rd;\\n    rayDirection = refract(rayDirection, normal, 1.0 / ior);\\n    rayOrigin = vWorldPosition + rayDirection * 0.001;\\n    rayOrigin = (modelMatrixInverse * vec4(rayOrigin, 1.0)).xyz;\\n    rayDirection = normalize((modelMatrixInverse * vec4(rayDirection, 0.0)).xyz);\\n    for(float i = 0.0; i < bounces; i++) {\\n      uvec4 faceIndices = uvec4( 0u );\\n      vec3 faceNormal = vec3( 0.0, 0.0, 1.0 );\\n      vec3 barycoord = vec3( 0.0 );\\n      float side = 1.0;\\n      float dist = 0.0;\\n      bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );\\n      vec3 hitPos = rayOrigin + rayDirection * max(dist - 0.001, 0.0);\\n      vec3 tempDir = refract(rayDirection, faceNormal, ior);\\n      if (length(tempDir) != 0.0) {\\n        rayDirection = tempDir;\\n        break;\\n      }\\n      rayDirection = reflect(rayDirection, faceNormal);\\n      rayOrigin = hitPos + rayDirection * 0.01;\\n    }\\n    rayDirection = normalize((modelMatrix * vec4(rayDirection, 0.0)).xyz);\\n    return rayDirection;\\n  }\\n\\n  #include <common>\\n  #include <cube_uv_reflection_fragment>\\n\\n  #ifdef ENVMAP_TYPE_CUBEM\\n    vec4 textureGradient(samplerCube envMap, vec3 rayDirection, vec3 directionCamPerfect) {\\n      return textureGrad(envMap, rayDirection, dFdx(correctMips ? directionCamPerfect: rayDirection), dFdy(correctMips ? directionCamPerfect: rayDirection));\\n    }\\n  #else\\n    vec4 textureGradient(sampler2D envMap, vec3 rayDirection, vec3 directionCamPerfect) {\\n      vec2 uvv = equirectUv( rayDirection );\\n      vec2 smoothUv = equirectUv( directionCamPerfect );\\n      return textureGrad(envMap, uvv, dFdx(correctMips ? smoothUv : uvv), dFdy(correctMips ? smoothUv : uvv));\\n    }\\n  #endif\\n\\n  void main() {\\n    vec2 uv = gl_FragCoord.xy / resolution;\\n    vec3 directionCamPerfect = (projectionMatrixInverse * vec4(uv * 2.0 - 1.0, 0.0, 1.0)).xyz;\\n    directionCamPerfect = (viewMatrixInverse * vec4(directionCamPerfect, 0.0)).xyz;\\n    directionCamPerfect = normalize(directionCamPerfect);\\n    vec3 normal = vNormal;\\n    vec3 rayOrigin = cameraPosition;\\n    vec3 rayDirection = normalize(vWorldPosition - cameraPosition);\\n\\n    vec4 diffuseColor = vec4(color, opacity);\\n    #include <color_fragment>\\n\\n    #ifdef CHROMATIC_ABERRATIONS\\n      vec3 rayDirectionG = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);\\n      #ifdef FAST_CHROMA\\n        vec3 rayDirectionR = normalize(rayDirectionG + 1.0 * vec3(aberrationStrength / 2.0));\\n        vec3 rayDirectionB = normalize(rayDirectionG - 1.0 * vec3(aberrationStrength / 2.0));\\n      #else\\n        vec3 rayDirectionR = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 - aberrationStrength), 1.0), vModelMatrixInverse);\\n        vec3 rayDirectionB = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 + aberrationStrength), 1.0), vModelMatrixInverse);\\n      #endif\\n      float finalColorR = textureGradient(envMap, rayDirectionR, directionCamPerfect).r;\\n      float finalColorG = textureGradient(envMap, rayDirectionG, directionCamPerfect).g;\\n      float finalColorB = textureGradient(envMap, rayDirectionB, directionCamPerfect).b;\\n      diffuseColor.rgb *= vec3(finalColorR, finalColorG, finalColorB);\\n    #else\\n      rayDirection = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);\\n      diffuseColor.rgb *= textureGradient(envMap, rayDirection, directionCamPerfect).rgb;\\n    #endif\\n\\n    vec3 viewDirection = normalize(vWorldPosition - cameraPosition);\\n    float nFresnel = fresnelFunc(viewDirection, normal) * fresnel;\\n    gl_FragColor = vec4(mix(diffuseColor.rgb, vec3(1.0), nFresnel), diffuseColor.a);\\n\\n    #include <tonemapping_fragment>\\n    #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n  }`);const en=Te({},\"void main() { }\",\"void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }\");class tn extends R.MeshPhysicalMaterial{constructor(e=6,t=!1){super(),this.uniforms={chromaticAberration:{value:.05},transmission:{value:0},_transmission:{value:1},transmissionMap:{value:null},roughness:{value:0},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:1/0},attenuationColor:{value:new R.Color(\"white\")},anisotropicBlur:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=r=>{r.uniforms={...r.uniforms,...this.uniforms},this.anisotropy>0&&(r.defines.USE_ANISOTROPY=\"\"),t?r.defines.USE_SAMPLER=\"\":r.defines.USE_TRANSMISSION=\"\",r.fragmentShader=\"\\n      uniform float chromaticAberration;         \\n      uniform float anisotropicBlur;      \\n      uniform float time;\\n      uniform float distortion;\\n      uniform float distortionScale;\\n      uniform float temporalDistortion;\\n      uniform sampler2D buffer;\\n\\n      vec3 random3(vec3 c) {\\n        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\\n        vec3 r;\\n        r.z = fract(512.0*j);\\n        j *= .125;\\n        r.x = fract(512.0*j);\\n        j *= .125;\\n        r.y = fract(512.0*j);\\n        return r-0.5;\\n      }\\n\\n      uint hash( uint x ) {\\n        x += ( x << 10u );\\n        x ^= ( x >>  6u );\\n        x += ( x <<  3u );\\n        x ^= ( x >> 11u );\\n        x += ( x << 15u );\\n        return x;\\n      }\\n\\n      // Compound versions of the hashing algorithm I whipped together.\\n      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\\n      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\\n      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\\n\\n      // Construct a float with half-open range [0:1] using low 23 bits.\\n      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\\n      float floatConstruct( uint m ) {\\n        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\\n        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\\n        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\\n        m |= ieeeOne;                          // Add fractional part to 1.0\\n        float  f = uintBitsToFloat( m );       // Range [1:2]\\n        return f - 1.0;                        // Range [0:1]\\n      }\\n\\n      // Pseudo-random value in half-open range [0:1].\\n      float randomBase( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\\n      float randomBase( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\\n      float randomBase( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\\n      float randomBase( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\\n      float rand(float seed) {\\n        float result = randomBase(vec3(gl_FragCoord.xy, seed));\\n        return result;\\n      }\\n\\n      const float F3 =  0.3333333;\\n      const float G3 =  0.1666667;\\n\\n      float snoise(vec3 p) {\\n        vec3 s = floor(p + dot(p, vec3(F3)));\\n        vec3 x = p - s + dot(s, vec3(G3));\\n        vec3 e = step(vec3(0.0), x - x.yzx);\\n        vec3 i1 = e*(1.0 - e.zxy);\\n        vec3 i2 = 1.0 - e.zxy*(1.0 - e);\\n        vec3 x1 = x - i1 + G3;\\n        vec3 x2 = x - i2 + 2.0*G3;\\n        vec3 x3 = x - 1.0 + 3.0*G3;\\n        vec4 w, d;\\n        w.x = dot(x, x);\\n        w.y = dot(x1, x1);\\n        w.z = dot(x2, x2);\\n        w.w = dot(x3, x3);\\n        w = max(0.6 - w, 0.0);\\n        d.x = dot(random3(s), x);\\n        d.y = dot(random3(s + i1), x1);\\n        d.z = dot(random3(s + i2), x2);\\n        d.w = dot(random3(s + 1.0), x3);\\n        w *= w;\\n        w *= w;\\n        d *= w;\\n        return dot(d, vec4(52.0));\\n      }\\n\\n      float snoiseFractal(vec3 m) {\\n        return 0.5333333* snoise(m)\\n              +0.2666667* snoise(2.0*m)\\n              +0.1333333* snoise(4.0*m)\\n              +0.0666667* snoise(8.0*m);\\n      }\\n\"+r.fragmentShader,r.fragmentShader=r.fragmentShader.replace(\"#include <transmission_pars_fragment>\",\"\\n        #ifdef USE_TRANSMISSION\\n          // Transmission code is based on glTF-Sampler-Viewer\\n          // https://github.com/KhronosGroup/glTF-Sample-Viewer\\n          uniform float _transmission;\\n          uniform float thickness;\\n          uniform float attenuationDistance;\\n          uniform vec3 attenuationColor;\\n          #ifdef USE_TRANSMISSIONMAP\\n            uniform sampler2D transmissionMap;\\n          #endif\\n          #ifdef USE_THICKNESSMAP\\n            uniform sampler2D thicknessMap;\\n          #endif\\n          uniform vec2 transmissionSamplerSize;\\n          uniform sampler2D transmissionSamplerMap;\\n          uniform mat4 modelMatrix;\\n          uniform mat4 projectionMatrix;\\n          varying vec3 vWorldPosition;\\n          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n            // Direction of refracted light.\\n            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n            // Compute rotation-independant scaling of the model matrix.\\n            vec3 modelScale;\\n            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n            // The thickness is specified in local space.\\n            return normalize( refractionVector ) * thickness * modelScale;\\n          }\\n          float applyIorToRoughness( const in float roughness, const in float ior ) {\\n            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\\n            // an IOR of 1.5 results in the default amount of microfacet refraction.\\n            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n          }\\n          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            \\n            #ifdef USE_SAMPLER\\n              #ifdef texture2DLodEXT\\n                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);\\n              #else\\n                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);\\n              #endif\\n            #else\\n              return texture2D(buffer, fragCoord.xy);\\n            #endif\\n          }\\n          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n            if ( isinf( attenuationDistance ) ) {\\n              // Attenuation distance is +∞, i.e. the transmitted color is not attenuated at all.\\n              return radiance;\\n            } else {\\n              // Compute light attenuation using Beer's law.\\n              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law\\n              return transmittance * radiance;\\n            }\\n          }\\n          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n            const in vec3 attenuationColor, const in float attenuationDistance ) {\\n            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n            vec3 refractedRayExit = position + transmissionRay;\\n            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\\n            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n            vec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n            refractionCoords += 1.0;\\n            refractionCoords /= 2.0;\\n            // Sample framebuffer to get pixel the refracted ray hits.\\n            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n            // Get the specular component.\\n            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n          }\\n        #endif\\n\"),r.fragmentShader=r.fragmentShader.replace(\"#include <transmission_fragment>\",`  \\n        // Improve the refraction to use the world pos\\n        material.transmission = _transmission;\\n        material.transmissionAlpha = 1.0;\\n        material.thickness = thickness;\\n        material.attenuationDistance = attenuationDistance;\\n        material.attenuationColor = attenuationColor;\\n        #ifdef USE_TRANSMISSIONMAP\\n          material.transmission *= texture2D( transmissionMap, vUv ).r;\\n        #endif\\n        #ifdef USE_THICKNESSMAP\\n          material.thickness *= texture2D( thicknessMap, vUv ).g;\\n        #endif\\n        \\n        vec3 pos = vWorldPosition;\\n        float runningSeed = 0.0;\\n        vec3 v = normalize( cameraPosition - pos );\\n        vec3 n = inverseTransformDirection( normal, viewMatrix );\\n        vec3 transmission = vec3(0.0);\\n        float transmissionR, transmissionB, transmissionG;\\n        float randomCoords = rand(runningSeed++);\\n        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);\\n        vec3 distortionNormal = vec3(0.0);\\n        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;\\n        if (distortion > 0.0) {\\n          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));\\n        }\\n        for (float i = 0.0; i < ${e}.0; i ++) {\\n          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5, rand(runningSeed++) - 0.5)) * pow(rand(runningSeed++), 0.33) + distortionNormal);\\n          transmissionR = getIBLVolumeRefraction(\\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${e}),\\n            material.attenuationColor, material.attenuationDistance\\n          ).r;\\n          transmissionG = getIBLVolumeRefraction(\\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${e})) , material.thickness + thickness_smear * (i + randomCoords) / float(${e}),\\n            material.attenuationColor, material.attenuationDistance\\n          ).g;\\n          transmissionB = getIBLVolumeRefraction(\\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${e})), material.thickness + thickness_smear * (i + randomCoords) / float(${e}),\\n            material.attenuationColor, material.attenuationDistance\\n          ).b;\\n          transmission.r += transmissionR;\\n          transmission.g += transmissionG;\\n          transmission.b += transmissionB;\\n        }\\n        transmission /= ${e}.0;\\n        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\\n`)},Object.keys(this.uniforms).forEach((e=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})))}}const rn=C.forwardRef((({buffer:e,transmissionSampler:t=!1,backside:r=!1,side:n=R.FrontSide,transmission:o=1,thickness:i=0,backsideThickness:s=0,backsideEnvMapIntensity:l=1,samples:c=10,resolution:u,backsideResolution:d,background:m,anisotropy:f,anisotropicBlur:p,...h},x)=>{a.extend({MeshTransmissionMaterial:tn});const y=C.useRef(null),[v]=C.useState((()=>new en)),g=ot(d||u),w=ot(u);let z,b,E,M;return a.useFrame((e=>{y.current.time=e.clock.elapsedTime,y.current.buffer!==w.texture||t||(M=y.current.__r3f.parent,M&&(E=e.gl.toneMapping,z=e.scene.background,b=y.current.envMapIntensity,e.gl.toneMapping=R.NoToneMapping,m&&(e.scene.background=m),M.material=v,r&&(e.gl.setRenderTarget(g),e.gl.render(e.scene,e.camera),M.material=y.current,M.material.buffer=g.texture,M.material.thickness=s,M.material.side=R.BackSide,M.material.envMapIntensity=l),e.gl.setRenderTarget(w),e.gl.render(e.scene,e.camera),M.material=y.current,M.material.thickness=i,M.material.side=n,M.material.buffer=w.texture,M.material.envMapIntensity=b,e.scene.background=z,e.gl.setRenderTarget(null),e.gl.toneMapping=E))})),C.useImperativeHandle(x,(()=>y.current),[]),C.createElement(\"meshTransmissionMaterial\",T.default({args:[c,t],ref:y},h,{buffer:e||w.texture,_transmission:o,anisotropicBlur:null!=p?p:f,transmission:t?o:0,thickness:i,side:n}))})),nn=C.forwardRef(((e,t)=>(a.extend({DiscardMaterialImpl:en}),C.createElement(\"discardMaterialImpl\",T.default({ref:t},e)))));const an=Re>=154?\"opaque_fragment\":\"output_fragment\";class on extends R.PointsMaterial{constructor(e){super(e),this.onBeforeCompile=(e,t)=>{const{isWebGL2:r}=t.capabilities;e.fragmentShader=e.fragmentShader.replace(`#include <${an}>`,`\\n        ${r?`#include <${an}>`:`#extension GL_OES_standard_derivatives : enable\\n#include <${an}>`}\\n      vec2 cxy = 2.0 * gl_PointCoord - 1.0;\\n      float r = dot(cxy, cxy);\\n      float delta = fwidth(r);     \\n      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\\n      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );\\n      #include <tonemapping_fragment>\\n      #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n      `)}}}const sn=C.forwardRef(((e,t)=>{const[r]=C.useState((()=>new on(null)));return C.createElement(\"primitive\",T.default({},e,{object:r,ref:t,attach:\"material\"}))}));function ln(e,t,r){t.traverse((t=>{t.material&&(e.properties.remove(t.material),null==t.material.dispose||t.material.dispose())})),e.info.programs.length=0,e.compile(t,r)}function cn(e,t){const r=e+\"Geometry\";return C.forwardRef((({args:e,children:n,...a},o)=>{const i=C.useRef(null);return C.useImperativeHandle(o,(()=>i.current)),C.useLayoutEffect((()=>{null==t||t(i.current)})),C.createElement(\"mesh\",T.default({ref:i},a),C.createElement(r,{attach:\"geometry\",args:e}),n)}))}const un=cn(\"box\"),dn=cn(\"circle\"),mn=cn(\"cone\"),fn=cn(\"cylinder\"),pn=cn(\"sphere\"),hn=cn(\"plane\"),xn=cn(\"tube\"),yn=cn(\"torus\"),vn=cn(\"torusKnot\"),gn=cn(\"tetrahedron\"),wn=cn(\"ring\"),zn=cn(\"polyhedron\"),bn=cn(\"icosahedron\"),En=cn(\"octahedron\"),Mn=cn(\"dodecahedron\"),Sn=cn(\"extrude\"),Tn=cn(\"lathe\"),Cn=cn(\"capsule\"),Pn=cn(\"shape\",(({geometry:e})=>{const t=e.attributes.position,r=(new R.Box3).setFromBufferAttribute(t),n=new R.Vector3;r.getSize(n);const a=[];let o=0,i=0,s=0,l=0;for(let e=0;e<t.count;e++)o=t.getX(e),i=t.getY(e),s=(o-r.min.x)/n.x,l=(i-r.min.y)/n.y,a.push(s,l);e.setAttribute(\"uv\",new R.Float32BufferAttribute(a,2))})),Rn=1e-5;const Dn=C.forwardRef((function({args:[e=1,t=1,r=1]=[],radius:a=.05,steps:o=1,smoothness:i=4,bevelSegments:s=4,creaseAngle:l=.4,children:c,...d},m){const f=C.useMemo((()=>function(e,t,r){const a=new n.Shape,o=r-Rn;return a.absarc(Rn,Rn,Rn,-Math.PI/2,-Math.PI,!0),a.absarc(Rn,t-2*o,Rn,Math.PI,Math.PI/2,!0),a.absarc(e-2*o,t-2*o,Rn,Math.PI/2,0,!0),a.absarc(e-2*o,Rn,Rn,0,-Math.PI/2,!0),a}(e,t,a)),[e,t,a]),p=C.useMemo((()=>({depth:r-2*a,bevelEnabled:!0,bevelSegments:2*s,steps:o,bevelSize:a-Rn,bevelThickness:a,curveSegments:i})),[r,a,i]),h=C.useRef(null);return C.useLayoutEffect((()=>{h.current&&(h.current.center(),u.toCreasedNormals(h.current,l))}),[f,p]),C.createElement(\"mesh\",T.default({ref:m},d),C.createElement(\"extrudeGeometry\",{ref:h,args:[f,p]}),c)}));function Fn(){const e=new R.BufferGeometry,t=new Float32Array([-1,-1,3,-1,-1,3]);return e.boundingSphere=new R.Sphere,e.boundingSphere.set(new R.Vector3,1/0),e.setAttribute(\"position\",new R.BufferAttribute(t,2)),e}const kn=C.forwardRef((function({children:e,...t},r){const n=C.useMemo(Fn,[]);return C.createElement(\"mesh\",T.default({ref:r,geometry:n,frustumCulled:!1},t),e)})),_n=C.forwardRef((({children:e,width:t,height:r,depth:n,box3:a,precise:o=!0,...i},s)=>{const l=C.useRef(null),c=C.useRef(null),u=C.useRef(null);return C.useLayoutEffect((()=>{c.current.matrixWorld.identity();let e=a||(new R.Box3).setFromObject(u.current,o);const i=e.max.x-e.min.x,s=e.max.y-e.min.y,l=e.max.z-e.min.z;let d=Math.max(i,s,l);t&&(d=i),r&&(d=s),n&&(d=l),c.current.scale.setScalar(1/d)}),[t,r,n,a,o]),C.useImperativeHandle(s,(()=>l.current),[]),C.createElement(\"group\",T.default({ref:l},i),C.createElement(\"group\",{ref:c},C.createElement(\"group\",{ref:u},e)))}));var An=function(e){return e[e.NONE=0]=\"NONE\",e[e.START=1]=\"START\",e[e.ACTIVE=2]=\"ACTIVE\",e}(An||{});const Ln=e=>e&&e.isOrthographicCamera,In=e=>1-Math.exp(-5*e)+.007*e,Bn=C.createContext(null);function Vn({children:e,maxDuration:t=1,margin:r=1.2,observe:n,fit:o,clip:i,interpolateFunc:s=In,onFit:l}){const c=C.useRef(null),{camera:u,size:d,invalidate:m}=a.useThree(),f=a.useThree((e=>e.controls)),p=C.useRef(l);p.current=l;const h=C.useRef({camPos:new R.Vector3,camRot:new R.Quaternion,camZoom:1}),x=C.useRef({camPos:void 0,camRot:void 0,camZoom:void 0,camUp:void 0,target:void 0}),y=C.useRef(An.NONE),v=C.useRef(0),[g]=C.useState((()=>new R.Box3)),w=C.useMemo((()=>{function e(){const e=g.getSize(new R.Vector3),t=g.getCenter(new R.Vector3),n=Math.max(e.x,e.y,e.z),a=Ln(u)?4*n:n/(2*Math.atan(Math.PI*u.fov/360)),o=Ln(u)?4*n:a/u.aspect,i=r*Math.max(a,o);return{box:g,size:e,center:t,distance:i}}return{getSize:e,refresh(e){if((t=e)&&t.isBox3)g.copy(e);else{const t=e||c.current;if(!t)return this;t.updateWorldMatrix(!0,!0),g.setFromObject(t)}var t;if(g.isEmpty()){const e=u.position.length()||10;g.setFromCenterAndSize(new R.Vector3,new R.Vector3(e,e,e))}return h.current.camPos.copy(u.position),h.current.camRot.copy(u.quaternion),Ln(u)&&(h.current.camZoom=u.zoom),x.current.camPos=void 0,x.current.camRot=void 0,x.current.camZoom=void 0,x.current.camUp=void 0,x.current.target=void 0,this},reset(){const{center:t,distance:r}=e(),n=u.position.clone().sub(t).normalize();x.current.camPos=t.clone().addScaledVector(n,r),x.current.target=t.clone();const a=(new R.Matrix4).lookAt(x.current.camPos,x.current.target,u.up);return x.current.camRot=(new R.Quaternion).setFromRotationMatrix(a),y.current=An.START,v.current=0,this},moveTo(e){return x.current.camPos=Array.isArray(e)?new R.Vector3(...e):e.clone(),y.current=An.START,v.current=0,this},lookAt({target:e,up:t}){x.current.target=Array.isArray(e)?new R.Vector3(...e):e.clone(),x.current.camUp=t?Array.isArray(t)?new R.Vector3(...t):t.clone():u.up.clone();const r=(new R.Matrix4).lookAt(x.current.camPos||u.position,x.current.target,x.current.camUp);return x.current.camRot=(new R.Quaternion).setFromRotationMatrix(r),y.current=An.START,v.current=0,this},to({position:e,target:t}){return this.moveTo(e).lookAt({target:t})},fit(){if(!Ln(u))return this.reset();let e=0,t=0;const n=[new R.Vector3(g.min.x,g.min.y,g.min.z),new R.Vector3(g.min.x,g.max.y,g.min.z),new R.Vector3(g.min.x,g.min.y,g.max.z),new R.Vector3(g.min.x,g.max.y,g.max.z),new R.Vector3(g.max.x,g.max.y,g.max.z),new R.Vector3(g.max.x,g.max.y,g.min.z),new R.Vector3(g.max.x,g.min.y,g.max.z),new R.Vector3(g.max.x,g.min.y,g.min.z)],a=x.current.camPos||u.position,o=x.current.target||(null==f?void 0:f.target),i=x.current.camUp||u.up,s=o?(new R.Matrix4).lookAt(a,o,i).setPosition(a).invert():u.matrixWorldInverse;for(const r of n)r.applyMatrix4(s),e=Math.max(e,Math.abs(r.y)),t=Math.max(t,Math.abs(r.x));e*=2,t*=2;const l=(u.top-u.bottom)/e,c=(u.right-u.left)/t;return x.current.camZoom=Math.min(l,c)/r,y.current=An.START,v.current=0,p.current&&p.current(this.getSize()),this},clip(){const{distance:t}=e();return u.near=t/100,u.far=100*t,u.updateProjectionMatrix(),f&&(f.maxDistance=10*t,f.update()),m(),this}}}),[g,u,f,r,m]);C.useLayoutEffect((()=>{if(f){const e=()=>{if(f&&x.current.target&&y.current!==An.NONE){const e=(new R.Vector3).setFromMatrixColumn(u.matrix,2),t=h.current.camPos.distanceTo(f.target),r=(x.current.camPos||h.current.camPos).distanceTo(x.current.target),n=(1-v.current)*t+v.current*r;f.target.copy(u.position).addScaledVector(e,-n),f.update()}y.current=An.NONE};return f.addEventListener(\"start\",e),()=>f.removeEventListener(\"start\",e)}}),[f]);const z=C.useRef(0);return C.useLayoutEffect((()=>{(n||0==z.current++)&&(w.refresh(),o&&w.reset().fit(),i&&w.clip())}),[d,i,o,n,u,f]),a.useFrame(((e,r)=>{if(y.current===An.START)y.current=An.ACTIVE,m();else if(y.current===An.ACTIVE){if(v.current+=r/t,v.current>=1)x.current.camPos&&u.position.copy(x.current.camPos),x.current.camRot&&u.quaternion.copy(x.current.camRot),x.current.camUp&&u.up.copy(x.current.camUp),x.current.camZoom&&Ln(u)&&(u.zoom=x.current.camZoom),u.updateMatrixWorld(),u.updateProjectionMatrix(),f&&x.current.target&&(f.target.copy(x.current.target),f.update()),y.current=An.NONE;else{const e=s(v.current);x.current.camPos&&u.position.lerpVectors(h.current.camPos,x.current.camPos,e),x.current.camRot&&u.quaternion.slerpQuaternions(h.current.camRot,x.current.camRot,e),x.current.camUp&&u.up.set(0,1,0).applyQuaternion(u.quaternion),x.current.camZoom&&Ln(u)&&(u.zoom=(1-e)*h.current.camZoom+e*x.current.camZoom),u.updateMatrixWorld(),u.updateProjectionMatrix()}m()}})),C.createElement(\"group\",{ref:c},C.createElement(Bn.Provider,{value:w},e))}function Un(){return C.useContext(Bn)}const On=C.forwardRef((({intensity:e=1,decay:t,decayRate:r=.65,maxYaw:n=.1,maxPitch:o=.1,maxRoll:i=.1,yawFrequency:s=.1,pitchFrequency:l=.1,rollFrequency:c=.1},d)=>{const m=a.useThree((e=>e.camera)),f=a.useThree((e=>e.controls)),p=C.useRef(e),h=C.useRef(m.rotation.clone()),[x]=C.useState((()=>new u.SimplexNoise)),[y]=C.useState((()=>new u.SimplexNoise)),[v]=C.useState((()=>new u.SimplexNoise)),g=()=>{(p.current<0||p.current>1)&&(p.current=p.current<0?0:1)};return C.useImperativeHandle(d,(()=>({getIntensity:()=>p.current,setIntensity:e=>{p.current=e,g()}})),[]),C.useEffect((()=>{if(f){const e=()=>{h.current=m.rotation.clone()};return f.addEventListener(\"change\",e),e(),()=>{f.removeEventListener(\"change\",e)}}}),[m,f]),a.useFrame(((e,a)=>{const u=Math.pow(p.current,2),d=n*u*x.noise(e.clock.elapsedTime*s,1),f=o*u*y.noise(e.clock.elapsedTime*l,1),w=i*u*v.noise(e.clock.elapsedTime*c,1);m.rotation.set(h.current.x+f,h.current.y+d,h.current.z+w),t&&p.current>0&&(p.current-=r*a,g())})),null})),Nn=C.forwardRef((({children:e,enabled:t=!0,speed:r=1,rotationIntensity:n=1,floatIntensity:o=1,floatingRange:i=[-.1,.1],autoInvalidate:s=!1,...l},c)=>{const u=C.useRef(null);C.useImperativeHandle(c,(()=>u.current),[]);const d=C.useRef(1e4*Math.random());return a.useFrame((e=>{var a,l;if(!t||0===r)return;s&&e.invalidate();const c=d.current+e.clock.elapsedTime;u.current.rotation.x=Math.cos(c/4*r)/8*n,u.current.rotation.y=Math.sin(c/4*r)/8*n,u.current.rotation.z=Math.sin(c/4*r)/20*n;let m=Math.sin(c/4*r)/10;m=R.MathUtils.mapLinear(m,-.1,.1,null!==(a=null==i?void 0:i[0])&&void 0!==a?a:-.1,null!==(l=null==i?void 0:i[1])&&void 0!==l?l:.1),u.current.position.y=m*o,u.current.updateMatrix()})),C.createElement(\"group\",l,C.createElement(\"group\",{ref:u,matrixAutoUpdate:!1},e))})),jn={apartment:\"lebombo_1k.hdr\",city:\"potsdamer_platz_1k.hdr\",dawn:\"kiara_1_dawn_1k.hdr\",forest:\"forest_slope_1k.hdr\",lobby:\"st_fagans_interior_1k.hdr\",night:\"dikhololo_night_1k.hdr\",park:\"rooitou_park_1k.hdr\",studio:\"studio_small_03_1k.hdr\",sunset:\"venice_sunset_1k.hdr\",warehouse:\"empty_warehouse_01_1k.hdr\"},Wn=\"https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/\",Gn=e=>Array.isArray(e),Hn=[\"/px.png\",\"/nx.png\",\"/py.png\",\"/ny.png\",\"/pz.png\",\"/nz.png\"];function $n({files:e=Hn,path:r=\"\",preset:o,encoding:i,extensions:s}={}){let l=null,c=!1;o&&(Zn(o),e=jn[o],r=Wn),c=Gn(e);const{extension:u,isCubemap:d}=Yn(e);if(l=Qn(u),!l)throw new Error(\"useEnvironment: Unrecognized file extension: \"+e);const m=a.useThree((e=>e.gl));t.useLayoutEffect((()=>{\"webp\"!==u&&\"jpg\"!==u&&\"jpeg\"!==u||m.domElement.addEventListener(\"webglcontextlost\",(function(){a.useLoader.clear(l,c?[e]:e)}),{once:!0})}),[e,m.domElement]);const f=a.useLoader(l,c?[e]:e,(e=>{\"webp\"!==u&&\"jpg\"!==u&&\"jpeg\"!==u||e.setRenderer(m),null==e.setPath||e.setPath(r),s&&s(e)}));let p=c?f[0]:f;var h;\"jpg\"!==u&&\"jpeg\"!==u&&\"webp\"!==u||(p=null==(h=p.renderTarget)?void 0:h.texture);return p.mapping=d?n.CubeReflectionMapping:n.EquirectangularReflectionMapping,\"colorSpace\"in p?p.colorSpace=(null!=i?i:d)?\"srgb\":\"srgb-linear\":p.encoding=(null!=i?i:d)?3001:3e3,p}const qn={files:Hn,path:\"\",preset:void 0,extensions:void 0};$n.preload=e=>{const t={...qn,...e};let{files:r,path:n=\"\"}=t;const{preset:o,extensions:i}=t;o&&(Zn(o),r=jn[o],n=Wn);const{extension:s}=Yn(r);if(\"webp\"===s||\"jpg\"===s||\"jpeg\"===s)throw new Error(\"useEnvironment: Preloading gainmaps is not supported\");const l=Qn(s);if(!l)throw new Error(\"useEnvironment: Unrecognized file extension: \"+r);a.useLoader.preload(l,Gn(r)?[r]:r,(e=>{null==e.setPath||e.setPath(n),i&&i(e)}))};const Xn={files:Hn,preset:void 0};function Zn(e){if(!(e in jn))throw new Error(\"Preset must be one of: \"+Object.keys(jn).join(\", \"))}function Yn(e){var t;const r=Gn(e)&&6===e.length,n=Gn(e)&&3===e.length&&e.some((e=>e.endsWith(\"json\"))),a=Gn(e)?e[0]:e;return{extension:r?\"cube\":n?\"webp\":a.startsWith(\"data:application/exr\")?\"exr\":a.startsWith(\"data:application/hdr\")?\"hdr\":a.startsWith(\"data:image/jpeg\")?\"jpg\":null==(t=a.split(\".\").pop())||null==(t=t.split(\"?\"))||null==(t=t.shift())?void 0:t.toLowerCase(),isCubemap:r,isGainmap:n}}function Qn(e){return\"cube\"===e?n.CubeTextureLoader:\"hdr\"===e?u.RGBELoader:\"exr\"===e?u.EXRLoader:\"jpg\"===e||\"jpeg\"===e?b.HDRJPGLoader:\"webp\"===e?b.GainMapLoader:null}$n.clear=e=>{const t={...Xn,...e};let{files:r}=t;const{preset:n}=t;n&&(Zn(n),r=jn[n]);const{extension:o}=Yn(r),i=Qn(o);if(!i)throw new Error(\"useEnvironment: Unrecognized file extension: \"+r);a.useLoader.clear(i,Gn(r)?[r]:r)};function Kn(e,t,r,n,o={}){var i,s,l,c;o={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...o};const u=(e=>{return(t=e).current&&t.current.isScene?e.current:e;var t})(t||r),d=u.background,m=u.environment,f={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:null!==(i=null==(s=u.backgroundRotation)||null==s.clone?void 0:s.clone())&&void 0!==i?i:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:null!==(l=null==(c=u.environmentRotation)||null==c.clone?void 0:c.clone())&&void 0!==l?l:[0,0,0]};return\"only\"!==e&&(u.environment=n),e&&(u.background=n),a.applyProps(u,o),()=>{\"only\"!==e&&(u.environment=m),e&&(u.background=d),a.applyProps(u,f)}}function Jn({scene:e,background:t=!1,map:r,...n}){const o=a.useThree((e=>e.scene));return C.useLayoutEffect((()=>{if(r)return Kn(t,e,o,r,n)})),null}function ea({background:e=!1,scene:t,blur:r,backgroundBlurriness:n,backgroundIntensity:o,backgroundRotation:i,environmentIntensity:s,environmentRotation:l,...c}){const u=$n(c),d=a.useThree((e=>e.scene));return C.useLayoutEffect((()=>Kn(e,t,d,u,{backgroundBlurriness:null!=r?r:n,backgroundIntensity:o,backgroundRotation:i,environmentIntensity:s,environmentRotation:l}))),C.useEffect((()=>()=>{u.dispose()}),[u]),null}function ta({children:e,near:t=.1,far:r=1e3,resolution:o=256,frames:i=1,map:s,background:l=!1,blur:c,backgroundBlurriness:u,backgroundIntensity:d,backgroundRotation:m,environmentIntensity:f,environmentRotation:p,scene:h,files:x,path:y,preset:v,extensions:g}){const w=a.useThree((e=>e.gl)),z=a.useThree((e=>e.scene)),b=C.useRef(null),[E]=C.useState((()=>new n.Scene)),M=C.useMemo((()=>{const e=new n.WebGLCubeRenderTarget(o);return e.texture.type=n.HalfFloatType,e}),[o]);C.useEffect((()=>()=>{M.dispose()}),[M]),C.useLayoutEffect((()=>{if(1===i){const e=w.autoClear;w.autoClear=!0,b.current.update(w,E),w.autoClear=e}return Kn(l,h,z,M.texture,{backgroundBlurriness:null!=c?c:u,backgroundIntensity:d,backgroundRotation:m,environmentIntensity:f,environmentRotation:p})}),[e,E,M.texture,h,z,l,i,w]);let S=1;return a.useFrame((()=>{if(i===1/0||S<i){const e=w.autoClear;w.autoClear=!0,b.current.update(w,E),w.autoClear=e,S++}})),C.createElement(C.Fragment,null,a.createPortal(C.createElement(C.Fragment,null,e,C.createElement(\"cubeCamera\",{ref:b,args:[t,r,M]}),x||v?C.createElement(ea,{background:!0,files:x,preset:v,path:y,extensions:g}):s?C.createElement(Jn,{background:!0,map:s,extensions:g}):null),E))}function ra(e){var t,r,n,o;const i=$n(e),s=e.map||i;C.useMemo((()=>a.extend({GroundProjectedEnvImpl:u.GroundProjectedEnv})),[]),C.useEffect((()=>()=>{i.dispose()}),[i]);const l=C.useMemo((()=>[s]),[s]),c=null==(t=e.ground)?void 0:t.height,d=null==(r=e.ground)?void 0:r.radius,m=null!==(n=null==(o=e.ground)?void 0:o.scale)&&void 0!==n?n:1e3;return C.createElement(C.Fragment,null,C.createElement(Jn,T.default({},e,{map:s})),C.createElement(\"groundProjectedEnvImpl\",{args:l,scale:m,height:c,radius:d}))}function na(e){return e.ground?C.createElement(ra,e):e.map?C.createElement(Jn,e):e.children?C.createElement(ta,e):C.createElement(ea,e)}const aa=C.forwardRef((({scale:e=10,frames:t=1/0,opacity:r=1,width:n=1,height:o=1,blur:i=1,near:s=0,far:l=10,resolution:c=512,smooth:d=!0,color:m=\"#000000\",depthWrite:f=!1,renderOrder:p,...h},x)=>{const y=C.useRef(null),v=a.useThree((e=>e.scene)),g=a.useThree((e=>e.gl)),w=C.useRef(null);n*=Array.isArray(e)?e[0]:e||1,o*=Array.isArray(e)?e[1]:e||1;const[z,b,E,M,S,P,D]=C.useMemo((()=>{const e=new R.WebGLRenderTarget(c,c),t=new R.WebGLRenderTarget(c,c);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;const r=new R.PlaneGeometry(n,o).rotateX(Math.PI/2),a=new R.Mesh(r),i=new R.MeshDepthMaterial;i.depthTest=i.depthWrite=!1,i.onBeforeCompile=e=>{e.uniforms={...e.uniforms,ucolor:{value:new R.Color(m)}},e.fragmentShader=e.fragmentShader.replace(\"void main() {\",\"uniform vec3 ucolor;\\n           void main() {\\n          \"),e.fragmentShader=e.fragmentShader.replace(\"vec4( vec3( 1.0 - fragCoordZ ), opacity );\",\"vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );\")};const s=new R.ShaderMaterial(u.HorizontalBlurShader),l=new R.ShaderMaterial(u.VerticalBlurShader);return l.depthTest=s.depthTest=!1,[e,r,i,a,s,l,t]}),[c,n,o,e,m]),F=e=>{M.visible=!0,M.material=S,S.uniforms.tDiffuse.value=z.texture,S.uniforms.h.value=1*e/256,g.setRenderTarget(D),g.render(M,w.current),M.material=P,P.uniforms.tDiffuse.value=D.texture,P.uniforms.v.value=1*e/256,g.setRenderTarget(z),g.render(M,w.current),M.visible=!1};let k,_,A=0;return a.useFrame((()=>{w.current&&(t===1/0||A<t)&&(A++,k=v.background,_=v.overrideMaterial,y.current.visible=!1,v.background=null,v.overrideMaterial=E,g.setRenderTarget(z),g.render(v,w.current),F(i),d&&F(.4*i),g.setRenderTarget(null),y.current.visible=!0,v.overrideMaterial=_,v.background=k)})),C.useImperativeHandle(x,(()=>y.current),[]),C.createElement(\"group\",T.default({\"rotation-x\":Math.PI/2},h,{ref:y}),C.createElement(\"mesh\",{renderOrder:p,geometry:b,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},C.createElement(\"meshBasicMaterial\",{transparent:!0,map:z.texture,opacity:r,depthWrite:f})),C.createElement(\"orthographicCamera\",{ref:w,args:[-n/2,n/2,o/2,-o/2,s,l]}))}));const oa=C.createContext(null),ia=Te({color:new R.Color,blend:2,alphaTest:.75,opacity:0,map:null},\"varying vec2 vUv;\\n   void main() {\\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\\n     vUv = uv;\\n   }\",`varying vec2 vUv;\\n   uniform sampler2D map;\\n   uniform vec3 color;\\n   uniform float opacity;\\n   uniform float alphaTest;\\n   uniform float blend;\\n   void main() {\\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\\n     #include <tonemapping_fragment>\\n     #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n   }`),sa=C.forwardRef((({children:e,temporal:t,frames:r=40,limit:n=1/0,blend:o=20,scale:i=10,opacity:s=1,alphaTest:l=.75,color:c=\"black\",colorBlend:u=2,resolution:d=1024,toneMapped:m=!0,...f},p)=>{a.extend({SoftShadowMaterial:ia});const h=a.useThree((e=>e.gl)),x=a.useThree((e=>e.scene)),y=a.useThree((e=>e.camera)),v=a.useThree((e=>e.invalidate)),g=C.useRef(null),w=C.useRef(null),[z]=C.useState((()=>new ca(h,x,d)));C.useLayoutEffect((()=>{z.configure(g.current)}),[]);const b=C.useMemo((()=>({lights:new Map,temporal:!!t,frames:Math.max(2,r),blend:Math.max(2,r===1/0?o:r),count:0,getMesh:()=>g.current,reset:()=>{z.clear();const e=g.current.material;e.opacity=0,e.alphaTest=0,b.count=0},update:(e=1)=>{const t=g.current.material;b.temporal?(t.opacity=Math.min(s,t.opacity+s/b.blend),t.alphaTest=Math.min(l,t.alphaTest+l/b.blend)):(t.opacity=s,t.alphaTest=l),w.current.visible=!0,z.prepare();for(let t=0;t<e;t++)b.lights.forEach((e=>e.update())),z.update(y,b.blend);w.current.visible=!1,z.finish()}})),[z,y,x,t,r,o,s,l]);return C.useLayoutEffect((()=>{b.reset(),b.temporal||b.frames===1/0||b.update(b.blend)})),C.useImperativeHandle(p,(()=>b),[b]),a.useFrame((()=>{(b.temporal||b.frames===1/0)&&b.count<b.frames&&b.count<n&&(v(),b.update(),b.count++)})),C.createElement(\"group\",f,C.createElement(\"group\",{traverse:()=>null,ref:w},C.createElement(oa.Provider,{value:b},e)),C.createElement(\"mesh\",{receiveShadow:!0,ref:g,scale:i,rotation:[-Math.PI/2,0,0]},C.createElement(\"planeGeometry\",null),C.createElement(\"softShadowMaterial\",{transparent:!0,depthWrite:!1,toneMapped:m,color:c,blend:u,map:z.progressiveLightMap2.texture})))})),la=C.forwardRef((({castShadow:e=!0,bias:t=.001,mapSize:r=512,size:n=5,near:a=.5,far:o=500,frames:i=1,position:s=[0,0,0],radius:l=1,amount:c=8,intensity:u=(Re>=155?Math.PI:1),ambient:d=.5,...m},f)=>{const p=C.useRef(null),h=new R.Vector3(...s).length(),x=C.useContext(oa),y=C.useCallback((()=>{let e;if(p.current)for(let t=0;t<p.current.children.length;t++)if(e=p.current.children[t],Math.random()>d)e.position.set(s[0]+R.MathUtils.randFloatSpread(l),s[1]+R.MathUtils.randFloatSpread(l),s[2]+R.MathUtils.randFloatSpread(l));else{let t=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(t)*Math.cos(r)*h,Math.abs(Math.cos(t)*Math.sin(r)*h),Math.sin(t)*h)}}),[l,d,h,...s]),v=C.useMemo((()=>({update:y})),[y]);return C.useImperativeHandle(f,(()=>v),[v]),C.useLayoutEffect((()=>{var e;const t=p.current;return x&&(null==(e=x.lights)||e.set(t.uuid,v)),()=>{var e;null==x||null==(e=x.lights)||e.delete(t.uuid)}}),[x,v]),C.createElement(\"group\",T.default({ref:p},m),Array.from({length:c},((i,s)=>C.createElement(\"directionalLight\",{key:s,castShadow:e,\"shadow-bias\":t,\"shadow-mapSize\":[r,r],intensity:u/c},C.createElement(\"orthographicCamera\",{attach:\"shadow-camera\",args:[-n,n,n,-n,a,o]})))))}));class ca{constructor(e,t,r=1024){this.renderer=e,this.res=r,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new R.Color,this.clearAlpha=0;const n={type:R.HalfFloatType,magFilter:R.NearestFilter,minFilter:R.NearestFilter};this.progressiveLightMap1=new R.WebGLRenderTarget(this.res,this.res,n),this.progressiveLightMap2=new R.WebGLRenderTarget(this.res,this.res,n),this.discardMat=new en,this.targetMat=new R.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=e=>{e.vertexShader=\"varying vec2 vUv;\\n\"+e.vertexShader.slice(0,-1)+\"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }\";const t=e.fragmentShader.indexOf(\"void main() {\");e.fragmentShader=\"varying vec2 vUv;\\n\"+e.fragmentShader.slice(0,t)+\"uniform sampler2D previousShadowMap;\\n\\tuniform float averagingWindow;\\n\"+e.fragmentShader.slice(t-1,-1)+\"\\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\\n      }\",e.uniforms.previousShadowMap=this.previousShadowMap,e.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor(\"black\",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse((e=>{!function(e){return!!e.geometry}(e)?function(e){return e.isLight}(e)&&this.lights.push({object:e,intensity:e.intensity}):this.meshes.push({object:e,material:e.material})}))}prepare(){this.lights.forEach((e=>e.object.intensity=0)),this.meshes.forEach((e=>e.object.material=this.discardMat))}finish(){this.lights.forEach((e=>e.object.intensity=e.intensity)),this.meshes.forEach((e=>e.object.material=e.material))}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const r=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,n=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,a=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(r),this.previousShadowMap.value=n.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=a}}const ua={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function da({radius:e,adjustCamera:t}){const r=Un();return C.useEffect((()=>{t&&r.refresh().clip().fit()}),[e,t]),null}const ma=e=>0===e?0:Math.pow(2,10*e-10);const fa=C.forwardRef((({fog:e=!1,renderOrder:t,depthWrite:r=!1,colorStop:a=0,color:o=\"black\",opacity:i=.5,...s},l)=>{const c=C.useMemo((()=>{const e=document.createElement(\"canvas\");e.width=128,e.height=128;const t=e.getContext(\"2d\"),r=t.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,e.width/2);return r.addColorStop(a,new n.Color(o).getStyle()),r.addColorStop(1,\"rgba(0,0,0,0)\"),t.fillStyle=r,t.fillRect(0,0,e.width,e.height),e}),[o,a]);return C.createElement(\"mesh\",T.default({renderOrder:t,ref:l,\"rotation-x\":-Math.PI/2},s),C.createElement(\"planeGeometry\",null),C.createElement(\"meshBasicMaterial\",{transparent:!0,opacity:i,fog:e,depthWrite:r,side:n.DoubleSide},C.createElement(\"canvasTexture\",{attach:\"map\",args:[c]})))}));function pa(e=R.FrontSide){const t={value:new R.Matrix4};return Object.assign(new R.MeshNormalMaterial({side:e}),{viewMatrix:t,onBeforeCompile:e=>{e.uniforms.viewMatrix=t,e.fragmentShader=\"vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n           return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n         }\\n\"+e.fragmentShader.replace(\"#include <normal_fragment_maps>\",\"#include <normal_fragment_maps>\\n           normal = inverseTransformDirection( normal, viewMatrix );\\n\")}})}const ha=Te({causticsTexture:null,causticsTextureB:null,color:new R.Color,lightProjMatrix:new R.Matrix4,lightViewMatrix:new R.Matrix4},\"varying vec3 vWorldPosition;\\n   void main() {\\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\\n     vec4 worldPosition = modelMatrix * vec4(position, 1.);\\n     vWorldPosition = worldPosition.xyz;\\n   }\",`varying vec3 vWorldPosition;\\n  uniform vec3 color;\\n  uniform sampler2D causticsTexture;\\n  uniform sampler2D causticsTextureB;\\n  uniform mat4 lightProjMatrix;\\n  uniform mat4 lightViewMatrix;\\n   void main() {\\n    // Apply caustics\\n    vec4 lightSpacePos = lightProjMatrix * lightViewMatrix * vec4(vWorldPosition, 1.0);\\n    lightSpacePos.xyz /= lightSpacePos.w;\\n    lightSpacePos.xyz = lightSpacePos.xyz * 0.5 + 0.5;\\n    vec3 front = texture2D(causticsTexture, lightSpacePos.xy).rgb;\\n    vec3 back = texture2D(causticsTextureB, lightSpacePos.xy).rgb;\\n    gl_FragColor = vec4((front + back) * color, 1.0);\\n    #include <tonemapping_fragment>\\n    #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n   }`),xa=Te({cameraMatrixWorld:new R.Matrix4,cameraProjectionMatrixInv:new R.Matrix4,normalTexture:null,depthTexture:null,lightDir:new R.Vector3(0,1,0),lightPlaneNormal:new R.Vector3(0,1,0),lightPlaneConstant:0,near:.1,far:100,modelMatrix:new R.Matrix4,worldRadius:1/40,ior:1.1,bounces:0,resolution:1024,size:10,intensity:.5},\"\\n  varying vec2 vUv;\\n  void main() {\\n      vUv = uv;\\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  }\",\"\\n  uniform mat4 cameraMatrixWorld;\\n  uniform mat4 cameraProjectionMatrixInv;\\n  uniform vec3 lightDir;\\n  uniform vec3 lightPlaneNormal;\\n  uniform float lightPlaneConstant;\\n  uniform float near;\\n  uniform float far;\\n  uniform float time;\\n  uniform float worldRadius;\\n  uniform float resolution;\\n  uniform float size;\\n  uniform float intensity;\\n  uniform float ior;\\n  precision highp isampler2D;\\n  precision highp usampler2D;\\n  uniform sampler2D normalTexture;\\n  uniform sampler2D depthTexture;\\n  uniform float bounces;\\n  varying vec2 vUv;\\n  vec3 WorldPosFromDepth(float depth, vec2 coord) {\\n    float z = depth * 2.0 - 1.0;\\n    vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\\n    vec4 viewSpacePosition = cameraProjectionMatrixInv * clipSpacePosition;\\n    // Perspective division\\n    viewSpacePosition /= viewSpacePosition.w;\\n    vec4 worldSpacePosition = cameraMatrixWorld * viewSpacePosition;\\n    return worldSpacePosition.xyz;\\n  }\\n  float sdPlane( vec3 p, vec3 n, float h ) {\\n    // n must be normalized\\n    return dot(p,n) + h;\\n  }\\n  float planeIntersect( vec3 ro, vec3 rd, vec4 p ) {\\n    return -(dot(ro,p.xyz)+p.w)/dot(rd,p.xyz);\\n  }\\n  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 pos, vec3 normal, float ior, out vec3 rayOrigin, out vec3 rayDirection) {\\n    rayOrigin = ro;\\n    rayDirection = rd;\\n    rayDirection = refract(rayDirection, normal, 1.0 / ior);\\n    rayOrigin = pos + rayDirection * 0.1;\\n    return rayDirection;\\n  }\\n  void main() {\\n    // Each sample consists of random offset in the x and y direction\\n    float caustic = 0.0;\\n    float causticTexelSize = (1.0 / resolution) * size * 2.0;\\n    float texelsNeeded = worldRadius / causticTexelSize;\\n    float sampleRadius = texelsNeeded / resolution;\\n    float sum = 0.0;\\n    if (texture2D(depthTexture, vUv).x == 1.0) {\\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n      return;\\n    }\\n    vec2 offset1 = vec2(-0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);\\n    vec2 offset2 = vec2(-0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);\\n    vec2 offset3 = vec2(0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);\\n    vec2 offset4 = vec2(0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);\\n    vec2 uv1 = vUv + offset1 * sampleRadius;\\n    vec2 uv2 = vUv + offset2 * sampleRadius;\\n    vec2 uv3 = vUv + offset3 * sampleRadius;\\n    vec2 uv4 = vUv + offset4 * sampleRadius;\\n    vec3 normal1 = texture2D(normalTexture, uv1, -10.0).rgb * 2.0 - 1.0;\\n    vec3 normal2 = texture2D(normalTexture, uv2, -10.0).rgb * 2.0 - 1.0;\\n    vec3 normal3 = texture2D(normalTexture, uv3, -10.0).rgb * 2.0 - 1.0;\\n    vec3 normal4 = texture2D(normalTexture, uv4, -10.0).rgb * 2.0 - 1.0;\\n    float depth1 = texture2D(depthTexture, uv1, -10.0).x;\\n    float depth2 = texture2D(depthTexture, uv2, -10.0).x;\\n    float depth3 = texture2D(depthTexture, uv3, -10.0).x;\\n    float depth4 = texture2D(depthTexture, uv4, -10.0).x;\\n    // Sanity check the depths\\n    if (depth1 == 1.0 || depth2 == 1.0 || depth3 == 1.0 || depth4 == 1.0) {\\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\\n      return;\\n    }\\n    vec3 pos1 = WorldPosFromDepth(depth1, uv1);\\n    vec3 pos2 = WorldPosFromDepth(depth2, uv2);\\n    vec3 pos3 = WorldPosFromDepth(depth3, uv3);\\n    vec3 pos4 = WorldPosFromDepth(depth4, uv4);\\n    vec3 originPos1 = WorldPosFromDepth(0.0, uv1);\\n    vec3 originPos2 = WorldPosFromDepth(0.0, uv2);\\n    vec3 originPos3 = WorldPosFromDepth(0.0, uv3);\\n    vec3 originPos4 = WorldPosFromDepth(0.0, uv4);\\n    vec3 endPos1, endPos2, endPos3, endPos4;\\n    vec3 endDir1, endDir2, endDir3, endDir4;\\n    totalInternalReflection(originPos1, lightDir, pos1, normal1, ior, endPos1, endDir1);\\n    totalInternalReflection(originPos2, lightDir, pos2, normal2, ior, endPos2, endDir2);\\n    totalInternalReflection(originPos3, lightDir, pos3, normal3, ior, endPos3, endDir3);\\n    totalInternalReflection(originPos4, lightDir, pos4, normal4, ior, endPos4, endDir4);\\n    float lightPosArea = length(cross(originPos2 - originPos1, originPos3 - originPos1)) + length(cross(originPos3 - originPos1, originPos4 - originPos1));\\n    float t1 = planeIntersect(endPos1, endDir1, vec4(lightPlaneNormal, lightPlaneConstant));\\n    float t2 = planeIntersect(endPos2, endDir2, vec4(lightPlaneNormal, lightPlaneConstant));\\n    float t3 = planeIntersect(endPos3, endDir3, vec4(lightPlaneNormal, lightPlaneConstant));\\n    float t4 = planeIntersect(endPos4, endDir4, vec4(lightPlaneNormal, lightPlaneConstant));\\n    vec3 finalPos1 = endPos1 + endDir1 * t1;\\n    vec3 finalPos2 = endPos2 + endDir2 * t2;\\n    vec3 finalPos3 = endPos3 + endDir3 * t3;\\n    vec3 finalPos4 = endPos4 + endDir4 * t4;\\n    float finalArea = length(cross(finalPos2 - finalPos1, finalPos3 - finalPos1)) + length(cross(finalPos3 - finalPos1, finalPos4 - finalPos1));\\n    caustic += intensity * (lightPosArea / finalArea);\\n    // Calculate the area of the triangle in light spaces\\n    gl_FragColor = vec4(vec3(max(caustic, 0.0)), 1.0);\\n  }\"),ya={depth:!0,minFilter:R.LinearFilter,magFilter:R.LinearFilter,type:R.UnsignedByteType},va={minFilter:R.LinearMipmapLinearFilter,magFilter:R.LinearFilter,type:R.FloatType,generateMipmaps:!0},ga=C.forwardRef((({debug:e,children:t,frames:r=1,ior:n=1.1,color:o=\"white\",causticsOnly:i=!1,backside:s=!1,backsideIOR:l=1.1,worldRadius:c=.3125,intensity:d=.05,resolution:m=2024,lightSource:f=[5,5,5],...p},h)=>{a.extend({CausticsProjectionMaterial:ha});const x=C.useRef(null),y=C.useRef(null),v=C.useRef(null),g=C.useRef(null),w=a.useThree((e=>e.gl)),z=ur(e&&y,R.CameraHelper),b=ot(m,m,ya),E=ot(m,m,ya),M=ot(m,m,va),S=ot(m,m,va),[P]=C.useState((()=>pa())),[D]=C.useState((()=>pa(R.BackSide))),[F]=C.useState((()=>new xa)),[k]=C.useState((()=>new u.FullScreenQuad(F)));C.useLayoutEffect((()=>{x.current.updateWorldMatrix(!1,!0)}));let _=0;const A=new R.Vector3,L=new R.Frustum,I=new R.Matrix4,B=new R.Plane,V=new R.Vector3,U=new R.Vector3,O=new R.Box3,N=new R.Vector3,j=[],W=[],G=[],H=[],$=new R.Vector3;for(let e=0;e<8;e++)j.push(new R.Vector3),W.push(new R.Vector3),G.push(new R.Vector3),H.push(new R.Vector3);return a.useFrame((()=>{if(r===1/0||_++<r){var t,a;Array.isArray(f)?V.fromArray(f).normalize():V.copy(x.current.worldToLocal(f.current.getWorldPosition(A)).normalize()),U.copy(V).multiplyScalar(-1),null==(t=v.current.parent)||t.matrixWorld.identity(),O.setFromObject(v.current,!0),j[0].set(O.min.x,O.min.y,O.min.z),j[1].set(O.min.x,O.min.y,O.max.z),j[2].set(O.min.x,O.max.y,O.min.z),j[3].set(O.min.x,O.max.y,O.max.z),j[4].set(O.max.x,O.min.y,O.min.z),j[5].set(O.max.x,O.min.y,O.max.z),j[6].set(O.max.x,O.max.y,O.min.z),j[7].set(O.max.x,O.max.y,O.max.z);for(let e=0;e<8;e++)W[e].copy(j[e]);O.getCenter(N),j.map((e=>e.sub(N)));const r=B.set(U,0);j.map(((e,t)=>r.projectPoint(e,G[t])));const o=G.reduce(((e,t)=>e.add(t)),A.set(0,0,0)).divideScalar(G.length),u=G.map((e=>e.distanceTo(o))).reduce(((e,t)=>Math.max(e,t))),p=j.map((e=>e.dot(V))).reduce(((e,t)=>Math.max(e,t)));y.current.position.copy($.copy(V).multiplyScalar(p).add(N)),y.current.lookAt(v.current.localToWorld(N));const h=I.lookAt(y.current.position,N,A.set(0,1,0));y.current.left=-u,y.current.right=u,y.current.top=u,y.current.bottom=-u;const T=A.set(0,u,0).applyMatrix4(h),C=(y.current.position.y+T.y)/V.y;y.current.near=.1,y.current.far=C,y.current.updateProjectionMatrix(),y.current.updateMatrixWorld();const R=W.map(((e,t)=>e.add(H[t].copy(V).multiplyScalar(-e.y/V.y)))),_=R.reduce(((e,t)=>e.add(t)),A.set(0,0,0)).divideScalar(R.length),q=2*R.map((e=>Math.hypot(e.x-_.x,e.z-_.z))).reduce(((e,t)=>Math.max(e,t)));g.current.scale.setScalar(q),g.current.position.copy(_),e&&(null==(a=z.current)||a.update()),D.viewMatrix.value=P.viewMatrix.value=y.current.matrixWorldInverse;const X=L.setFromProjectionMatrix(I.multiplyMatrices(y.current.projectionMatrix,y.current.matrixWorldInverse)).planes[4];F.cameraMatrixWorld=y.current.matrixWorld,F.cameraProjectionMatrixInv=y.current.projectionMatrixInverse,F.lightDir=U,F.lightPlaneNormal=X.normal,F.lightPlaneConstant=X.constant,F.near=y.current.near,F.far=y.current.far,F.resolution=m,F.size=u,F.intensity=d,F.worldRadius=c,v.current.visible=!0,w.setRenderTarget(b),w.clear(),v.current.overrideMaterial=P,w.render(v.current,y.current),w.setRenderTarget(E),w.clear(),s&&(v.current.overrideMaterial=D,w.render(v.current,y.current)),v.current.overrideMaterial=null,F.ior=n,g.current.material.lightProjMatrix=y.current.projectionMatrix,g.current.material.lightViewMatrix=y.current.matrixWorldInverse,F.normalTexture=b.texture,F.depthTexture=b.depthTexture,w.setRenderTarget(M),w.clear(),k.render(w),F.ior=l,F.normalTexture=E.texture,F.depthTexture=E.depthTexture,w.setRenderTarget(S),w.clear(),s&&k.render(w),w.setRenderTarget(null),i&&(v.current.visible=!1)}})),C.useImperativeHandle(h,(()=>x.current),[]),C.createElement(\"group\",T.default({ref:x},p),C.createElement(\"scene\",{ref:v},C.createElement(\"orthographicCamera\",{ref:y,up:[0,1,0]}),t),C.createElement(\"mesh\",{renderOrder:2,ref:g,\"rotation-x\":-Math.PI/2},C.createElement(\"planeGeometry\",null),C.createElement(\"causticsProjectionMaterial\",{transparent:!0,color:o,causticsTexture:M.texture,causticsTextureB:S.texture,blending:R.CustomBlending,blendSrc:R.OneFactor,blendDst:R.SrcAlphaFactor,depthWrite:!1}),e&&C.createElement(Le,null,C.createElement(\"lineBasicMaterial\",{color:\"#ffff00\",toneMapped:!1}))))})),wa=C.forwardRef((({mixBlur:e=0,mixStrength:t=.5,resolution:r=256,blur:o=[0,0],args:i=[1,1],minDepthThreshold:s=.9,maxDepthThreshold:l=1,depthScale:c=0,depthToBlurRatioBias:u=.25,mirror:d=0,children:m,debug:f=0,distortion:p=1,mixContrast:h=1,distortionMap:x,...y},v)=>{a.extend({MeshReflectorMaterial:Qr}),C.useEffect((()=>{console.warn(\"Reflector has been deprecated and will be removed next major. Replace it with <MeshReflectorMaterial />!\")}),[]);const g=a.useThree((({gl:e})=>e)),w=a.useThree((({camera:e})=>e)),z=a.useThree((({scene:e})=>e)),b=(o=Array.isArray(o)?o:[o,o])[0]+o[1]>0,E=C.useRef(null);C.useImperativeHandle(v,(()=>E.current),[]);const[M]=C.useState((()=>new n.Plane)),[S]=C.useState((()=>new n.Vector3)),[P]=C.useState((()=>new n.Vector3)),[R]=C.useState((()=>new n.Vector3)),[D]=C.useState((()=>new n.Matrix4)),[F]=C.useState((()=>new n.Vector3(0,0,-1))),[k]=C.useState((()=>new n.Vector4)),[_]=C.useState((()=>new n.Vector3)),[A]=C.useState((()=>new n.Vector3)),[L]=C.useState((()=>new n.Vector4)),[I]=C.useState((()=>new n.Matrix4)),[B]=C.useState((()=>new n.PerspectiveCamera)),V=C.useCallback((()=>{if(P.setFromMatrixPosition(E.current.matrixWorld),R.setFromMatrixPosition(w.matrixWorld),D.extractRotation(E.current.matrixWorld),S.set(0,0,1),S.applyMatrix4(D),_.subVectors(P,R),_.dot(S)>0)return;_.reflect(S).negate(),_.add(P),D.extractRotation(w.matrixWorld),F.set(0,0,-1),F.applyMatrix4(D),F.add(R),A.subVectors(P,F),A.reflect(S).negate(),A.add(P),B.position.copy(_),B.up.set(0,1,0),B.up.applyMatrix4(D),B.up.reflect(S),B.lookAt(A),B.far=w.far,B.updateMatrixWorld(),B.projectionMatrix.copy(w.projectionMatrix),I.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),I.multiply(B.projectionMatrix),I.multiply(B.matrixWorldInverse),I.multiply(E.current.matrixWorld),M.setFromNormalAndCoplanarPoint(S,P),M.applyMatrix4(B.matrixWorldInverse),k.set(M.normal.x,M.normal.y,M.normal.z,M.constant);const e=B.projectionMatrix;L.x=(Math.sign(k.x)+e.elements[8])/e.elements[0],L.y=(Math.sign(k.y)+e.elements[9])/e.elements[5],L.z=-1,L.w=(1+e.elements[10])/e.elements[14],k.multiplyScalar(2/k.dot(L)),e.elements[2]=k.x,e.elements[6]=k.y,e.elements[10]=k.z+1,e.elements[14]=k.w}),[]),[U,O,N,j]=C.useMemo((()=>{const a={type:n.HalfFloatType,minFilter:n.LinearFilter,magFilter:n.LinearFilter},i=new n.WebGLRenderTarget(r,r,a);i.depthBuffer=!0,i.depthTexture=new n.DepthTexture(r,r),i.depthTexture.format=n.DepthFormat,i.depthTexture.type=n.UnsignedShortType;const m=new n.WebGLRenderTarget(r,r,a);return[i,m,new Yr({gl:g,resolution:r,width:o[0],height:o[1],minDepthThreshold:s,maxDepthThreshold:l,depthScale:c,depthToBlurRatioBias:u}),{mirror:d,textureMatrix:I,mixBlur:e,tDiffuse:i.texture,tDepth:i.depthTexture,tDiffuseBlur:m.texture,hasBlur:b,mixStrength:t,minDepthThreshold:s,maxDepthThreshold:l,depthScale:c,depthToBlurRatioBias:u,transparent:!0,debug:f,distortion:p,distortionMap:x,mixContrast:h,\"defines-USE_BLUR\":b?\"\":void 0,\"defines-USE_DEPTH\":c>0?\"\":void 0,\"defines-USE_DISTORTION\":x?\"\":void 0}]}),[g,o,I,r,d,b,e,t,s,l,c,u,f,p,x,h]);return a.useFrame((()=>{if(null==E||!E.current)return;E.current.visible=!1;const e=g.xr.enabled,t=g.shadowMap.autoUpdate;V(),g.xr.enabled=!1,g.shadowMap.autoUpdate=!1,g.setRenderTarget(U),g.state.buffers.depth.setMask(!0),g.autoClear||g.clear(),g.render(z,B),b&&N.render(g,U,O),g.xr.enabled=e,g.shadowMap.autoUpdate=t,E.current.visible=!0,g.setRenderTarget(null)})),C.createElement(\"mesh\",T.default({ref:E},y),C.createElement(\"planeGeometry\",{args:i}),m?m(\"meshReflectorMaterial\",j):C.createElement(\"meshReflectorMaterial\",j))}));class za extends R.ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new R.Vector3(0,0,0)},lightColor:{value:new R.Color(\"white\")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new R.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:\"\\n        varying vec3 vNormal;\\n        varying float vViewZ;\\n        varying float vIntensity;\\n        uniform vec3 spotPosition;\\n        uniform float attenuation;\\n\\n        #include <common>\\n        #include <logdepthbuf_pars_vertex>\\n\\n        void main() {\\n          // compute intensity\\n          vNormal = normalize(normalMatrix * normal);\\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\\n          vec4 viewPosition = viewMatrix * worldPosition;\\n          vViewZ = viewPosition.z;\\n\\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\\n\\n          gl_Position = projectionMatrix * viewPosition;\\n\\n          #include <logdepthbuf_vertex>\\n        }\\n      \",fragmentShader:`\\n        varying vec3 vNormal;\\n        varying float vViewZ;\\n        varying float vIntensity;\\n\\n        uniform vec3 lightColor;\\n        uniform float anglePower;\\n        uniform sampler2D depth;\\n        uniform vec2 resolution;\\n        uniform float cameraNear;\\n        uniform float cameraFar;\\n        uniform float opacity;\\n\\n        #include <packing>\\n        #include <logdepthbuf_pars_fragment>\\n\\n        float readDepth(sampler2D depthSampler, vec2 uv) {\\n          float fragCoordZ = texture(depthSampler, uv).r;\\n\\n          // https://github.com/mrdoob/three.js/issues/23072\\n          #ifdef USE_LOGDEPTHBUF\\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\\n          #else\\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\\n          #endif\\n\\n          return viewZ;\\n        }\\n\\n        void main() {\\n          #include <logdepthbuf_fragment>\\n\\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\\n          float intensity = vIntensity * angleIntensity;\\n\\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\\n          if (isSoft) {\\n            vec2 uv = gl_FragCoord.xy / resolution;\\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\\n          }\\n\\n          gl_FragColor = vec4(lightColor, intensity * opacity);\\n\\n          #include <tonemapping_fragment>\\n          #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n        }\\n      `})}}function ba({opacity:e=1,radiusTop:t,radiusBottom:r,depthBuffer:o,color:i=\"white\",distance:s=5,angle:l=.15,attenuation:c=5,anglePower:u=5}){const d=C.useRef(null),m=a.useThree((e=>e.size)),f=a.useThree((e=>e.camera)),p=a.useThree((e=>e.viewport.dpr)),[h]=C.useState((()=>new za)),[x]=C.useState((()=>new n.Vector3));t=void 0===t?.1:t,r=void 0===r?7*l:r,a.useFrame((()=>{h.uniforms.spotPosition.value.copy(d.current.getWorldPosition(x)),d.current.lookAt(d.current.parent.target.getWorldPosition(x))}));const y=C.useMemo((()=>{const e=new n.CylinderGeometry(t,r,s,128,64,!0);return e.applyMatrix4((new n.Matrix4).makeTranslation(0,-s/2,0)),e.applyMatrix4((new n.Matrix4).makeRotationX(-Math.PI/2)),e}),[s,t,r]);return C.createElement(C.Fragment,null,C.createElement(\"mesh\",{ref:d,geometry:y,raycast:()=>null},C.createElement(\"primitive\",{object:h,attach:\"material\",\"uniforms-opacity-value\":e,\"uniforms-lightColor-value\":i,\"uniforms-attenuation-value\":c,\"uniforms-anglePower-value\":u,\"uniforms-depth-value\":o,\"uniforms-cameraNear-value\":f.near,\"uniforms-cameraFar-value\":f.far,\"uniforms-resolution-value\":o?[m.width*p,m.height*p]:[0,0]})))}function Ea(e,t,r,o,i){const[[s,l]]=C.useState((()=>[new n.Vector3,new n.Vector3]));C.useLayoutEffect((()=>{if(!(null==(t=e.current)?void 0:t.isSpotLight))throw new Error(\"SpotlightShadow must be a child of a SpotLight\");var t;e.current.shadow.mapSize.set(r,o),e.current.shadow.needsUpdate=!0}),[e,r,o]),a.useFrame((()=>{if(!e.current)return;const r=e.current.position,n=e.current.target.position;l.copy(n).sub(r);var a=l.length();l.normalize().multiplyScalar(a*i),s.copy(r).add(l),t.current.position.copy(s),t.current.lookAt(e.current.target.position)}))}function Ma({distance:e=.4,alphaTest:t=.5,map:r,shader:o=\"#define GLSLIFY 1\\nvarying vec2 vUv;uniform sampler2D uShadowMap;uniform float uTime;void main(){vec3 color=texture2D(uShadowMap,vUv).xyz;gl_FragColor=vec4(color,1.);}\",width:i=512,height:s=512,scale:l=1,children:c,...d}){const m=C.useRef(null),f=d.spotlightRef,p=d.debug;Ea(f,m,i,s,e);const h=C.useMemo((()=>new n.WebGLRenderTarget(i,s,{format:n.RGBAFormat,stencilBuffer:!1})),[i,s]),x=C.useRef({uShadowMap:{value:r},uTime:{value:0}});C.useEffect((()=>{x.current.uShadowMap.value=r}),[r]);const y=C.useMemo((()=>new u.FullScreenQuad(new n.ShaderMaterial({uniforms:x.current,vertexShader:\"\\n          varying vec2 vUv;\\n\\n          void main() {\\n            vUv = uv;\\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n          }\\n          \",fragmentShader:o}))),[o]);return C.useEffect((()=>()=>{y.material.dispose(),y.dispose()}),[y]),C.useEffect((()=>()=>h.dispose()),[h]),a.useFrame((({gl:e},t)=>{x.current.uTime.value+=t,e.setRenderTarget(h),y.render(e),e.setRenderTarget(null)})),C.createElement(C.Fragment,null,C.createElement(\"mesh\",{ref:m,scale:l,castShadow:!0},C.createElement(\"planeGeometry\",null),C.createElement(\"meshBasicMaterial\",{transparent:!0,side:n.DoubleSide,alphaTest:t,alphaMap:h.texture,\"alphaMap-wrapS\":n.RepeatWrapping,\"alphaMap-wrapT\":n.RepeatWrapping,opacity:p?1:0},c)))}function Sa({distance:e=.4,alphaTest:t=.5,map:r,width:a=512,height:o=512,scale:i,children:s,...l}){const c=C.useRef(null),u=l.spotlightRef,d=l.debug;return Ea(u,c,a,o,e),C.createElement(C.Fragment,null,C.createElement(\"mesh\",{ref:c,scale:i,castShadow:!0},C.createElement(\"planeGeometry\",null),C.createElement(\"meshBasicMaterial\",{transparent:!0,side:n.DoubleSide,alphaTest:t,alphaMap:r,\"alphaMap-wrapS\":n.RepeatWrapping,\"alphaMap-wrapT\":n.RepeatWrapping,opacity:d?1:0},s)))}const Ta=C.forwardRef((({opacity:e=1,radiusTop:t,radiusBottom:r,depthBuffer:n,color:a=\"white\",distance:o=5,angle:i=.15,attenuation:s=5,anglePower:l=5,volumetric:c=!0,debug:u=!1,children:d,...m},f)=>{const p=C.useRef(null);return C.useImperativeHandle(f,(()=>p.current),[]),C.createElement(\"group\",null,u&&p.current&&C.createElement(\"spotLightHelper\",{args:[p.current]}),C.createElement(\"spotLight\",T.default({ref:p,angle:i,color:a,distance:o,castShadow:!0},m),c&&C.createElement(ba,{debug:u,opacity:e,radiusTop:t,radiusBottom:r,depthBuffer:n,color:a,distance:o,angle:i,attenuation:s,anglePower:l})),d&&C.cloneElement(d,{spotlightRef:p,debug:u}))})),Ca=C.forwardRef((({light:e,args:t,map:r,toneMapped:n=!1,color:o=\"white\",form:i=\"rect\",intensity:s=1,scale:l=1,target:c=[0,0,0],children:u,...d},m)=>{const f=C.useRef(null);return C.useImperativeHandle(m,(()=>f.current),[]),C.useLayoutEffect((()=>{u||d.material||(a.applyProps(f.current.material,{color:o}),f.current.material.color.multiplyScalar(s))}),[o,s,u,d.material]),C.useLayoutEffect((()=>{d.rotation||f.current.quaternion.identity(),c&&!d.rotation&&(\"boolean\"==typeof c?f.current.lookAt(0,0,0):f.current.lookAt(Array.isArray(c)?new R.Vector3(...c):c))}),[c,d.rotation]),l=Array.isArray(l)&&2===l.length?[l[0],l[1],1]:l,C.createElement(\"mesh\",T.default({ref:f,scale:l},d),\"circle\"===i?C.createElement(\"ringGeometry\",{args:t||[0,.5,64]}):\"ring\"===i?C.createElement(\"ringGeometry\",{args:t||[.25,.5,64]}):\"rect\"===i||\"plane\"===i?C.createElement(\"planeGeometry\",{args:t||[1,1]}):\"box\"===i?C.createElement(\"boxGeometry\",{args:t||[1,1,1]}):C.createElement(i,{args:t}),u||C.createElement(\"meshBasicMaterial\",{toneMapped:n,map:r,side:R.DoubleSide}),e&&C.createElement(\"pointLight\",T.default({castShadow:!0},e)))}));function Pa(e,t,r=new n.Vector3){const a=Math.PI*(e-.5),o=2*Math.PI*(t-.5);return r.x=Math.cos(o),r.y=Math.sin(a),r.z=Math.sin(o),r}const Ra=C.forwardRef((({inclination:e=.6,azimuth:t=.1,distance:r=1e3,mieCoefficient:a=.005,mieDirectionalG:o=.8,rayleigh:i=.5,turbidity:s=10,sunPosition:l=Pa(e,t),...c},d)=>{const m=C.useMemo((()=>(new n.Vector3).setScalar(r)),[r]),[f]=C.useState((()=>new u.Sky));return C.createElement(\"primitive\",T.default({object:f,ref:d,\"material-uniforms-mieCoefficient-value\":a,\"material-uniforms-mieDirectionalG-value\":o,\"material-uniforms-rayleigh-value\":i,\"material-uniforms-sunPosition-value\":l,\"material-uniforms-turbidity-value\":s,scale:m},c))}));class Da extends n.ShaderMaterial{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:\"\\n      uniform float time;\\n      attribute float size;\\n      varying vec3 vColor;\\n      void main() {\\n        vColor = color;\\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));\\n        gl_Position = projectionMatrix * mvPosition;\\n      }\",fragmentShader:`\\n      uniform sampler2D pointTexture;\\n      uniform float fade;\\n      varying vec3 vColor;\\n      void main() {\\n        float opacity = 1.0;\\n        if (fade == 1.0) {\\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\\n        }\\n        gl_FragColor = vec4(vColor, opacity);\\n\\n        #include <tonemapping_fragment>\\n\\t      #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n      }`})}}const Fa=e=>(new n.Vector3).setFromSpherical(new n.Spherical(e,Math.acos(1-2*Math.random()),2*Math.random()*Math.PI)),ka=C.forwardRef((({radius:e=100,depth:t=50,count:r=5e3,saturation:o=0,factor:i=4,fade:s=!1,speed:l=1},c)=>{const u=C.useRef(),[d,m,f]=C.useMemo((()=>{const a=[],s=[],l=Array.from({length:r},(()=>(.5+.5*Math.random())*i)),c=new n.Color;let u=e+t;const d=t/r;for(let e=0;e<r;e++)u-=d*Math.random(),a.push(...Fa(u).toArray()),c.setHSL(e/r,o,.9),s.push(c.r,c.g,c.b);return[new Float32Array(a),new Float32Array(s),new Float32Array(l)]}),[r,t,i,e,o]);a.useFrame((e=>u.current&&(u.current.uniforms.time.value=e.clock.elapsedTime*l)));const[p]=C.useState((()=>new Da));return C.createElement(\"points\",{ref:c},C.createElement(\"bufferGeometry\",null,C.createElement(\"bufferAttribute\",{attach:\"attributes-position\",args:[d,3]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-color\",args:[m,3]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-size\",args:[f,1]})),C.createElement(\"primitive\",{ref:u,object:p,attach:\"material\",blending:n.AdditiveBlending,\"uniforms-fade-value\":s,depthWrite:!1,transparent:!0,vertexColors:!0}))})),_a=new n.Matrix4,Aa=new n.Vector3,La=new n.Quaternion,Ia=new n.Vector3,Ba=new n.Quaternion,Va=new n.Vector3,Ua=C.createContext(null),Oa=C.forwardRef((({children:e,material:t=n.MeshLambertMaterial,texture:r=\"https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png\",range:o,limit:i=200,frustumCulled:s,...l},c)=>{var u,d;const m=C.useMemo((()=>class extends t{constructor(){super();const e=parseInt(n.REVISION.replace(/\\D+/g,\"\"))>=154?\"opaque_fragment\":\"output_fragment\";this.onBeforeCompile=t=>{t.vertexShader=\"attribute float cloudOpacity;\\n               varying float vOpacity;\\n              \"+t.vertexShader.replace(\"#include <fog_vertex>\",\"#include <fog_vertex>\\n                 vOpacity = cloudOpacity;\\n                \"),t.fragmentShader=\"varying float vOpacity;\\n              \"+t.fragmentShader.replace(`#include <${e}>`,`#include <${e}>\\n                 gl_FragColor = vec4(outgoingLight, diffuseColor.a * vOpacity);\\n                `)}}}),[t]);a.extend({CloudMaterial:m});const f=C.useRef(null),p=C.useRef([]),h=C.useMemo((()=>new Float32Array(Array.from({length:i},(()=>1)))),[i]),x=C.useMemo((()=>new Float32Array(Array.from({length:i},(()=>[1,1,1])).flat())),[i]),y=Pe(r);let v,g=0,w=0;const z=new n.Quaternion,b=new n.Vector3(0,0,1),E=new n.Vector3;a.useFrame(((e,t)=>{for(g=e.clock.elapsedTime,_a.copy(f.current.matrixWorld).invert(),e.camera.matrixWorld.decompose(Ia,Ba,Va),w=0;w<p.current.length;w++)v=p.current[w],v.ref.current.matrixWorld.decompose(Aa,La,Va),Aa.add(E.copy(v.position).applyQuaternion(La).multiply(Va)),La.copy(Ba).multiply(z.setFromAxisAngle(b,v.rotation+=t*v.rotationFactor)),Va.multiplyScalar(v.volume+(1+Math.sin(g*v.density*v.speed))/2*v.growth),v.matrix.compose(Aa,La,Va).premultiply(_a),v.dist=Aa.distanceTo(Ia);for(p.current.sort(((e,t)=>t.dist-e.dist)),w=0;w<p.current.length;w++)v=p.current[w],h[w]=v.opacity*(v.dist<v.fade-1?v.dist/v.fade:1),f.current.setMatrixAt(w,v.matrix),f.current.setColorAt(w,v.color);f.current.geometry.attributes.cloudOpacity.needsUpdate=!0,f.current.instanceMatrix.needsUpdate=!0,f.current.instanceColor&&(f.current.instanceColor.needsUpdate=!0)})),C.useLayoutEffect((()=>{const e=Math.min(i,void 0!==o?o:i,p.current.length);f.current.count=e,Mr(f.current.instanceMatrix,{offset:0,count:16*e}),f.current.instanceColor&&Mr(f.current.instanceColor,{offset:0,count:3*e}),Mr(f.current.geometry.attributes.cloudOpacity,{offset:0,count:e})}));let M=[null!==(u=y.image.width)&&void 0!==u?u:1,null!==(d=y.image.height)&&void 0!==d?d:1];const S=Math.max(M[0],M[1]);return M=[M[0]/S,M[1]/S],C.createElement(\"group\",T.default({ref:c},l),C.createElement(Ua.Provider,{value:p},e,C.createElement(\"instancedMesh\",{matrixAutoUpdate:!1,ref:f,args:[null,null,i],frustumCulled:s},C.createElement(\"instancedBufferAttribute\",{usage:n.DynamicDrawUsage,attach:\"instanceColor\",args:[x,3]}),C.createElement(\"planeGeometry\",{args:[...M]},C.createElement(\"instancedBufferAttribute\",{usage:n.DynamicDrawUsage,attach:\"attributes-cloudOpacity\",args:[h,1]})),C.createElement(\"cloudMaterial\",{key:t.name,map:y,transparent:!0,depthWrite:!1}))))})),Na=C.forwardRef((({opacity:e=1,speed:t=0,bounds:r=[5,1,1],segments:o=20,color:i=\"#ffffff\",fade:s=10,volume:l=6,smallestVolume:c=.25,distribute:u=null,growth:d=4,concentrate:m=\"inside\",seed:f=Math.random(),...p},h)=>{function x(){const e=1e4*Math.sin(f++);return e-Math.floor(e)}const y=C.useContext(Ua),v=C.useRef(null),g=C.useId(),w=C.useMemo((()=>[...new Array(o)].map(((e,t)=>({segments:o,bounds:new n.Vector3(1,1,1),position:new n.Vector3,uuid:g,index:t,ref:v,dist:0,matrix:new n.Matrix4,color:new n.Color,rotation:t*(Math.PI/o)})))),[o,g]);return C.useLayoutEffect((()=>{w.forEach(((n,f)=>{a.applyProps(n,{volume:l,color:i,speed:t,growth:d,opacity:e,fade:s,bounds:r,density:Math.max(.5,x()),rotationFactor:Math.max(.2,.5*x())*t});const p=null==u?void 0:u(n,f);var h;(p||o>1)&&n.position.copy(n.bounds).multiply(null!==(h=null==p?void 0:p.point)&&void 0!==h?h:{x:2*x()-1,y:2*x()-1,z:2*x()-1});const y=Math.abs(n.position.x),v=Math.abs(n.position.y),g=Math.abs(n.position.z),w=Math.max(y,v,g);n.length=1,y===w&&(n.length-=y/n.bounds.x),v===w&&(n.length-=v/n.bounds.y),g===w&&(n.length-=g/n.bounds.z),n.volume=(void 0!==(null==p?void 0:p.volume)?p.volume:Math.max(Math.max(0,c),\"random\"===m?x():\"inside\"===m?n.length:1-n.length))*l}))}),[m,r,s,i,e,d,l,f,o,t]),C.useLayoutEffect((()=>{const e=w;return y.current=[...y.current,...e],()=>{y.current=y.current.filter((e=>e.uuid!==g))}}),[w]),C.useImperativeHandle(h,(()=>v.current),[]),C.createElement(\"group\",T.default({ref:v},p))})),ja=C.forwardRef(((e,t)=>C.useContext(Ua)?C.createElement(Na,T.default({ref:t},e)):C.createElement(Oa,null,C.createElement(Na,T.default({ref:t},e)))));class Wa extends R.ShaderMaterial{constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:\"\\n        uniform float pixelRatio;\\n        uniform float time;\\n        attribute float size;  \\n        attribute float speed;  \\n        attribute float opacity;\\n        attribute vec3 noise;\\n        attribute vec3 color;\\n        varying vec3 vColor;\\n        varying float vOpacity;\\n\\n        void main() {\\n          vec4 modelPosition = modelMatrix * vec4(position, 1.0);\\n          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;\\n          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;\\n          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;\\n          vec4 viewPosition = viewMatrix * modelPosition;\\n          vec4 projectionPostion = projectionMatrix * viewPosition;\\n          gl_Position = projectionPostion;\\n          gl_PointSize = size * 25. * pixelRatio;\\n          gl_PointSize *= (1.0 / - viewPosition.z);\\n          vColor = color;\\n          vOpacity = opacity;\\n        }\\n      \",fragmentShader:`\\n        varying vec3 vColor;\\n        varying float vOpacity;\\n        void main() {\\n          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\\n          float strength = 0.05 / distanceToCenter - 0.1;\\n          gl_FragColor = vec4(vColor, strength * vOpacity);\\n          #include <tonemapping_fragment>\\n          #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n        }\\n      `})}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(e){this.uniforms.pixelRatio.value=e}}const Ga=e=>e&&e.constructor===Float32Array,Ha=e=>e instanceof R.Vector2||e instanceof R.Vector3||e instanceof R.Vector4,$a=e=>Array.isArray(e)?e:Ha(e)?e.toArray():[e,e,e];function qa(e,t,r){return C.useMemo((()=>{if(void 0!==t){if(Ga(t))return t;if(t instanceof R.Color){const r=Array.from({length:3*e},(()=>(e=>[e.r,e.g,e.b])(t))).flat();return Float32Array.from(r)}if(Ha(t)||Array.isArray(t)){const r=Array.from({length:3*e},(()=>$a(t))).flat();return Float32Array.from(r)}return Float32Array.from({length:e},(()=>t))}return Float32Array.from({length:e},r)}),[t])}const Xa=C.forwardRef((({noise:e=1,count:t=100,speed:r=1,opacity:n=1,scale:o=1,size:i,color:s,children:l,...c},u)=>{C.useMemo((()=>a.extend({SparklesImplMaterial:Wa})),[]);const d=C.useRef(null),m=a.useThree((e=>e.viewport.dpr)),f=$a(o),p=C.useMemo((()=>Float32Array.from(Array.from({length:t},(()=>f.map(R.MathUtils.randFloatSpread))).flat())),[t,...f]),h=qa(t,i,Math.random),x=qa(t,n),y=qa(t,r),v=qa(3*t,e),g=qa(void 0===s?3*t:t,Ga(s)?s:new R.Color(s),(()=>1));return a.useFrame((e=>{d.current&&d.current.material&&(d.current.material.time=e.clock.elapsedTime)})),C.useImperativeHandle(u,(()=>d.current),[]),C.createElement(\"points\",T.default({key:`particle-${t}-${JSON.stringify(o)}`},c,{ref:d}),C.createElement(\"bufferGeometry\",null,C.createElement(\"bufferAttribute\",{attach:\"attributes-position\",args:[p,3]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-size\",args:[h,1]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-opacity\",args:[x,1]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-speed\",args:[y,1]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-color\",args:[g,3]}),C.createElement(\"bufferAttribute\",{attach:\"attributes-noise\",args:[v,3]})),l||C.createElement(\"sparklesImplMaterial\",{transparent:!0,pixelRatio:m,depthWrite:!1}))}));function Za(e=0,t=1024,r){const n=f.suspend((()=>fetch(\"https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json\").then((e=>e.json()))),[\"matcapList\"]),a=n[0],o=C.useMemo((()=>Object.keys(n).length),[]),i=`${C.useMemo((()=>\"string\"==typeof e?e:\"number\"==typeof e?n[e]:null),[e])||a}${function(e){switch(e){case 64:return\"-64px\";case 128:return\"-128px\";case 256:return\"-256px\";case 512:return\"-512px\";default:return\"\"}}(t)}.png`,s=`https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d/${t}/${i}`;return[Pe(s,r),s,o]}function Ya(e=0,t={},r){const{repeat:a=[1,1],anisotropy:o=1,offset:i=[0,0]}=t,s=f.suspend((()=>fetch(\"https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/normals/normals.json\").then((e=>e.json()))),[\"normalsList\"]),l=C.useMemo((()=>Object.keys(s).length),[]),c=s[0],u=`https://rawcdn.githack.com/pmndrs/drei-assets/7a3104997e1576f83472829815b00880d88b32fb/normals/${s[e]||c}`,d=Pe(u,r);return C.useLayoutEffect((()=>{d&&(d.wrapS=d.wrapT=n.RepeatWrapping,d.repeat=new n.Vector2(a[0],a[1]),d.offset=new n.Vector2(i[0],i[1]),d.anisotropy=o)}),[d,o,a,i]),[d,u,l]}const Qa={uniforms:{strokeOpacity:1,fillOpacity:.25,fillMix:0,thickness:.05,colorBackfaces:!1,dashInvert:!0,dash:!1,dashRepeats:4,dashLength:.5,squeeze:!1,squeezeMin:.2,squeezeMax:1,stroke:new R.Color(\"#ff0000\"),backfaceStroke:new R.Color(\"#0000ff\"),fill:new R.Color(\"#00ff00\")},vertex:\"\\n\\t  attribute vec3 barycentric;\\n\\t\\n\\t\\tvarying vec3 v_edges_Barycentric;\\n\\t\\tvarying vec3 v_edges_Position;\\n\\n\\t\\tvoid initWireframe() {\\n\\t\\t\\tv_edges_Barycentric = barycentric;\\n\\t\\t\\tv_edges_Position = position.xyz;\\n\\t\\t}\\n\\t  \",fragment:\"\\n\\t\\t#ifndef PI\\n\\t  \\t#define PI 3.1415926535897932384626433832795\\n\\t\\t#endif\\n  \\n\\t  varying vec3 v_edges_Barycentric;\\n\\t  varying vec3 v_edges_Position;\\n  \\n\\t  uniform float strokeOpacity;\\n\\t  uniform float fillOpacity;\\n\\t  uniform float fillMix;\\n\\t  uniform float thickness;\\n\\t  uniform bool colorBackfaces;\\n  \\n\\t  // Dash\\n\\t  uniform bool dashInvert;\\n\\t  uniform bool dash;\\n\\t  uniform bool dashOnly;\\n\\t  uniform float dashRepeats;\\n\\t  uniform float dashLength;\\n  \\n\\t  // Squeeze\\n\\t  uniform bool squeeze;\\n\\t  uniform float squeezeMin;\\n\\t  uniform float squeezeMax;\\n  \\n\\t  // Colors\\n\\t  uniform vec3 stroke;\\n\\t  uniform vec3 backfaceStroke;\\n\\t  uniform vec3 fill;\\n  \\n\\t  // This is like\\n\\t  float wireframe_aastep(float threshold, float dist) {\\n\\t\\t  float afwidth = fwidth(dist) * 0.5;\\n\\t\\t  return smoothstep(threshold - afwidth, threshold + afwidth, dist);\\n\\t  }\\n  \\n\\t  float wireframe_map(float value, float min1, float max1, float min2, float max2) {\\n\\t\\t  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\\n\\t  }\\n  \\n\\t  float getWireframe() {\\n\\t\\t\\tvec3 barycentric = v_edges_Barycentric;\\n\\t\\t\\n\\t\\t\\t// Distance from center of each triangle to its edges.\\n\\t\\t\\tfloat d = min(min(barycentric.x, barycentric.y), barycentric.z);\\n\\n\\t\\t\\t// for dashed rendering, we can use this to get the 0 .. 1 value of the line length\\n\\t\\t\\tfloat positionAlong = max(barycentric.x, barycentric.y);\\n\\t\\t\\tif (barycentric.y < barycentric.x && barycentric.y < barycentric.z) {\\n\\t\\t\\t\\tpositionAlong = 1.0 - positionAlong;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// the thickness of the stroke\\n\\t\\t\\tfloat computedThickness = wireframe_map(thickness, 0.0, 1.0, 0.0, 0.34);\\n\\n\\t\\t\\t// if we want to shrink the thickness toward the center of the line segment\\n\\t\\t\\tif (squeeze) {\\n\\t\\t\\t\\tcomputedThickness *= mix(squeezeMin, squeezeMax, (1.0 - sin(positionAlong * PI)));\\n\\t\\t\\t}\\n\\n\\t\\t\\t// Create dash pattern\\n\\t\\t\\tif (dash) {\\n\\t\\t\\t\\t// here we offset the stroke position depending on whether it\\n\\t\\t\\t\\t// should overlap or not\\n\\t\\t\\t\\tfloat offset = 1.0 / dashRepeats * dashLength / 2.0;\\n\\t\\t\\t\\tif (!dashInvert) {\\n\\t\\t\\t\\t\\toffset += 1.0 / dashRepeats / 2.0;\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t// if we should animate the dash or not\\n\\t\\t\\t\\t// if (dashAnimate) {\\n\\t\\t\\t\\t// \\toffset += time * 0.22;\\n\\t\\t\\t\\t// }\\n\\n\\t\\t\\t\\t// create the repeating dash pattern\\n\\t\\t\\t\\tfloat pattern = fract((positionAlong + offset) * dashRepeats);\\n\\t\\t\\t\\tcomputedThickness *= 1.0 - wireframe_aastep(dashLength, pattern);\\n\\t\\t\\t}\\n\\n\\t\\t\\t// compute the anti-aliased stroke edge  \\n\\t\\t\\tfloat edge = 1.0 - wireframe_aastep(computedThickness, d);\\n\\n\\t\\t\\treturn edge;\\n\\t  }\\n\\t  \"},Ka=Te(Qa.uniforms,Qa.vertex+\"\\n  \\tvoid main() {\\n\\t\\tinitWireframe();\\n\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\t}\\n  \",Qa.fragment+\"\\n  void main () {\\n\\t\\t// Compute color\\n\\n\\t\\tfloat edge = getWireframe();\\n\\t\\tvec4 colorStroke = vec4(stroke, edge);\\n\\n\\t\\t#ifdef FLIP_SIDED\\n\\t\\t\\tcolorStroke.rgb = backfaceStroke;\\n\\t\\t#endif\\n    \\n\\t\\tvec4 colorFill = vec4(fill, fillOpacity);\\n\\t\\tvec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);\\n\\n\\t\\tgl_FragColor = outColor;\\n\\t}\\n  \");function Ja(e){return void 0!==(null==e?void 0:e.current)}function eo(e){return\"WireframeGeometry\"===e.type}function to(e){const t=null!=(r=e)&&r.current?e.current:e;var r;if(function(e){return!(null==e||!e.isBufferGeometry)}(t))return t;{if(eo(t))throw new Error(\"Wireframe: WireframeGeometry is not supported.\");const e=t.parent;if(function(e){return!(null==e||!e.geometry)}(e)){if(eo(e.geometry))throw new Error(\"Wireframe: WireframeGeometry is not supported.\");return e.geometry}}}function ro(e,t){if(e.index){console.warn(\"Wireframe: Requires non-indexed geometry, converting to non-indexed geometry.\");const t=e.toNonIndexed();e.copy(t),e.setIndex(null)}const r=function(e,t){const r=e.getAttribute(\"position\").count,n=[];for(let e=0;e<r;e++){const r=t?1:0;e%2==0?n.push(0,0,1,0,1,0,1,0,r):n.push(0,1,0,0,0,1,1,0,r)}return new R.BufferAttribute(Float32Array.from(n),3)}(e,t);e.setAttribute(\"barycentric\",r)}function no({geometry:e,simplify:t=!1,...r}){a.extend({MeshWireframeMaterial:Ka});const[n,o]=C.useState(null);C.useLayoutEffect((()=>{const r=to(e);if(!r)throw new Error(\"Wireframe: geometry prop must be a BufferGeometry or a ref to a BufferGeometry.\");ro(r,t),Ja(e)&&o(r)}),[t,e]);const i=Ja(e)?n:e;return C.createElement(C.Fragment,null,i&&C.createElement(\"mesh\",{geometry:i},C.createElement(\"meshWireframeMaterial\",T.default({attach:\"material\",transparent:!0,side:R.DoubleSide,polygonOffset:!0,polygonOffsetFactor:-4},r,{extensions:{derivatives:!0,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1}}))))}function ao({simplify:e=!1,...t}){const r=C.useRef(null),n=C.useMemo((()=>function(){const e={};for(const t in Qa.uniforms)e[t]={value:Qa.uniforms[t]};return e}()),[Qa.uniforms]);return function(e,t){C.useEffect((()=>{var r;e.fillOpacity.value=null!==(r=t.fillOpacity)&&void 0!==r?r:e.fillOpacity.value}),[t.fillOpacity]),C.useEffect((()=>{var r;e.fillMix.value=null!==(r=t.fillMix)&&void 0!==r?r:e.fillMix.value}),[t.fillMix]),C.useEffect((()=>{var r;e.strokeOpacity.value=null!==(r=t.strokeOpacity)&&void 0!==r?r:e.strokeOpacity.value}),[t.strokeOpacity]),C.useEffect((()=>{var r;e.thickness.value=null!==(r=t.thickness)&&void 0!==r?r:e.thickness.value}),[t.thickness]),C.useEffect((()=>{e.colorBackfaces.value=!!t.colorBackfaces}),[t.colorBackfaces]),C.useEffect((()=>{e.dash.value=!!t.dash}),[t.dash]),C.useEffect((()=>{e.dashInvert.value=!!t.dashInvert}),[t.dashInvert]),C.useEffect((()=>{var r;e.dashRepeats.value=null!==(r=t.dashRepeats)&&void 0!==r?r:e.dashRepeats.value}),[t.dashRepeats]),C.useEffect((()=>{var r;e.dashLength.value=null!==(r=t.dashLength)&&void 0!==r?r:e.dashLength.value}),[t.dashLength]),C.useEffect((()=>{e.squeeze.value=!!t.squeeze}),[t.squeeze]),C.useEffect((()=>{var r;e.squeezeMin.value=null!==(r=t.squeezeMin)&&void 0!==r?r:e.squeezeMin.value}),[t.squeezeMin]),C.useEffect((()=>{var r;e.squeezeMax.value=null!==(r=t.squeezeMax)&&void 0!==r?r:e.squeezeMax.value}),[t.squeezeMax]),C.useEffect((()=>{e.stroke.value=t.stroke?new R.Color(t.stroke):e.stroke.value}),[t.stroke]),C.useEffect((()=>{e.fill.value=t.fill?new R.Color(t.fill):e.fill.value}),[t.fill]),C.useEffect((()=>{e.backfaceStroke.value=t.backfaceStroke?new R.Color(t.backfaceStroke):e.backfaceStroke.value}),[t.backfaceStroke])}(n,t),C.useLayoutEffect((()=>{const t=to(r);if(!t)throw new Error(\"Wireframe: Must be a child of a Mesh, Line or Points object or specify a geometry prop.\");const n=t.clone();return ro(t,e),()=>{t.copy(n),n.dispose()}}),[e]),C.useLayoutEffect((()=>{const e=r.current.parent,t=e.material.clone();return function(e,t){e.onBeforeCompile=e=>{e.uniforms={...e.uniforms,...t},e.vertexShader=e.vertexShader.replace(\"void main() {\",`\\n\\t\\t  ${Qa.vertex}\\n\\t\\t  void main() {\\n\\t\\t\\tinitWireframe();\\n\\t\\t`),e.fragmentShader=e.fragmentShader.replace(\"void main() {\",`\\n\\t\\t  ${Qa.fragment}\\n\\t\\t  void main() {\\n\\t\\t`),e.fragmentShader=e.fragmentShader.replace(\"#include <color_fragment>\",\"\\n\\t\\t  #include <color_fragment>\\n\\t\\t\\t  float edge = getWireframe();\\n\\t\\t  vec4 colorStroke = vec4(stroke, edge);\\n\\t\\t  #ifdef FLIP_SIDED\\n\\t\\t\\tcolorStroke.rgb = backfaceStroke;\\n\\t\\t  #endif\\n\\t\\t  vec4 colorFill = vec4(mix(diffuseColor.rgb, fill, fillMix), mix(diffuseColor.a, fillOpacity, fillMix));\\n\\t\\t  vec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);\\n\\n\\t\\t  diffuseColor.rgb = outColor.rgb;\\n\\t\\t  diffuseColor.a *= outColor.a;\\n\\t\\t\")},e.side=R.DoubleSide,e.transparent=!0}(e.material,n),()=>{e.material.dispose(),e.material=t}}),[]),C.createElement(\"object3D\",{ref:r})}const oo=new R.Matrix4,io=new R.Ray,so=new R.Sphere,lo=new R.Vector3;class co extends R.Group{constructor(){super(),this.size=0,this.color=new R.Color(\"white\"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var e;return null==(e=this.instance.current)?void 0:e.geometry}raycast(e,t){var r,n;const a=this.instance.current;if(!a||!a.geometry)return;const o=a.userData.instances.indexOf(this.instanceKey);if(-1===o||o>a.geometry.drawRange.count)return;const i=null!==(r=null==(n=e.params.Points)?void 0:n.threshold)&&void 0!==r?r:1;if(so.set(this.getWorldPosition(lo),i),!1===e.ray.intersectsSphere(so))return;oo.copy(a.matrixWorld).invert(),io.copy(e.ray).applyMatrix4(oo);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=io.distanceSqToPoint(this.position);if(c<l){const r=new R.Vector3;io.closestPointToPoint(this.position,r),r.applyMatrix4(this.matrixWorld);const n=e.ray.origin.distanceTo(r);if(n<e.near||n>e.far)return;t.push({distance:n,distanceToRay:Math.sqrt(c),point:r,index:o,face:null,object:this})}}}let uo,mo;const fo=C.createContext(null),po=new R.Matrix4,ho=new R.Vector3,xo=C.forwardRef((({children:e,range:t,limit:r=1e3,...n},o)=>{const i=C.useRef(null);C.useImperativeHandle(o,(()=>i.current),[]);const[s,l]=C.useState([]),[[c,u,d]]=C.useState((()=>[new Float32Array(3*r),Float32Array.from({length:3*r},(()=>1)),Float32Array.from({length:r},(()=>1))]));C.useEffect((()=>{i.current.geometry.attributes.position.needsUpdate=!0})),a.useFrame((()=>{for(i.current.updateMatrix(),i.current.updateMatrixWorld(),po.copy(i.current.matrixWorld).invert(),i.current.geometry.drawRange.count=Math.min(r,void 0!==t?t:r,s.length),uo=0;uo<s.length;uo++)mo=s[uo].current,mo.getWorldPosition(ho).applyMatrix4(po),ho.toArray(c,3*uo),i.current.geometry.attributes.position.needsUpdate=!0,mo.matrixWorldNeedsUpdate=!0,mo.color.toArray(u,3*uo),i.current.geometry.attributes.color.needsUpdate=!0,d.set([mo.size],uo),i.current.geometry.attributes.size.needsUpdate=!0}));const m=C.useMemo((()=>({getParent:()=>i,subscribe:e=>(l((t=>[...t,e])),()=>l((t=>t.filter((t=>t.current!==e.current)))))})),[]);return C.createElement(\"points\",T.default({userData:{instances:s},matrixAutoUpdate:!1,ref:i,raycast:()=>null},n),C.createElement(\"bufferGeometry\",null,C.createElement(\"bufferAttribute\",{attach:\"attributes-position\",count:c.length/3,array:c,itemSize:3,usage:R.DynamicDrawUsage}),C.createElement(\"bufferAttribute\",{attach:\"attributes-color\",count:u.length/3,array:u,itemSize:3,usage:R.DynamicDrawUsage}),C.createElement(\"bufferAttribute\",{attach:\"attributes-size\",count:d.length,array:d,itemSize:1,usage:R.DynamicDrawUsage})),C.createElement(fo.Provider,{value:m},e))})),yo=C.forwardRef((({children:e,...t},r)=>{C.useMemo((()=>a.extend({PositionPoint:co})),[]);const n=C.useRef(null);C.useImperativeHandle(r,(()=>n.current),[]);const{subscribe:o,getParent:i}=C.useContext(fo);return C.useLayoutEffect((()=>o(n)),[]),C.createElement(\"positionPoint\",T.default({instance:i(),instanceKey:n,ref:n},t),e)})),vo=C.forwardRef((({children:e,positions:t,colors:r,sizes:n,stride:o=3,...i},s)=>{const l=C.useRef(null);return C.useImperativeHandle(s,(()=>l.current),[]),a.useFrame((()=>{const e=l.current.geometry.attributes;e.position.needsUpdate=!0,r&&(e.color.needsUpdate=!0),n&&(e.size.needsUpdate=!0)})),C.createElement(\"points\",T.default({ref:l},i),C.createElement(\"bufferGeometry\",null,C.createElement(\"bufferAttribute\",{attach:\"attributes-position\",count:t.length/o,array:t,itemSize:o,usage:R.DynamicDrawUsage}),r&&C.createElement(\"bufferAttribute\",{attach:\"attributes-color\",count:r.length/o,array:r,itemSize:3,usage:R.DynamicDrawUsage}),n&&C.createElement(\"bufferAttribute\",{attach:\"attributes-size\",count:n.length/o,array:n,itemSize:1,usage:R.DynamicDrawUsage})),e)})),go=C.forwardRef(((e,t)=>e.positions instanceof Float32Array?C.createElement(vo,T.default({},e,{ref:t})):C.createElement(xo,T.default({},e,{ref:t})))),wo=C.createContext(null),zo=C.forwardRef(((e,t)=>{C.useMemo((()=>a.extend({SegmentObject:bo})),[]);const{limit:r=1e3,lineWidth:n=1,children:o,...i}=e,[s,l]=C.useState([]),[c]=C.useState((()=>new u.Line2)),[d]=C.useState((()=>new u.LineMaterial)),[m]=C.useState((()=>new u.LineSegmentsGeometry)),[f]=C.useState((()=>new R.Vector2(512,512))),[p]=C.useState((()=>Array(6*r).fill(0))),[h]=C.useState((()=>Array(6*r).fill(0))),x=C.useMemo((()=>({subscribe:e=>(l((t=>[...t,e])),()=>l((t=>t.filter((t=>t.current!==e.current)))))})),[]);return a.useFrame((()=>{for(let t=0;t<r;t++){var e;const r=null==(e=s[t])?void 0:e.current;r&&(p[6*t+0]=r.start.x,p[6*t+1]=r.start.y,p[6*t+2]=r.start.z,p[6*t+3]=r.end.x,p[6*t+4]=r.end.y,p[6*t+5]=r.end.z,h[6*t+0]=r.color.r,h[6*t+1]=r.color.g,h[6*t+2]=r.color.b,h[6*t+3]=r.color.r,h[6*t+4]=r.color.g,h[6*t+5]=r.color.b)}m.setColors(h),m.setPositions(p),c.computeLineDistances()})),C.createElement(\"primitive\",{object:c,ref:t},C.createElement(\"primitive\",{object:m,attach:\"geometry\"}),C.createElement(\"primitive\",T.default({object:d,attach:\"material\",vertexColors:!0,resolution:f,linewidth:n},i)),C.createElement(wo.Provider,{value:x},o))}));class bo{constructor(){this.color=new R.Color(\"white\"),this.start=new R.Vector3(0,0,0),this.end=new R.Vector3(0,0,0)}}const Eo=e=>e instanceof R.Vector3?e:new R.Vector3(...\"number\"==typeof e?[e,e,e]:e),Mo=C.forwardRef((({color:e,start:t,end:r},n)=>{const a=C.useContext(wo);if(!a)throw\"Segment must used inside Segments component.\";const o=C.useRef(null);return C.useImperativeHandle(n,(()=>o.current),[]),C.useLayoutEffect((()=>a.subscribe(o)),[]),C.createElement(\"segmentObject\",{ref:o,color:e,start:Eo(t),end:Eo(r)})})),So=C.forwardRef((({children:e,hysteresis:t=0,distances:r,...n},o)=>{const i=C.useRef(null);return C.useImperativeHandle(o,(()=>i.current),[]),C.useLayoutEffect((()=>{const{current:e}=i;e.levels.length=0,e.children.forEach(((n,a)=>e.levels.push({object:n,hysteresis:t,distance:r[a]})))})),a.useFrame((e=>{var t;return null==(t=i.current)?void 0:t.update(e.camera)})),C.createElement(\"lOD\",T.default({ref:i},n),e)}));const To=new n.Matrix4,Co=new n.Ray,Po=new n.Sphere,Ro=new n.Vector3;const Do=t.createContext(null);const Fo=C.forwardRef((({children:e,compute:t,width:r,height:n,samples:o=8,renderPriority:i=0,eventPriority:s=0,frames:l=1/0,stencilBuffer:c=!1,depthBuffer:u=!0,generateMipmaps:d=!1,...m},f)=>{const{size:p,viewport:h}=a.useThree(),x=ot((r||p.width)*h.dpr,(n||p.height)*h.dpr,{samples:o,stencilBuffer:c,depthBuffer:u,generateMipmaps:d}),[y]=C.useState((()=>new R.Scene)),v=C.useCallback(((e,t,r)=>{var n,a;let o=null==(n=x.texture)?void 0:n.__r3f.parent;for(;o&&!(o instanceof R.Object3D);)o=o.__r3f.parent;if(!o)return!1;r.raycaster.camera||r.events.compute(e,r,null==(a=r.previousRoot)?void 0:a.getState());const[i]=r.raycaster.intersectObject(o);if(!i)return!1;const s=i.uv;if(!s)return!1;t.raycaster.setFromCamera(t.pointer.set(2*s.x-1,2*s.y-1),t.camera)}),[]);return C.useImperativeHandle(f,(()=>x.texture),[x]),C.createElement(C.Fragment,null,a.createPortal(C.createElement(ko,{renderPriority:i,frames:l,fbo:x},e,C.createElement(\"group\",{onPointerOver:()=>null})),y,{events:{compute:t||v,priority:s}}),C.createElement(\"primitive\",T.default({object:x.texture},m)))}));function ko({frames:e,renderPriority:t,children:r,fbo:n}){let o,i,s,l,c=0;return a.useFrame((t=>{(e===1/0||c<e)&&(o=t.gl.autoClear,i=t.gl.xr.enabled,s=t.gl.getRenderTarget(),l=t.gl.xr.isPresenting,t.gl.autoClear=!0,t.gl.xr.enabled=!1,t.gl.xr.isPresenting=!1,t.gl.setRenderTarget(n),t.gl.render(t.scene,t.camera),t.gl.setRenderTarget(s),t.gl.autoClear=o,t.gl.xr.enabled=i,t.gl.xr.isPresenting=l,c++)}),t),C.createElement(C.Fragment,null,r)}const _o=C.forwardRef((({children:e,compute:t,renderPriority:r=-1,eventPriority:n=0,frames:o=1/0,stencilBuffer:i=!1,depthBuffer:s=!0,generateMipmaps:l=!1,resolution:c=896,near:u=.1,far:d=1e3,flip:m=!1,position:f,rotation:p,scale:h,quaternion:x,matrix:y,matrixAutoUpdate:v,...g},w)=>{const{size:z,viewport:b}=a.useThree(),E=C.useRef(null),M=C.useMemo((()=>{const e=new R.WebGLCubeRenderTarget(Math.max((c||z.width)*b.dpr,(c||z.height)*b.dpr),{stencilBuffer:i,depthBuffer:s,generateMipmaps:l});return e.texture.isRenderTargetTexture=!m,e.texture.flipY=!0,e.texture.type=R.HalfFloatType,e}),[c,m]);C.useEffect((()=>()=>M.dispose()),[M]);const[S]=C.useState((()=>new R.Scene));return C.useImperativeHandle(w,(()=>({scene:S,fbo:M,camera:E.current})),[M]),C.createElement(C.Fragment,null,a.createPortal(C.createElement(Ao,{renderPriority:r,frames:o,camera:E},e,C.createElement(\"group\",{onPointerOver:()=>null})),S,{events:{compute:t,priority:n}}),C.createElement(\"primitive\",T.default({object:M.texture},g)),C.createElement(\"cubeCamera\",{ref:E,args:[u,d,M],position:f,rotation:p,scale:h,quaternion:x,matrix:y,matrixAutoUpdate:v}))}));function Ao({frames:e,renderPriority:t,children:r,camera:n}){let o=0;return a.useFrame((t=>{(e===1/0||o<e)&&(n.current.update(t.gl,t.scene),o++)}),t),C.createElement(C.Fragment,null,r)}const Lo=C.forwardRef((({id:e=1,colorWrite:t=!1,depthWrite:r=!1,...n},a)=>{const o=C.useRef(null),i=C.useMemo((()=>({colorWrite:t,depthWrite:r,stencilWrite:!0,stencilRef:e,stencilFunc:R.AlwaysStencilFunc,stencilFail:R.ReplaceStencilOp,stencilZFail:R.ReplaceStencilOp,stencilZPass:R.ReplaceStencilOp})),[e,t,r]);return C.useLayoutEffect((()=>{Object.assign(o.current.material,i)})),C.useImperativeHandle(a,(()=>o.current),[]),C.createElement(\"mesh\",T.default({ref:o,renderOrder:-e},n))}));function Io({api:e}){const t=new R.Vector3,r=new R.Quaternion,n=new R.Vector3,o=new R.Euler(0,Math.PI,0);return a.useFrame((a=>{a.camera.matrixWorld.decompose(t,r,n),e.current.camera.position.copy(t),e.current.camera.quaternion.setFromEuler(o).premultiply(r)})),null}const Bo=Te({blur:0,map:null,sdf:null,blend:0,size:0,resolution:new R.Vector2},\"varying vec2 vUv;\\n   void main() {\\n     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n     vUv = uv;\\n   }\",`uniform sampler2D sdf;\\n   uniform sampler2D map;\\n   uniform float blur;\\n   uniform float size;\\n   uniform float time;\\n   uniform vec2 resolution;\\n   varying vec2 vUv;\\n   #include <packing>\\n   void main() {\\n     vec2 uv = gl_FragCoord.xy / resolution.xy;\\n     vec4 t = texture2D(map, uv);\\n     float k = blur;\\n     float d = texture2D(sdf, vUv).r/size;\\n     float alpha = 1.0 - smoothstep(0.0, 1.0, clamp(d/k + 1.0, 0.0, 1.0));\\n     gl_FragColor = vec4(t.rgb, blur == 0.0 ? t.a : t.a * alpha);\\n     #include <tonemapping_fragment>\\n     #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n   }`),Vo=C.forwardRef((({children:e,events:t,blur:r=0,eventPriority:n=0,renderPriority:o=0,worldUnits:i=!1,resolution:s=512,...l},c)=>{a.extend({PortalMaterialImpl:Bo});const u=C.useRef(null),{scene:d,gl:m,size:f,viewport:p,setEvents:h}=a.useThree(),x=ot(s,s),[y,v]=C.useState(0);a.useFrame((()=>{const e=u.current.blend>0?Math.max(1,o):0;y!==e&&v(e)})),C.useEffect((()=>{void 0!==t&&h({enabled:!t})}),[t]);const[g,w]=C.useState(!0),z=xr(w);C.useLayoutEffect((()=>{var e;z.current=null==(e=u.current)?void 0:e.__r3f.parent}),[]),C.useLayoutEffect((()=>{if(z.current&&r&&null===u.current.sdf){const e=new R.Mesh(z.current.geometry,new R.MeshBasicMaterial),t=(new R.Box3).setFromBufferAttribute(e.geometry.attributes.position),r=new R.OrthographicCamera(t.min.x*(1+2/s),t.max.x*(1+2/s),t.max.y*(1+2/s),t.min.y*(1+2/s),.1,1e3);r.position.set(0,0,1),r.lookAt(0,0,0),m.setRenderTarget(x),m.render(e,r);const n=Oo(s,s,m)(x.texture),a=new Float32Array(s*s);m.readRenderTargetPixels(n,0,0,s,s,a);let o=1/0;for(let e=0;e<a.length;e++)a[e]<o&&(o=a[e]);o=-o,u.current.size=o,u.current.sdf=n.texture,m.setRenderTarget(null)}}),[s,r]),C.useImperativeHandle(c,(()=>u.current));const b=C.useCallback(((e,t,r)=>{var n;if(!z.current)return!1;if(t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera),0===(null==(n=u.current)?void 0:n.blend)){const[e]=t.raycaster.intersectObject(z.current);if(!e)return t.raycaster.camera=void 0,!1}}),[]);return C.createElement(\"portalMaterialImpl\",T.default({ref:u,blur:r,blend:0,resolution:[f.width*p.dpr,f.height*p.dpr],attach:\"material\"},l),C.createElement(Fo,{attach:\"map\",frames:g?1/0:0,eventPriority:n,renderPriority:o,compute:b},e,C.createElement(Uo,{events:t,rootScene:d,priority:y,material:u,worldUnits:i})))}));function Uo({events:e,rootScene:t,material:r,priority:n,worldUnits:o}){const i=a.useThree((e=>e.scene)),s=a.useThree((e=>e.setEvents)),l=ot(),c=ot();C.useLayoutEffect((()=>{i.matrixAutoUpdate=!1}),[]),C.useEffect((()=>{void 0!==e&&s({enabled:e})}),[e]);const[d,m]=C.useMemo((()=>{const e={value:0};return[new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{a:{value:l.texture},b:{value:c.texture},blend:e},vertexShader:\"\\n          varying vec2 vUv;\\n          void main() {\\n            vUv = uv;\\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n          }\",fragmentShader:`\\n          uniform sampler2D a;\\n          uniform sampler2D b;\\n          uniform float blend;\\n          varying vec2 vUv;\\n          #include <packing>\\n          void main() {\\n            vec4 ta = texture2D(a, vUv);\\n            vec4 tb = texture2D(b, vUv);\\n            gl_FragColor = mix(tb, ta, blend);\\n            #include <tonemapping_fragment>\\n            #include <${Re>=154?\"colorspace_fragment\":\"encodings_fragment\"}>\\n          }`})),e]}),[]);return a.useFrame((e=>{var a;let s=null==r||null==(a=r.current)?void 0:a.__r3f.parent;if(s){var u,f,p,h;if(o)i.matrixWorld.identity();else n&&1===(null==(u=r.current)?void 0:u.blend)&&s.updateWorldMatrix(!0,!1),i.matrixWorld.copy(s.matrixWorld);if(n)(null==(f=r.current)?void 0:f.blend)>0&&(null==(p=r.current)?void 0:p.blend)<1?(m.value=r.current.blend,e.gl.setRenderTarget(l),e.gl.render(i,e.camera),e.gl.setRenderTarget(c),e.gl.render(t,e.camera),e.gl.setRenderTarget(null),d.render(e.gl)):1===(null==(h=r.current)?void 0:h.blend)&&e.gl.render(i,e.camera)}}),n),C.createElement(C.Fragment,null)}const Oo=(e,t,r)=>{let n=new R.WebGLRenderTarget(e,t,{minFilter:R.LinearMipmapLinearFilter,magFilter:R.LinearFilter,type:R.FloatType,format:R.RedFormat,generateMipmaps:!0}),a=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter}),o=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter}),i=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter}),s=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter}),l=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter,type:R.FloatType,format:R.RedFormat}),c=new R.WebGLRenderTarget(e,t,{minFilter:R.NearestFilter,magFilter:R.NearestFilter,type:R.FloatType,format:R.RedFormat});const d=new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{tex:{value:null}},vertexShader:\"\\n        varying vec2 vUv;\\n        void main() {\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n        }\",fragmentShader:\"\\n        uniform sampler2D tex;\\n        varying vec2 vUv;\\n        #include <packing>\\n        void main() {\\n          gl_FragColor = pack2HalfToRGBA(vUv * (round(texture2D(tex, vUv).x)));\\n        }\"})),m=new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{tex:{value:null}},vertexShader:\"\\n        varying vec2 vUv;\\n        void main() {\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n        }\",fragmentShader:\"\\n        uniform sampler2D tex;\\n        varying vec2 vUv;\\n        #include <packing>\\n        void main() {\\n          gl_FragColor = pack2HalfToRGBA(vUv * (1.0 - round(texture2D(tex, vUv).x)));\\n        }\"})),f=new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{tex:{value:null},offset:{value:0},level:{value:0},maxSteps:{value:0}},vertexShader:\"\\n        varying vec2 vUv;\\n        void main() {\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n        }\",fragmentShader:`\\n        varying vec2 vUv;\\n        uniform sampler2D tex;\\n        uniform float offset;\\n        uniform float level;\\n        uniform float maxSteps;\\n        #include <packing>\\n        void main() {\\n          float closestDist = 9999999.9;\\n          vec2 closestPos = vec2(0.0);\\n          for (float x = -1.0; x <= 1.0; x += 1.0) {\\n            for (float y = -1.0; y <= 1.0; y += 1.0) {\\n              vec2 voffset = vUv;\\n              voffset += vec2(x, y) * vec2(${1/e}, ${1/t}) * offset;\\n              vec2 pos = unpackRGBATo2Half(texture2D(tex, voffset));\\n              float dist = distance(pos.xy, vUv);\\n              if(pos.x != 0.0 && pos.y != 0.0 && dist < closestDist) {\\n                closestDist = dist;\\n                closestPos = pos;\\n              }\\n            }\\n          }\\n          gl_FragColor = pack2HalfToRGBA(closestPos);\\n        }`})),p=new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{tex:{value:null},size:{value:new R.Vector2(e,t)}},vertexShader:\"\\n        varying vec2 vUv;\\n        void main() {\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n        }\",fragmentShader:\"\\n        varying vec2 vUv;\\n        uniform sampler2D tex;\\n        uniform vec2 size;\\n        #include <packing>\\n        void main() {\\n          gl_FragColor = vec4(distance(size * unpackRGBATo2Half(texture2D(tex, vUv)), size * vUv), 0.0, 0.0, 0.0);\\n        }\"})),h=new u.FullScreenQuad(new R.ShaderMaterial({uniforms:{inside:{value:c.texture},outside:{value:l.texture},tex:{value:null}},vertexShader:\"\\n        varying vec2 vUv;\\n        void main() {\\n          vUv = uv;\\n          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n        }\",fragmentShader:\"\\n        varying vec2 vUv;\\n        uniform sampler2D inside;\\n        uniform sampler2D outside;\\n        uniform sampler2D tex;\\n        #include <packing>\\n        void main() {\\n          float i = texture2D(inside, vUv).x;\\n          float o =texture2D(outside, vUv).x;\\n          if (texture2D(tex, vUv).x == 0.0) {\\n            gl_FragColor = vec4(o, 0.0, 0.0, 0.0);\\n          } else {\\n            gl_FragColor = vec4(-i, 0.0, 0.0, 0.0);\\n          }\\n        }\"}));return u=>{let x=n;u.minFilter=R.NearestFilter,u.magFilter=R.NearestFilter,d.material.uniforms.tex.value=u,r.setRenderTarget(a),d.render(r);const y=Math.ceil(Math.log(Math.max(e,t))/Math.log(2));let v=a,g=null;for(let e=0;e<y;e++){const t=Math.pow(2,y-e-1);g=v===a?i:a,f.material.uniforms.level.value=e,f.material.uniforms.maxSteps.value=y,f.material.uniforms.offset.value=t,f.material.uniforms.tex.value=v.texture,r.setRenderTarget(g),f.render(r),v=g}r.setRenderTarget(l),p.material.uniforms.tex.value=g.texture,p.render(r),m.material.uniforms.tex.value=u,r.setRenderTarget(o),m.render(r),v=o;for(let e=0;e<y;e++){const t=Math.pow(2,y-e-1);g=v===o?s:o,f.material.uniforms.level.value=e,f.material.uniforms.maxSteps.value=y,f.material.uniforms.offset.value=t,f.material.uniforms.tex.value=v.texture,r.setRenderTarget(g),f.render(r),v=g}return r.setRenderTarget(c),p.material.uniforms.tex.value=g.texture,p.render(r),r.setRenderTarget(x),h.material.uniforms.tex.value=u,h.render(r),r.setRenderTarget(null),x}},No=new R.Color,jo=A.default();function Wo(e){return\"top\"in e}function Go(e,t){const{right:r,top:n,left:a,bottom:o,width:i,height:s}=t,l=t.bottom<0||n>e.height||r<0||t.left>e.width;if(Wo(e)){const t=e.top+e.height-o;return{position:{width:i,height:s,left:a-e.left,top:n,bottom:t,right:r},isOffscreen:l}}return{position:{width:i,height:s,top:n,left:a,bottom:e.height-o,right:r},isOffscreen:l}}function Ho(e,{left:t,bottom:r,width:n,height:a}){let o;const i=n/a;var s;return(s=e.camera)&&s.isOrthographicCamera?e.camera.manual?e.camera.updateProjectionMatrix():e.camera.left===n/-2&&e.camera.right===n/2&&e.camera.top===a/2&&e.camera.bottom===a/-2||(Object.assign(e.camera,{left:n/-2,right:n/2,top:a/2,bottom:a/-2}),e.camera.updateProjectionMatrix()):e.camera.aspect!==i&&(e.camera.aspect=i,e.camera.updateProjectionMatrix()),o=e.gl.autoClear,e.gl.autoClear=!1,e.gl.setViewport(t,r,n,a),e.gl.setScissor(t,r,n,a),e.gl.setScissorTest(!0),o}function $o(e,t){e.gl.setScissorTest(!1),e.gl.autoClear=t}function qo(e){e.gl.getClearColor(No),e.gl.setClearColor(No,e.gl.getClearAlpha()),e.gl.clear(!0,!0)}function Xo({visible:e=!0,canvasSize:t,scene:r,index:n,children:o,frames:i,rect:s,track:l}){const c=a.useThree(),[u,d]=C.useState(!1);let m=0;return a.useFrame((n=>{var a;(i===1/0||m<=i)&&(l&&(s.current=null==(a=l.current)?void 0:a.getBoundingClientRect()),m++);if(s.current){const{position:a,isOffscreen:i}=Go(t,s.current);if(u!==i&&d(i),e&&!u&&s.current){const e=Ho(n,a);n.gl.render(o?n.scene:r,n.camera),$o(n,e)}}}),n),C.useLayoutEffect((()=>{const r=s.current;if(r&&(!e||!u)){const{position:e}=Go(t,r),n=Ho(c,e);qo(c),$o(c,n)}}),[e,u]),C.useEffect((()=>{if(!l)return;const e=s.current,r=c.get().events.connected;return c.setEvents({connected:l.current}),()=>{if(e){const{position:r}=Go(t,e),n=Ho(c,r);qo(c),$o(c,n)}c.setEvents({connected:r})}}),[l]),C.useEffect((()=>{Wo(t)||console.warn(\"Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. Upgrade to @react-three/fiber ^8.1.0 for support.\\n See https://github.com/pmndrs/drei/issues/944\")}),[]),C.createElement(C.Fragment,null,o,C.createElement(\"group\",{onPointerOver:()=>null}))}const Zo=C.forwardRef((({track:e,visible:t=!0,index:r=1,id:n,style:o,className:i,frames:s=1/0,children:l,...c},u)=>{var d,m,f,p;const h=C.useRef(null),{size:x,scene:y}=a.useThree(),[v]=C.useState((()=>new R.Scene)),[g,w]=C.useReducer((()=>!0),!1),z=C.useCallback(((t,r)=>{if(h.current&&e&&e.current&&t.target===e.current){const{width:e,height:n,left:a,top:o}=h.current,i=t.clientX-a,s=t.clientY-o;r.pointer.set(i/e*2-1,-s/n*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)}}),[h,e]);return C.useEffect((()=>{var t;e&&(h.current=null==(t=e.current)?void 0:t.getBoundingClientRect()),w()}),[e]),C.createElement(\"group\",T.default({ref:u},c),g&&a.createPortal(C.createElement(Xo,{visible:t,canvasSize:x,frames:s,scene:y,track:e,rect:h,index:r},l),v,{events:{compute:z,priority:r},size:{width:null==(d=h.current)?void 0:d.width,height:null==(m=h.current)?void 0:m.height,top:null==(f=h.current)?void 0:f.top,left:null==(p=h.current)?void 0:p.left}}))})),Yo=C.forwardRef((({as:e=\"div\",id:t,visible:r,className:n,style:a,index:o=1,track:i,frames:s=1/0,children:l,...c},u)=>{const d=C.useId(),m=C.useRef(null);return C.useImperativeHandle(u,(()=>m.current)),C.createElement(C.Fragment,null,C.createElement(e,T.default({ref:m,id:t,className:n,style:a},c)),C.createElement(jo.In,null,C.createElement(Zo,{visible:r,key:d,track:m,frames:s,index:o},l)))})),Qo=(()=>{const e=C.forwardRef(((e,t)=>C.useContext(a.context)?C.createElement(Zo,T.default({ref:t},e)):C.createElement(Yo,T.default({ref:t},e))));return e.Port=()=>C.createElement(jo.Out,null),e})(),Ko=C.createContext(null),Jo=new R.Vector3,ei=new R.Vector3,ti=new R.Vector3(0,1,0),ri=new R.Matrix4,ni=({direction:e,axis:t})=>{const{translation:r,translationLimits:n,annotations:o,annotationsClass:i,depthTest:s,scale:l,lineWidth:c,fixed:u,axisColors:d,hoveredColor:m,opacity:f,onDragStart:p,onDrag:h,onDragEnd:x,userData:y}=C.useContext(Ko),v=a.useThree((e=>e.controls)),g=C.useRef(null),w=C.useRef(null),z=C.useRef(null),b=C.useRef(0),[E,M]=C.useState(!1),S=C.useCallback((n=>{o&&(g.current.innerText=`${r.current[t].toFixed(2)}`,g.current.style.display=\"block\"),n.stopPropagation();const a=(new R.Matrix4).extractRotation(w.current.matrixWorld),i=n.point.clone(),s=(new R.Vector3).setFromMatrixPosition(w.current.matrixWorld),l=e.clone().applyMatrix4(a).normalize();z.current={clickPoint:i,dir:l},b.current=r.current[t],p({component:\"Arrow\",axis:t,origin:s,directions:[l]}),v&&(v.enabled=!1),n.target.setPointerCapture(n.pointerId)}),[o,e,v,p,r,t]),T=C.useCallback((e=>{if(e.stopPropagation(),E||M(!0),z.current){const{clickPoint:a,dir:i}=z.current,[s,l]=(null==n?void 0:n[t])||[void 0,void 0];let c=((e,t,r,n)=>{const a=t.dot(t),o=t.dot(e)-t.dot(r),i=t.dot(n);return 0===i?-o/a:(Jo.copy(n).multiplyScalar(a/i).sub(t),ei.copy(n).multiplyScalar(o/i).add(r).sub(e),-Jo.dot(ei)/Jo.dot(Jo))})(a,i,e.ray.origin,e.ray.direction);void 0!==s&&(c=Math.max(c,s-b.current)),void 0!==l&&(c=Math.min(c,l-b.current)),r.current[t]=b.current+c,o&&(g.current.innerText=`${r.current[t].toFixed(2)}`),ri.makeTranslation(i.x*c,i.y*c,i.z*c),h(ri)}}),[o,h,E,r,n,t]),P=C.useCallback((e=>{o&&(g.current.style.display=\"none\"),e.stopPropagation(),z.current=null,x(),v&&(v.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[o,v,x]),D=C.useCallback((e=>{e.stopPropagation(),M(!1)}),[]),{cylinderLength:F,coneWidth:k,coneLength:_,matrixL:A}=C.useMemo((()=>{const t=u?c/l*1.6:l/20,r=u?.2:l/5,n=u?1-r:l-r,a=(new R.Quaternion).setFromUnitVectors(ti,e.clone().normalize());return{cylinderLength:n,coneWidth:t,coneLength:r,matrixL:(new R.Matrix4).makeRotationFromQuaternion(a)}}),[e,l,c,u]),L=E?m:d[t];return C.createElement(\"group\",{ref:w},C.createElement(\"group\",{matrix:A,matrixAutoUpdate:!1,onPointerDown:S,onPointerMove:T,onPointerUp:P,onPointerOut:D},o&&C.createElement(H,{position:[0,-_,0]},C.createElement(\"div\",{style:{display:\"none\",background:\"#151520\",color:\"white\",padding:\"6px 8px\",borderRadius:7,whiteSpace:\"nowrap\"},className:i,ref:g})),C.createElement(\"mesh\",{visible:!1,position:[0,(F+_)/2,0],userData:y},C.createElement(\"cylinderGeometry\",{args:[1.4*k,1.4*k,F+_,8,1]})),C.createElement(me,{transparent:!0,raycast:()=>null,depthTest:s,points:[0,0,0,0,F,0],lineWidth:c,side:R.DoubleSide,color:L,opacity:f,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10,fog:!1}),C.createElement(\"mesh\",{raycast:()=>null,position:[0,F+_/2,0],renderOrder:500},C.createElement(\"coneGeometry\",{args:[k,_,24,1]}),C.createElement(\"meshBasicMaterial\",{transparent:!0,depthTest:s,color:L,opacity:f,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))))},ai=new R.Vector3,oi=new R.Vector3,ii=e=>180*e/Math.PI,si=e=>{let t=((e,t)=>{let r=Math.floor(e/t);return r=r<0?r+1:r,e-r*t})(e,2*Math.PI);return Math.abs(t)<1e-6?0:(t<0&&(t+=2*Math.PI),t)},li=new R.Matrix4,ci=new R.Vector3,ui=new R.Ray,di=new R.Vector3,mi=({dir1:e,dir2:t,axis:r})=>{const{rotationLimits:n,annotations:o,annotationsClass:i,depthTest:s,scale:l,lineWidth:c,fixed:u,axisColors:d,hoveredColor:m,opacity:f,onDragStart:p,onDrag:h,onDragEnd:x,userData:y}=C.useContext(Ko),v=a.useThree((e=>e.controls)),g=C.useRef(null),w=C.useRef(null),z=C.useRef(0),b=C.useRef(0),E=C.useRef(null),[M,S]=C.useState(!1),T=C.useCallback((e=>{o&&(g.current.innerText=`${ii(b.current).toFixed(0)}º`,g.current.style.display=\"block\"),e.stopPropagation();const t=e.point.clone(),n=(new R.Vector3).setFromMatrixPosition(w.current.matrixWorld),a=(new R.Vector3).setFromMatrixColumn(w.current.matrixWorld,0).normalize(),i=(new R.Vector3).setFromMatrixColumn(w.current.matrixWorld,1).normalize(),s=(new R.Vector3).setFromMatrixColumn(w.current.matrixWorld,2).normalize(),l=(new R.Plane).setFromNormalAndCoplanarPoint(s,n);E.current={clickPoint:t,origin:n,e1:a,e2:i,normal:s,plane:l},p({component:\"Rotator\",axis:r,origin:n,directions:[a,i,s]}),v&&(v.enabled=!1),e.target.setPointerCapture(e.pointerId)}),[o,v,p,r]),P=C.useCallback((e=>{if(e.stopPropagation(),M||S(!0),E.current){const{clickPoint:t,origin:a,e1:i,e2:s,normal:l,plane:c}=E.current,[u,d]=(null==n?void 0:n[r])||[void 0,void 0];ui.copy(e.ray),ui.intersectPlane(c,di),ui.direction.negate(),ui.intersectPlane(c,di);let m=((e,t,r,n,a)=>{ai.copy(e).sub(r),oi.copy(t).sub(r);const o=n.dot(n),i=a.dot(a),s=ai.dot(n)/o,l=ai.dot(a)/i,c=oi.dot(n)/o,u=oi.dot(a)/i,d=Math.atan2(l,s);return Math.atan2(u,c)-d})(t,di,a,i,s),f=ii(m);e.shiftKey&&(f=10*Math.round(f/10),m=(e=>e*Math.PI/180)(f)),void 0!==u&&void 0!==d&&d-u<2*Math.PI?(m=si(m),m=m>Math.PI?m-2*Math.PI:m,m=R.MathUtils.clamp(m,u-z.current,d-z.current),b.current=z.current+m):(b.current=si(z.current+m),b.current=b.current>Math.PI?b.current-2*Math.PI:b.current),o&&(f=ii(b.current),g.current.innerText=`${f.toFixed(0)}º`),li.makeRotationAxis(l,m),ci.copy(a).applyMatrix4(li).sub(a).negate(),li.setPosition(ci),h(li)}}),[o,h,M,n,r]),D=C.useCallback((e=>{o&&(g.current.style.display=\"none\"),e.stopPropagation(),z.current=b.current,E.current=null,x(),v&&(v.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[o,v,x]),F=C.useCallback((e=>{e.stopPropagation(),S(!1)}),[]),k=C.useMemo((()=>{const r=e.clone().normalize(),n=t.clone().normalize();return(new R.Matrix4).makeBasis(r,n,r.clone().cross(n))}),[e,t]),_=u?.65:.65*l,A=C.useMemo((()=>{const e=[];for(let t=0;t<=32;t++){const r=t*(Math.PI/2)/32;e.push(new R.Vector3(Math.cos(r)*_,Math.sin(r)*_,0))}return e}),[_]);return C.createElement(\"group\",{ref:w,onPointerDown:T,onPointerMove:P,onPointerUp:D,onPointerOut:F,matrix:k,matrixAutoUpdate:!1},o&&C.createElement(H,{position:[_,_,0]},C.createElement(\"div\",{style:{display:\"none\",background:\"#151520\",color:\"white\",padding:\"6px 8px\",borderRadius:7,whiteSpace:\"nowrap\"},className:i,ref:g})),C.createElement(me,{points:A,lineWidth:4*c,visible:!1,userData:y}),C.createElement(me,{transparent:!0,raycast:()=>null,depthTest:s,points:A,lineWidth:c,side:R.DoubleSide,color:M?m:d[r],opacity:f,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))},fi=new R.Ray,pi=new R.Vector3,hi=new R.Matrix4,xi=({dir1:e,dir2:t,axis:r})=>{const{translation:n,translationLimits:o,annotations:i,annotationsClass:s,depthTest:l,scale:c,lineWidth:u,fixed:d,axisColors:m,hoveredColor:f,opacity:p,onDragStart:h,onDrag:x,onDragEnd:y,userData:v}=C.useContext(Ko),g=a.useThree((e=>e.controls)),w=C.useRef(null),z=C.useRef(null),b=C.useRef(null),E=C.useRef(0),M=C.useRef(0),[S,T]=C.useState(!1),P=C.useCallback((e=>{i&&(w.current.innerText=`${n.current[(r+1)%3].toFixed(2)}, ${n.current[(r+2)%3].toFixed(2)}`,w.current.style.display=\"block\"),e.stopPropagation();const t=e.point.clone(),a=(new R.Vector3).setFromMatrixPosition(z.current.matrixWorld),o=(new R.Vector3).setFromMatrixColumn(z.current.matrixWorld,0).normalize(),s=(new R.Vector3).setFromMatrixColumn(z.current.matrixWorld,1).normalize(),l=(new R.Vector3).setFromMatrixColumn(z.current.matrixWorld,2).normalize(),c=(new R.Plane).setFromNormalAndCoplanarPoint(l,a);b.current={clickPoint:t,e1:o,e2:s,plane:c},E.current=n.current[(r+1)%3],M.current=n.current[(r+2)%3],h({component:\"Slider\",axis:r,origin:a,directions:[o,s,l]}),g&&(g.enabled=!1),e.target.setPointerCapture(e.pointerId)}),[i,g,h,r]),D=C.useCallback((e=>{if(e.stopPropagation(),S||T(!0),b.current){const{clickPoint:t,e1:a,e2:s,plane:l}=b.current,[c,u]=(null==o?void 0:o[(r+1)%3])||[void 0,void 0],[d,m]=(null==o?void 0:o[(r+2)%3])||[void 0,void 0];fi.copy(e.ray),fi.intersectPlane(l,pi),fi.direction.negate(),fi.intersectPlane(l,pi),pi.sub(t);let[f,p]=((e,t,r)=>{const n=Math.abs(e.x)>=Math.abs(e.y)&&Math.abs(e.x)>=Math.abs(e.z)?0:Math.abs(e.y)>=Math.abs(e.x)&&Math.abs(e.y)>=Math.abs(e.z)?1:2,a=[0,1,2].sort(((e,r)=>Math.abs(t.getComponent(r))-Math.abs(t.getComponent(e)))),o=n===a[0]?a[1]:a[0],i=e.getComponent(n),s=e.getComponent(o),l=t.getComponent(n),c=t.getComponent(o),u=r.getComponent(n),d=(r.getComponent(o)-u*(s/i))/(c-l*(s/i));return[(u-d*l)/i,d]})(a,s,pi);void 0!==c&&(f=Math.max(f,c-E.current)),void 0!==u&&(f=Math.min(f,u-E.current)),void 0!==d&&(p=Math.max(p,d-M.current)),void 0!==m&&(p=Math.min(p,m-M.current)),n.current[(r+1)%3]=E.current+f,n.current[(r+2)%3]=M.current+p,i&&(w.current.innerText=`${n.current[(r+1)%3].toFixed(2)}, ${n.current[(r+2)%3].toFixed(2)}`),hi.makeTranslation(f*a.x+p*s.x,f*a.y+p*s.y,f*a.z+p*s.z),x(hi)}}),[i,x,S,n,o,r]),F=C.useCallback((e=>{i&&(w.current.style.display=\"none\"),e.stopPropagation(),b.current=null,y(),g&&(g.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[i,g,y]),k=C.useCallback((e=>{e.stopPropagation(),T(!1)}),[]),_=C.useMemo((()=>{const r=e.clone().normalize(),n=t.clone().normalize();return(new R.Matrix4).makeBasis(r,n,r.clone().cross(n))}),[e,t]),A=d?1/7:c/7,L=d?.225:.225*c,I=S?f:m[r],B=C.useMemo((()=>[new R.Vector3(0,0,0),new R.Vector3(0,L,0),new R.Vector3(L,L,0),new R.Vector3(L,0,0),new R.Vector3(0,0,0)]),[L]);return C.createElement(\"group\",{ref:z,matrix:_,matrixAutoUpdate:!1},i&&C.createElement(H,{position:[0,0,0]},C.createElement(\"div\",{style:{display:\"none\",background:\"#151520\",color:\"white\",padding:\"6px 8px\",borderRadius:7,whiteSpace:\"nowrap\"},className:s,ref:w})),C.createElement(\"group\",{position:[1.7*A,1.7*A,0]},C.createElement(\"mesh\",{visible:!0,onPointerDown:P,onPointerMove:D,onPointerUp:F,onPointerOut:k,scale:L,userData:v},C.createElement(\"planeGeometry\",null),C.createElement(\"meshBasicMaterial\",{transparent:!0,depthTest:l,color:I,polygonOffset:!0,polygonOffsetFactor:-10,side:R.DoubleSide,fog:!1})),C.createElement(me,{position:[-L/2,-L/2,0],transparent:!0,depthTest:l,points:B,lineWidth:u,color:I,opacity:p,polygonOffset:!0,polygonOffsetFactor:-10,userData:v,fog:!1})))},yi=new R.Vector3,vi=new R.Vector3,gi=new R.Vector3(0,1,0),wi=new R.Vector3,zi=new R.Matrix4,bi=({direction:e,axis:t})=>{const{scaleLimits:r,annotations:n,annotationsClass:o,depthTest:i,scale:s,lineWidth:l,fixed:c,axisColors:u,hoveredColor:d,opacity:m,onDragStart:f,onDrag:p,onDragEnd:h,userData:x}=C.useContext(Ko),y=a.useThree((e=>e.size)),v=a.useThree((e=>e.controls)),g=C.useRef(null),w=C.useRef(null),z=C.useRef(null),b=C.useRef(1),E=C.useRef(1),M=C.useRef(null),[S,T]=C.useState(!1),P=c?1.2:1.2*s,D=C.useCallback((r=>{n&&(g.current.innerText=`${E.current.toFixed(2)}`,g.current.style.display=\"block\"),r.stopPropagation();const a=(new R.Matrix4).extractRotation(w.current.matrixWorld),o=r.point.clone(),i=(new R.Vector3).setFromMatrixPosition(w.current.matrixWorld),l=e.clone().applyMatrix4(a).normalize(),u=w.current.matrixWorld.clone(),d=u.clone().invert(),m=c?1/ce(w.current.getWorldPosition(yi),s,r.camera,y):1;M.current={clickPoint:o,dir:l,mPLG:u,mPLGInv:d,offsetMultiplier:m},f({component:\"Sphere\",axis:t,origin:i,directions:[l]}),v&&(v.enabled=!1),r.target.setPointerCapture(r.pointerId)}),[n,v,e,f,t,c,s,y]),F=C.useCallback((e=>{if(e.stopPropagation(),S||T(!0),M.current){const{clickPoint:a,dir:o,mPLG:i,mPLGInv:l,offsetMultiplier:u}=M.current,[d,m]=(null==r?void 0:r[t])||[1e-5,void 0],f=((e,t,r,n)=>{const a=t.dot(t),o=t.dot(e)-t.dot(r),i=t.dot(n);return 0===i?-o/a:(yi.copy(n).multiplyScalar(a/i).sub(t),vi.copy(n).multiplyScalar(o/i).add(r).sub(e),-yi.dot(vi)/yi.dot(yi))})(a,o,e.ray.origin,e.ray.direction),h=f*u,x=c?h:h/s;let y=Math.pow(2,.2*x);e.shiftKey&&(y=Math.round(10*y)/10),y=Math.max(y,d/b.current),void 0!==m&&(y=Math.min(y,m/b.current)),E.current=b.current*y,z.current.position.set(0,P+h,0),n&&(g.current.innerText=`${E.current.toFixed(2)}`),wi.set(1,1,1),wi.setComponent(t,y),zi.makeScale(wi.x,wi.y,wi.z).premultiply(i).multiply(l),p(zi)}}),[n,P,p,S,r,t]),k=C.useCallback((e=>{n&&(g.current.style.display=\"none\"),e.stopPropagation(),b.current=E.current,M.current=null,z.current.position.set(0,P,0),h(),v&&(v.enabled=!0),e.target.releasePointerCapture(e.pointerId)}),[n,v,h,P]),_=C.useCallback((e=>{e.stopPropagation(),T(!1)}),[]),{radius:A,matrixL:L}=C.useMemo((()=>{const t=c?l/s*1.8:s/22.5,r=(new R.Quaternion).setFromUnitVectors(gi,e.clone().normalize());return{radius:t,matrixL:(new R.Matrix4).makeRotationFromQuaternion(r)}}),[e,s,l,c]),I=S?d:u[t];return C.createElement(\"group\",{ref:w},C.createElement(\"group\",{matrix:L,matrixAutoUpdate:!1,onPointerDown:D,onPointerMove:F,onPointerUp:k,onPointerOut:_},n&&C.createElement(H,{position:[0,P/2,0]},C.createElement(\"div\",{style:{display:\"none\",background:\"#151520\",color:\"white\",padding:\"6px 8px\",borderRadius:7,whiteSpace:\"nowrap\"},className:o,ref:g})),C.createElement(\"mesh\",{ref:z,position:[0,P,0],renderOrder:500,userData:x},C.createElement(\"sphereGeometry\",{args:[A,12,12]}),C.createElement(\"meshBasicMaterial\",{transparent:!0,depthTest:i,color:I,opacity:m,polygonOffset:!0,polygonOffsetFactor:-10}))))},Ei=new R.Matrix4,Mi=new R.Matrix4,Si=new R.Matrix4,Ti=new R.Matrix4,Ci=new R.Matrix4,Pi=new R.Matrix4,Ri=new R.Matrix4,Di=new R.Matrix4,Fi=new R.Matrix4,ki=new R.Box3,_i=new R.Box3,Ai=new R.Vector3,Li=new R.Vector3,Ii=new R.Vector3,Bi=new R.Vector3,Vi=new R.Vector3,Ui=new R.Vector3(1,0,0),Oi=new R.Vector3(0,1,0),Ni=new R.Vector3(0,0,1),ji=C.forwardRef((({enabled:e=!0,matrix:t,onDragStart:r,onDrag:n,onDragEnd:o,autoTransform:i=!0,anchor:s,disableAxes:l=!1,disableSliders:c=!1,disableRotations:u=!1,disableScaling:d=!1,activeAxes:m=[!0,!0,!0],offset:f=[0,0,0],rotation:p=[0,0,0],scale:h=1,lineWidth:x=4,fixed:y=!1,translationLimits:v,rotationLimits:g,scaleLimits:w,depthTest:z=!0,axisColors:b=[\"#ff2060\",\"#20df80\",\"#2080ff\"],hoveredColor:E=\"#ffff40\",annotations:M=!1,annotationsClass:S,opacity:P=1,visible:D=!0,userData:F,children:k,..._},A)=>{const L=a.useThree((e=>e.invalidate)),I=C.useRef(null),B=C.useRef(null),V=C.useRef(null),U=C.useRef(null),O=C.useRef([0,0,0]),N=C.useRef(new R.Vector3(1,1,1)),j=C.useRef(new R.Vector3(1,1,1));C.useLayoutEffect((()=>{s&&(U.current.updateWorldMatrix(!0,!0),Ti.copy(U.current.matrixWorld).invert(),ki.makeEmpty(),U.current.traverse((e=>{e.geometry&&(e.geometry.boundingBox||e.geometry.computeBoundingBox(),Pi.copy(e.matrixWorld).premultiply(Ti),_i.copy(e.geometry.boundingBox),_i.applyMatrix4(Pi),ki.union(_i))})),Ai.copy(ki.max).add(ki.min).multiplyScalar(.5),Li.copy(ki.max).sub(ki.min).multiplyScalar(.5),Ii.copy(Li).multiply(new R.Vector3(...s)).add(Ai),Bi.set(...f).add(Ii),V.current.position.copy(Bi),L())}));const W=C.useMemo((()=>({onDragStart:e=>{Ei.copy(B.current.matrix),Mi.copy(B.current.matrixWorld),r&&r(e),L()},onDrag:e=>{Si.copy(I.current.matrixWorld),Ti.copy(Si).invert(),Ci.copy(Mi).premultiply(e),Pi.copy(Ci).premultiply(Ti),Ri.copy(Ei).invert(),Di.copy(Pi).multiply(Ri),i&&B.current.matrix.copy(Pi),n&&n(Pi,Di,Ci,e),L()},onDragEnd:()=>{o&&o(),L()},translation:O,translationLimits:v,rotationLimits:g,axisColors:b,hoveredColor:E,opacity:P,scale:h,lineWidth:x,fixed:y,depthTest:z,userData:F,annotations:M,annotationsClass:S})),[r,n,o,O,v,g,w,z,h,x,y,...b,E,P,F,i,M,S]),G=new R.Vector3;return a.useFrame((e=>{if(y){const t=ce(V.current.getWorldPosition(G),h,e.camera,e.size);N.current.setScalar(t)}t&&t instanceof R.Matrix4&&(B.current.matrix=t),B.current.updateWorldMatrix(!0,!0),Fi.makeRotationFromEuler(V.current.rotation).setPosition(V.current.position).premultiply(B.current.matrixWorld),j.current.setFromMatrixScale(Fi),Vi.copy(N.current).divide(j.current),(Math.abs(V.current.scale.x-Vi.x)>1e-4||Math.abs(V.current.scale.y-Vi.y)>1e-4||Math.abs(V.current.scale.z-Vi.z)>1e-4)&&(V.current.scale.copy(Vi),e.invalidate())})),C.useImperativeHandle(A,(()=>B.current),[]),C.createElement(Ko.Provider,{value:W},C.createElement(\"group\",{ref:I},C.createElement(\"group\",T.default({ref:B,matrix:t,matrixAutoUpdate:!1},_),C.createElement(\"group\",{visible:D,ref:V,position:f,rotation:p},e&&C.createElement(C.Fragment,null,!l&&m[0]&&C.createElement(ni,{axis:0,direction:Ui}),!l&&m[1]&&C.createElement(ni,{axis:1,direction:Oi}),!l&&m[2]&&C.createElement(ni,{axis:2,direction:Ni}),!c&&m[0]&&m[1]&&C.createElement(xi,{axis:2,dir1:Ui,dir2:Oi}),!c&&m[0]&&m[2]&&C.createElement(xi,{axis:1,dir1:Ni,dir2:Ui}),!c&&m[2]&&m[1]&&C.createElement(xi,{axis:0,dir1:Oi,dir2:Ni}),!u&&m[0]&&m[1]&&C.createElement(mi,{axis:2,dir1:Ui,dir2:Oi}),!u&&m[0]&&m[2]&&C.createElement(mi,{axis:1,dir1:Ni,dir2:Ui}),!u&&m[2]&&m[1]&&C.createElement(mi,{axis:0,dir1:Oi,dir2:Ni}),!d&&m[0]&&C.createElement(bi,{axis:0,direction:Ui}),!d&&m[1]&&C.createElement(bi,{axis:1,direction:Oi}),!d&&m[2]&&C.createElement(bi,{axis:2,direction:Ni}))),C.createElement(\"group\",{ref:U},k))))})),Wi=t.forwardRef((({options:e={video:!0},...r},n)=>{const a=f.suspend((()=>navigator.mediaDevices.getDisplayMedia(e)),[]);return t.useEffect((()=>()=>{null==a||a.getTracks().forEach((e=>e.stop())),f.clear([])}),[a]),C.createElement(or,T.default({ref:n},r,{src:a}))})),Gi=t.forwardRef((({constraints:e={audio:!1,video:{facingMode:\"user\"}},...r},n)=>{const a=f.suspend((()=>navigator.mediaDevices.getUserMedia(e)),[]);return t.useEffect((()=>()=>{null==a||a.getTracks().forEach((e=>e.stop())),f.clear([])}),[a]),C.createElement(or,T.default({ref:n},r,{src:a}))})),Hi=new R.Vector3(0,0,-1),$i=function(){const e=new R.Vector3,t=new R.Vector3,r=new R.Vector3,n=new R.Vector3,a=new R.Vector3;return function(o,i,s,l){return e.copy(o),t.copy(i),r.copy(s),n.copy(t).sub(e),a.copy(r).sub(e),l.crossVectors(a,n).normalize()}}();const qi=C.forwardRef((({points:e=Yi.SAMPLE_FACELANDMARKER_RESULT.faceLandmarks[0],face:t,facialTransformationMatrix:r,faceBlendshapes:n,offset:o,offsetScalar:i=80,width:s,height:l,depth:c=1,verticalTri:u=[159,386,152],origin:d,eyes:m=!0,eyesAsOrigin:f=!1,debug:p=!1,children:h,...x},y)=>{var v;t&&(e=t.keypoints,console.warn(\"Facemesh `face` prop is deprecated: use `points` instead\"));const g=C.useRef(null),w=C.useRef(null),z=C.useRef(null),b=C.useRef(null),E=C.useRef(null),M=C.useRef(null),S=C.useRef(null),[T]=C.useState((()=>new R.Vector3)),[P]=C.useState((()=>new R.Object3D)),[D]=C.useState((()=>new R.Quaternion)),[F]=C.useState((()=>new R.Vector3)),{invalidate:k}=a.useThree();C.useEffect((()=>{var e;null==(e=E.current)||e.geometry.setIndex(Yi.TRIANGULATION)}),[]);const[_]=C.useState((()=>new R.Vector3));C.useEffect((()=>{var t,a;const h=null==(t=E.current)?void 0:t.geometry;if(!h)return;var x,y;(h.setFromPoints(e),h.setDrawRange(0,Yi.TRIANGULATION.length),r)?(P.matrix.fromArray(r.data),P.matrix.decompose(P.position,P.quaternion,P.scale),P.rotation.y*=-1,P.rotation.z*=-1,D.setFromEuler(P.rotation),o?(P.position.y*=-1,P.position.z*=-1,null==(x=g.current)||x.position.copy(P.position.divideScalar(i))):null==(y=g.current)||y.position.set(0,0,0)):($i(e[u[0]],e[u[1]],e[u[2]],T),D.setFromUnitVectors(Hi,T));const v=D.clone().invert();if(h.computeBoundingBox(),p&&k(),h.center(),h.applyQuaternion(v),null==(a=b.current)||a.setRotationFromQuaternion(D),m)if(n){if(M.current&&S.current&&z.current)if(f){const e=M.current._computeSphere(h),t=S.current._computeSphere(h),r=function(e,t){return e.clone().add(t).multiplyScalar(.5)}(e.center,t.center);d=r.negate(),M.current._update(h,n,e),S.current._update(h,n,t)}else M.current._update(h,n),S.current._update(h,n)}else console.warn(\"Facemesh `eyes` option only works if `faceBlendshapes` is provided: skipping.\");if(z.current){if(void 0!==d)if(\"number\"==typeof d){const e=h.getAttribute(\"position\");F.set(-e.getX(d),-e.getY(d),-e.getZ(d))}else d.isVector3&&F.copy(d);else F.setScalar(0);z.current.position.copy(F)}if(w.current){let e=1;(s||l||c)&&(h.boundingBox.getSize(_),s&&(e=s/_.x),l&&(e=l/_.y),c&&(e=c/_.z)),w.current.scale.setScalar(1!==e?e:1)}h.computeVertexNormals(),h.attributes.position.needsUpdate=!0}),[e,r,n,P,o,i,s,l,c,u,d,m,p,k,T,D,_,F]);const A=C.useMemo((()=>({outerRef:b,meshRef:E,eyeRightRef:M,eyeLeftRef:S})),[]);C.useImperativeHandle(y,(()=>A),[A]);const[L]=C.useState((()=>new R.Vector3)),I=null==(v=E.current)?void 0:v.geometry.boundingBox,B=(null==I?void 0:I.getSize(L).z)||1;return C.createElement(\"group\",x,C.createElement(\"group\",{ref:g},C.createElement(\"group\",{ref:b},C.createElement(\"group\",{ref:w},p?C.createElement(C.Fragment,null,C.createElement(\"axesHelper\",{args:[B]}),C.createElement(me,{points:[[0,0,0],[0,0,-B]],color:65535})):null,C.createElement(\"group\",{ref:z},m&&n&&C.createElement(\"group\",{name:\"eyes\"},C.createElement(Zi,{side:\"left\",ref:M,debug:p}),C.createElement(Zi,{side:\"right\",ref:S,debug:p})),C.createElement(\"mesh\",{ref:E,name:\"face\"},h,p?C.createElement(C.Fragment,null,I&&C.createElement(\"box3Helper\",{args:[I]})):null))))))})),Xi={contourLandmarks:{right:[33,133,159,145,153],left:[263,362,386,374,380]},blendshapes:{right:[14,16,18,12],left:[13,15,17,11]},color:{right:\"red\",left:\"#00ff00\"},fov:{horizontal:100,vertical:90}},Zi=C.forwardRef((({side:e,debug:t=!0},r)=>{const n=C.useRef(null),a=C.useRef(null),[o]=C.useState((()=>new R.Sphere)),i=C.useCallback((t=>{const r=t.getAttribute(\"position\"),n=Xi.contourLandmarks[e].map((e=>new R.Vector3(r.getX(e),r.getY(e),r.getZ(e))));return o.center.set(0,0,0),n.forEach((e=>o.center.add(e))),o.center.divideScalar(n.length),o.radius=n[0].sub(n[1]).length()/2,o}),[o,e]),[s]=C.useState((()=>new R.Euler)),l=C.useCallback(((t,r,o)=>{var l;n.current&&(null!==(l=o)&&void 0!==l||(o=i(t)),n.current.position.copy(o.center),n.current.scale.setScalar(o.radius));if(r&&a.current){const t=Xi.blendshapes[e],n=r.categories[t[0]].score,o=r.categories[t[1]].score,i=r.categories[t[2]].score,l=r.categories[t[3]].score,c=.5*(Xi.fov.horizontal*R.MathUtils.DEG2RAD)*(l-i),u=.5*(Xi.fov.vertical*R.MathUtils.DEG2RAD)*(n-o)*(\"left\"===e?1:-1);s.set(c,u,0),a.current.setRotationFromEuler(s)}}),[i,e,s]),c=C.useMemo((()=>({eyeMeshRef:n,irisDirRef:a,_computeSphere:i,_update:l})),[i,l]);C.useImperativeHandle(r,(()=>c),[c]);const u=Xi.color[e];return C.createElement(\"group\",null,C.createElement(\"group\",{ref:n},t&&C.createElement(\"axesHelper\",null),C.createElement(\"group\",{ref:a},C.createElement(C.Fragment,null,t&&C.createElement(me,{points:[[0,0,0],[0,0,-2]],lineWidth:1,color:u})))))})),Yi={TRIANGULATION:[127,34,139,11,0,37,232,231,120,72,37,39,128,121,47,232,121,128,104,69,67,175,171,148,157,154,155,118,50,101,73,39,40,9,151,108,48,115,131,194,204,211,74,40,185,80,42,183,40,92,186,230,229,118,202,212,214,83,18,17,76,61,146,160,29,30,56,157,173,106,204,194,135,214,192,203,165,98,21,71,68,51,45,4,144,24,23,77,146,91,205,50,187,201,200,18,91,106,182,90,91,181,85,84,17,206,203,36,148,171,140,92,40,39,193,189,244,159,158,28,247,246,161,236,3,196,54,68,104,193,168,8,117,228,31,189,193,55,98,97,99,126,47,100,166,79,218,155,154,26,209,49,131,135,136,150,47,126,217,223,52,53,45,51,134,211,170,140,67,69,108,43,106,91,230,119,120,226,130,247,63,53,52,238,20,242,46,70,156,78,62,96,46,53,63,143,34,227,173,155,133,123,117,111,44,125,19,236,134,51,216,206,205,154,153,22,39,37,167,200,201,208,36,142,100,57,212,202,20,60,99,28,158,157,35,226,113,160,159,27,204,202,210,113,225,46,43,202,204,62,76,77,137,123,116,41,38,72,203,129,142,64,98,240,49,102,64,41,73,74,212,216,207,42,74,184,169,170,211,170,149,176,105,66,69,122,6,168,123,147,187,96,77,90,65,55,107,89,90,180,101,100,120,63,105,104,93,137,227,15,86,85,129,102,49,14,87,86,55,8,9,100,47,121,145,23,22,88,89,179,6,122,196,88,95,96,138,172,136,215,58,172,115,48,219,42,80,81,195,3,51,43,146,61,171,175,199,81,82,38,53,46,225,144,163,110,246,33,7,52,65,66,229,228,117,34,127,234,107,108,69,109,108,151,48,64,235,62,78,191,129,209,126,111,35,143,163,161,246,117,123,50,222,65,52,19,125,141,221,55,65,3,195,197,25,7,33,220,237,44,70,71,139,122,193,245,247,130,33,71,21,162,153,158,159,170,169,150,188,174,196,216,186,92,144,160,161,2,97,167,141,125,241,164,167,37,72,38,12,145,159,160,38,82,13,63,68,71,226,35,111,158,153,154,101,50,205,206,92,165,209,198,217,165,167,97,220,115,218,133,112,243,239,238,241,214,135,169,190,173,133,171,208,32,125,44,237,86,87,178,85,86,179,84,85,180,83,84,181,201,83,182,137,93,132,76,62,183,61,76,184,57,61,185,212,57,186,214,207,187,34,143,156,79,239,237,123,137,177,44,1,4,201,194,32,64,102,129,213,215,138,59,166,219,242,99,97,2,94,141,75,59,235,24,110,228,25,130,226,23,24,229,22,23,230,26,22,231,112,26,232,189,190,243,221,56,190,28,56,221,27,28,222,29,27,223,30,29,224,247,30,225,238,79,20,166,59,75,60,75,240,147,177,215,20,79,166,187,147,213,112,233,244,233,128,245,128,114,188,114,217,174,131,115,220,217,198,236,198,131,134,177,132,58,143,35,124,110,163,7,228,110,25,356,389,368,11,302,267,452,350,349,302,303,269,357,343,277,452,453,357,333,332,297,175,152,377,384,398,382,347,348,330,303,304,270,9,336,337,278,279,360,418,262,431,304,408,409,310,415,407,270,409,410,450,348,347,422,430,434,313,314,17,306,307,375,387,388,260,286,414,398,335,406,418,364,367,416,423,358,327,251,284,298,281,5,4,373,374,253,307,320,321,425,427,411,421,313,18,321,405,406,320,404,405,315,16,17,426,425,266,377,400,369,322,391,269,417,465,464,386,257,258,466,260,388,456,399,419,284,332,333,417,285,8,346,340,261,413,441,285,327,460,328,355,371,329,392,439,438,382,341,256,429,420,360,364,394,379,277,343,437,443,444,283,275,440,363,431,262,369,297,338,337,273,375,321,450,451,349,446,342,467,293,334,282,458,461,462,276,353,383,308,324,325,276,300,293,372,345,447,382,398,362,352,345,340,274,1,19,456,248,281,436,427,425,381,256,252,269,391,393,200,199,428,266,330,329,287,273,422,250,462,328,258,286,384,265,353,342,387,259,257,424,431,430,342,353,276,273,335,424,292,325,307,366,447,345,271,303,302,423,266,371,294,455,460,279,278,294,271,272,304,432,434,427,272,407,408,394,430,431,395,369,400,334,333,299,351,417,168,352,280,411,325,319,320,295,296,336,319,403,404,330,348,349,293,298,333,323,454,447,15,16,315,358,429,279,14,15,316,285,336,9,329,349,350,374,380,252,318,402,403,6,197,419,318,319,325,367,364,365,435,367,397,344,438,439,272,271,311,195,5,281,273,287,291,396,428,199,311,271,268,283,444,445,373,254,339,263,466,249,282,334,296,449,347,346,264,447,454,336,296,299,338,10,151,278,439,455,292,407,415,358,371,355,340,345,372,390,249,466,346,347,280,442,443,282,19,94,370,441,442,295,248,419,197,263,255,359,440,275,274,300,383,368,351,412,465,263,467,466,301,368,389,380,374,386,395,378,379,412,351,419,436,426,322,373,390,388,2,164,393,370,462,461,164,0,267,302,11,12,374,373,387,268,12,13,293,300,301,446,261,340,385,384,381,330,266,425,426,423,391,429,355,437,391,327,326,440,457,438,341,382,362,459,457,461,434,430,394,414,463,362,396,369,262,354,461,457,316,403,402,315,404,403,314,405,404,313,406,405,421,418,406,366,401,361,306,408,407,291,409,408,287,410,409,432,436,410,434,416,411,264,368,383,309,438,457,352,376,401,274,275,4,421,428,262,294,327,358,433,416,367,289,455,439,462,370,326,2,326,370,305,460,455,254,449,448,255,261,446,253,450,449,252,451,450,256,452,451,341,453,452,413,464,463,441,413,414,258,442,441,257,443,442,259,444,443,260,445,444,467,342,445,459,458,250,289,392,290,290,328,460,376,433,435,250,290,392,411,416,433,341,463,464,453,464,465,357,465,412,343,412,399,360,363,440,437,399,456,420,456,363,401,435,288,372,383,353,339,255,249,448,261,255,133,243,190,133,155,112,33,246,247,33,130,25,398,384,286,362,398,414,362,463,341,263,359,467,263,249,255,466,467,260,75,60,166,238,239,79,162,127,139,72,11,37,121,232,120,73,72,39,114,128,47,233,232,128,103,104,67,152,175,148,173,157,155,119,118,101,74,73,40,107,9,108,49,48,131,32,194,211,184,74,185,191,80,183,185,40,186,119,230,118,210,202,214,84,83,17,77,76,146,161,160,30,190,56,173,182,106,194,138,135,192,129,203,98,54,21,68,5,51,4,145,144,23,90,77,91,207,205,187,83,201,18,181,91,182,180,90,181,16,85,17,205,206,36,176,148,140,165,92,39,245,193,244,27,159,28,30,247,161,174,236,196,103,54,104,55,193,8,111,117,31,221,189,55,240,98,99,142,126,100,219,166,218,112,155,26,198,209,131,169,135,150,114,47,217,224,223,53,220,45,134,32,211,140,109,67,108,146,43,91,231,230,120,113,226,247,105,63,52,241,238,242,124,46,156,95,78,96,70,46,63,116,143,227,116,123,111,1,44,19,3,236,51,207,216,205,26,154,22,165,39,167,199,200,208,101,36,100,43,57,202,242,20,99,56,28,157,124,35,113,29,160,27,211,204,210,124,113,46,106,43,204,96,62,77,227,137,116,73,41,72,36,203,142,235,64,240,48,49,64,42,41,74,214,212,207,183,42,184,210,169,211,140,170,176,104,105,69,193,122,168,50,123,187,89,96,90,66,65,107,179,89,180,119,101,120,68,63,104,234,93,227,16,15,85,209,129,49,15,14,86,107,55,9,120,100,121,153,145,22,178,88,179,197,6,196,89,88,96,135,138,136,138,215,172,218,115,219,41,42,81,5,195,51,57,43,61,208,171,199,41,81,38,224,53,225,24,144,110,105,52,66,118,229,117,227,34,234,66,107,69,10,109,151,219,48,235,183,62,191,142,129,126,116,111,143,7,163,246,118,117,50,223,222,52,94,19,141,222,221,65,196,3,197,45,220,44,156,70,139,188,122,245,139,71,162,145,153,159,149,170,150,122,188,196,206,216,92,163,144,161,164,2,167,242,141,241,0,164,37,11,72,12,144,145,160,12,38,13,70,63,71,31,226,111,157,158,154,36,101,205,203,206,165,126,209,217,98,165,97,237,220,218,237,239,241,210,214,169,140,171,32,241,125,237,179,86,178,180,85,179,181,84,180,182,83,181,194,201,182,177,137,132,184,76,183,185,61,184,186,57,185,216,212,186,192,214,187,139,34,156,218,79,237,147,123,177,45,44,4,208,201,32,98,64,129,192,213,138,235,59,219,141,242,97,97,2,141,240,75,235,229,24,228,31,25,226,230,23,229,231,22,230,232,26,231,233,112,232,244,189,243,189,221,190,222,28,221,223,27,222,224,29,223,225,30,224,113,247,225,99,60,240,213,147,215,60,20,166,192,187,213,243,112,244,244,233,245,245,128,188,188,114,174,134,131,220,174,217,236,236,198,134,215,177,58,156,143,124,25,110,7,31,228,25,264,356,368,0,11,267,451,452,349,267,302,269,350,357,277,350,452,357,299,333,297,396,175,377,381,384,382,280,347,330,269,303,270,151,9,337,344,278,360,424,418,431,270,304,409,272,310,407,322,270,410,449,450,347,432,422,434,18,313,17,291,306,375,259,387,260,424,335,418,434,364,416,391,423,327,301,251,298,275,281,4,254,373,253,375,307,321,280,425,411,200,421,18,335,321,406,321,320,405,314,315,17,423,426,266,396,377,369,270,322,269,413,417,464,385,386,258,248,456,419,298,284,333,168,417,8,448,346,261,417,413,285,326,327,328,277,355,329,309,392,438,381,382,256,279,429,360,365,364,379,355,277,437,282,443,283,281,275,363,395,431,369,299,297,337,335,273,321,348,450,349,359,446,467,283,293,282,250,458,462,300,276,383,292,308,325,283,276,293,264,372,447,346,352,340,354,274,19,363,456,281,426,436,425,380,381,252,267,269,393,421,200,428,371,266,329,432,287,422,290,250,328,385,258,384,446,265,342,386,387,257,422,424,430,445,342,276,422,273,424,306,292,307,352,366,345,268,271,302,358,423,371,327,294,460,331,279,294,303,271,304,436,432,427,304,272,408,395,394,431,378,395,400,296,334,299,6,351,168,376,352,411,307,325,320,285,295,336,320,319,404,329,330,349,334,293,333,366,323,447,316,15,315,331,358,279,317,14,316,8,285,9,277,329,350,253,374,252,319,318,403,351,6,419,324,318,325,397,367,365,288,435,397,278,344,439,310,272,311,248,195,281,375,273,291,175,396,199,312,311,268,276,283,445,390,373,339,295,282,296,448,449,346,356,264,454,337,336,299,337,338,151,294,278,455,308,292,415,429,358,355,265,340,372,388,390,466,352,346,280,295,442,282,354,19,370,285,441,295,195,248,197,457,440,274,301,300,368,417,351,465,251,301,389,385,380,386,394,395,379,399,412,419,410,436,322,387,373,388,326,2,393,354,370,461,393,164,267,268,302,12,386,374,387,312,268,13,298,293,301,265,446,340,380,385,381,280,330,425,322,426,391,420,429,437,393,391,326,344,440,438,458,459,461,364,434,394,428,396,262,274,354,457,317,316,402,316,315,403,315,314,404,314,313,405,313,421,406,323,366,361,292,306,407,306,291,408,291,287,409,287,432,410,427,434,411,372,264,383,459,309,457,366,352,401,1,274,4,418,421,262,331,294,358,435,433,367,392,289,439,328,462,326,94,2,370,289,305,455,339,254,448,359,255,446,254,253,449,253,252,450,252,256,451,256,341,452,414,413,463,286,441,414,286,258,441,258,257,442,257,259,443,259,260,444,260,467,445,309,459,250,305,289,290,305,290,460,401,376,435,309,250,392,376,411,433,453,341,464,357,453,465,343,357,412,437,343,399,344,360,440,420,437,456,360,420,363,361,401,288,265,372,353,390,339,249,339,448,255],SAMPLE_FACE:{keypoints:[{x:356.2804412841797,y:295.1960563659668,z:-23.786449432373047,name:\"lips\"},{x:354.8859405517578,y:264.69520568847656,z:-36.718435287475586},{x:355.2180862426758,y:275.3360366821289,z:-21.183712482452393},{x:347.349853515625,y:242.4400234222412,z:-25.093655586242676},{x:354.40135955810547,y:256.67933464050293,z:-38.23572635650635},{x:353.7689971923828,y:247.54886627197266,z:-34.5475435256958},{x:352.1288299560547,y:227.34312057495117,z:-13.095386028289795},{x:303.5013198852539,y:234.67002868652344,z:12.500141859054565,name:\"rightEye\"},{x:351.09378814697266,y:211.87547206878662,z:-6.413471698760986},{x:350.7115936279297,y:202.1251630783081,z:-6.413471698760986},{x:348.33667755126953,y:168.7741756439209,z:6.483500003814697,name:\"faceOval\"},{x:356.4806365966797,y:299.2995357513428,z:-23.144519329071045},{x:356.5511703491211,y:302.66146659851074,z:-21.020312309265137},{x:356.6239547729492,y:304.1536331176758,z:-18.137459754943848,name:\"lips\"},{x:356.5807342529297,y:305.1840591430664,z:-18.767719268798828,name:\"lips\"},{x:356.8241500854492,y:308.25711250305176,z:-20.16829490661621},{x:357.113037109375,y:312.26277351379395,z:-22.10575819015503},{x:357.34962463378906,y:317.1123218536377,z:-21.837315559387207,name:\"lips\"},{x:357.6658630371094,y:325.51036834716797,z:-16.27002477645874},{x:355.0201416015625,y:269.36279296875,z:-33.73054027557373},{x:348.5237503051758,y:270.33411026000977,z:-24.93025302886963},{x:279.97331619262695,y:213.24176788330078,z:47.759642601013184,name:\"faceOval\"},{x:322.66529083251953,y:238.5027265548706,z:5.535193085670471},{x:316.0983657836914,y:239.94489669799805,z:5.777376294136047},{x:309.9431610107422,y:240.24518966674805,z:7.510589361190796},{x:301.31994247436523,y:237.86138534545898,z:13.118728399276733},{x:328.14266204833984,y:235.80496788024902,z:6.646900177001953},{x:313.7326431274414,y:222.11161136627197,z:3.9887237548828125},{x:320.45196533203125,y:221.87729358673096,z:4.601476192474365},{x:307.35679626464844,y:223.63793849945068,z:5.932023525238037},{x:303.0031204223633,y:226.3743782043457,z:8.479321002960205},{x:296.80023193359375,y:242.94299125671387,z:15.931552648544312},{x:332.2352981567383,y:340.77341079711914,z:-10.165848731994629},{x:301.38587951660156,y:233.46447944641113,z:14.764405488967896,name:\"rightEye\"},{x:279.0147018432617,y:244.37155723571777,z:45.77549457550049},{x:289.60548400878906,y:239.1807460784912,z:23.191204071044922},{x:320.32257080078125,y:267.1292781829834,z:-4.954537749290466},{x:347.64583587646484,y:294.4955062866211,z:-23.062820434570312,name:\"lips\"},{x:349.28138732910156,y:303.1095886230469,z:-20.238323211669922},{x:338.9453125,y:298.19186210632324,z:-19.456336498260498,name:\"lips\"},{x:333.36788177490234,y:302.6706790924072,z:-14.776077270507812,name:\"lips\"},{x:342.89188385009766,y:304.3561363220215,z:-17.752301692962646},{x:337.7375030517578,y:306.0098361968994,z:-13.410515785217285},{x:325.6159210205078,y:316.22995376586914,z:-6.681914925575256},{x:349.0104675292969,y:264.9818515777588,z:-36.274919509887695},{x:347.7138900756836,y:257.5664806365967,z:-37.67549514770508},{x:291.79357528686523,y:218.88171672821045,z:11.578094959259033,name:\"rightEyebrow\"},{x:332.2689437866211,y:247.56946563720703,z:-3.3730539679527283},{x:332.0074462890625,y:267.1201229095459,z:-19.969879388809204},{x:331.27952575683594,y:263.6967658996582,z:-17.47218608856201},{x:301.04373931884766,y:269.56552505493164,z:3.61815482378006},{x:347.4863815307617,y:249.0706443786621,z:-32.633421421051025},{x:307.26118087768555,y:208.2646894454956,z:1.1591226607561111,name:\"rightEyebrow\"},{x:297.91919708251953,y:212.22604751586914,z:5.914516448974609,name:\"rightEyebrow\"},{x:285.1651382446289,y:197.98450469970703,z:36.391637325286865,name:\"faceOval\"},{x:337.04097747802734,y:211.25229835510254,z:-4.548954665660858},{x:326.5912628173828,y:223.16698551177979,z:6.670243740081787},{x:320.05664825439453,y:309.5834255218506,z:-4.055835008621216},{x:289.6866226196289,y:314.617395401001,z:53.875489234924316,name:\"faceOval\"},{x:337.4256896972656,y:270.8755302429199,z:-17.67060160636902},{x:343.69922637939453,y:273.0000400543213,z:-18.756048679351807},{x:327.4242401123047,y:309.22399520874023,z:-4.703601002693176,name:\"lips\"},{x:330.37220001220703,y:308.3323001861572,z:-6.442649960517883},{x:293.87027740478516,y:207.7961826324463,z:9.821539521217346,name:\"rightEyebrow\"},{x:332.11437225341797,y:271.22812271118164,z:-16.64351224899292},{x:320.1197814941406,y:207.40366458892822,z:-2.48164564371109,name:\"rightEyebrow\"},{x:318.59575271606445,y:201.07443809509277,z:-3.110446035861969,name:\"rightEyebrow\"},{x:310.72303771972656,y:175.75075149536133,z:13.328815698623657,name:\"faceOval\"},{x:289.67578887939453,y:202.29835510253906,z:21.370456218719482},{x:315.30879974365234,y:187.35260009765625,z:5.0304025411605835},{x:287.8936767578125,y:216.54793739318848,z:17.81065821647644,name:\"rightEyebrow\"},{x:283.9391899108887,y:215.01142501831055,z:32.04984903335571},{x:348.35330963134766,y:299.4155788421631,z:-22.47924566268921},{x:341.1790466308594,y:301.8221855163574,z:-18.977805376052856},{x:335.69713592529297,y:304.4266891479492,z:-14.682706594467163},{x:339.4615173339844,y:272.3654365539551,z:-16.38674020767212},{x:328.99600982666016,y:308.86685371398926,z:-5.616893768310547},{x:332.00313568115234,y:309.1875743865967,z:-10.335084199905396},{x:331.0068130493164,y:307.9274368286133,z:-6.681914925575256,name:\"lips\"},{x:341.13792419433594,y:266.4876937866211,z:-26.56425952911377},{x:339.02950286865234,y:305.6663703918457,z:-12.33674168586731,name:\"lips\"},{x:344.22935485839844,y:304.9452781677246,z:-15.161235332489014,name:\"lips\"},{x:350.1844024658203,y:304.374303817749,z:-17.5305438041687,name:\"lips\"},{x:348.52630615234375,y:325.9562301635742,z:-16.164982318878174},{x:348.6581802368164,y:317.1624183654785,z:-21.510512828826904,name:\"lips\"},{x:348.9766311645508,y:312.1923065185547,z:-21.708929538726807},{x:349.2427444458008,y:308.0660820007324,z:-19.643079042434692},{x:349.67491149902344,y:305.42747497558594,z:-18.16080331802368,name:\"lips\"},{x:337.95589447021484,y:306.6535949707031,z:-12.803598642349243,name:\"lips\"},{x:337.06878662109375,y:307.63169288635254,z:-14.274203777313232},{x:335.77449798583984,y:309.8449516296387,z:-15.698124170303345},{x:334.6099090576172,y:312.7997016906738,z:-14.764405488967896,name:\"lips\"},{x:327.2330856323242,y:293.80866050720215,z:-11.864047050476074},{x:280.97679138183594,y:279.79928970336914,z:68.90834331512451,name:\"faceOval\"},{x:355.13843536376953,y:271.7875671386719,z:-25.350427627563477},{x:334.7235870361328,y:307.4656391143799,z:-9.302158951759338,name:\"lips\"},{x:333.5293960571289,y:307.89782524108887,z:-10.200862884521484},{x:346.29688262939453,y:276.4256286621094,z:-19.748122692108154},{x:335.16246795654297,y:276.22097969055176,z:-12.313398122787476},{x:345.09132385253906,y:274.7082996368408,z:-19.304605722427368},{x:325.4267883300781,y:252.95130729675293,z:-1.6661019623279572},{x:315.347843170166,y:259.05200958251953,z:-.25604281574487686},{x:330.44933319091797,y:267.7570152282715,z:-14.017432928085327},{x:294.96768951416016,y:185.26001930236816,z:23.903164863586426,name:\"faceOval\"},{x:299.63531494140625,y:192.7913761138916,z:12.640198469161987},{x:304.5452117919922,y:202.4142837524414,z:3.244667649269104,name:\"rightEyebrow\"},{x:331.6915512084961,y:320.0467872619629,z:-10.632705688476562},{x:334.5911407470703,y:201.27566814422607,z:-6.133356094360352,name:\"rightEyebrow\"},{x:331.4815902709961,y:185.44180870056152,z:.6627205014228821},{x:328.05816650390625,y:170.8385467529297,z:7.358860373497009,name:\"faceOval\"},{x:304.49764251708984,y:239.76297855377197,z:10.387605428695679},{x:290.6382179260254,y:248.85257720947266,z:19.03616428375244},{x:331.5682601928711,y:233.20727348327637,z:7.837390303611755},{x:295.5115509033203,y:228.9834451675415,z:14.41426157951355},{x:336.94332122802734,y:241.8259334564209,z:-5.27842104434967},{x:336.2792205810547,y:262.7049922943115,z:-26.12074375152588},{x:284.4102478027344,y:255.3262710571289,z:25.467140674591064},{x:295.1420593261719,y:253.02655220031738,z:12.430112361907959},{x:303.5196113586426,y:254.20703887939453,z:6.139191389083862},{x:315.73450088500977,y:251.64799690246582,z:3.3788898587226868},{x:324.69661712646484,y:247.56494522094727,z:2.3328344523906708},{x:331.57970428466797,y:243.02241325378418,z:1.1423448473215103},{x:345.6210708618164,y:229.9976634979248,z:-10.825285911560059},{x:286.26644134521484,y:270.37991523742676,z:21.708929538726807},{x:290.2525520324707,y:228.4921360015869,z:17.71728754043579},{x:351.65367126464844,y:269.3400764465332,z:-33.450424671173096},{x:333.1378936767578,y:253.88388633728027,z:-7.230473756790161},{x:277.8318977355957,y:246.95331573486328,z:68.20805549621582,name:\"faceOval\"},{x:336.6680908203125,y:238.10003757476807,z:.7688578963279724},{x:329.95800018310547,y:269.18323516845703,z:-7.207130789756775},{x:299.17491912841797,y:234.13324356079102,z:15.95489501953125},{x:335.61729431152344,y:258.71752738952637,z:-23.016133308410645},{x:284.1079330444336,y:297.0343494415283,z:63.25934886932373,name:\"faceOval\"},{x:331.44542694091797,y:230.6892442703247,z:9.92658257484436,name:\"rightEye\"},{x:341.41536712646484,y:253.01264762878418,z:-29.038610458374023},{x:303.5472869873047,y:327.5896739959717,z:16.725212335586548},{x:304.7756576538086,y:337.4389457702637,z:27.38126277923584,name:\"faceOval\"},{x:280.80501556396484,y:275.32050132751465,z:45.0752067565918},{x:295.43582916259766,y:318.4501647949219,z:26.2608003616333},{x:281.4303207397461,y:228.7355661392212,z:40.94350814819336},{x:331.2549591064453,y:349.4216537475586,z:-7.376367449760437},{x:352.4247741699219,y:271.7330074310303,z:-24.953596591949463},{x:327.5672912597656,y:260.41900634765625,z:-5.456410646438599},{x:284.5432472229004,y:241.7647933959961,z:29.668869972229004},{x:310,y:235.66174507141113,z:8.502663969993591,name:\"rightEye\"},{x:315.7071113586426,y:235.7572603225708,z:6.938687562942505,name:\"rightEye\"},{x:330.41088104248047,y:311.04143142700195,z:-9.325502514839172,name:\"lips\"},{x:288.5377502441406,y:285.31983375549316,z:21.837315559387207},{x:344.55039978027344,y:359.4300842285156,z:-6.705257892608643,name:\"faceOval\"},{x:323.41880798339844,y:351.67362213134766,z:7.802375555038452,name:\"faceOval\"},{x:314.64088439941406,y:346.11894607543945,z:16.36339783668518,name:\"faceOval\"},{x:349.4945526123047,y:184.8434829711914,z:-.21847527474164963},{x:359.24694061279297,y:359.8348903656006,z:-8.403456211090088,name:\"faceOval\"},{x:321.26182556152344,y:234.64492321014404,z:6.90950870513916,name:\"rightEye\"},{x:326.318359375,y:232.90250301361084,z:8.029969334602356,name:\"rightEye\"},{x:329.6211624145508,y:231.6195774078369,z:9.722331762313843,name:\"rightEye\"},{x:285.9398078918457,y:228.2351303100586,z:24.650139808654785},{x:325.79288482666016,y:227.88007736206055,z:7.469738721847534,name:\"rightEye\"},{x:320.1699447631836,y:227.5934886932373,z:6.168370842933655,name:\"rightEye\"},{x:314.85408782958984,y:227.85282611846924,z:6.2675780057907104,name:\"rightEye\"},{x:309.3084907531738,y:229.1516876220703,z:7.7031683921813965,name:\"rightEye\"},{x:305.5621337890625,y:230.92366218566895,z:9.722331762313843,name:\"rightEye\"},{x:277.8681945800781,y:228.5354232788086,z:59.71122741699219,name:\"faceOval\"},{x:306.1444664001465,y:235.1954698562622,z:10.603528022766113,name:\"rightEye\"},{x:355.4478454589844,y:281.96210861206055,z:-20.565123558044434},{x:333.02661895751953,y:288.0105400085449,z:-14.72939133644104},{x:337.15728759765625,y:269.2059516906738,z:-19.8414945602417},{x:345.9898376464844,y:283.5453128814697,z:-20.4834246635437},{x:351.48963928222656,y:219.98916149139404,z:-7.0378947257995605},{x:312.39574432373047,y:336.50628089904785,z:8.671900033950806},{x:321.32152557373047,y:343.1755256652832,z:.9067271649837494},{x:343.78379821777344,y:353.2975959777832,z:-14.355905055999756},{x:296.8791389465332,y:327.91497230529785,z:41.01353645324707,name:\"faceOval\"},{x:329.6939468383789,y:229.27897453308105,z:8.934508562088013,name:\"rightEye\"},{x:341.6905212402344,y:241.4073657989502,z:-14.589333534240723},{x:359.03079986572266,y:353.48859786987305,z:-15.803166627883911},{x:333.1861877441406,y:356.43213272094727,z:-1.0234417766332626,name:\"faceOval\"},{x:283.97483825683594,y:291.4318656921387,z:41.94725513458252},{x:343.33770751953125,y:305.830135345459,z:-15.756480693817139,name:\"lips\"},{x:342.40283966064453,y:307.7453899383545,z:-17.4021577835083},{x:341.53621673583984,y:311.0595703125,z:-19.047834873199463},{x:340.9107208251953,y:315.4837703704834,z:-18.5576331615448,name:\"lips\"},{x:339.1478729248047,y:323.42233657836914,z:-14.367576837539673},{x:333.3201599121094,y:307.4406337738037,z:-9.617288708686829},{x:331.2411117553711,y:306.9811820983887,z:-9.669809937477112},{x:329.23255920410156,y:306.0508346557617,z:-9.582273960113525,name:\"lips\"},{x:322.4586486816406,y:301.33323669433594,z:-7.720675468444824},{x:297.1712112426758,y:286.9552803039551,z:8.240055441856384},{x:341.3060760498047,y:235.4432201385498,z:-7.504753470420837},{x:336.9318389892578,y:224.3451976776123,z:5.829898118972778},{x:332.65323638916016,y:226.70403957366943,z:8.105834126472473},{x:334.67357635498047,y:306.4397621154785,z:-8.981193900108337,name:\"lips\"},{x:297.4601936340332,y:306.29210472106934,z:15.476365089416504},{x:342.9119110107422,y:222.37077713012695,z:-2.754466235637665},{x:335.4629898071289,y:332.20250129699707,z:-11.823196411132812},{x:353.2412338256836,y:240.56339263916016,z:-27.147831916809082},{x:346.3080596923828,y:236.41446590423584,z:-18.452589511871338},{x:352.6475143432617,y:234.1420555114746,z:-19.748122692108154},{x:337.3209762573242,y:253.39937210083008,z:-16.024924516677856},{x:358.6122131347656,y:344.90861892700195,z:-18.592647314071655},{x:358.1117248535156,y:334.64990615844727,z:-17.49552845954895},{x:346.4450454711914,y:335.0321102142334,z:-16.32838249206543},{x:319.17640686035156,y:320.2833938598633,z:-3.276764452457428},{x:325.2540588378906,y:276.2369728088379,z:-6.460157036781311},{x:326.7214584350586,y:327.3939514160156,z:-7.417217493057251},{x:310.7190132141113,y:277.2265148162842,z:-3.5452082753181458},{x:319.78355407714844,y:284.8238182067871,z:-6.4543211460113525},{x:305.773983001709,y:290.83580017089844,z:.06907138042151928},{x:344.4001770019531,y:344.85408782958984,z:-16.946970224380493},{x:333.1879425048828,y:258.74256134033203,z:-11.90489649772644},{x:313.80598068237305,y:327.08919525146484,z:2.2277912497520447},{x:322.9637908935547,y:334.6819496154785,z:-3.3643004298210144},{x:313.4055519104004,y:311.2166690826416,z:-1.1175429821014404},{x:291.0865783691406,y:298.2831001281738,z:22.467575073242188},{x:305.6580924987793,y:313.3707904815674,z:5.561453700065613},{x:288.23760986328125,y:305.9941864013672,z:36.765122413635254},{x:315.10692596435547,y:296.26991271972656,z:-4.604393839836121},{x:337.50518798828125,y:247.5944423675537,z:-10.597691535949707},{x:338.8450622558594,y:265.47778129577637,z:-27.778091430664062},{x:334.25254821777344,y:269.0671920776367,z:-20.938611030578613},{x:341.64512634277344,y:259.6387195587158,z:-32.189905643463135},{x:331.44081115722656,y:219.0976095199585,z:4.207563698291779},{x:320.56339263916016,y:216.49658203125,z:2.930997312068939},{x:311.21912002563477,y:216.57853603363037,z:2.9674705862998962},{x:303.46256256103516,y:218.54614734649658,z:5.357203483581543},{x:297.99999237060547,y:222.505202293396,z:9.325502514839172},{x:294.93839263916016,y:236.39654159545898,z:18.534289598464966},{x:278.87489318847656,y:259.7095584869385,z:45.68212032318115},{x:300.3782653808594,y:245.38593292236328,z:12.278382778167725},{x:307.06348419189453,y:246.36857986450195,z:8.164191246032715},{x:315.5229187011719,y:245.3949737548828,z:5.503097176551819},{x:323.71395111083984,y:242.75178909301758,z:4.6335723996162415},{x:330.2785873413086,y:239.34658527374268,z:4.937030673027039},{x:334.6982192993164,y:236.0460376739502,z:4.823233783245087},{x:279.3412208557129,y:263.5196113586426,z:70.91583728790283,name:\"faceOval\"},{x:334.65972900390625,y:271.6648578643799,z:-17.775644063949585},{x:342.05677032470703,y:246.99846267700195,z:-20.84523916244507},{x:344.0357971191406,y:264.5701503753662,z:-32.936880588531494},{x:348.25531005859375,y:268.6645030975342,z:-30.695960521697998},{x:344.12227630615234,y:266.34212493896484,z:-29.808926582336426},{x:337.12318420410156,y:274.2556858062744,z:-15.768152475357056},{x:349.49047088623047,y:269.071683883667,z:-32.51670837402344},{x:350.1683044433594,y:271.4691352844238,z:-24.93025302886963},{x:333.9634704589844,y:230.56639194488525,z:8.89949381351471},{x:338.2147979736328,y:231.4807891845703,z:4.6715047955513},{x:340.4712677001953,y:231.74463272094727,z:-.34996166825294495},{x:303.28975677490234,y:232.24980354309082,z:11.916568279266357,name:\"rightEye\"},{x:299.4649124145508,y:229.53842639923096,z:12.325069904327393},{x:359.09618377685547,y:241.77349090576172,z:-24.650139808654785},{x:399.46216583251953,y:229.89503860473633,z:15.919880867004395,name:\"leftEye\"},{x:361.38919830322266,y:269.6129894256592,z:-24.510080814361572},{x:416.9973373413086,y:206.0895538330078,z:53.26857566833496,name:\"faceOval\"},{x:381.32179260253906,y:235.5476474761963,z:7.6214683055877686},{x:387.8068542480469,y:236.25958442687988,z:8.345099091529846},{x:393.95751953125,y:235.8660364151001,z:10.475142002105713},{x:401.84600830078125,y:232.77019500732422,z:16.760226488113403},{x:375.70568084716797,y:233.48456382751465,z:8.234220147132874},{x:388.17752838134766,y:218.94717693328857,z:6.810300946235657},{x:381.64928436279297,y:219.2656660079956,z:6.711093783378601},{x:394.4760513305664,y:219.66821193695068,z:9.173773527145386},{x:398.8843536376953,y:221.8837022781372,z:12.03328251838684},{x:406.5454864501953,y:237.12156772613525,z:19.7131085395813},{x:383.87447357177734,y:337.6932907104492,z:-8.631049990653992},{x:401.2682342529297,y:228.5916566848755,z:18.359217643737793,name:\"leftEye\"},{x:422.0449447631836,y:236.73934936523438,z:51.16771221160889},{x:412.69153594970703,y:232.80198097229004,z:27.52131938934326},{x:387.3497772216797,y:263.298397064209,z:-2.8609684109687805},{x:364.5124053955078,y:293.39221000671387,z:-22.397546768188477,name:\"lips\"},{x:363.62987518310547,y:302.1291446685791,z:-19.643079042434692},{x:373.2334518432617,y:295.8647060394287,z:-18.125789165496826,name:\"lips\"},{x:378.83365631103516,y:299.5177745819092,z:-13.153743743896484,name:\"lips\"},{x:369.91477966308594,y:302.5704002380371,z:-16.65518283843994},{x:374.9167251586914,y:303.5416603088379,z:-11.963253021240234},{x:387.58888244628906,y:312.2716999053955,z:-4.680258631706238},{x:360.6635284423828,y:264.31986808776855,z:-35.94811677932739},{x:361.04564666748047,y:256.8225860595703,z:-37.278664112091064},{x:408.3855438232422,y:213.52088928222656,z:15.756480693817139,name:\"leftEyebrow\"},{x:373.2946014404297,y:245.38101196289062,z:-1.9316278398036957},{x:376.83860778808594,y:264.3721103668213,z:-18.510947227478027},{x:376.9546127319336,y:261.0010528564453,z:-15.989909172058105},{x:406.1498260498047,y:263.5030174255371,z:7.072908878326416},{x:360.07205963134766,y:248.3631706237793,z:-32.16656446456909},{x:393.11119079589844,y:205.10473251342773,z:3.7786373496055603,name:\"leftEyebrow\"},{x:402.12791442871094,y:207.89000988006592,z:9.383859634399414,name:\"leftEyebrow\"},{x:410.8693313598633,y:191.6182279586792,z:41.27030849456787,name:\"faceOval\"},{x:364.9509811401367,y:210.40483474731445,z:-3.758212625980377},{x:375.94444274902344,y:221.1331844329834,z:8.368442058563232},{x:392.1904754638672,y:305.0360298156738,z:-1.752179116010666},{x:419.50225830078125,y:307.25592613220215,z:58.96425247192383,name:\"faceOval\"},{x:372.0027160644531,y:268.7212657928467,z:-16.631840467453003},{x:366.1614227294922,y:271.6237449645996,z:-18.219159841537476},{x:385.00938415527344,y:305.3863334655762,z:-2.567722797393799},{x:381.99771881103516,y:304.9723720550537,z:-4.575215280056},{x:405.078125,y:203.21216583251953,z:13.713973760604858,name:\"leftEyebrow\"},{x:377.13207244873047,y:268.4710121154785,z:-15.266278982162476},{x:380.9713363647461,y:205.36980628967285,z:-.7250899076461792,name:\"leftEyebrow\"},{x:381.7788314819336,y:198.9268398284912,z:-1.184653863310814,name:\"leftEyebrow\"},{x:385.5204772949219,y:172.1484375,z:16.04826807975769,name:\"faceOval\"},{x:407.94189453125,y:196.76236152648926,z:25.723915100097656},{x:383.03890228271484,y:184.5157527923584,z:7.393874526023865},{x:411.61781311035156,y:210.79241752624512,z:22.315845489501953,name:\"leftEyebrow\"},{x:414.30870056152344,y:208.4643030166626,z:37.021894454956055},{x:364.28722381591797,y:298.35777282714844,z:-21.86065673828125},{x:371.3682556152344,y:299.78848457336426,z:-17.834001779556274},{x:376.88201904296875,y:301.6696071624756,z:-13.153743743896484},{x:370.2193832397461,y:270.49095153808594,z:-15.569736957550049},{x:383.5081100463867,y:305.2726364135742,z:-3.673594295978546},{x:380.73760986328125,y:305.96869468688965,z:-8.660228252410889},{x:381.2334442138672,y:304.63574409484863,z:-4.820316135883331,name:\"lips\"},{x:368.1698989868164,y:264.8884963989258,z:-25.653886795043945},{x:373.5087203979492,y:303.4233856201172,z:-10.95950722694397,name:\"lips\"},{x:368.4544372558594,y:303.29601287841797,z:-14.169161319732666,name:\"lips\"},{x:362.76554107666016,y:303.5735607147217,z:-16.911956071853638,name:\"lips\"},{x:366.60980224609375,y:324.8870658874512,z:-15.616422891616821},{x:365.7067108154297,y:315.95678329467773,z:-20.903596878051758,name:\"lips\"},{x:365.0083923339844,y:311.2232208251953,z:-21.066999435424805},{x:364.1508102416992,y:307.0583438873291,z:-18.907777070999146},{x:363.37512969970703,y:304.5721435546875,z:-17.42550015449524,name:\"lips\"},{x:374.580078125,y:304.3059539794922,z:-11.40302300453186,name:\"lips\"},{x:375.55362701416016,y:305.0998020172119,z:-12.861957550048828},{x:377.2437286376953,y:307.1674346923828,z:-14.215847253799438},{x:378.68587493896484,y:309.9015712738037,z:-13.223772048950195,name:\"lips\"},{x:383.8992691040039,y:290.29629707336426,z:-9.97326910495758},{x:423.3871841430664,y:271.91688537597656,z:74.37058925628662,name:\"faceOval\"},{x:377.68043518066406,y:304.62209701538086,z:-7.603961229324341,name:\"lips\"},{x:379.00428771972656,y:304.9314594268799,z:-8.57852816581726},{x:364.00279998779297,y:275.2813911437988,z:-19.25792098045349},{x:374.68231201171875,y:273.82555961608887,z:-11.28047227859497},{x:365.0354766845703,y:273.4548568725586,z:-18.791062831878662},{x:380.61901092529297,y:249.8848056793213,z:.15501167625188828},{x:391.14158630371094,y:254.7934627532959,z:2.0906515419483185},{x:378.1761169433594,y:264.9612236022949,z:-12.605184316635132},{x:400.9540557861328,y:179.99592304229736,z:27.82477855682373,name:\"faceOval\"},{x:398.0038833618164,y:188.50656509399414,z:16.094952821731567},{x:394.8717498779297,y:199.0359592437744,z:6.226727366447449,name:\"leftEyebrow\"},{x:382.10926055908203,y:316.83926582336426,z:-8.946179747581482},{x:366.51588439941406,y:200.32583713531494,z:-5.24632453918457,name:\"leftEyebrow\"},{x:367.4893569946289,y:183.87210845947266,z:1.9039081037044525},{x:368.6243438720703,y:168.8127565383911,z:8.736093044281006,name:\"faceOval\"},{x:398.96175384521484,y:234.9675178527832,z:13.713973760604858},{x:412.9645538330078,y:242.23042488098145,z:23.272905349731445},{x:372.05257415771484,y:231.41919136047363,z:9.226294755935669},{x:406.0722351074219,y:223.58965873718262,z:18.370890617370605},{x:368.27442169189453,y:240.2039337158203,z:-4.166713654994965},{x:372.3575210571289,y:260.66442489624023,z:-24.976940155029297},{x:419.2244338989258,y:247.9079246520996,z:30.299127101898193},{x:409.43885803222656,y:246.60913467407227,z:16.398411989212036},{x:401.69139862060547,y:248.76328468322754,z:9.395531415939331},{x:389.7608184814453,y:247.56915092468262,z:5.841569304466248},{x:380.5461883544922,y:244.55984115600586,z:4.263003468513489},{x:373.25817108154297,y:240.80214500427246,z:2.5356262922286987},{x:358.77086639404297,y:229.35615062713623,z:-10.387605428695679},{x:419.5793914794922,y:262.8478717803955,z:26.5175724029541},{x:410.8808898925781,y:222.51372814178467,z:22.199130058288574},{x:358.45714569091797,y:268.91467094421387,z:-33.17030906677246},{x:373.4129333496094,y:251.6385841369629,z:-5.771540403366089},{x:422.5408172607422,y:239.23919677734375,z:74.04378890991211,name:\"faceOval\"},{x:367.8171920776367,y:236.58040523529053,z:1.820748895406723},{x:378.51959228515625,y:266.2532329559326,z:-5.74819803237915},{x:403.3472442626953,y:229.05112266540527,z:19.689764976501465},{x:372.34840393066406,y:256.6451168060303,z:-21.872329711914062},{x:422.54566192626953,y:289.1587829589844,z:68.67491245269775,name:\"faceOval\"},{x:371.9297409057617,y:228.90116214752197,z:11.432201862335205,name:\"leftEye\"},{x:366.21360778808594,y:251.6158962249756,z:-28.19826364517212},{x:409.1571807861328,y:321.3156223297119,z:20.2266526222229},{x:408.52943420410156,y:331.44238471984863,z:31.09278917312622,name:\"faceOval\"},{x:424.2788314819336,y:267.1992301940918,z:50.467424392700195},{x:415.60352325439453,y:311.6528606414795,z:30.579242706298828},{x:418.12793731689453,y:221.59927368164062,z:46.26569747924805},{x:385.68286895751953,y:346.0184955596924,z:-5.70151150226593},{x:357.82936096191406,y:271.3758373260498,z:-24.836881160736084},{x:379.588623046875,y:257.5071716308594,z:-3.755294680595398},{x:417.4592590332031,y:234.71948146820068,z:34.5475435256958},{x:393.4684371948242,y:231.58967971801758,z:11.408859491348267,name:\"leftEye\"},{x:387.8864288330078,y:232.14245796203613,z:9.51808214187622,name:\"leftEye\"},{x:382.4981689453125,y:307.5654888153076,z:-7.522260546684265,name:\"lips\"},{x:419.00169372558594,y:277.8332805633545,z:26.424202919006348},{x:373.62953186035156,y:357.6375102996826,z:-5.75986921787262,name:\"faceOval\"},{x:392.8708267211914,y:347.72446632385254,z:10.154176950454712,name:\"faceOval\"},{x:400.3953552246094,y:341.0005187988281,z:19.39797878265381,name:\"faceOval\"},{x:382.25440979003906,y:231.66935920715332,z:8.998700976371765,name:\"leftEye\"},{x:377.14550018310547,y:230.4228687286377,z:9.804032444953918,name:\"leftEye\"},{x:373.8358688354492,y:229.64950561523438,z:11.292144060134888,name:\"leftEye\"},{x:414.5794677734375,y:221.67891025543213,z:29.412097930908203},{x:377.00672149658203,y:225.66201210021973,z:9.360517263412476,name:\"leftEye\"},{x:382.29530334472656,y:224.8431158065796,z:8.32175612449646,name:\"leftEye\"},{x:387.5133514404297,y:224.49507236480713,z:8.917000889778137,name:\"leftEye\"},{x:393.15906524658203,y:225.24795055389404,z:10.737749338150024,name:\"leftEye\"},{x:397.05554962158203,y:226.55359268188477,z:13.002015352249146,name:\"leftEye\"},{x:420.5299377441406,y:221.014666557312,z:65.40690422058105,name:\"faceOval\"},{x:397.06920623779297,y:230.6661558151245,z:13.807345628738403,name:\"leftEye\"},{x:377.94647216796875,y:285.1647090911865,z:-13.305472135543823},{x:372.1118927001953,y:267.1267318725586,z:-18.83774757385254},{x:364.9968719482422,y:282.24411964416504,z:-19.818150997161865},{x:401.973876953125,y:331.20131492614746,z:11.566424369812012},{x:394.3083190917969,y:338.86693954467773,z:3.142542541027069},{x:373.9820861816406,y:351.4504623413086,z:-13.50388765335083},{x:414.3888854980469,y:321.24735832214355,z:45.51872253417969,name:\"faceOval\"},{x:373.44234466552734,y:227.33163356781006,z:10.626870393753052,name:\"leftEye\"},{x:364.0731430053711,y:240.31539916992188,z:-13.807345628738403},{x:384.2658233642578,y:353.3793067932129,z:.7385850697755814,name:\"faceOval\"},{x:423.20526123046875,y:283.5176181793213,z:47.152724266052246},{x:369.42798614501953,y:304.0898895263672,z:-14.647691249847412,name:\"lips\"},{x:370.63812255859375,y:305.90051651000977,z:-16.211668252944946},{x:371.91192626953125,y:309.0167713165283,z:-17.84567356109619},{x:373.0583953857422,y:313.3545398712158,z:-17.378815412521362,name:\"lips\"},{x:375.39905548095703,y:321.09289169311523,z:-13.118728399276733},{x:379.2567825317383,y:304.3582534790039,z:-7.924926280975342},{x:381.18797302246094,y:303.7031364440918,z:-7.843226194381714},{x:383.0918502807617,y:302.4884605407715,z:-7.6506465673446655,name:\"lips\"},{x:389.09461975097656,y:297.1475315093994,z:-5.5497825145721436},{x:411.6408920288086,y:280.24898529052734,z:12.02161192893982},{x:363.3110809326172,y:234.27620887756348,z:-6.775286793708801},{x:366.0474395751953,y:223.29872131347656,z:6.827808618545532},{x:370.34427642822266,y:225.1457118988037,z:9.558931589126587},{x:377.5371551513672,y:303.60079765319824,z:-7.358860373497009,name:\"lips\"},{x:412.9557800292969,y:299.53579902648926,z:19.39797878265381},{x:360.0810241699219,y:221.72012329101562,z:-2.153385728597641},{x:379.82784271240234,y:329.47723388671875,z:-10.48097848892212},{x:359.08477783203125,y:235.7911491394043,z:-18.079102039337158},{x:369.6688461303711,y:251.5407943725586,z:-14.962821006774902},{x:369.5555114746094,y:333.5307312011719,z:-15.67478060722351},{x:394.0193176269531,y:315.6973171234131,z:-.9920747578144073},{x:383.78997802734375,y:272.7268695831299,z:-4.689012169837952},{x:387.67765045166016,y:323.6722755432129,z:-5.640236139297485},{x:397.8769302368164,y:272.1331214904785,z:-.9395531564950943},{x:389.87476348876953,y:280.5630111694336,z:-4.29218202829361},{x:403.83888244628906,y:285.1167869567871,z:3.0229100584983826},{x:372.5467300415039,y:343.1070327758789,z:-16.153310537338257},{x:374.1112518310547,y:256.3721466064453,z:-10.574349164962769},{x:399.73785400390625,y:321.77515983581543,z:4.849494695663452},{x:392.03365325927734,y:330.56447982788086,z:-1.3407598435878754},{x:398.59134674072266,y:305.93902587890625,z:1.517290621995926},{x:417.95997619628906,y:290.9716987609863,z:26.89105987548828},{x:406.04541778564453,y:307.35154151916504,z:8.666064143180847},{x:420.75328826904297,y:298.40752601623535,z:41.78385257720947},{x:395.4522705078125,y:291.4153575897217,z:-2.1752697229385376},{x:368.6452102661133,y:245.8882999420166,z:-9.453888535499573},{x:370.34900665283203,y:263.56690406799316,z:-26.75100326538086},{x:374.98477935791016,y:266.6126346588135,z:-19.77146625518799},{x:366.99840545654297,y:258.12140464782715,z:-31.372904777526855},{x:371.00616455078125,y:217.63479709625244,z:5.60522198677063},{x:381.30577087402344,y:214.14087295532227,z:4.983716309070587},{x:390.1496124267578,y:213.38221549987793,z:5.593550801277161},{x:397.7696990966797,y:214.3659782409668,z:8.57852816581726},{x:403.1652069091797,y:217.65509605407715,z:13.013685941696167},{x:407.3551940917969,y:230.72525024414062,z:22.444231510162354},{x:424.0876770019531,y:251.7839241027832,z:51.16771221160889},{x:403.50196838378906,y:239.88757610321045,z:15.803166627883911},{x:397.31719970703125,y:241.49806022644043,z:11.233787536621094},{x:388.99425506591797,y:241.4366912841797,z:7.948269248008728},{x:380.7804489135742,y:239.78078842163086,z:6.600214838981628},{x:374.01336669921875,y:237.11946487426758,z:6.349278092384338},{x:369.39125061035156,y:234.35351371765137,z:5.987462401390076},{x:422.9730987548828,y:255.76455116271973,z:76.61150932312012,name:\"faceOval\"},{x:374.73915100097656,y:269.24214363098145,z:-16.608498096466064},{x:364.61681365966797,y:245.71088790893555,z:-20.02823829650879},{x:365.3834533691406,y:263.34174156188965,z:-32.32996463775635},{x:361.58252716064453,y:267.8273677825928,z:-30.345816612243652},{x:365.37208557128906,y:265.0249671936035,z:-29.178667068481445},{x:372.72605895996094,y:272.05135345458984,z:-14.834434986114502},{x:360.48614501953125,y:268.34827423095703,z:-32.189905643463135},{x:359.9516296386719,y:270.8049201965332,z:-24.650139808654785},{x:369.5049285888672,y:229.01945114135742,z:10.107489824295044},{x:365.5447769165039,y:230.24096488952637,z:5.593550801277161},{x:363.50669860839844,y:230.6208372116089,z:.43622106313705444},{x:399.3529510498047,y:227.65677452087402,z:15.35965085029602,name:\"leftEye\"},{x:402.5693130493164,y:224.60190296173096,z:15.931552648544312}],box:{xMin:277.8318977355957,yMin:168.7741756439209,xMax:424.2788314819336,yMax:359.8348903656006,width:146.4469337463379,height:191.0607147216797}},SAMPLE_FACELANDMARKER_RESULT:{faceLandmarks:[[{x:.5760777592658997,y:.8639070391654968,z:-.030997956171631813},{x:.572094738483429,y:.7886289358139038,z:-.07189624011516571},{x:.5723551511764526,y:.8075382709503174,z:-.03578168898820877},{x:.5548420548439026,y:.7188365459442139,z:-.057787876576185226},{x:.5706077814102173,y:.7674974799156189,z:-.07740399986505508},{x:.5681378245353699,y:.7387768030166626,z:-.07356284558773041},{x:.5621535181999207,y:.6681165099143982,z:-.04189874976873398},{x:.46613582968711853,y:.6679812073707581,z:.011289681307971478},{x:.5579932928085327,y:.6174106597900391,z:-.03502821549773216},{x:.5563451647758484,y:.5905600190162659,z:-.03928658738732338},{x:.5487832427024841,y:.4900572597980499,z:-.029898937791585922},{x:.5765544176101685,y:.8692144751548767,z:-.02831427752971649},{x:.5771114230155945,y:.873644232749939,z:-.02345779910683632},{x:.5771905779838562,y:.877016007900238,z:-.016658689826726913},{x:.5778058767318726,y:.8770116567611694,z:-.014505492523312569},{x:.5783766508102417,y:.8835000991821289,z:-.015996402129530907},{x:.5792440176010132,y:.8913810849189758,z:-.01924579218029976},{x:.5796768069267273,y:.8996334671974182,z:-.018261712044477463},{x:.5817288160324097,y:.9255813956260681,z:-.007126849144697189},{x:.5726592540740967,y:.7992473244667053,z:-.0643521398305893},{x:.5579419136047363,y:.7996989488601685,z:-.04566684365272522},{x:.4216199815273285,y:.5958762764930725,z:.06776496022939682},{x:.5052269697189331,y:.6796539425849915,z:-.0010737782577052712},{x:.49243026971817017,y:.6838865876197815,z:-.0005227324436418712},{x:.4796970784664154,y:.6856290102005005,z:.002684245817363262},{x:.4618356227874756,y:.6764569878578186,z:.013439622707664967},{x:.5160380601882935,y:.6737282276153564,z:-17607348127057776e-21},{x:.48070961236953735,y:.6255870461463928,z:-.008339674212038517},{x:.49719780683517456,y:.6256808042526245,z:-.008027955889701843},{x:.46674346923828125,y:.6317623853683472,z:-.004460199736058712},{x:.4582492709159851,y:.641118049621582,z:.0011905613355338573},{x:.45408669114112854,y:.6911458969116211,z:.020514748990535736},{x:.535312294960022,y:.9619986414909363,z:.012499462813138962},{x:.4608460068702698,y:.6628725528717041,z:.01517564244568348},{x:.4206731915473938,y:.6828458309173584,z:.07848648726940155},{x:.4390624463558197,y:.6796106696128845,z:.03283142298460007},{x:.5029968619346619,y:.7701570391654968,z:-.009734481573104858},{x:.5595027208328247,y:.8607323169708252,z:-.030043255537748337},{x:.5621269941329956,y:.8738374710083008,z:-.021709579974412918},{x:.5451499819755554,y:.865527331829071,z:-.022014077752828598},{x:.5351184010505676,y:.8705098032951355,z:-.011602800339460373},{x:.5495014190673828,y:.8744956254959106,z:-.016490943729877472},{x:.5395170450210571,y:.8759440779685974,z:-.007333362940698862},{x:.5183624029159546,y:.8959754705429077,z:.010520773939788342},{x:.5604349374771118,y:.7895449995994568,z:-.07082037627696991},{x:.557381272315979,y:.7687489986419678,z:-.07590588927268982},{x:.4432901442050934,y:.6308897733688354,z:.0027153254486620426},{x:.5258325338363647,y:.7151225805282593,z:-.014676518738269806},{x:.5271827578544617,y:.7833116054534912,z:-.037643320858478546},{x:.5257382988929749,y:.7717816233634949,z:-.03401920944452286},{x:.46516409516334534,y:.7705106735229492,z:.0065747760236263275},{x:.5558893084526062,y:.7420997619628906,z:-.0694495290517807},{x:.4720408320426941,y:.6066038608551025,z:-.021204356104135513},{x:.45432573556900024,y:.6158540844917297,z:-.011054684408009052},{x:.4305151402950287,y:.5608053803443909,z:.0396830290555954},{x:.5310865640640259,y:.6157484650611877,z:-.03081176057457924},{x:.5114666223526001,y:.6329749226570129,z:-.00335998204536736},{x:.506435751914978,y:.8786543607711792,z:.012980876490473747},{x:.4480472207069397,y:.8640613555908203,z:.12569651007652283},{x:.5372058153152466,y:.7942581176757812,z:-.03168361634016037},{x:.5488379597663879,y:.8001630306243896,z:-.03280917927622795},{x:.5213388204574585,y:.8794381618499756,z:.011892606504261494},{x:.5242055654525757,y:.8789222240447998,z:.008370225317776203},{x:.4477175176143646,y:.6039950251579285,z:-.0050799972377717495},{x:.526964008808136,y:.7916748523712158,z:-.02968614175915718},{x:.4971255660057068,y:.6050706505775452,z:-.028175678104162216},{x:.4938119053840637,y:.5882453918457031,z:-.03210941329598427},{x:.4757143557071686,y:.5094879865646362,z:-.01300730835646391},{x:.43947282433509827,y:.5816648006439209,z:.01415177434682846},{x:.485664039850235,y:.5477864146232605,z:-.023685332387685776},{x:.43635931611061096,y:.6226438283920288,z:.013606148771941662},{x:.42910251021385193,y:.6102726459503174,z:.03926564007997513},{x:.5605402588844299,y:.8680099248886108,z:-.027318159118294716},{x:.5474816560745239,y:.8702861070632935,z:-.019686367362737656},{x:.5373021364212036,y:.8728838562965393,z:-.010484928265213966},{x:.540735125541687,y:.7979167103767395,z:-.029073253273963928},{x:.5228585004806519,y:.87913578748703,z:.009915109723806381},{x:.530497670173645,y:.8815253973007202,z:.0020524784922599792},{x:.5259912610054016,y:.8790552616119385,z:.007895970717072487},{x:.5433906316757202,y:.7882310748100281,z:-.05121905356645584},{x:.541388213634491,y:.8777219653129578,z:-.00466804439201951},{x:.5515822172164917,y:.8767023086547852,z:-.010475946590304375},{x:.5637003779411316,y:.877059817314148,z:-.015273625031113625},{x:.5640299320220947,y:.9263423085212708,z:-.00658724969252944},{x:.5642300248146057,y:.8993074893951416,z:-.017653480172157288},{x:.5637336373329163,y:.8910360932350159,z:-.01852807030081749},{x:.5637134313583374,y:.8837276697158813,z:-.01482592523097992},{x:.564205527305603,y:.8768964409828186,z:-.01331155002117157},{x:.5419867634773254,y:.8778373599052429,z:-.0037720394320786},{x:.5404468774795532,y:.880696177482605,z:-.005610354244709015},{x:.5392338633537292,y:.8845721483230591,z:-.007352025713771582},{x:.538469672203064,y:.8891173601150513,z:-.005154991988092661},{x:.5189250111579895,y:.8452741503715515,z:-.009755070321261883},{x:.4258975088596344,y:.7662280797958374,z:.1387351155281067},{x:.5725725293159485,y:.8041572570800781,z:-.04583907872438431},{x:.5342061519622803,y:.8785833120346069,z:.002659974154084921},{x:.5324031114578247,y:.8804071545600891,z:.0017832003068178892},{x:.5538818836212158,y:.8078407645225525,z:-.03254539892077446},{x:.5325431823730469,y:.8026832938194275,z:-.019140373915433884},{x:.5514076948165894,y:.8043903112411499,z:-.03313535451889038},{x:.5131856203079224,y:.7284771800041199,z:-.009399853646755219},{x:.49331504106521606,y:.7443980574607849,z:-.005225230939686298},{x:.5239617824554443,y:.7807451486587524,z:-.025881027802824974},{x:.4473606050014496,y:.5315827131271362,z:.011164786294102669},{x:.45718759298324585,y:.5604941248893738,z:-.005943301599472761},{x:.4670005738735199,y:.5909327268600464,z:-.019681761041283607},{x:.5311570167541504,y:.9076261520385742,z:.00389476353302598},{x:.5249923467636108,y:.5893563628196716,z:-.037981919944286346},{x:.5166932344436646,y:.5429551005363464,z:-.03319704160094261},{x:.5085030198097229,y:.49676206707954407,z:-.02691275253891945},{x:.4687720239162445,y:.6834565997123718,z:.008113506250083447},{x:.4426414966583252,y:.7069531679153442,z:.028577271848917007},{x:.5230373740196228,y:.6675713658332825,z:.001773772411979735},{x:.4481240212917328,y:.6527872085571289,z:.012414850294589996},{x:.5339856743812561,y:.7012367844581604,z:-.020220188423991203},{x:.5347223281860352,y:.7761190533638,z:-.05141595005989075},{x:.4315067231655121,y:.7211957573890686,z:.04381405934691429},{x:.45203351974487305,y:.7206180095672607,z:.017288070172071457},{x:.46892452239990234,y:.7265436053276062,z:.005602988880127668},{x:.49314674735069275,y:.7202282547950745,z:-.0006408205372281373},{x:.5104925632476807,y:.7091827392578125,z:-.00362918758764863},{x:.5232142210006714,y:.698553740978241,z:-.00787867046892643},{x:.5497883558273315,y:.6743605136871338,z:-.036349106580019},{x:.43658503890037537,y:.7627100348472595,z:.042555369436740875},{x:.4397648870944977,y:.6528646349906921,z:.017956094816327095},{x:.5653332471847534,y:.7992802858352661,z:-.06365057826042175},{x:.5285563468933105,y:.736810564994812,z:-.018836988136172295},{x:.4180678725242615,y:.6792560815811157,z:.12284679710865021},{x:.5328429937362671,y:.6865872144699097,z:-.010484723374247551},{x:.5230283141136169,y:.7809416055679321,z:-.011922398582100868},{x:.4551771283149719,y:.6650775074958801,z:.01774493046104908},{x:.5337203741073608,y:.7618928551673889,z:-.04697106033563614},{x:.43463975191116333,y:.8133478164672852,z:.1354849934577942},{x:.5225707292556763,y:.6605283617973328,z:.004980515688657761},{x:.5441933870315552,y:.7497199773788452,z:-.06091512367129326},{x:.4774007797241211,y:.9159183502197266,z:.059622734785079956},{x:.48068761825561523,y:.9364941716194153,z:.08404944837093353},{x:.4268292486667633,y:.7657528519630432,z:.09051097184419632},{x:.46051913499832153,y:.8880485892295837,z:.0738474428653717},{x:.4243420660495758,y:.6434382200241089,z:.06230505183339119},{x:.5342157483100891,y:.9835634231567383,z:.021662971004843712},{x:.5668109655380249,y:.8042187094688416,z:-.044937074184417725},{x:.5176341533660889,y:.7530587315559387,z:-.012967454269528389},{x:.430206298828125,y:.6835605502128601,z:.04612284153699875},{x:.4794231951236725,y:.6732114553451538,z:.003970044665038586},{x:.49073347449302673,y:.6722435355186462,z:.0008692514384165406},{x:.5294116139411926,y:.884677529335022,z:.004413890186697245},{x:.4430122375488281,y:.80235356092453,z:.04987282305955887},{x:.5603825449943542,y:1.0092442035675049,z:.026417359709739685},{x:.5186598300933838,y:.9828659892082214,z:.0513598807156086},{x:.5010536909103394,y:.9640932679176331,z:.06591596454381943},{x:.5524769425392151,y:.539441704750061,z:-.035816047340631485},{x:.5879997611045837,y:1.0091472864151,z:.02285068854689598},{x:.5016193985939026,y:.6684437990188599,z:.00028415941051207483},{x:.511952817440033,y:.6642197370529175,z:.0021144719794392586},{x:.5194343328475952,y:.6623469591140747,z:.004674181342124939},{x:.4321230351924896,y:.6496355533599854,z:.03124697133898735},{x:.508686363697052,y:.6479565501213074,z:-.00044765998609364033},{x:.4963986277580261,y:.6431032419204712,z:-.0032507688738405704},{x:.4845542013645172,y:.6430778503417969,z:-.002903624437749386},{x:.4733612537384033,y:.647506833076477,z:.00023347247042693198},{x:.4668654501438141,y:.653346598148346,z:.004762572236359119},{x:.41815051436424255,y:.633708119392395,z:.09809435904026031},{x:.47159942984580994,y:.6711485385894775,z:.007849935442209244},{x:.5734396576881409,y:.8256140351295471,z:-.03155219927430153},{x:.5306524038314819,y:.8337990641593933,z:-.018351426348090172},{x:.5371729135513306,y:.7910830974578857,z:-.037286680191755295},{x:.5549534559249878,y:.8275275826454163,z:-.030664825811982155},{x:.5597432255744934,y:.6418541669845581,z:-.03318847343325615},{x:.4958484172821045,y:.9429569244384766,z:.048340678215026855},{x:.5140507817268372,y:.9634028077125549,z:.03589847311377525},{x:.5587693452835083,y:.9951097369194031,z:.00908728688955307},{x:.46411189436912537,y:.9051855206489563,z:.10601935535669327},{x:.5181609392166138,y:.6554316878318787,z:.002546071307733655},{x:.5436590909957886,y:.7085841298103333,z:-.03844436630606651},{x:.5872187614440918,y:.9960382580757141,z:.0063423276878893375},{x:.5379653573036194,y:.9989125728607178,z:.03636329993605614},{x:.4350326955318451,y:.8088565468788147,z:.09147704392671585},{x:.5523084998130798,y:.8773422837257385,z:-.009068487212061882},{x:.5510149598121643,y:.8816931843757629,z:-.011043853126466274},{x:.5503793954849243,y:.88776695728302,z:-.01348799467086792},{x:.5501549243927002,y:.8954370617866516,z:-.012142189778387547},{x:.546072781085968,y:.9192524552345276,z:-.003157563041895628},{x:.5314661860466003,y:.8771666884422302,z:.0005075141089037061},{x:.5293324589729309,y:.8762547969818115,z:.00039177737198770046},{x:.5275698900222778,y:.8750609755516052,z:47732755774632096e-21},{x:.5104271173477173,y:.8607332110404968,z:.0012934643309563398},{x:.45938700437545776,y:.8134918212890625,z:.023569690063595772},{x:.5418947339057922,y:.6864100694656372,z:-.027333909645676613},{x:.531914234161377,y:.6456130743026733,z:-.005434140563011169},{x:.523697018623352,y:.647885262966156,z:-.0002466466394253075},{x:.5338191390037537,y:.8783687353134155,z:.002268768846988678},{x:.46226605772972107,y:.8610277771949768,z:.04718952998518944},{x:.5434442758560181,y:.6456181406974792,z:-.02327350154519081},{x:.5399754643440247,y:.940219521522522,z:.005075343884527683},{x:.5661457777023315,y:.71457839012146,z:-.06242101639509201},{x:.5523148775100708,y:.6974870562553406,z:-.04863070324063301},{x:.5639959573745728,y:.6923378109931946,z:-.05180761218070984},{x:.5367592573165894,y:.7423217296600342,z:-.03623027727007866},{x:.5853689908981323,y:.9752064943313599,z:-.002361974213272333},{x:.5835235118865967,y:.9493685960769653,z:-.003941743168979883},{x:.5615018606185913,y:.949194610118866,z:-.0015953965485095978},{x:.5068561434745789,y:.9048219323158264,z:.01862684078514576},{x:.5134067535400391,y:.7971825003623962,z:-.008485661819577217},{x:.5223897099494934,y:.925589919090271,z:.01249657291918993},{x:.48500555753707886,y:.7959478497505188,z:-.0032065745908766985},{x:.5037734508514404,y:.8184596300125122,z:-.004932103678584099},{x:.4766361117362976,y:.828806459903717,z:.01027688942849636},{x:.5589827299118042,y:.974656343460083,z:.0009666886180639267},{x:.5294582843780518,y:.7541216611862183,z:-.025603046640753746},{x:.4973002076148987,y:.9208990931510925,z:.031931452453136444},{x:.5163551568984985,y:.9432790875434875,z:.024321340024471283},{x:.49399662017822266,y:.8814862370491028,z:.018687399104237556},{x:.44948166608810425,y:.836137592792511,z:.05702034756541252},{x:.47898444533348083,y:.8836610913276672,z:.03150695189833641},{x:.4454479217529297,y:.8499438166618347,z:.08868525922298431},{x:.49572959542274475,y:.8452823758125305,z:.0036111653316766024},{x:.5362502336502075,y:.7222585678100586,z:-.027912352234125137},{x:.5393770337104797,y:.7850722074508667,z:-.05415399745106697},{x:.531399667263031,y:.7898418307304382,z:-.03883346915245056},{x:.5451627373695374,y:.7717036604881287,z:-.06480253487825394},{x:.5206395983695984,y:.6287745833396912,z:-.010521138086915016},{x:.4974782466888428,y:.6191938519477844,z:-.014098240062594414},{x:.4774145185947418,y:.6193130612373352,z:-.013643337413668633},{x:.4616098403930664,y:.6259890198707581,z:-.008448202162981033},{x:.4516478478908539,y:.6368461847305298,z:9050309745362028e-20},{x:.4485096037387848,y:.6719120740890503,z:.022984720766544342},{x:.42177659273147583,y:.7240667343139648,z:.08511673659086227},{x:.4616215229034424,y:.6988231539726257,z:.014238474890589714},{x:.4755798876285553,y:.7034608721733093,z:.00625590980052948},{x:.4924992024898529,y:.7005885243415833,z:.0009391739731654525},{x:.5082254409790039,y:.693384051322937,z:-.0009464038303121924},{x:.5203112959861755,y:.6849707961082458,z:-.0022114769089967012},{x:.52867591381073,y:.6779075860977173,z:-.002962538506835699},{x:.4213953912258148,y:.7219811677932739,z:.1350894570350647},{x:.5320829749107361,y:.794858992099762,z:-.03181503340601921},{x:.5452795028686523,y:.7286570072174072,z:-.04771539941430092},{x:.5496407747268677,y:.7866933345794678,z:-.06452003121376038},{x:.557040274143219,y:.7962084412574768,z:-.05837344378232956},{x:.549176812171936,y:.7895247936248779,z:-.057761140167713165},{x:.5362890362739563,y:.8005836606025696,z:-.026903774589300156},{x:.560200035572052,y:.7983731031417847,z:-.06172555685043335},{x:.5616944432258606,y:.8022753596305847,z:-.045200999826192856},{x:.5273328423500061,y:.6611284017562866,z:.0029021520167589188},{x:.534850537776947,y:.6660012006759644,z:-.005215510260313749},{x:.5394860506057739,y:.6701375246047974,z:-.014931917190551758},{x:.4634307324886322,y:.658291757106781,z:.009295716881752014},{x:.4538393020629883,y:.6519932150840759,z:.00930330716073513},{x:.5776031613349915,y:.7159298658370972,z:-.057365912944078445},{x:.6504855155944824,y:.6461779475212097,z:.014184834435582161},{x:.5860154032707214,y:.7962266206741333,z:-.04522843658924103},{x:.6842049360275269,y:.5631637573242188,z:.07207967340946198},{x:.6152560710906982,y:.6674962639808655,z:.0007529259892180562},{x:.6280948519706726,y:.6684326529502869,z:.0016892586136236787},{x:.6408625245094299,y:.6663892269134521,z:.005331226624548435},{x:.6557814478874207,y:.6534678936004639,z:.01646413467824459},{x:.6035663485527039,y:.6639701724052429,z:.0013799630105495453},{x:.6329053044319153,y:.608010470867157,z:-.006195899099111557},{x:.6167260408401489,y:.6117533445358276,z:-.006319951266050339},{x:.6471013426780701,y:.6112449765205383,z:-.0017843559617176652},{x:.6560901999473572,y:.6185776591300964,z:.004047257360070944},{x:.6666946411132812,y:.6651176810264587,z:.023647578433156013},{x:.6311345100402832,y:.9495396018028259,z:.014004078693687916},{x:.6544655561447144,y:.6397901773452759,z:.01809609681367874},{x:.6965808868408203,y:.6482675075531006,z:.08304904401302338},{x:.679817259311676,y:.650188148021698,z:.03632688894867897},{x:.6336516737937927,y:.7541458010673523,z:-.007742783520370722},{x:.5921701192855835,y:.8567668199539185,z:-.029399123042821884},{x:.591663658618927,y:.870215654373169,z:-.02103729173541069},{x:.6068367958068848,y:.8584195375442505,z:-.020668085664510727},{x:.6176617741584778,y:.860965371131897,z:-.009790095500648022},{x:.6040634512901306,y:.8686612844467163,z:-.015289564616978168},{x:.6143736839294434,y:.8671170473098755,z:-.005712216719985008},{x:.6373105049133301,y:.8815656900405884,z:.012672550976276398},{x:.5832505822181702,y:.7866312861442566,z:-.07051534950733185},{x:.5836675763130188,y:.7658692598342896,z:-.07566110789775848},{x:.6709531545639038,y:.604898989200592,z:.005951565690338612},{x:.6029891967773438,y:.705652117729187,z:-.013388276100158691},{x:.6131622195243835,y:.7728396058082581,z:-.036248479038476944},{x:.6123163104057312,y:.7612020373344421,z:-.03264721855521202},{x:.6696187853813171,y:.744706928730011,z:.009673702530562878},{x:.5803102254867554,y:.7385968565940857,z:-.0689152330160141},{x:.6404349207878113,y:.5877999663352966,z:-.01929756999015808},{x:.6588467955589294,y:.5929454565048218,z:-.008487257175147533},{x:.6720337867736816,y:.530631422996521,z:.043437421321868896},{x:.584305465221405,y:.6099005341529846,z:-.030301367864012718},{x:.6034283638000488,y:.6217452883720398,z:-.001970183802768588},{x:.6460927724838257,y:.8608663082122803,z:.015541625209152699},{x:.6957815289497375,y:.8326103091239929,z:.13015234470367432},{x:.6043362617492676,y:.7861682772636414,z:-.030476901680231094},{x:.594293475151062,y:.7942103147506714,z:-.032218821346759796},{x:.6324057579040527,y:.8665139675140381,z:.014255806803703308},{x:.6296147704124451,y:.8667733669281006,z:.010388285852968693},{x:.663644552230835,y:.5798642635345459,z:-.0022301070857793093},{x:.6140630841255188,y:.7809288501739502,z:-.02835679054260254},{x:.615908145904541,y:.5921698212623596,z:-.026804860681295395},{x:.617181122303009,y:.5748661756515503,z:-.03060605563223362},{x:.6222207546234131,y:.49137672781944275,z:-.011151673272252083},{x:.6669357419013977,y:.5541607141494751,z:.017466170713305473},{x:.6182981729507446,y:.5320425629615784,z:-.021793590858578682},{x:.6760554313659668,y:.595052182674408,z:.017115700989961624},{x:.6801463961601257,y:.5800720453262329,z:.043127160519361496},{x:.5922210812568665,y:.8644017577171326,z:-.02662893570959568},{x:.6054555177688599,y:.8637874722480774,z:-.018363753333687782},{x:.6161889433860779,y:.8641164898872375,z:-.008808949030935764},{x:.6017249822616577,y:.7901403307914734,z:-.028126630932092667},{x:.631446123123169,y:.8664817810058594,z:.012112865224480629},{x:.6249198913574219,y:.8716511130332947,z:.003882825840264559},{x:.6281915903091431,y:.867301881313324,z:.009891441091895103},{x:.5986843109130859,y:.7813931703567505,z:-.050227612257003784},{x:.6126407384872437,y:.869275689125061,z:-.0031255714129656553},{x:.6027271151542664,y:.8711842894554138,z:-.009324162267148495},{x:.59088134765625,y:.8742044568061829,z:-.014608660712838173},{x:.5984604358673096,y:.9216185212135315,z:-.005981989670544863},{x:.5950398445129395,y:.8964707255363464,z:-.01703473925590515},{x:.5941568613052368,y:.8882410526275635,z:-.017784785479307175},{x:.5928806662559509,y:.8803883194923401,z:-.014153128489851952},{x:.5909661054611206,y:.8748103976249695,z:-.012609979137778282},{x:.6128016710281372,y:.8702545762062073,z:-.0022550546564161777},{x:.6150846481323242,y:.8726804256439209,z:-.00414019962772727},{x:.6173093914985657,y:.8770190477371216,z:-.005970994010567665},{x:.619335412979126,y:.8814800977706909,z:-.0036864024586975574},{x:.6292637586593628,y:.8314558267593384,z:-.007714875973761082},{x:.702275276184082,y:.7320667505264282,z:.1433621346950531},{x:.6204835176467896,y:.8689177632331848,z:.0044869170524179935},{x:.6223508715629578,y:.8704851269721985,z:.00352082890458405},{x:.590448260307312,y:.8029727935791016,z:-.03200828656554222},{x:.6097423434257507,y:.7933741211891174,z:-.018042555078864098},{x:.59229576587677,y:.7993767261505127,z:-.032564569264650345},{x:.6171364188194275,y:.7153720259666443,z:-.007672437466681004},{x:.6389747858047485,y:.726390540599823,z:-.002999067772179842},{x:.6151940226554871,y:.769412100315094,z:-.024427521973848343},{x:.6526776552200317,y:.505868136882782,z:.01412637997418642},{x:.6475822329521179,y:.5375454425811768,z:-.0033899128902703524},{x:.6433356404304504,y:.5714520215988159,z:-.017428796738386154},{x:.626949667930603,y:.8962116837501526,z:.005602736957371235},{x:.5868416428565979,y:.5829002261161804,z:-.03727729618549347},{x:.5877229571342468,y:.5345035791397095,z:-.032396964728832245},{x:.5887066125869751,y:.48655083775520325,z:-.025856535881757736},{x:.6507197618484497,y:.6612282991409302,z:.011114613153040409},{x:.6803066730499268,y:.677992045879364,z:.032125361263751984},{x:.5963194370269775,y:.6598632335662842,z:.002976928371936083},{x:.667536199092865,y:.6274255514144897,z:.015618261881172657},{x:.5930740833282471,y:.6940041780471802,z:-.019217798486351967},{x:.6053346395492554,y:.7676517963409424,z:-.050308309495449066},{x:.6934473514556885,y:.6884298920631409,z:.04794462397694588},{x:.6738007664680481,y:.6934011578559875,z:.020697161555290222},{x:.6588084697723389,y:.7033141851425171,z:.008462334051728249},{x:.6346072554588318,y:.7029502391815186,z:.001542167621664703},{x:.6157816648483276,y:.6966525912284851,z:-.002009218093007803},{x:.6015574336051941,y:.688928484916687,z:-.006588225718587637},{x:.5746836066246033,y:.6711069345474243,z:-.03597589209675789},{x:.6947521567344666,y:.7309479117393494,z:.046707939356565475},{x:.6759101152420044,y:.6249120831489563,z:.021654341369867325},{x:.5794773101806641,y:.7971615195274353,z:-.06339326500892639},{x:.6041849851608276,y:.727514922618866,z:-.017512541264295578},{x:.6968844532966614,y:.6440950036048889,z:.12727996706962585},{x:.5910853147506714,y:.679325520992279,z:-.009497715160250664},{x:.6157375574111938,y:.7695677280426025,z:-.010624290443956852},{x:.6606494784355164,y:.6410489678382874,z:.0208158977329731},{x:.6040687561035156,y:.7531470656394958,z:-.045887019485235214},{x:.7012156248092651,y:.780247151851654,z:.14028730988502502},{x:.595149576663971,y:.6527782678604126,z:.006308757700026035},{x:.5925500392913818,y:.7436665892601013,z:-.060151755809783936},{x:.6780198812484741,y:.8905693888664246,z:.0626060739159584},{x:.676746666431427,y:.9113880395889282,z:.08726003766059875},{x:.7030686140060425,y:.7312687635421753,z:.09529774636030197},{x:.688987135887146,y:.8588417172431946,z:.07752864807844162},{x:.6883691549301147,y:.6109960675239563,z:.06669612973928452},{x:.6358906030654907,y:.9702065587043762,z:.023120900616049767},{x:.5781539678573608,y:.8023634552955627,z:-.044763918966054916},{x:.6170316934585571,y:.7408350706100464,z:-.011375460773706436},{x:.688542366027832,y:.6516284346580505,z:.050206027925014496},{x:.6385149359703064,y:.6540714502334595,z:.006462941411882639},{x:.6279382109642029,y:.6563615798950195,z:.003062846139073372},{x:.6268895268440247,y:.8736732006072998,z:.00627936702221632},{x:.6944946050643921,y:.7709181308746338,z:.053824134171009064},{x:.614617109298706,y:1.0022112131118774,z:.02719894051551819},{x:.6493719220161438,y:.9665167927742004,z:.053563784807920456},{x:.6624587178230286,y:.943530797958374,z:.068605437874794},{x:.6162528991699219,y:.6558693051338196,z:.002187855076044798},{x:.6058168411254883,y:.654328465461731,z:.0036193584091961384},{x:.5987918972969055,y:.6536934971809387,z:.006134530063718557},{x:.6831037402153015,y:.6195642948150635,z:.03511790186166763},{x:.6062582731246948,y:.6356398463249207,z:.001280312892049551},{x:.6174948811531067,y:.62776118516922,z:-.0013642468256875873},{x:.6297246217727661,y:.6253792643547058,z:-.0007034156005829573},{x:.6407091617584229,y:.627578616142273,z:.0028144705574959517},{x:.6479622721672058,y:.6322650909423828,z:.00750273372977972},{x:.6915091276168823,y:.5990704298019409,z:.10270945727825165},{x:.6457163095474243,y:.6504453420639038,z:.010696077719330788},{x:.6164222955703735,y:.8231936097145081,z:-.016772059723734856},{x:.6042401194572449,y:.7830976843833923,z:-.03630910441279411},{x:.5922216773033142,y:.8228387236595154,z:-.029992375522851944},{x:.6646111011505127,y:.92097008228302,z:.050967294722795486},{x:.651232898235321,y:.9460107088088989,z:.038000158965587616},{x:.6140977144241333,y:.9882472157478333,z:.009882091544568539},{x:.6870781183242798,y:.8768675327301025,z:.10980932414531708},{x:.5986856818199158,y:.6456438899040222,z:.003999010659754276},{x:.585981547832489,y:.7034481763839722,z:-.0377722829580307},{x:.6342031359672546,y:.9867448806762695,z:.03786521404981613},{x:.7013950943946838,y:.776049017906189,z:.09598205983638763},{x:.6030206680297852,y:.8719133138656616,z:-.007931148633360863},{x:.6050592064857483,y:.8767156004905701,z:-.009791925549507141},{x:.6073468923568726,y:.8831382393836975,z:-.012361008673906326},{x:.6087977290153503,y:.890143632888794,z:-.01098148338496685},{x:.6147705316543579,y:.9110084772109985,z:-.0018823575228452682},{x:.622577965259552,y:.8670604825019836,z:.002609190298244357},{x:.6241236329078674,y:.8651344180107117,z:.0025534380692988634},{x:.6257084608078003,y:.8638408184051514,z:.0023300074972212315},{x:.639931321144104,y:.8449671268463135,z:.0038123116828501225},{x:.6810906529426575,y:.7856625318527222,z:.02717764675617218},{x:.583532452583313,y:.6811994910240173,z:-.026588857173919678},{x:.5855660438537598,y:.6393819451332092,z:-.004512844607234001},{x:.5932201743125916,y:.6398029327392578,z:.0008020466193556786},{x:.6200879812240601,y:.8683351874351501,z:.00417016725987196},{x:.6842559576034546,y:.8330534100532532,z:.050836317241191864},{x:.5754412412643433,y:.6418221592903137,z:-.022838059812784195},{x:.6232790350914001,y:.9295297265052795,z:.006339520215988159},{x:.5764067769050598,y:.694546639919281,z:-.04825803264975548},{x:.59778892993927,y:.7343927621841431,z:-.035004377365112305},{x:.6042810678482056,y:.9441440105438232,z:-.0010970570147037506},{x:.6496372222900391,y:.8869078159332275,z:.021036235615611076},{x:.6274012327194214,y:.7830310463905334,z:-.006658440921455622},{x:.637792706489563,y:.9104999899864197,z:.014290250837802887},{x:.6549934148788452,y:.7748609185218811,z:-.0006672973395325243},{x:.6404005289077759,y:.801220715045929,z:-.0026642554439604282},{x:.6671456694602966,y:.8045546412467957,z:.013180811889469624},{x:.6107483506202698,y:.9680658578872681,z:.001778992242179811},{x:.6060343980789185,y:.744587242603302,z:-.024382334202528},{x:.6602751612663269,y:.8998945355415344,z:.0344940721988678},{x:.6463775038719177,y:.9262562394142151,z:.02617623284459114},{x:.6579852104187012,y:.8602304458618164,z:.021586716175079346},{x:.6926165223121643,y:.8053340315818787,z:.061075080186128616},{x:.6724731922149658,y:.8594399690628052,z:.03457934781908989},{x:.6975721716880798,y:.8183245062828064,z:.09300774335861206},{x:.6512877941131592,y:.8258221745491028,z:.006324059329926968},{x:.594887375831604,y:.7148372530937195,z:-.026898479089140892},{x:.6017440557479858,y:.7773507833480835,z:-.05312420800328255},{x:.6096571683883667,y:.7806998491287231,z:-.037646256387233734},{x:.5952993035316467,y:.7654367685317993,z:-.06398405134677887},{x:.5950021147727966,y:.6201304793357849,z:-.009297547861933708},{x:.6165438890457153,y:.6052900552749634,z:-.012455573305487633},{x:.6362661719322205,y:.6015968918800354,z:-.011649220250546932},{x:.6522727608680725,y:.6046400666236877,z:-.005903332494199276},{x:.6625409722328186,y:.6128141283988953,z:.0030042496509850025},{x:.6688099503517151,y:.6457712054252625,z:.026322703808546066},{x:.7013440728187561,y:.6893666386604309,z:.08984331786632538},{x:.6608623266220093,y:.6749406456947327,z:.0172116681933403},{x:.6482325196266174,y:.6823726296424866,z:.008881398476660252},{x:.6313265562057495,y:.6842025518417358,z:.0031308617908507586},{x:.6147016286849976,y:.6809731721878052,z:.0007630771724507213},{x:.6018834114074707,y:.6755372285842896,z:-.0008834321051836014},{x:.5925027132034302,y:.670681357383728,z:-.001968748401850462},{x:.700127363204956,y:.6871103644371033,z:.13980500400066376},{x:.6095665693283081,y:.7853189706802368,z:-.03074747882783413},{x:.5880423784255981,y:.7229287028312683,z:-.04691500961780548},{x:.5930182337760925,y:.7811514139175415,z:-.06398335844278336},{x:.5867722034454346,y:.7922660112380981,z:-.05794971063733101},{x:.5933279991149902,y:.7842848896980286,z:-.05714067071676254},{x:.6063535809516907,y:.7920218706130981,z:-.02590685710310936},{x:.5839452743530273,y:.794978141784668,z:-.0615212507545948},{x:.5828126072883606,y:.8000800013542175,z:-.0449722595512867},{x:.5909603834152222,y:.6541213393211365,z:.003991890233010054},{x:.5852181911468506,y:.6602938771247864,z:-.004428438376635313},{x:.5825737714767456,y:.6651063561439514,z:-.014345290139317513},{x:.6517343521118164,y:.6362385153770447,z:.012151890434324741},{x:.6615052819252014,y:.6281577944755554,z:.0123682152479887},{x:.4856873154640198,y:.6568945646286011,z:.000720038078725338},{x:.49988406896591187,y:.6547410488128662,z:.0006949726957827806},{x:.48438939452171326,y:.6392973065376282,z:.000705525919329375},{x:.47143134474754333,y:.6589511632919312,z:.0006980331381782889},{x:.48704618215560913,y:.6752797961235046,z:.0006921177846379578},{x:.6243702173233032,y:.640461802482605,z:-6592126737814397e-20},{x:.6390967965126038,y:.6385173797607422,z:-.00016105435497593135},{x:.6230536699295044,y:.6224825382232666,z:-.00016136496560648084},{x:.6095397472381592,y:.641917884349823,z:-.0001803556369850412},{x:.6250996589660645,y:.6586247682571411,z:-.0001785515050869435}]],faceBlendshapes:[{categories:[{index:0,score:5187174338061595e-21,categoryName:\"_neutral\",displayName:\"\"},{index:1,score:.24521504342556,categoryName:\"browDownLeft\",displayName:\"\"},{index:2,score:.1987743377685547,categoryName:\"browDownRight\",displayName:\"\"},{index:3,score:.013400448486208916,categoryName:\"browInnerUp\",displayName:\"\"},{index:4,score:.012361560948193073,categoryName:\"browOuterUpLeft\",displayName:\"\"},{index:5,score:.019305096939206123,categoryName:\"browOuterUpRight\",displayName:\"\"},{index:6,score:28426356948330067e-21,categoryName:\"cheekPuff\",displayName:\"\"},{index:7,score:3.4500112633395474e-7,categoryName:\"cheekSquintLeft\",displayName:\"\"},{index:8,score:4.83789051486383e-7,categoryName:\"cheekSquintRight\",displayName:\"\"},{index:9,score:.07650448381900787,categoryName:\"eyeBlinkLeft\",displayName:\"\"},{index:10,score:.05070012807846069,categoryName:\"eyeBlinkRight\",displayName:\"\"},{index:11,score:.13978900015354156,categoryName:\"eyeLookDownLeft\",displayName:\"\"},{index:12,score:.14198613166809082,categoryName:\"eyeLookDownRight\",displayName:\"\"},{index:13,score:.2177766114473343,categoryName:\"eyeLookInLeft\",displayName:\"\"},{index:14,score:.014739357866346836,categoryName:\"eyeLookInRight\",displayName:\"\"},{index:15,score:.02361512929201126,categoryName:\"eyeLookOutLeft\",displayName:\"\"},{index:16,score:.19679604470729828,categoryName:\"eyeLookOutRight\",displayName:\"\"},{index:17,score:.04874616861343384,categoryName:\"eyeLookUpLeft\",displayName:\"\"},{index:18,score:.049392376095056534,categoryName:\"eyeLookUpRight\",displayName:\"\"},{index:19,score:.34944331645965576,categoryName:\"eyeSquintLeft\",displayName:\"\"},{index:20,score:.2939716875553131,categoryName:\"eyeSquintRight\",displayName:\"\"},{index:21,score:.005955042317509651,categoryName:\"eyeWideLeft\",displayName:\"\"},{index:22,score:.006776117719709873,categoryName:\"eyeWideRight\",displayName:\"\"},{index:23,score:16942436559475027e-21,categoryName:\"jawForward\",displayName:\"\"},{index:24,score:.0045165494084358215,categoryName:\"jawLeft\",displayName:\"\"},{index:25,score:.07803940027952194,categoryName:\"jawOpen\",displayName:\"\"},{index:26,score:2090057751047425e-20,categoryName:\"jawRight\",displayName:\"\"},{index:27,score:.06032035872340202,categoryName:\"mouthClose\",displayName:\"\"},{index:28,score:.00228882092051208,categoryName:\"mouthDimpleLeft\",displayName:\"\"},{index:29,score:.00781762320548296,categoryName:\"mouthDimpleRight\",displayName:\"\"},{index:30,score:.0017093931091949344,categoryName:\"mouthFrownLeft\",displayName:\"\"},{index:31,score:.0019319106359034777,categoryName:\"mouthFrownRight\",displayName:\"\"},{index:32,score:8485237776767462e-20,categoryName:\"mouthFunnel\",displayName:\"\"},{index:33,score:.0009051355300471187,categoryName:\"mouthLeft\",displayName:\"\"},{index:34,score:.0003630454302765429,categoryName:\"mouthLowerDownLeft\",displayName:\"\"},{index:35,score:.00017601238505449146,categoryName:\"mouthLowerDownRight\",displayName:\"\"},{index:36,score:.12865161895751953,categoryName:\"mouthPressLeft\",displayName:\"\"},{index:37,score:.20137207210063934,categoryName:\"mouthPressRight\",displayName:\"\"},{index:38,score:.0022203284315764904,categoryName:\"mouthPucker\",displayName:\"\"},{index:39,score:.0009096377179957926,categoryName:\"mouthRight\",displayName:\"\"},{index:40,score:.34189721941947937,categoryName:\"mouthRollLower\",displayName:\"\"},{index:41,score:.11409689486026764,categoryName:\"mouthRollUpper\",displayName:\"\"},{index:42,score:.17172536253929138,categoryName:\"mouthShrugLower\",displayName:\"\"},{index:43,score:.004038424696773291,categoryName:\"mouthShrugUpper\",displayName:\"\"},{index:44,score:.00023205230536404997,categoryName:\"mouthSmileLeft\",displayName:\"\"},{index:45,score:.00019313619122840464,categoryName:\"mouthSmileRight\",displayName:\"\"},{index:46,score:.0018571305554360151,categoryName:\"mouthStretchLeft\",displayName:\"\"},{index:47,score:.0023813238367438316,categoryName:\"mouthStretchRight\",displayName:\"\"},{index:48,score:24323100660694763e-21,categoryName:\"mouthUpperUpLeft\",displayName:\"\"},{index:49,score:3161552012898028e-20,categoryName:\"mouthUpperUpRight\",displayName:\"\"},{index:50,score:1.08198406678639e-7,categoryName:\"noseSneerLeft\",displayName:\"\"},{index:51,score:12652527630052646e-22,categoryName:\"noseSneerRight\",displayName:\"\"}],headIndex:-1,headName:\"\"}],facialTransformationMatrixes:[{rows:4,columns:4,data:[.9947517514228821,.10230544209480286,.0013679931871592999,0,-.10230997204780579,.9947447776794434,.003816320328041911,0,-.000970348424743861,-.0039362297393381596,.9999914169311523,0,2.8888821601867676,-7.808934211730957,-30.52109146118164,1]}]}},Qi=t.createContext({}),Ki={basePath:\"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.17/wasm\",options:{baseOptions:{modelAssetPath:\"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task\",delegate:\"GPU\"},runningMode:\"VIDEO\",outputFaceBlendshapes:!0,outputFacialTransformationMatrixes:!0}},Ji=t.forwardRef((({basePath:e=Ki.basePath,options:r=Ki.options,children:n},a)=>{const o=JSON.stringify(r),i=f.suspend((async()=>{const{FilesetResolver:t,FaceLandmarker:n}=await Promise.resolve().then((function(){return S(__webpack_require__(/*! @mediapipe/tasks-vision */ \"(ssr)/./node_modules/@mediapipe/tasks-vision/vision_bundle.cjs\"))})),a=await t.forVisionTasks(e);return n.createFromOptions(a,r)}),[e,o]);return t.useEffect((()=>()=>{null==i||i.close(),f.clear([e,o])}),[i,e,o]),t.useImperativeHandle(a,(()=>i),[i]),C.createElement(Qi.Provider,{value:i},n)}));function es(){return t.useContext(Qi)}function ts(e,t){return e.clone().add(t).multiplyScalar(.5)}function rs(e,t,r){const n=e.localToWorld(t);return r.worldToLocal(n)}const ns=t.createContext({}),as=t.forwardRef((({camera:e,videoTexture:r={start:!0},manualDetect:n=!1,faceLandmarkerResult:o,manualUpdate:i=!1,makeDefault:l,smoothTime:c=.25,offset:u=!0,offsetScalar:d=80,eyes:m=!1,eyesAsOrigin:f=!0,depth:p=.15,debug:h=!1,facemesh:x},y)=>{var v,g;const w=a.useThree((e=>e.scene)),z=a.useThree((e=>e.camera)),b=a.useThree((e=>e.set)),E=a.useThree((e=>e.get)),M=e||z,S=t.useRef(null),[P]=t.useState((()=>new R.Object3D)),[D]=t.useState((()=>new R.Vector3)),[F]=t.useState((()=>new R.Vector3)),[k]=t.useState((()=>new R.Vector3)),[_]=t.useState((()=>new R.Vector3)),A=t.useCallback((()=>{P.parent=M.parent;const e=S.current;if(e){const{outerRef:t,eyeRightRef:r,eyeLeftRef:n}=e;if(r.current&&n.current){const{irisDirRef:e}=r.current,{irisDirRef:a}=n.current;e.current&&a.current&&t.current&&(D.copy(rs(e.current,new R.Vector3(0,0,0),t.current)),F.copy(rs(a.current,new R.Vector3(0,0,0),t.current)),P.position.copy(rs(t.current,ts(D,F),M.parent||w)),k.copy(rs(e.current,new R.Vector3(0,0,1),t.current)),_.copy(rs(a.current,new R.Vector3(0,0,1),t.current)),P.lookAt(t.current.localToWorld(ts(k,_))))}else t.current&&(P.position.copy(rs(t.current,new R.Vector3(0,0,0),M.parent||w)),P.lookAt(t.current.localToWorld(new R.Vector3(0,0,1))))}return P}),[M,F,_,D,k,w,P]),[L]=t.useState((()=>new R.Object3D)),I=t.useCallback((function(e,t){if(M){var r;if(null!==(r=t)&&void 0!==r||(t=A()),c>0){const r=1e-9;s.easing.damp3(L.position,t.position,c,e,void 0,void 0,r),s.easing.dampE(L.rotation,t.rotation,c,e,void 0,void 0,r)}else L.position.copy(t.position),L.rotation.copy(t.rotation);M.position.copy(L.position),M.rotation.copy(L.rotation)}}),[M,A,c,L.position,L.rotation]);a.useFrame(((e,t)=>{i||I(t)}));const B=t.useRef(null),[V,U]=t.useState(),O=es(),N=t.useCallback(((e,t)=>{const r=B.current;if(!r)return;const n=r.source.data,a=null==O?void 0:O.detectForVideo(n,e);U(a)}),[O]),j=t.useMemo((()=>Object.assign(Object.create(R.EventDispatcher.prototype),{computeTarget:A,update:I,facemeshApiRef:S})),[A,I]);t.useImperativeHandle(y,(()=>j),[j]),t.useEffect((()=>{if(l){const e=E().controls;return b({controls:j}),()=>b({controls:e})}}),[l,j,E,b]);const W=null!=o?o:V,G=null==W?void 0:W.faceLandmarks[0],H=null==W||null==(v=W.facialTransformationMatrixes)?void 0:v[0],$=null==W||null==(g=W.faceBlendshapes)?void 0:g[0],q={onVideoFrame:N,...r};return C.createElement(ns.Provider,{value:j},!n&&C.createElement(t.Suspense,{fallback:null},\"src\"in q?C.createElement(or,T.default({ref:B},q)):C.createElement(Gi,T.default({ref:B},q))),C.createElement(qi,T.default({ref:S,children:C.createElement(\"meshNormalMaterial\",{side:R.DoubleSide})},x,{points:G,depth:p,facialTransformationMatrix:H,faceBlendshapes:$,eyes:m,eyesAsOrigin:f,offset:u,offsetScalar:d,debug:h,\"rotation-z\":Math.PI,visible:h})))})),os=new R.Vector3,is=new R.Vector2,ss=new R.Vector3,ls=new R.Vector3,cs=new R.Vector3,us=new R.Plane,ds=C.forwardRef((({autoTransform:e=!0,matrix:t,axisLock:r,dragLimits:n,onHover:o,onDragStart:s,onDrag:l,onDragEnd:c,children:u,dragConfig:d,...m},f)=>{const p=a.useThree((e=>e.controls)),{camera:h,size:x,raycaster:y,invalidate:v}=a.useThree(),g=C.useRef(null),w=i.useGesture({onHover:({hovering:e})=>o&&o(null!=e&&e),onDragStart:({event:e})=>{p&&(p.enabled=!1);const{point:t}=e;g.current.matrix.decompose(os,new R.Quaternion,new R.Vector3),ss.copy(t),ls.copy(ss).sub(os),s&&s(os),v()},onDrag:({xy:[t,a],intentional:o})=>{if(!o)return;const i=(t-x.left)/x.width*2-1,s=-(a-x.top)/x.height*2+1;if(is.set(i,s),y.setFromCamera(is,h),r)switch(r){case\"x\":cs.set(1,0,0);break;case\"y\":cs.set(0,1,0);break;case\"z\":cs.set(0,0,1)}else h.getWorldDirection(cs).negate();us.setFromNormalAndCoplanarPoint(cs,ss),y.ray.intersectPlane(us,ss);const c=g.current.matrix.clone(),u=g.current.matrixWorld.clone(),d=new R.Vector3(ss.x-ls.x,ss.y-ls.y,ss.z-ls.z);if(n&&(d.x=n[0]?Math.max(Math.min(d.x,n[0][1]),n[0][0]):d.x,d.y=n[1]?Math.max(Math.min(d.y,n[1][1]),n[1][0]):d.y,d.z=n[2]?Math.max(Math.min(d.z,n[2][1]),n[2][0]):d.z),e){g.current.matrix.setPosition(d);const e=g.current.matrix.clone().multiply(c.invert()),t=g.current.matrix.clone().multiply(u.invert());l&&l(g.current.matrix,e,g.current.matrixWorld,t)}else{const e=(new R.Matrix4).copy(g.current.matrix);e.setPosition(d);const t=e.clone().multiply(c.invert()),r=e.clone().multiply(u.invert());l&&l(e,t,g.current.matrixWorld,r)}v()},onDragEnd:()=>{p&&(p.enabled=!0),c&&c(),v()}},{drag:{filterTaps:!0,threshold:1,...\"object\"==typeof d?d:{}}});return C.useImperativeHandle(f,(()=>g.current),[]),C.useLayoutEffect((()=>{t&&(g.current.matrix=t)}),[t]),C.createElement(\"group\",T.default({ref:g},w(),{matrix:t,matrixAutoUpdate:!1},m),u)}));exports.AccumulativeShadows=sa,exports.AdaptiveDpr=function({pixelated:e}){const t=a.useThree((e=>e.gl)),r=a.useThree((e=>e.internal.active)),n=a.useThree((e=>e.performance.current)),o=a.useThree((e=>e.viewport.initialDpr)),i=a.useThree((e=>e.setDpr));return C.useEffect((()=>{const n=t.domElement;return()=>{r&&i(o),e&&n&&(n.style.imageRendering=\"auto\")}}),[]),C.useEffect((()=>{i(n*o),e&&t.domElement&&(t.domElement.style.imageRendering=1===n?\"auto\":\"pixelated\")}),[n]),null},exports.AdaptiveEvents=function(){const e=a.useThree((e=>e.get)),t=a.useThree((e=>e.setEvents)),r=a.useThree((e=>e.performance.current));return C.useEffect((()=>{const r=e().events.enabled;return()=>t({enabled:r})}),[]),C.useEffect((()=>t({enabled:1===r})),[r]),null},exports.ArcballControls=pt,exports.AsciiRenderer=function({renderIndex:e=1,bgColor:t=\"black\",fgColor:r=\"white\",characters:n=\" .:-+*=%@#\",invert:o=!0,color:i=!1,resolution:s=.15}){const{size:l,gl:c,scene:d,camera:m}=a.useThree(),f=C.useMemo((()=>{const e=new u.AsciiEffect(c,n,{invert:o,color:i,resolution:s});return e.domElement.style.position=\"absolute\",e.domElement.style.top=\"0px\",e.domElement.style.left=\"0px\",e.domElement.style.pointerEvents=\"none\",e}),[n,o,i,s]);return C.useLayoutEffect((()=>{f.domElement.style.color=r,f.domElement.style.backgroundColor=t}),[r,t]),C.useEffect((()=>(c.domElement.style.opacity=\"0\",c.domElement.parentNode.appendChild(f.domElement),()=>{c.domElement.style.opacity=\"1\",c.domElement.parentNode.removeChild(f.domElement)})),[f]),C.useEffect((()=>{f.setSize(l.width,l.height)}),[f,l]),a.useFrame((e=>{f.render(d,m)}),e),C.createElement(C.Fragment,null)},exports.BBAnchor=({anchor:e,...t})=>{const r=C.useRef(null),n=C.useRef(null);return C.useEffect((()=>{var e;null!=(e=r.current)&&null!=(e=e.parent)&&e.parent&&(n.current=r.current.parent,r.current.parent.parent.add(r.current))}),[]),a.useFrame((()=>{n.current&&(yr.setFromObject(n.current),yr.getSize(vr),r.current.position.set(n.current.position.x+vr.x*(Array.isArray(e)?e[0]:e.x)/2,n.current.position.y+vr.y*(Array.isArray(e)?e[1]:e.y)/2,n.current.position.z+vr.z*(Array.isArray(e)?e[2]:e.z)/2))})),C.createElement(\"group\",T.default({ref:r},t))},exports.Backdrop=function({children:e,floor:t=.25,segments:r=20,receiveShadow:n,...a}){const o=C.useRef(null);return C.useLayoutEffect((()=>{let e=0;const n=r/r/2,a=o.current.attributes.position;for(let o=0;o<r+1;o++)for(let i=0;i<r+1;i++)a.setXYZ(e++,o/r-n+(0===o?-t:0),i/r-n,ma(o/r));a.needsUpdate=!0,o.current.computeVertexNormals()}),[r,t]),C.createElement(\"group\",a,C.createElement(\"mesh\",{receiveShadow:n,rotation:[-Math.PI/2,0,Math.PI/2]},C.createElement(\"planeGeometry\",{ref:o,args:[1,1,r,r]}),e))},exports.BakeShadows=function(){const e=a.useThree((e=>e.gl));return t.useEffect((()=>(e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,()=>{e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0})),[e.shadowMap]),null},exports.Billboard=ne,exports.Bounds=Vn,exports.Box=un,exports.Bvh=hr,exports.CameraControls=vt,exports.CameraShake=On,exports.Capsule=Cn,exports.CatmullRomLine=xe,exports.Caustics=ga,exports.Center=br,exports.Circle=dn,exports.Clone=je,exports.Cloud=ja,exports.CloudInstance=Na,exports.Clouds=Oa,exports.ComputedAttribute=({compute:e,name:t,...r})=>{const[a]=C.useState((()=>new n.BufferAttribute(new Float32Array(0),1))),o=C.useRef(null);return C.useLayoutEffect((()=>{if(o.current){var t;const r=null!==(t=o.current.parent)&&void 0!==t?t:o.current.__r3f.parent,n=e(r);o.current.copy(n)}}),[e]),C.createElement(\"primitive\",T.default({ref:o,object:a,attach:`attributes-${t}`},r))},exports.Cone=mn,exports.ContactShadows=aa,exports.CubeCamera=function({children:e,frames:t=1/0,resolution:r,near:n,far:o,envMap:i,fog:s,...l}){const c=C.useRef(null),{fbo:u,camera:d,update:m}=lt({resolution:r,near:n,far:o,envMap:i,fog:s});let f=0;return a.useFrame((()=>{c.current&&(t===1/0||f<t)&&(c.current.visible=!1,m(),c.current.visible=!0,f++)})),C.createElement(\"group\",l,C.createElement(\"primitive\",{object:d}),C.createElement(\"group\",{ref:c},null==e?void 0:e(u.texture)))},exports.CubeTexture=function({children:e,files:t,...r}){const n=Kt(t,{...r});return C.createElement(C.Fragment,null,null==e?void 0:e(n))},exports.CubicBezierLine=he,exports.CurveModifier=Gr,exports.CycleRaycast=function({onChanged:e,portal:t,preventDefault:r=!0,scroll:n=!0,keyCode:o=9}){const i=C.useRef(0),s=a.useThree((e=>e.setEvents)),l=a.useThree((e=>e.get)),c=a.useThree((e=>e.gl));return C.useEffect((()=>{var a;let u,d=[];const m=l().events.filter,f=null!==(a=null==t?void 0:t.current)&&void 0!==a?a:c.domElement.parentNode,p=()=>f&&e&&e(d,Math.round(i.current)%d.length);s({filter:(e,t)=>{let r=[...e];r.length===d.length&&d.every((e=>r.map((e=>e.object.uuid)).includes(e.object.uuid)))||(i.current=0,d=r,p()),m&&(r=m(r,t));for(let e=0;e<Math.round(i.current)%r.length;e++){const e=r.shift();r=[...r,e]}return r}});const h=e=>{var t,r;i.current=e(i.current),null==(t=l().events.handlers)||t.onPointerCancel(void 0),null==(r=l().events.handlers)||r.onPointerMove(u),p()},x=e=>{(e.keyCode||e.which)===o&&(r&&e.preventDefault(),d.length>1&&h((e=>e+1)))},y=e=>{r&&e.preventDefault();let t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),d.length>1&&h((e=>Math.abs(e-t)))},v=e=>u=e;return document.addEventListener(\"pointermove\",v,{passive:!0}),n&&document.addEventListener(\"wheel\",y),void 0!==o&&document.addEventListener(\"keydown\",x),()=>{s({filter:m}),void 0!==o&&document.removeEventListener(\"keydown\",x),n&&document.removeEventListener(\"wheel\",y),document.removeEventListener(\"pointermove\",v)}}),[c,l,s,r,n,o]),null},exports.Cylinder=fn,exports.Decal=Xe,exports.Detailed=So,exports.DetectGPU=function({children:e,...t}){const r=fr(t);return C.createElement(C.Fragment,null,null==e?void 0:e(r))},exports.DeviceOrientationControls=ct,exports.Dodecahedron=Mn,exports.DragControls=ds,exports.Edges=Le,exports.Effects=Me,exports.Environment=na,exports.EnvironmentCube=ea,exports.EnvironmentMap=Jn,exports.EnvironmentPortal=ta,exports.Example=Er,exports.Extrude=Sn,exports.FaceControls=as,exports.FaceLandmarker=Ji,exports.FaceLandmarkerDefaults=Ki,exports.Facemesh=qi,exports.FacemeshDatas=Yi,exports.FacemeshEye=Zi,exports.FacemeshEyeDefaults=Xi,exports.Fbo=({children:e,width:t,height:r,...n})=>{const a=ot(t,r,n);return C.createElement(C.Fragment,null,null==e?void 0:e(a))},exports.Fbx=function({path:e,...t}){const r=Jt(e).children[0];return C.createElement(je,T.default({},t,{object:r}))},exports.FirstPersonControls=yt,exports.Fisheye=function({renderPriority:e=1,zoom:t=0,segments:r=64,children:n,resolution:o=896,...i}){const s=C.useRef(null),l=C.useRef(null),{width:c,height:u}=a.useThree((e=>e.size)),[d]=C.useState((()=>new R.OrthographicCamera));C.useLayoutEffect((()=>{d.position.set(0,0,100),d.zoom=100,d.left=c/-2,d.right=c/2,d.top=u/2,d.bottom=u/-2,d.updateProjectionMatrix()}),[c,u]);const m=Math.sqrt(c*c+u*u)/100*(.5+t/2),f=new R.Vector3,p=new R.Sphere(new R.Vector3,m),h=new R.Matrix3,x=C.useCallback(((e,t,r)=>{t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,d),t.raycaster.ray.intersectSphere(p,f)&&(f.normalize(),h.getNormalMatrix(l.current.camera.matrixWorld),l.current.camera.getWorldPosition(t.raycaster.ray.origin),t.raycaster.ray.direction.set(0,0,1).reflect(f),t.raycaster.ray.direction.x*=-1,t.raycaster.ray.direction.applyNormalMatrix(h).multiplyScalar(-1))}),[]);return a.useFrame((t=>{e&&t.gl.render(s.current,d)}),e),C.createElement(C.Fragment,null,C.createElement(\"mesh\",T.default({ref:s},i,{scale:m}),C.createElement(\"sphereGeometry\",{args:[1,r,r]}),C.createElement(\"meshBasicMaterial\",null,C.createElement(_o,{compute:x,attach:\"envMap\",flip:!0,resolution:o,ref:l},n,C.createElement(Io,{api:l})))))},exports.Float=Nn,exports.FlyControls=ut,exports.GizmoHelper=({alignment:e=\"bottom-right\",margin:t=[80,80],renderPriority:r=1,onUpdate:o,onTarget:i,children:s})=>{const l=a.useThree((e=>e.size)),c=a.useThree((e=>e.camera)),u=a.useThree((e=>e.controls)),d=a.useThree((e=>e.invalidate)),m=C.useRef(null),f=C.useRef(null),p=C.useRef(!1),h=C.useRef(0),x=C.useRef(new n.Vector3(0,0,0)),y=C.useRef(new n.Vector3(0,0,0));C.useEffect((()=>{y.current.copy(c.up),Pt.up.copy(c.up)}),[c]);const v=C.useCallback((e=>{p.current=!0,(u||i)&&(x.current=(null==i?void 0:i())||(At(u)?u.getTarget(x.current):null==u?void 0:u.target)),h.current=c.position.distanceTo(kt),Dt.copy(c.quaternion),_t.copy(e).multiplyScalar(h.current).add(kt),Pt.lookAt(_t),Ft.copy(Pt.quaternion),d()}),[u,c,i,d]);a.useFrame(((e,t)=>{if(f.current&&m.current){var r;if(p.current)if(Dt.angleTo(Ft)<.01)p.current=!1,\"minPolarAngle\"in u&&c.up.copy(y.current);else{const e=t*Ct;Dt.rotateTowards(Ft,e),c.position.set(0,0,1).applyQuaternion(Dt).multiplyScalar(h.current).add(x.current),c.up.set(0,1,0).applyQuaternion(Dt).normalize(),c.quaternion.copy(Dt),At(u)&&u.setPosition(c.position.x,c.position.y,c.position.z),o?o():u&&u.update(t),d()}Rt.copy(c.matrix).invert(),null==(r=m.current)||r.quaternion.setFromRotationMatrix(Rt)}}));const g=C.useMemo((()=>({tweenCamera:v})),[v]),[w,z]=t,b=e.endsWith(\"-center\")?0:e.endsWith(\"-left\")?-l.width/2+w:l.width/2-w,E=e.startsWith(\"center-\")?0:e.startsWith(\"top-\")?l.height/2-z:-l.height/2+z;return C.createElement(Mt,{renderPriority:r},C.createElement(St.Provider,{value:g},C.createElement(it,{makeDefault:!0,ref:f,position:[0,0,200]}),C.createElement(\"group\",{ref:m,position:[b,E,0]},s)))},exports.GizmoViewcube=e=>C.createElement(\"group\",{scale:[60,60,60]},C.createElement($t,e),Wt.map(((t,r)=>C.createElement(qt,T.default({key:r,position:t,dimensions:Gt[r]},e)))),Nt.map(((t,r)=>C.createElement(qt,T.default({key:r,position:t,dimensions:jt},e))))),exports.GizmoViewport=({hideNegativeAxes:e,hideAxisHeads:t,disabled:r,font:n=\"18px Inter var, Arial, sans-serif\",axisColors:a=[\"#ff2060\",\"#20df80\",\"#2080ff\"],axisHeadScale:o=1,axisScale:i,labels:s=[\"X\",\"Y\",\"Z\"],labelColor:l=\"#000\",onClick:c,...u})=>{const[d,m,f]=a,{tweenCamera:p}=Tt(),h={font:n,disabled:r,labelColor:l,onClick:c,axisHeadScale:o,onPointerDown:r?void 0:e=>{p(e.object.position),e.stopPropagation()}};return C.createElement(\"group\",T.default({scale:40},u),C.createElement(Xt,{color:d,rotation:[0,0,0],scale:i}),C.createElement(Xt,{color:m,rotation:[0,0,Math.PI/2],scale:i}),C.createElement(Xt,{color:f,rotation:[0,-Math.PI/2,0],scale:i}),!t&&C.createElement(C.Fragment,null,C.createElement(Zt,T.default({arcStyle:d,position:[1,0,0],label:s[0]},h)),C.createElement(Zt,T.default({arcStyle:m,position:[0,1,0],label:s[1]},h)),C.createElement(Zt,T.default({arcStyle:f,position:[0,0,1],label:s[2]},h)),!e&&C.createElement(C.Fragment,null,C.createElement(Zt,T.default({arcStyle:d,position:[-1,0,0]},h)),C.createElement(Zt,T.default({arcStyle:m,position:[0,-1,0]},h)),C.createElement(Zt,T.default({arcStyle:f,position:[0,0,-1]},h)))))},exports.Gltf=et,exports.GradientTexture=function({stops:e,colors:t,size:r=1024,width:n=16,type:o=Se.Linear,innerCircleRadius:i=0,outerCircleRadius:s=\"auto\",...l}){const c=a.useThree((e=>e.gl)),u=C.useMemo((()=>{const a=document.createElement(\"canvas\"),l=a.getContext(\"2d\");let c;if(a.width=n,a.height=r,o===Se.Linear)c=l.createLinearGradient(0,0,0,r);else{const e=a.width/2,t=a.height/2,r=\"auto\"!==s?Math.abs(Number(s)):Math.sqrt(e**2+t**2);c=l.createRadialGradient(e,t,Math.abs(i),e,t,r)}const u=new R.Color;let d=e.length;for(;d--;)c.addColorStop(e[d],u.set(t[d]).getStyle());return l.save(),l.fillStyle=c,l.fillRect(0,0,n,r),l.restore(),a}),[e]);return C.createElement(\"canvasTexture\",T.default({colorSpace:c.outputColorSpace,args:[u],attach:\"map\"},l))},exports.GradientType=Se,exports.Grid=Qt,exports.Helper=({type:e,args:t=[]})=>{const r=C.useRef(null),n=C.useRef(null);return C.useLayoutEffect((()=>{n.current=r.current.parent})),ur(n,e,...t),C.createElement(\"object3D\",{ref:r})},exports.Html=H,exports.Hud=Mt,exports.Icosahedron=bn,exports.Image=Ae,exports.Instance=Br,exports.InstancedAttribute=Or,exports.Instances=Vr,exports.IsObject=Ce,exports.KeyboardControls=function({map:e,children:t,onChange:r,domElement:n}){const a=e.map((e=>e.name+e.keys)).join(\"-\"),i=C.useMemo((()=>o.create(c.subscribeWithSelector((()=>e.reduce(((e,t)=>({...e,[t.name]:!1})),{}))))),[a]),s=C.useMemo((()=>[i.subscribe,i.getState,i]),[a]),l=i.setState;return C.useEffect((()=>{const t=e.map((({name:e,keys:t,up:n})=>({keys:t,up:n,fn:t=>{l({[e]:t}),r&&r(e,t,s[1]())}}))).reduce(((e,{keys:t,fn:r,up:n=!0})=>(t.forEach((t=>e[t]={fn:r,pressed:!1,up:n})),e)),{}),a=({key:e,code:r})=>{const n=t[e]||t[r];if(!n)return;const{fn:a,pressed:o,up:i}=n;n.pressed=!0,!i&&o||a(!0)},o=({key:e,code:r})=>{const n=t[e]||t[r];if(!n)return;const{fn:a,up:o}=n;n.pressed=!1,o&&a(!1)},i=n||window;return i.addEventListener(\"keydown\",a,{passive:!0}),i.addEventListener(\"keyup\",o,{passive:!0}),()=>{i.removeEventListener(\"keydown\",a),i.removeEventListener(\"keyup\",o)}}),[n,a]),C.createElement(te.Provider,{value:s,children:t})},exports.Ktx2=({children:e,input:t,basisPath:r})=>{const n=tr(t,r);return C.createElement(C.Fragment,null,null==e?void 0:e(n))},exports.Lathe=Tn,exports.Lightformer=Ca,exports.Line=me,exports.Loader=function({containerStyles:e,innerStyles:t,barStyles:r,dataStyles:n,dataInterpolation:a=X,initialState:o=e=>e}){const{active:i,progress:s}=q(),l=C.useRef(0),c=C.useRef(0),u=C.useRef(null),[d,m]=C.useState(o(i));C.useEffect((()=>{let e;return i!==d&&(e=setTimeout((()=>m(i)),300)),()=>clearTimeout(e)}),[d,i]);const f=C.useCallback((()=>{u.current&&(l.current+=(s-l.current)/2,(l.current>.95*s||100===s)&&(l.current=s),u.current.innerText=a(l.current),l.current<s&&(c.current=requestAnimationFrame(f)))}),[a,s]);return C.useEffect((()=>(f(),()=>cancelAnimationFrame(c.current))),[f]),d?C.createElement(\"div\",{style:{...Z.container,opacity:i?1:0,...e}},C.createElement(\"div\",null,C.createElement(\"div\",{style:{...Z.inner,...t}},C.createElement(\"div\",{style:{...Z.bar,transform:`scaleX(${s/100})`,...r}}),C.createElement(\"span\",{ref:u,style:{...Z.data,...n}})))):null},exports.MapControls=dt,exports.MarchingCube=He,exports.MarchingCubes=Ge,exports.MarchingPlane=$e,exports.Mask=Lo,exports.MatcapTexture=({children:e,id:t,format:r,onLoad:n})=>{const a=Za(t,r,n);return C.createElement(C.Fragment,null,null==e?void 0:e(a))},exports.Merged=Ur,exports.MeshDiscardMaterial=nn,exports.MeshDistortMaterial=$r,exports.MeshPortalMaterial=Vo,exports.MeshReflectorMaterial=Kr,exports.MeshRefractionMaterial=function({aberrationStrength:e=0,fastChroma:r=!0,envMap:n,...o}){a.extend({MeshRefractionMaterial:Jr});const i=t.useRef(),{size:s}=a.useThree(),l=t.useMemo((()=>{var t,a;const o={},i=(s=n)&&s.isCubeTexture;var s;const l=(null!==(t=i?null==(a=n.image[0])?void 0:a.width:n.image.width)&&void 0!==t?t:1024)/4,c=Math.floor(Math.log2(l)),u=Math.pow(2,c),d=3*Math.max(u,112),m=4*u;return i&&(o.ENVMAP_TYPE_CUBEM=\"\"),o.CUBEUV_TEXEL_WIDTH=\"\"+1/d,o.CUBEUV_TEXEL_HEIGHT=\"\"+1/m,o.CUBEUV_MAX_MIP=`${c}.0`,e>0&&(o.CHROMATIC_ABERRATIONS=\"\"),r&&(o.FAST_CHROMA=\"\"),o}),[e,r]);return t.useLayoutEffect((()=>{var e;const t=null==(e=i.current)||null==(e=e.__r3f)||null==(e=e.parent)?void 0:e.geometry;t&&(i.current.bvh=new w.MeshBVHUniformStruct,i.current.bvh.updateFrom(new w.MeshBVH(t.clone().toNonIndexed(),{strategy:w.SAH})))}),[]),a.useFrame((({camera:e})=>{i.current.viewMatrixInverse=e.matrixWorld,i.current.projectionMatrixInverse=e.projectionMatrixInverse})),C.createElement(\"meshRefractionMaterial\",T.default({key:JSON.stringify(l),defines:l,ref:i,resolution:[s.width,s.height],aberrationStrength:e,envMap:n},o))},exports.MeshTransmissionMaterial=rn,exports.MeshWobbleMaterial=Xr,exports.MotionPathControls=bt,exports.MultiMaterial=function(e){const t=C.useRef(null);return C.useLayoutEffect((()=>{var e;const r=null==(e=t.current)?void 0:e.parent,n=null==r?void 0:r.geometry;if(n){const e=r.material;r.material=t.current.__r3f.objects;const a=[...n.groups];return n.clearGroups(),r.material.forEach(((e,t)=>{t<r.material.length-1&&(e.depthWrite=!1),n.addGroup(0,1/0,t)})),()=>{r.material=e,n.groups=a}}})),C.createElement(\"group\",T.default({ref:t},e))},exports.NormalTexture=({children:e,id:t,onLoad:r,...n})=>{const a=Ya(t,n,r);return C.createElement(C.Fragment,null,null==e?void 0:e(a))},exports.Octahedron=En,exports.OrbitControls=mt,exports.OrthographicCamera=it,exports.Outlines=function({color:e=\"black\",opacity:t=1,transparent:r=!1,screenspace:n=!1,toneMapped:o=!0,polygonOffset:i=!1,polygonOffsetFactor:s=0,renderOrder:l=0,thickness:c=.05,angle:d=Math.PI,clippingPlanes:m,...f}){const p=C.useRef(),[h]=C.useState((()=>new Ie({side:R.BackSide}))),{gl:x}=a.useThree(),y=x.getDrawingBufferSize(new R.Vector2);C.useMemo((()=>a.extend({OutlinesMaterial:Ie})),[]);const v=C.useRef(0),g=C.useRef();return C.useLayoutEffect((()=>{const e=p.current;if(!e)return;const t=e.parent;if(t&&t.geometry&&(v.current!==d||g.current!==t.geometry)){var r;v.current=d,g.current=t.geometry;let n=null==(r=e.children)?void 0:r[0];n&&(d&&n.geometry.dispose(),e.remove(n)),t.skeleton?(n=new R.SkinnedMesh,n.material=h,n.bind(t.skeleton,t.bindMatrix),e.add(n)):t.isInstancedMesh?(n=new R.InstancedMesh(t.geometry,h,t.count),n.instanceMatrix=t.instanceMatrix,e.add(n)):(n=new R.Mesh,n.material=h,e.add(n)),n.geometry=d?u.toCreasedNormals(t.geometry,d):t.geometry,n.morphTargetInfluences=t.morphTargetInfluences,n.morphTargetDictionary=t.morphTargetDictionary}})),C.useLayoutEffect((()=>{const u=p.current;if(!u)return;const d=u.children[0];if(d){d.renderOrder=l;const f=u.parent;a.applyProps(d,{morphTargetInfluences:f.morphTargetInfluences,morphTargetDictionary:f.morphTargetDictionary}),a.applyProps(d.material,{transparent:r,thickness:c,color:e,opacity:t,size:y,screenspace:n,toneMapped:o,polygonOffset:i,polygonOffsetFactor:s,clippingPlanes:m,clipping:m&&m.length>0})}})),C.useEffect((()=>()=>{const e=p.current;if(!e)return;const t=e.children[0];t&&(d&&t.geometry.dispose(),e.remove(t))}),[]),C.createElement(\"group\",T.default({ref:p},f))},exports.PerformanceMonitor=function({iterations:e=10,ms:r=250,threshold:n=.75,step:o=.1,factor:i=.5,flipflops:s=1/0,bounds:l=e=>e>100?[60,100]:[40,60],onIncline:c,onDecline:u,onChange:d,onFallback:m,children:f}){const p=Math.pow(10,0),[h,x]=t.useState((()=>({fps:0,index:0,factor:i,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:e=>{const t=Symbol();return h.subscriptions.set(t,e.current),()=>{h.subscriptions.delete(t)}}})));let y=0;return a.useFrame((()=>{const{frames:t,averages:a}=h;if(!h.fallback&&a.length<e){t.push(performance.now());const i=t[t.length-1]-t[0];if(i>=r){if(h.fps=Math.round(t.length/i*1e3*p)/p,h.refreshrate=Math.max(h.refreshrate,h.fps),a[h.index++%e]=h.fps,a.length===e){const[t,r]=l(h.refreshrate),i=a.filter((e=>e>=r)),f=a.filter((e=>e<t));i.length>e*n&&(h.factor=Math.min(1,h.factor+o),h.flipped++,c&&c(h),h.subscriptions.forEach((e=>e.onIncline&&e.onIncline(h)))),f.length>e*n&&(h.factor=Math.max(0,h.factor-o),h.flipped++,u&&u(h),h.subscriptions.forEach((e=>e.onDecline&&e.onDecline(h)))),y!==h.factor&&(y=h.factor,d&&d(h),h.subscriptions.forEach((e=>e.onChange&&e.onChange(h)))),h.flipped>s&&!h.fallback&&(h.fallback=!0,m&&m(h),h.subscriptions.forEach((e=>e.onFallback&&e.onFallback(h)))),h.averages=[]}h.frames=[]}}})),C.createElement(Do.Provider,{value:h},f)},exports.PerspectiveCamera=st,exports.PivotControls=ji,exports.Plane=hn,exports.Point=yo,exports.PointMaterial=sn,exports.PointMaterialImpl=on,exports.PointerLockControls=xt,exports.Points=go,exports.PointsBuffer=vo,exports.Polyhedron=zn,exports.PositionMesh=Rr,exports.PositionPoint=co,exports.PositionalAudio=ye,exports.Preload=function({all:e,scene:t,camera:r}){const o=a.useThree((({gl:e})=>e)),i=a.useThree((({camera:e})=>e)),s=a.useThree((({scene:e})=>e));return C.useLayoutEffect((()=>{const a=[];e&&(t||s).traverse((e=>{!1===e.visible&&(a.push(e),e.visible=!0)})),o.compile(t||s,r||i);const l=new n.WebGLCubeRenderTarget(128);new n.CubeCamera(.01,1e5,l).update(o,t||s),l.dispose(),a.forEach((e=>e.visible=!1))}),[]),null},exports.PresentationControls=function({enabled:e=!0,snap:t,global:r,domElement:o,cursor:s=!0,children:c,speed:u=1,rotation:d=[0,0,0],zoom:m=1,polar:f=[0,Math.PI/2],azimuth:p=[-1/0,1/0],config:h={mass:1,tension:170,friction:26}}){const x=a.useThree((e=>e.events)),y=a.useThree((e=>e.gl)),v=o||x.connected||y.domElement,{size:g}=a.useThree(),w=C.useMemo((()=>[d[0]+f[0],d[0]+f[1]]),[d[0],f[0],f[1]]),z=C.useMemo((()=>[d[1]+p[0],d[1]+p[1]]),[d[1],p[0],p[1]]),b=C.useMemo((()=>[n.MathUtils.clamp(d[0],...w),n.MathUtils.clamp(d[1],...z),d[2]]),[d[0],d[1],d[2],w,z]),[E,M]=l.useSpring((()=>({scale:1,rotation:b,config:h})));C.useEffect((()=>{M.start({scale:1,rotation:b,config:h})}),[b]),C.useEffect((()=>{if(r&&s&&e)return v.style.cursor=\"grab\",y.domElement.style.cursor=\"\",()=>{v.style.cursor=\"default\",y.domElement.style.cursor=\"default\"}}),[r,s,v,e]);const S=i.useGesture({onHover:({last:t})=>{s&&!r&&e&&(v.style.cursor=t?\"auto\":\"grab\")},onDrag:({down:r,delta:[a,o],memo:[i,l]=E.rotation.animation.to||b})=>{if(!e)return[o,a];s&&(v.style.cursor=r?\"grabbing\":\"grab\"),a=n.MathUtils.clamp(l+a/g.width*Math.PI*u,...z),o=n.MathUtils.clamp(i+o/g.height*Math.PI*u,...w);const c=t&&!r&&\"boolean\"!=typeof t?t:h;return M.start({scale:r&&o>w[1]/2?m:1,rotation:t&&!r?b:[o,a,0],config:e=>\"scale\"===e?{...c,friction:3*c.friction}:c}),[o,a]}},{target:r?v:void 0});return C.createElement(l.a.group,T.default({},null==S?void 0:S(),E),c)},exports.Progress=function({children:e}){const t=q();return C.createElement(C.Fragment,null,null==e?void 0:e(t))},exports.QuadraticBezierLine=pe,exports.RandomizedLight=la,exports.Reflector=wa,exports.RenderCubeTexture=_o,exports.RenderTexture=Fo,exports.Resize=_n,exports.Ring=wn,exports.RoundedBox=Dn,exports.Sampler=function({children:e,weight:t,transform:r,instances:n,mesh:a,count:o=16,...i}){const s=C.useRef(null),l=C.useRef(null),c=C.useRef(null);return C.useLayoutEffect((()=>{var e,t;l.current=null!==(e=null==n?void 0:n.current)&&void 0!==e?e:s.current.children.find((e=>e.hasOwnProperty(\"instanceMatrix\"))),c.current=null!==(t=null==a?void 0:a.current)&&void 0!==t?t:s.current.children.find((e=>\"Mesh\"===e.type))}),[e,null==a?void 0:a.current,null==n?void 0:n.current]),Ne(c,o,r,t,l),C.createElement(\"group\",T.default({ref:s},i),e)},exports.ScreenQuad=kn,exports.ScreenSizer=de,exports.ScreenSpace=ae,exports.ScreenVideoTexture=Wi,exports.Scroll=ee,exports.ScrollControls=function({eps:e=1e-5,enabled:t=!0,infinite:r,horizontal:n,pages:o=1,distance:i=1,damping:l=.25,maxSpeed:c=1/0,prepend:u=!1,style:d={},children:m}){const{get:f,setEvents:p,gl:h,size:x,invalidate:y,events:v}=a.useThree(),[g]=C.useState((()=>document.createElement(\"div\"))),[w]=C.useState((()=>document.createElement(\"div\"))),[z]=C.useState((()=>document.createElement(\"div\"))),b=h.domElement.parentNode,E=C.useRef(0),M=C.useMemo((()=>{const t={el:g,eps:e,fill:w,fixed:z,horizontal:n,damping:l,offset:0,delta:0,scroll:E,pages:o,range(e,t,r=0){const n=e-r,a=n+t+2*r;return this.offset<n?0:this.offset>a?1:(this.offset-n)/(a-n)},curve(e,t,r=0){return Math.sin(this.range(e,t,r)*Math.PI)},visible(e,t,r=0){const n=e-r,a=n+t+2*r;return this.offset>=n&&this.offset<=a}};return t}),[e,l,n,o]);C.useEffect((()=>{g.style.position=\"absolute\",g.style.width=\"100%\",g.style.height=\"100%\",g.style[n?\"overflowX\":\"overflowY\"]=\"auto\",g.style[n?\"overflowY\":\"overflowX\"]=\"hidden\",g.style.top=\"0px\",g.style.left=\"0px\";for(const e in d)g.style[e]=d[e];z.style.position=\"sticky\",z.style.top=\"0px\",z.style.left=\"0px\",z.style.width=\"100%\",z.style.height=\"100%\",z.style.overflow=\"hidden\",g.appendChild(z),w.style.height=n?\"100%\":o*i*100+\"%\",w.style.width=n?o*i*100+\"%\":\"100%\",w.style.pointerEvents=\"none\",g.appendChild(w),u?b.prepend(g):b.appendChild(g),g[n?\"scrollLeft\":\"scrollTop\"]=1;const e=v.connected||h.domElement;requestAnimationFrame((()=>null==v.connect?void 0:v.connect(g)));const t=f().events.compute;return p({compute(e,t){const{left:r,top:n}=b.getBoundingClientRect(),a=e.clientX-r,o=e.clientY-n;t.pointer.set(a/t.size.width*2-1,-o/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),()=>{b.removeChild(g),p({compute:t}),null==v.connect||v.connect(e)}}),[o,i,n,g,w,z,b]),C.useEffect((()=>{if(v.connected===g){const e=x[n?\"width\":\"height\"],a=g[n?\"scrollWidth\":\"scrollHeight\"],o=a-e;let i=0,s=!0,l=!0;const c=()=>{if(t&&!l&&(y(),i=g[n?\"scrollLeft\":\"scrollTop\"],E.current=i/o,r)){if(!s)if(i>=o){const e=1-M.offset;g[n?\"scrollLeft\":\"scrollTop\"]=1,E.current=M.offset=-e,s=!0}else if(i<=0){const e=1+M.offset;g[n?\"scrollLeft\":\"scrollTop\"]=a,E.current=M.offset=e,s=!0}s&&setTimeout((()=>s=!1),40)}};g.addEventListener(\"scroll\",c,{passive:!0}),requestAnimationFrame((()=>l=!1));const u=e=>g.scrollLeft+=e.deltaY/2;return n&&g.addEventListener(\"wheel\",u,{passive:!0}),()=>{g.removeEventListener(\"scroll\",c),n&&g.removeEventListener(\"wheel\",u)}}}),[g,v,x,r,M,y,n,t]);let S=0;return a.useFrame(((t,r)=>{S=M.offset,s.easing.damp(M,\"offset\",E.current,l,r,c,void 0,e),s.easing.damp(M,\"delta\",Math.abs(S-M.offset),l,r,c,void 0,e),M.delta>e&&y()})),C.createElement(Y.Provider,{value:M},m)},exports.Segment=Mo,exports.SegmentObject=bo,exports.Segments=zo,exports.Select=function({box:e,multiple:t,children:r,onChange:n,onChangePointerUp:o,border:i=\"1px solid #55aaff\",backgroundColor:s=\"rgba(75, 160, 255, 0.1)\",filter:l=e=>e,...c}){const[m,f]=C.useState(!1),{setEvents:p,camera:h,raycaster:x,gl:y,controls:v,size:g,get:w}=a.useThree(),[z,b]=C.useState(!1),[E,M]=C.useReducer(((e,{object:t,shift:r})=>void 0===t?[]:Array.isArray(t)?t:r?e.includes(t)?e.filter((e=>e!==t)):[t,...e]:e[0]===t?[]:[t]),[]);C.useEffect((()=>{m?null==n||n(E):null==o||o(E)}),[E,m]);const S=C.useCallback((e=>{e.stopPropagation(),M({object:l([e.object])[0],shift:t&&e.shiftKey})}),[]),P=C.useCallback((e=>!z&&M({})),[z]),D=C.useRef(null);return C.useEffect((()=>{if(!e||!t)return;const r=new u.SelectionBox(h,D.current),n=document.createElement(\"div\");n.style.pointerEvents=\"none\",n.style.border=i,n.style.backgroundColor=s,n.style.position=\"fixed\";const a=new R.Vector2,o=new R.Vector2,c=new R.Vector2,m=w().events.enabled,x=null==v?void 0:v.enabled;let z=!1;function b(e,t){const{offsetX:r,offsetY:n}=e,{width:a,height:o}=g;t.set(r/a*2-1,-n/o*2+1)}function E(e){e.shiftKey&&(!function(e){var t;v&&(v.enabled=!1),p({enabled:!1}),f(z=!0),null==(t=y.domElement.parentElement)||t.appendChild(n),n.style.left=`${e.clientX}px`,n.style.top=`${e.clientY}px`,n.style.width=\"0px\",n.style.height=\"0px\",a.x=e.clientX,a.y=e.clientY}(e),b(e,r.startPoint))}let S=[];function T(e){if(z){!function(e){c.x=Math.max(a.x,e.clientX),c.y=Math.max(a.y,e.clientY),o.x=Math.min(a.x,e.clientX),o.y=Math.min(a.y,e.clientY),n.style.left=`${o.x}px`,n.style.top=`${o.y}px`,n.style.width=c.x-o.x+\"px\",n.style.height=c.y-o.y+\"px\"}(e),b(e,r.endPoint);const t=r.select().sort((e=>e.uuid)).filter((e=>e.isMesh));d.shallow(t,S)||(S=t,M({object:l(t)}))}}function C(e){var t;z&&z&&(v&&(v.enabled=x),p({enabled:m}),f(z=!1),null==(t=n.parentElement)||t.removeChild(n))}return document.addEventListener(\"pointerdown\",E,{passive:!0}),document.addEventListener(\"pointermove\",T,{passive:!0,capture:!0}),document.addEventListener(\"pointerup\",C,{passive:!0}),()=>{document.removeEventListener(\"pointerdown\",E),document.removeEventListener(\"pointermove\",T,!0),document.removeEventListener(\"pointerup\",C)}}),[g.width,g.height,x,h,v,y]),C.createElement(\"group\",T.default({ref:D,onClick:S,onPointerOver:()=>b(!0),onPointerOut:()=>b(!1),onPointerMissed:P},c),C.createElement(re.Provider,{value:E},r))},exports.Shadow=fa,exports.ShadowAlpha=function({opacity:e,alphaMap:t}){const r=C.useRef(null),n=C.useRef(null),o=C.useRef({value:1}),i=C.useRef({value:null}),s=C.useRef({value:!1});return C.useLayoutEffect((()=>{r.current.onBeforeCompile=n.current.onBeforeCompile=e=>{const t=e.fragmentShader.indexOf(\"void main\");let r,n=\"\",a=t;for(;\"\\n\"!==r&&a<t+100;)r=e.fragmentShader.charAt(a),n+=r,a++;n=n.trim(),e.vertexShader=e.vertexShader.replace(\"void main() {\",\"\\n        varying vec2 custom_vUv;\\n\\n        void main() {\\n          custom_vUv = uv;\\n          \\n        \"),e.fragmentShader=e.fragmentShader.replace(n,\"\\n          uniform float uShadowOpacity;\\n          uniform sampler2D uAlphaMap;\\n          uniform bool uHasAlphaMap;\\n\\n          varying vec2 custom_vUv;\\n  \\n          float bayerDither2x2( vec2 v ) {\\n            return mod( 3.0 * v.y + 2.0 * v.x, 4.0 );\\n          }\\n    \\n          float bayerDither4x4( vec2 v ) {\\n            vec2 P1 = mod( v, 2.0 );\\n            vec2 P2 = mod( floor( 0.5  * v ), 2.0 );\\n            return 4.0 * bayerDither2x2( P1 ) + bayerDither2x2( P2 );\\n          }\\n  \\n          void main() {\\n            float alpha = \\n              uHasAlphaMap ? \\n                uShadowOpacity * texture2D(uAlphaMap, custom_vUv).x\\n              : uShadowOpacity;\\n\\n            if( ( bayerDither4x4( floor( mod( gl_FragCoord.xy, 4.0 ) ) ) ) / 16.0 >= alpha ) discard;\\n            \\n          \"),e.uniforms.uShadowOpacity=o.current,e.uniforms.uAlphaMap=i.current,e.uniforms.uHasAlphaMap=s.current}}),[]),a.useFrame((()=>{var n;const a=null==(n=r.current.__r3f)?void 0:n.parent;if(a){const r=a.material;r&&(o.current.value=null!=e?e:r.opacity,!1===t?(i.current.value=null,s.current.value=!1):(i.current.value=t||r.alphaMap,s.current.value=!!i.current.value))}})),C.createElement(C.Fragment,null,C.createElement(\"meshDepthMaterial\",{ref:r,attach:\"customDepthMaterial\",depthPacking:R.RGBADepthPacking}),C.createElement(\"meshDistanceMaterial\",{ref:n,attach:\"customDistanceMaterial\"}))},exports.Shape=Pn,exports.Sky=Ra,exports.SoftShadows=function({focus:e=0,samples:t=10,size:r=25}){const n=a.useThree((e=>e.gl)),o=a.useThree((e=>e.scene)),i=a.useThree((e=>e.camera));return C.useEffect((()=>{const a=R.ShaderChunk.shadowmap_pars_fragment;return R.ShaderChunk.shadowmap_pars_fragment=R.ShaderChunk.shadowmap_pars_fragment.replace(\"#ifdef USE_SHADOWMAP\",\"#ifdef USE_SHADOWMAP\\n\"+(({focus:e=0,size:t=25,samples:r=10}={})=>`\\n#define PENUMBRA_FILTER_SIZE float(${t})\\n#define RGB_NOISE_FUNCTION(uv) (randRGB(uv))\\nvec3 randRGB(vec2 uv) {\\n  return vec3(\\n    fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),\\n    fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),\\n    fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)\\n  );\\n}\\n\\nvec3 lowPassRandRGB(vec2 uv) {\\n  // 3x3 convolution (average)\\n  // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9\\n  vec3 result = vec3(0);\\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));\\n  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));\\n  result *= 0.111111111; // 1.0 / 9.0\\n  return result;\\n}\\nvec3 highPassRandRGB(vec2 uv) {\\n  // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal\\n  // hp(x) = x - lp(x)\\n  return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;\\n}\\n\\n\\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\\n  const float goldenAngle = 2.399963f; // radians\\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\\n  float theta = float(sampleIndex) * goldenAngle + angle;\\n  float sine = sin(theta);\\n  float cosine = cos(theta);\\n  return vec2(cosine, sine) * r;\\n}\\nfloat penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\\n  return (zReceiver - zBlocker) / zBlocker;\\n}\\nfloat findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {\\n  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\\n  float blockerDepthSum = float(${e});\\n  float blockers = 0.0;\\n\\n  int j = 0;\\n  vec2 offset = vec2(0.);\\n  float depth = 0.;\\n\\n  #pragma unroll_loop_start\\n  for(int i = 0; i < ${r}; i ++) {\\n    offset = (vogelDiskSample(j, ${r}, angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;\\n    depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));\\n    if (depth < compare) {\\n      blockerDepthSum += depth;\\n      blockers++;\\n    }\\n    j++;\\n  }\\n  #pragma unroll_loop_end\\n\\n  if (blockers > 0.0) {\\n    return blockerDepthSum / blockers;\\n  }\\n  return -1.0;\\n}\\n\\n        \\nfloat vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {\\n  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\\n  float shadow = 0.0f;\\n  int j = 0;\\n  vec2 vogelSample = vec2(0.0);\\n  vec2 offset = vec2(0.0);\\n  #pragma unroll_loop_start\\n  for (int i = 0; i < ${r}; i++) {\\n    vogelSample = vogelDiskSample(j, ${r}, angle) * texelSize;\\n    offset = vogelSample * (1.0 + filterRadius * float(${t}));\\n    shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\\n    j++;\\n  }\\n  #pragma unroll_loop_end\\n  return shadow * 1.0 / ${r}.0;\\n}\\n\\nfloat PCSS (sampler2D shadowMap, vec4 coords) {\\n  vec2 uv = coords.xy;\\n  float zReceiver = coords.z; // Assumed to be eye-space z in this code\\n  float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;\\n  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);\\n  if (avgBlockerDepth == -1.0) {\\n    return 1.0;\\n  }\\n  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\\n  return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);\\n}`)({size:r,samples:t,focus:e})).replace(\"#if defined( SHADOWMAP_TYPE_PCF )\",\"\\nreturn PCSS(shadowMap, shadowCoord);\\n#if defined( SHADOWMAP_TYPE_PCF )\"),ln(n,o,i),()=>{R.ShaderChunk.shadowmap_pars_fragment=a,ln(n,o,i)}}),[e,r,t]),null},exports.Sparkles=Xa,exports.Sphere=pn,exports.Splat=function({src:e,toneMapped:t=!1,alphaTest:r=0,alphaHash:n=!1,chunkSize:o=25e3,...i}){a.extend({SplatMaterial:tt});const s=C.useRef(null),l=a.useThree((e=>e.gl)),c=a.useThree((e=>e.camera)),u=a.useLoader(nt,e,(e=>{e.gl=l,e.chunkSize=o}));return C.useLayoutEffect((()=>u.connect(s.current)),[e]),a.useFrame((()=>u.update(s.current,c,n))),C.createElement(\"mesh\",T.default({ref:s,frustumCulled:!1},i),C.createElement(\"splatMaterial\",{key:`${e}/${r}/${n}${tt.key}`,transparent:!n,depthTest:!0,alphaTest:n?0:r,centerAndScaleTexture:u.centerAndScaleTexture,covAndColorTexture:u.covAndColorTexture,depthWrite:!!n||r>0,blending:n?R.NormalBlending:R.CustomBlending,blendSrcAlpha:R.OneFactor,alphaHash:!!n,toneMapped:t}))},exports.SpotLight=Ta,exports.SpotLightShadow=function(e){return e.shader?C.createElement(Ma,e):C.createElement(Sa,e)},exports.SpriteAnimator=Wr,exports.Stage=function({children:e,center:t,adjustCamera:r=!0,intensity:n=.5,shadows:a=\"contact\",environment:o=\"city\",preset:i=\"rembrandt\",...s}){var l,c,u,d,m,f,p,h;const x=\"string\"==typeof i?ua[i]:i,[{radius:y,height:v},g]=C.useState({radius:0,width:0,height:0,depth:0}),w=null!==(l=null==a?void 0:a.bias)&&void 0!==l?l:-1e-4,z=null!==(c=null==a?void 0:a.normalBias)&&void 0!==c?c:0,b=null!==(u=null==a?void 0:a.size)&&void 0!==u?u:1024,E=null!==(d=null==a?void 0:a.offset)&&void 0!==d?d:0,M=\"contact\"===a||\"contact\"===(null==a?void 0:a.type),S=\"accumulative\"===a||\"accumulative\"===(null==a?void 0:a.type),P={...\"object\"==typeof a?a:{}},R=o?\"string\"==typeof o?{preset:o}:o:null,D=C.useCallback((e=>{const{width:r,height:n,depth:a,boundingSphere:o}=e;g({radius:o.radius,width:r,height:n,depth:a}),null!=t&&t.onCentered&&t.onCentered(e)}),[]);return C.createElement(C.Fragment,null,C.createElement(\"ambientLight\",{intensity:n/3}),C.createElement(\"spotLight\",{penumbra:1,position:[x.main[0]*y,x.main[1]*y,x.main[2]*y],intensity:2*n,castShadow:!!a,\"shadow-bias\":w,\"shadow-normalBias\":z,\"shadow-mapSize\":b}),C.createElement(\"pointLight\",{position:[x.fill[0]*y,x.fill[1]*y,x.fill[2]*y],intensity:n}),C.createElement(Vn,T.default({fit:!!r,clip:!!r,margin:Number(r),observe:!0},s),C.createElement(da,{radius:y,adjustCamera:r}),C.createElement(br,T.default({},t,{position:[0,E/2,0],onCentered:D}),e)),C.createElement(\"group\",{position:[0,-v/2-E/2,0]},M&&C.createElement(aa,T.default({scale:4*y,far:y,blur:2},P)),S&&C.createElement(sa,T.default({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:4*y},P),C.createElement(la,{amount:null!==(m=P.amount)&&void 0!==m?m:8,radius:null!==(f=P.radius)&&void 0!==f?f:y,ambient:null!==(p=P.ambient)&&void 0!==p?p:.5,intensity:null!==(h=P.intensity)&&void 0!==h?h:1,position:[x.main[0]*y,x.main[1]*y,x.main[2]*y],size:4*y,bias:-w,mapSize:b}))),o&&C.createElement(na,R))},exports.Stars=ka,exports.Stats=function({showPanel:e=0,className:t,parent:r}){const n=function(e,t=[],r){const[n,a]=C.useState();return C.useLayoutEffect((()=>{const t=e();return a(t),dr(r,t),()=>dr(r,null)}),t),n}((()=>new F.default),[]);return C.useEffect((()=>{if(n){const o=r&&r.current||document.body;n.showPanel(e),null==o||o.appendChild(n.dom);const i=(null!=t?t:\"\").split(\" \").filter((e=>e));i.length&&n.dom.classList.add(...i);const s=a.addEffect((()=>n.begin())),l=a.addAfterEffect((()=>n.end()));return()=>{i.length&&n.dom.classList.remove(...i),null==o||o.removeChild(n.dom),s(),l()}}}),[r,n,t,e]),null},exports.StatsGl=mr,exports.Svg=Ze,exports.Tetrahedron=gn,exports.Text=ve,exports.Text3D=Ee,exports.Texture=({children:e,input:t,onLoad:r})=>{const n=Pe(t,r);return C.createElement(C.Fragment,null,null==e?void 0:e(n))},exports.Torus=yn,exports.TorusKnot=vn,exports.TrackballControls=ft,exports.Trail=Oe,exports.TrailTexture=({children:e,...t})=>{const r=zr(t);return C.createElement(C.Fragment,null,null==e?void 0:e(r))},exports.TransformControls=ht,exports.Tube=xn,exports.VideoTexture=or,exports.View=Qo,exports.WebcamVideoTexture=Gi,exports.Wireframe=function({geometry:e,...t}){return e?C.createElement(no,T.default({geometry:e},t)):C.createElement(ao,t)},exports.accumulativeContext=oa,exports.calcPosFromAngles=Pa,exports.calculateScaleFactor=ce,exports.checkIfFrameIsEmpty=lr,exports.createInstances=function(){const e=C.createContext(null);return[C.forwardRef(((t,r)=>C.createElement(Vr,T.default({ref:r,context:e},t)))),C.forwardRef(((t,r)=>C.createElement(Br,T.default({ref:r,context:e},t))))]},exports.getFirstFrame=sr,exports.isWebGL2Available=()=>{try{var e=document.createElement(\"canvas\");return!(!window.WebGL2RenderingContext||!e.getContext(\"webgl2\"))}catch(e){return!1}},exports.meshBounds=function(e,t){const r=this.geometry,n=this.material,a=this.matrixWorld;void 0!==n&&(null===r.boundingSphere&&r.computeBoundingSphere(),Po.copy(r.boundingSphere),Po.applyMatrix4(a),!1!==e.ray.intersectsSphere(Po)&&(To.copy(a).invert(),Co.copy(e.ray).applyMatrix4(To),null!==r.boundingBox&&null===Co.intersectBox(r.boundingBox,Ro)||t.push({distance:Ro.distanceTo(e.ray.origin),point:Ro.clone(),object:this})))},exports.shaderMaterial=Te,exports.useAnimations=function(e,t){const r=C.useRef(),[o]=C.useState((()=>t?t instanceof n.Object3D?{current:t}:t:r)),[i]=C.useState((()=>new n.AnimationMixer(void 0)));C.useLayoutEffect((()=>{t&&(o.current=t instanceof n.Object3D?t:t.current),i._root=o.current}));const s=C.useRef({}),l=C.useMemo((()=>{const t={};return e.forEach((e=>Object.defineProperty(t,e.name,{enumerable:!0,get(){if(o.current)return s.current[e.name]||(s.current[e.name]=i.clipAction(e,o.current))},configurable:!0}))),{ref:o,clips:e,actions:t,names:e.map((e=>e.name)),mixer:i}}),[e]);return a.useFrame(((e,t)=>i.update(t))),C.useEffect((()=>{const e=o.current;return()=>{s.current={},i.stopAllAction(),Object.values(l.actions).forEach((t=>{e&&i.uncacheAction(t,e)}))}}),[e]),l},exports.useAspect=function(e,t,r=1){const n=a.useThree((e=>e.viewport)),o=t*(n.aspect>e/t?n.width/e:n.height/t);return[e*(n.aspect>e/t?n.width/e:n.height/t)*r,o*r,1]},exports.useBVH=function(e,t){t={strategy:w.SAH,verbose:!1,setBoundingBox:!0,maxDepth:40,maxLeafTris:10,indirect:!1,...t},C.useEffect((()=>{if(e.current){e.current.raycast=w.acceleratedRaycast;const r=e.current.geometry;return r.computeBoundsTree=w.computeBoundsTree,r.disposeBoundsTree=w.disposeBoundsTree,r.computeBoundsTree(t),()=>{r.boundsTree&&r.disposeBoundsTree()}}}),[e,JSON.stringify(t)])},exports.useBounds=Un,exports.useBoxProjectedEnv=function(e=new R.Vector3,t=new R.Vector3){const[r]=C.useState((()=>({position:new R.Vector3,size:new R.Vector3})));a.applyProps(r,{position:e,size:t});const n=C.useRef(null),o=C.useMemo((()=>({ref:n,onBeforeCompile:e=>function(e,t,r){e.defines.BOX_PROJECTED_ENV_MAP=!0,e.uniforms.envMapPosition={value:t},e.uniforms.envMapSize={value:r},e.vertexShader=`\\n  varying vec3 vWorldPosition;\\n  ${e.vertexShader.replace(\"#include <worldpos_vertex>\",\"\\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n  vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n  #ifdef BOX_PROJECTED_ENV_MAP\\n    vWorldPosition = worldPosition.xyz;\\n  #endif\\n#endif\\n\")}`,e.fragmentShader=`\\n    \\n#ifdef BOX_PROJECTED_ENV_MAP\\n  uniform vec3 envMapSize;\\n  uniform vec3 envMapPosition;\\n  varying vec3 vWorldPosition;\\n    \\n  vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {\\n    vec3 nDir = normalize( v );\\n    vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;\\n    vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;\\n    vec3 rbminmax;\\n    rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;\\n    rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;\\n    rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;\\n    float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );\\n    vec3 boxIntersection = vWorldPosition + nDir * correction;    \\n    return boxIntersection - cubePos;\\n  }\\n#endif\\n\\n    ${e.fragmentShader.replace(\"#include <envmap_physical_pars_fragment>\",R.ShaderChunk.envmap_physical_pars_fragment).replace(\"vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\",\"vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n         \\n#ifdef BOX_PROJECTED_ENV_MAP\\n  worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );\\n#endif\\n\\n         \").replace(\"reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\",\"reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n         \\n#ifdef BOX_PROJECTED_ENV_MAP\\n  reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );\\n#endif\\n\\n        \")}`}(e,r.position,r.size),customProgramCacheKey:()=>JSON.stringify(r.position.toArray())+JSON.stringify(r.size.toArray())})),[...r.position.toArray(),...r.size.toArray()]);return C.useLayoutEffect((()=>{n.current.needsUpdate=!0}),[r]),o},exports.useCamera=function(e,t){const r=a.useThree((e=>e.pointer)),[o]=C.useState((()=>{const o=new n.Raycaster;return t&&a.applyProps(o,t,{}),function(t,a){o.setFromCamera(r,e instanceof n.Camera?e:e.current);const i=this.constructor.prototype.raycast.bind(this);i&&i(o,a)}}));return o},exports.useContextBridge=function(...e){const t=C.useRef([]);return t.current=e.map((e=>C.useContext(e))),C.useMemo((()=>({children:r})=>e.reduceRight(((e,r,n)=>C.createElement(r.Provider,{value:t.current[n],children:e})),r)),[])},exports.useCubeCamera=lt,exports.useCubeTexture=Kt,exports.useCursor=function(e,t=\"pointer\",r=\"auto\",n=document.body){C.useEffect((()=>{if(e)return n.style.cursor=t,()=>{n.style.cursor=r}}),[e])},exports.useDepthBuffer=function({size:e=256,frames:t=1/0}={}){const r=a.useThree((e=>e.viewport.dpr)),{width:o,height:i}=a.useThree((e=>e.size)),s=e||o*r,l=e||i*r,c=C.useMemo((()=>{const e=new n.DepthTexture(s,l);return e.format=n.DepthFormat,e.type=n.UnsignedShortType,{depthTexture:e}}),[s,l]);let u=0;const d=ot(s,l,c);return a.useFrame((e=>{(t===1/0||u<t)&&(e.gl.setRenderTarget(d),e.gl.render(e.scene,e.camera),e.gl.setRenderTarget(null),u++)})),d.depthTexture},exports.useDetectGPU=fr,exports.useEnvironment=$n,exports.useFBO=ot,exports.useFBX=Jt,exports.useFaceControls=()=>t.useContext(ns),exports.useFaceLandmarker=es,exports.useFont=ze,exports.useGLTF=Je,exports.useGizmoContext=Tt,exports.useHelper=ur,exports.useIntersect=xr,exports.useKTX2=tr,exports.useKeyboardControls=function(e){const[t,r,n]=C.useContext(te);return e?n(e):[t,r]},exports.useMask=function(e,t=!1){return{stencilWrite:!0,stencilRef:e,stencilFunc:t?R.NotEqualStencilFunc:R.EqualStencilFunc,stencilFail:R.KeepStencilOp,stencilZFail:R.KeepStencilOp,stencilZPass:R.KeepStencilOp}},exports.useMatcapTexture=Za,exports.useMotion=wt,exports.useNormalTexture=Ya,exports.usePerformanceMonitor=function({onIncline:e,onDecline:r,onChange:n,onFallback:a}){const o=t.useContext(Do),i=t.useRef({onIncline:e,onDecline:r,onChange:n,onFallback:a});t.useLayoutEffect((()=>{i.current.onIncline=e,i.current.onDecline=r,i.current.onChange=n,i.current.onFallback=a}),[e,r,n,a]),t.useLayoutEffect((()=>o.subscribe(i)),[o])},exports.useProgress=q,exports.useScroll=Q,exports.useSelect=function(){return C.useContext(re)},exports.useSpriteAnimator=function(){return C.useContext(Nr)},exports.useSpriteLoader=cr,exports.useSurfaceSampler=Ne,exports.useTexture=Pe,exports.useTrail=Ue,exports.useTrailTexture=zr,exports.useVideoTexture=ar;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaW5kZXguY2pzLmpzIiwibWFwcGluZ3MiOiJBQUFhLDhDQUEyQyxDQUFDLFNBQVMsRUFBQyxDQUFDLE1BQU0sbUJBQU8sQ0FBQyw4RkFBZ0MsSUFBSSxtQkFBTyxDQUFDLHdHQUFPLElBQUksbUJBQU8sQ0FBQyxxRkFBa0IsSUFBSSxtQkFBTyxDQUFDLHlEQUFPLElBQUksbUJBQU8sQ0FBQyxpR0FBb0IsSUFBSSxtQkFBTyxDQUFDLHNEQUFTLElBQUksbUJBQU8sQ0FBQyxpR0FBb0IsSUFBSSxtQkFBTyxDQUFDLDJEQUFPLElBQUksbUJBQU8sQ0FBQyx1RkFBcUIsSUFBSSxtQkFBTyxDQUFDLHNFQUFvQixJQUFJLG1CQUFPLENBQUMsaUVBQWMsSUFBSSxtQkFBTyxDQUFDLGdFQUFpQixJQUFJLG1CQUFPLENBQUMsK0ZBQW1CLElBQUksbUJBQU8sQ0FBQyxzRUFBZSxJQUFJLG1CQUFPLENBQUMsOERBQVUsSUFBSSxtQkFBTyxDQUFDLHNGQUFpQixJQUFJLG1CQUFPLENBQUMsdURBQVEsSUFBSSxtQkFBTyxDQUFDLGtFQUFVLElBQUksbUJBQU8sQ0FBQyw2REFBVSxJQUFJLG1CQUFPLENBQUMsMEVBQVksSUFBSSxtQkFBTyxDQUFDLCtFQUFnQixJQUFJLG1CQUFPLENBQUMsd0VBQWdCLElBQUksbUJBQU8sQ0FBQywwSEFBc0IsSUFBSSxtQkFBTyxDQUFDLHFFQUFZLEVBQUUsY0FBYywrQ0FBK0MsV0FBVyxjQUFjLDRCQUE0QiwwQkFBMEIsOENBQThDLGtCQUFrQiwyQ0FBMkMsbUNBQW1DLDZCQUE2QixhQUFhLEdBQUcsZ0NBQWdDLG1FQUFtRSxzRUFBc0Usa0JBQWtCLCtDQUErQyxhQUFhLCtCQUErQix5QkFBeUIsaUNBQWlDLHFCQUFxQixrQkFBa0IsWUFBWSxPQUFPLDhDQUE4QyxXQUFXLDREQUE0RCxNQUFNLGdCQUFnQiwrRkFBK0YsT0FBTyx3QkFBd0IsK1NBQStTLE1BQU0sTUFBTSw2REFB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K0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsa0ZBQWtGLEVBQUUsa0ZBQWtGLEVBQUUsOEVBQThFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNEVBQTRFLEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsMEVBQTBFLEVBQUUsOERBQThELEVBQUUsaUZBQWlGLEVBQUUsK0RBQStELEVBQUUsaUZBQWlGLEVBQUUsbUZBQW1GLEVBQUUsK0VBQStFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsaUZBQWlGLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUseUVBQXlFLEVBQUUsOERBQThELEVBQUUsMEVBQTBFLEVBQUUsMkVBQTJFLEVBQUUsdUVBQXVFLEVBQUUsK0RBQStELEVBQUUsMEVBQTBFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsMkVBQTJFLEVBQUUsMkVBQTJFLEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsMEVBQTBFLEVBQUUsK0RBQStELEVBQUUsOEVBQThFLEVBQUUsK0RBQStELEVBQUUseUVBQXlFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0VBQStFLEVBQUUsOERBQThELEVBQUUsZ0ZBQWdGLEVBQUUsOERBQThELEVBQUUsa0ZBQWtGLEVBQUUsNkRBQTZELEVBQUUsNkVBQTZFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkVBQTZFLEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsNEVBQTRFLEVBQUUsNEVBQTRFLEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsNEVBQTRFLEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNEVBQTRFLEVBQUUsMkVBQTJFLEVBQUUsOERBQThELEVBQUUsOEVBQThFLEVBQUUsOEVBQThFLEVBQUUsOEVBQThFLEVBQUUsOERBQThELEVBQUUsOEVBQThFLEVBQUUsNkVBQTZFLEVBQUUseUVBQXlFLEVBQUUsNEVBQTRFLEVBQUUsNkRBQTZELEVBQUUsOEVBQThFLEVBQUUsNEVBQTRFLEVBQUUsK0VBQStFLEVBQUUsNkVBQTZFLEVBQUUsNkVBQTZFLEVBQUUsNEVBQTRFLEVBQUUsNkVBQTZFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNkVBQTZFLEVBQUUsNkVBQTZFLEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsK0VBQStFLEVBQUUsNkRBQTZELEVBQUUsMEVBQTBFLEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsd0VBQXdFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsMEVBQTBFLEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsMEVBQTBFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsMkRBQTJELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNEVBQTRFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsMERBQTBELEVBQUUsK0RBQStELEVBQUUsK0VBQStFLEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsOEVBQThFLEVBQUUsK0RBQStELEVBQUUsNEVBQTRFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsMkRBQTJELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsNEVBQTRFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsMkVBQTJFLEVBQUUsK0RBQStELEVBQUUsMEVBQTBFLEVBQUUsMkVBQTJFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsaUZBQWlGLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsa0ZBQWtGLEVBQUUsaUZBQWlGLEVBQUUsNEVBQTRFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOEVBQThFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsMkRBQTJELEVBQUUsMEVBQTBFLEVBQUUsK0RBQStELEVBQUUsaUZBQWlGLEVBQUUsZ0ZBQWdGLEVBQUUsc0VBQXNFLEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsa0ZBQWtGLEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsMEVBQTBFLEVBQUUsOERBQThELEVBQUUseUVBQXlFLEVBQUUsMkVBQTJFLEVBQUUsMkVBQTJFLEVBQUUsK0RBQStELEVBQUUsMkVBQTJFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsMEVBQTBFLEVBQUUscUVBQXFFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsMkVBQTJFLEVBQUUsNkRBQTZELEVBQUUsNkVBQTZFLEVBQUUsMkVBQTJFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkVBQTZFLEVBQUUsOERBQThELEVBQUUsK0VBQStFLEVBQUUsK0RBQStELEVBQUUsaUZBQWlGLEVBQUUsOERBQThELEVBQUUsNEVBQTRFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsMkRBQTJELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkVBQTZFLEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkVBQTZFLEVBQUUsNkVBQTZFLEVBQUUsOERBQThELEVBQUUsMkRBQTJELEVBQUUsOEVBQThFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsNERBQTRELEVBQUUsNkVBQTZFLEVBQUUsMkVBQTJFLEVBQUUseUVBQXlFLEVBQUUsOERBQThELEVBQUUsNkVBQTZFLEVBQUUsOEVBQThFLEVBQUUsNEVBQTRFLEVBQUUsNkVBQTZFLEVBQUUsNEVBQTRFLEVBQUUsNkVBQTZFLEVBQUUsOERBQThELEVBQUUsNkVBQTZFLEVBQUUsMkVBQTJFLEVBQUUsNEVBQTRFLEVBQUUsOEVBQThFLEVBQUUsOEVBQThFLEVBQUUsMkVBQTJFLEVBQUUsNkVBQTZFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkVBQTZFLEVBQUUsOEVBQThFLEVBQUUsK0RBQStELEVBQUUsNEVBQTRFLEVBQUUsOERBQThELEVBQUUsMkVBQTJFLEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsMEVBQTBFLEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsMEVBQTBFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsMEVBQTBFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsMkRBQTJELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkVBQTZFLEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNEVBQTRFLEVBQUUsOERBQThELE9BQU8sOElBQThJLCtCQUErQixpQkFBaUIsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsaUVBQWlFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsaUVBQWlFLEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsMkRBQTJELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsaUVBQWlFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsMkRBQTJELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsMkRBQTJELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsaUVBQWlFLEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsMkRBQTJELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsMkRBQTJELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsMERBQTBELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsNkRBQTZELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsNkRBQTZELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsMkRBQTJELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNkRBQTZELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsNkRBQTZELEVBQUUsOERBQThELEVBQUUsK0RBQStELEVBQUUsK0RBQStELEVBQUUsOERBQThELEVBQUUsNERBQTRELEVBQUUsOERBQThELEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsZ0VBQWdFLEVBQUUsZ0VBQWdFLEVBQUUsK0RBQStELEVBQUUsaUVBQWlFLEVBQUUsaUVBQWlFLEVBQUUsK0RBQStELEVBQUUsZ0VB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TywyS0FBMkssQ0FBQyx3QkFBd0IsSUFBSSxpQkFBaUIsSUFBSSx3QkFBd0IsSUFBSSw2QkFBNkIsV0FBVyxnREFBZ0QsRUFBRSxxQ0FBcUMsZ0RBQWdELEVBQUUsd0JBQXdCLHdGQUF3Rix5REFBeUQsQ0FBQyxtQkFBbUIsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsWUFBWSx3QkFBd0IsQ0FBQyx5QkFBeUIsWUFBWSx3QkFBd0IsQ0FBQyx1QkFBdUIsSUFBSSx5QkFBeUIsSUFBSSxrQkFBa0IsSUFBSSxnQkFBZ0IsSUFBSSx1QkFBdUIsSUFBSSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGFjZXBvcnRmb2xpby8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZHJlaS9pbmRleC5janMuanM/NGFkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgZT1yZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzXCIpLHQ9cmVxdWlyZShcInJlYWN0XCIpLHI9cmVxdWlyZShcInJlYWN0LWRvbS9jbGllbnRcIiksbj1yZXF1aXJlKFwidGhyZWVcIiksYT1yZXF1aXJlKFwiQHJlYWN0LXRocmVlL2ZpYmVyXCIpLG89cmVxdWlyZShcInp1c3RhbmRcIiksaT1yZXF1aXJlKFwiQHVzZS1nZXN0dXJlL3JlYWN0XCIpLHM9cmVxdWlyZShcIm1hYXRoXCIpLGw9cmVxdWlyZShcIkByZWFjdC1zcHJpbmcvdGhyZWVcIiksYz1yZXF1aXJlKFwienVzdGFuZC9taWRkbGV3YXJlXCIpLHU9cmVxdWlyZShcInRocmVlLXN0ZGxpYlwiKSxkPXJlcXVpcmUoXCJ6dXN0YW5kL3NoYWxsb3dcIiksbT1yZXF1aXJlKFwidHJvaWthLXRocmVlLXRleHRcIiksZj1yZXF1aXJlKFwic3VzcGVuZC1yZWFjdFwiKSxwPXJlcXVpcmUoXCJtZXNobGluZVwiKSxoPXJlcXVpcmUoXCJjYW1lcmEtY29udHJvbHNcIikseD1yZXF1aXJlKFwiaGxzLmpzXCIpLHk9cmVxdWlyZShcInN0YXRzLmpzXCIpLHY9cmVxdWlyZShcInN0YXRzLWdsXCIpLGc9cmVxdWlyZShcImRldGVjdC1ncHVcIiksdz1yZXF1aXJlKFwidGhyZWUtbWVzaC1idmhcIiksej1yZXF1aXJlKFwicmVhY3QtY29tcG9zZXJcIiksYj1yZXF1aXJlKFwiQG1vbm9ncmlkL2dhaW5tYXAtanNcIiksRT1yZXF1aXJlKFwidHVubmVsLXJhdFwiKTtmdW5jdGlvbiBNKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gUyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZSYmT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYoXCJkZWZhdWx0XCIhPT1yKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixuLmdldD9uOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlW3JdfX0pfX0pKSx0LmRlZmF1bHQ9ZSxPYmplY3QuZnJlZXplKHQpfXZhciBUPU0oZSksQz1TKHQpLFA9UyhyKSxSPVMobiksRD1NKGgpLEY9TSh5KSxrPU0odiksXz1NKHopLEE9TShFKTtjb25zdCBMPW5ldyBuLlZlY3RvcjMsST1uZXcgbi5WZWN0b3IzLEI9bmV3IG4uVmVjdG9yMyxWPW5ldyBuLlZlY3RvcjI7ZnVuY3Rpb24gVShlLHQscil7Y29uc3Qgbj1MLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKTtuLnByb2plY3QodCk7Y29uc3QgYT1yLndpZHRoLzIsbz1yLmhlaWdodC8yO3JldHVybltuLngqYSthLC1uLnkqbytvXX1jb25zdCBPPWU9Pk1hdGguYWJzKGUpPDFlLTEwPzA6ZTtmdW5jdGlvbiBOKGUsdCxyPVwiXCIpe2xldCBuPVwibWF0cml4M2QoXCI7Zm9yKGxldCByPTA7MTYhPT1yO3IrKyluKz1PKHRbcl0qZS5lbGVtZW50c1tyXSkrKDE1IT09cj9cIixcIjpcIilcIik7cmV0dXJuIHIrbn1jb25zdCBqPShXPVsxLC0xLDEsMSwxLC0xLDEsMSwxLC0xLDEsMSwxLC0xLDEsMV0sZT0+TihlLFcpKTt2YXIgVztjb25zdCBHPShlLHQpPT57cmV0dXJuIE4oZSxbMS8ocj10KSwxL3IsMS9yLDEsLTEvciwtMS9yLC0xL3IsLTEsMS9yLDEvciwxL3IsMSwxLDEsMSwxXSxcInRyYW5zbGF0ZSgtNTAlLC01MCUpXCIpO3ZhciByfTtjb25zdCBIPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGVwczp0PS4wMDEsc3R5bGU6cixjbGFzc05hbWU6byxwcmVwZW5kOmksY2VudGVyOnMsZnVsbHNjcmVlbjpsLHBvcnRhbDpjLGRpc3RhbmNlRmFjdG9yOnUsc3ByaXRlOmQ9ITEsdHJhbnNmb3JtOm09ITEsb2NjbHVkZTpmLG9uT2NjbHVkZTpwLGNhc3RTaGFkb3c6aCxyZWNlaXZlU2hhZG93OngsbWF0ZXJpYWw6eSxnZW9tZXRyeTp2LHpJbmRleFJhbmdlOmc9WzE2Nzc3MjcxLDBdLGNhbGN1bGF0ZVBvc2l0aW9uOnc9VSxhczp6PVwiZGl2XCIsd3JhcHBlckNsYXNzOmIscG9pbnRlckV2ZW50czpFPVwiYXV0b1wiLC4uLk19LFMpPT57Y29uc3R7Z2w6UixjYW1lcmE6RCxzY2VuZTpGLHNpemU6ayxyYXljYXN0ZXI6XyxldmVudHM6QSx2aWV3cG9ydDpOfT1hLnVzZVRocmVlKCksW1ddPUMudXNlU3RhdGUoKCgpPT5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHopKSksSD1DLnVzZVJlZigpLCQ9Qy51c2VSZWYobnVsbCkscT1DLnVzZVJlZigwKSxYPUMudXNlUmVmKFswLDBdKSxaPUMudXNlUmVmKG51bGwpLFk9Qy51c2VSZWYobnVsbCksUT0obnVsbD09Yz92b2lkIDA6Yy5jdXJyZW50KXx8QS5jb25uZWN0ZWR8fFIuZG9tRWxlbWVudC5wYXJlbnROb2RlLEs9Qy51c2VSZWYobnVsbCksSj1DLnVzZVJlZighMSksZWU9Qy51c2VNZW1vKCgoKT0+ZiYmXCJibGVuZGluZ1wiIT09Znx8QXJyYXkuaXNBcnJheShmKSYmZi5sZW5ndGgmJmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJjdXJyZW50XCJpbiBlfShmWzBdKSksW2ZdKTtDLnVzZUxheW91dEVmZmVjdCgoKCk9Pntjb25zdCBlPVIuZG9tRWxlbWVudDtmJiZcImJsZW5kaW5nXCI9PT1mPyhlLnN0eWxlLnpJbmRleD1gJHtNYXRoLmZsb29yKGdbMF0vMil9YCxlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIpOihlLnN0eWxlLnpJbmRleD1udWxsLGUuc3R5bGUucG9zaXRpb249bnVsbCxlLnN0eWxlLnBvaW50ZXJFdmVudHM9bnVsbCl9KSxbZl0pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2lmKCQuY3VycmVudCl7Y29uc3QgZT1ILmN1cnJlbnQ9UC5jcmVhdGVSb290KFcpO2lmKEYudXBkYXRlTWF0cml4V29ybGQoKSxtKVcuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtwb2ludGVyLWV2ZW50czpub25lO292ZXJmbG93OmhpZGRlbjtcIjtlbHNle2NvbnN0IGU9dygkLmN1cnJlbnQsRCxrKTtXLnN0eWxlLmNzc1RleHQ9YHBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoJHtlWzBdfXB4LCR7ZVsxXX1weCwwKTt0cmFuc2Zvcm0tb3JpZ2luOjAgMDtgfXJldHVybiBRJiYoaT9RLnByZXBlbmQoVyk6US5hcHBlbmRDaGlsZChXKSksKCk9PntRJiZRLnJlbW92ZUNoaWxkKFcpLGUudW5tb3VudCgpfX19KSxbUSxtXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57YiYmKFcuY2xhc3NOYW1lPWIpfSksW2JdKTtjb25zdCB0ZT1DLnVzZU1lbW8oKCgpPT5tP3twb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOmsud2lkdGgsaGVpZ2h0OmsuaGVpZ2h0LHRyYW5zZm9ybVN0eWxlOlwicHJlc2VydmUtM2RcIixwb2ludGVyRXZlbnRzOlwibm9uZVwifTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRyYW5zZm9ybTpzP1widHJhbnNsYXRlM2QoLTUwJSwtNTAlLDApXCI6XCJub25lXCIsLi4ubCYme3RvcDotay5oZWlnaHQvMixsZWZ0Oi1rLndpZHRoLzIsd2lkdGg6ay53aWR0aCxoZWlnaHQ6ay5oZWlnaHR9LC4uLnJ9KSxbcixzLGwsayxtXSkscmU9Qy51c2VNZW1vKCgoKT0+KHtwb3NpdGlvbjpcImFic29sdXRlXCIscG9pbnRlckV2ZW50czpFfSkpLFtFXSk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT57dmFyIHQsbjsoSi5jdXJyZW50PSExLG0pP251bGw9PSh0PUguY3VycmVudCl8fHQucmVuZGVyKEMuY3JlYXRlRWxlbWVudChcImRpdlwiLHtyZWY6WixzdHlsZTp0ZX0sQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JlZjpZLHN0eWxlOnJlfSxDLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7cmVmOlMsY2xhc3NOYW1lOm8sc3R5bGU6cixjaGlsZHJlbjplfSkpKSk6bnVsbD09KG49SC5jdXJyZW50KXx8bi5yZW5kZXIoQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3JlZjpTLHN0eWxlOnRlLGNsYXNzTmFtZTpvLGNoaWxkcmVuOmV9KSl9KSk7Y29uc3QgbmU9Qy51c2VSZWYoITApO2EudXNlRnJhbWUoKGU9PntpZigkLmN1cnJlbnQpe0QudXBkYXRlTWF0cml4V29ybGQoKSwkLmN1cnJlbnQudXBkYXRlV29ybGRNYXRyaXgoITAsITEpO2NvbnN0IGU9bT9YLmN1cnJlbnQ6dygkLmN1cnJlbnQsRCxrKTtpZihtfHxNYXRoLmFicyhxLmN1cnJlbnQtRC56b29tKT50fHxNYXRoLmFicyhYLmN1cnJlbnRbMF0tZVswXSk+dHx8TWF0aC5hYnMoWC5jdXJyZW50WzFdLWVbMV0pPnQpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCByPUwuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLG49SS5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksYT1yLnN1YihuKSxvPXQuZ2V0V29ybGREaXJlY3Rpb24oQik7cmV0dXJuIGEuYW5nbGVUbyhvKT5NYXRoLlBJLzJ9KCQuY3VycmVudCxEKTtsZXQgcj0hMTtlZSYmKEFycmF5LmlzQXJyYXkoZik/cj1mLm1hcCgoZT0+ZS5jdXJyZW50KSk6XCJibGVuZGluZ1wiIT09ZiYmKHI9W0ZdKSk7Y29uc3QgYT1uZS5jdXJyZW50O2lmKHIpe2NvbnN0IGU9ZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgYT1MLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSxvPWEuY2xvbmUoKTtvLnByb2plY3QodCksVi5zZXQoby54LG8ueSksci5zZXRGcm9tQ2FtZXJhKFYsdCk7Y29uc3QgaT1yLmludGVyc2VjdE9iamVjdHMobiwhMCk7aWYoaS5sZW5ndGgpe2NvbnN0IGU9aVswXS5kaXN0YW5jZTtyZXR1cm4gYS5kaXN0YW5jZVRvKHIucmF5Lm9yaWdpbik8ZX1yZXR1cm4hMH0oJC5jdXJyZW50LEQsXyxyKTtuZS5jdXJyZW50PWUmJiF0fWVsc2UgbmUuY3VycmVudD0hdDthIT09bmUuY3VycmVudCYmKHA/cCghbmUuY3VycmVudCk6Vy5zdHlsZS5kaXNwbGF5PW5lLmN1cnJlbnQ/XCJibG9ja1wiOlwibm9uZVwiKTtjb25zdCBvPU1hdGguZmxvb3IoZ1swXS8yKSxpPWY/ZWU/W2dbMF0sb106W28tMSwwXTpnO2lmKFcuc3R5bGUuekluZGV4PWAke2Z1bmN0aW9uKGUsdCxyKXtpZih0IGluc3RhbmNlb2Ygbi5QZXJzcGVjdGl2ZUNhbWVyYXx8dCBpbnN0YW5jZW9mIG4uT3J0aG9ncmFwaGljQ2FtZXJhKXtjb25zdCBuPUwuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGUubWF0cml4V29ybGQpLGE9SS5zZXRGcm9tTWF0cml4UG9zaXRpb24odC5tYXRyaXhXb3JsZCksbz1uLmRpc3RhbmNlVG8oYSksaT0oclsxXS1yWzBdKS8odC5mYXItdC5uZWFyKSxzPXJbMV0taSp0LmZhcjtyZXR1cm4gTWF0aC5yb3VuZChpKm8rcyl9fSgkLmN1cnJlbnQsRCxpKX1gLG0pe2NvbnN0W2UsdF09W2sud2lkdGgvMixrLmhlaWdodC8yXSxyPUQucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1s1XSp0LHtpc09ydGhvZ3JhcGhpY0NhbWVyYTpuLHRvcDphLGxlZnQ6byxib3R0b206aSxyaWdodDpzfT1ELGw9aihELm1hdHJpeFdvcmxkSW52ZXJzZSksYz1uP2BzY2FsZSgke3J9KXRyYW5zbGF0ZSgke08oLShzK28pLzIpfXB4LCR7TygoYStpKS8yKX1weClgOmB0cmFuc2xhdGVaKCR7cn1weClgO2xldCBtPSQuY3VycmVudC5tYXRyaXhXb3JsZDtkJiYobT1ELm1hdHJpeFdvcmxkSW52ZXJzZS5jbG9uZSgpLnRyYW5zcG9zZSgpLmNvcHlQb3NpdGlvbihtKS5zY2FsZSgkLmN1cnJlbnQuc2NhbGUpLG0uZWxlbWVudHNbM109bS5lbGVtZW50c1s3XT1tLmVsZW1lbnRzWzExXT0wLG0uZWxlbWVudHNbMTVdPTEpLFcuc3R5bGUud2lkdGg9ay53aWR0aCtcInB4XCIsVy5zdHlsZS5oZWlnaHQ9ay5oZWlnaHQrXCJweFwiLFcuc3R5bGUucGVyc3BlY3RpdmU9bj9cIlwiOmAke3J9cHhgLFouY3VycmVudCYmWS5jdXJyZW50JiYoWi5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybT1gJHtjfSR7bH10cmFuc2xhdGUoJHtlfXB4LCR7dH1weClgLFkuY3VycmVudC5zdHlsZS50cmFuc2Zvcm09RyhtLDEvKCh1fHwxMCkvNDAwKSkpfWVsc2V7Y29uc3QgdD12b2lkIDA9PT11PzE6ZnVuY3Rpb24oZSx0KXtpZih0IGluc3RhbmNlb2Ygbi5PcnRob2dyYXBoaWNDYW1lcmEpcmV0dXJuIHQuem9vbTtpZih0IGluc3RhbmNlb2Ygbi5QZXJzcGVjdGl2ZUNhbWVyYSl7Y29uc3Qgcj1MLnNldEZyb21NYXRyaXhQb3NpdGlvbihlLm1hdHJpeFdvcmxkKSxuPUkuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLGE9dC5mb3YqTWF0aC5QSS8xODAsbz1yLmRpc3RhbmNlVG8obik7cmV0dXJuIDEvKDIqTWF0aC50YW4oYS8yKSpvKX1yZXR1cm4gMX0oJC5jdXJyZW50LEQpKnU7Vy5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZTNkKCR7ZVswXX1weCwke2VbMV19cHgsMCkgc2NhbGUoJHt0fSlgfVguY3VycmVudD1lLHEuY3VycmVudD1ELnpvb219fWlmKCFlZSYmSy5jdXJyZW50JiYhSi5jdXJyZW50KWlmKG0pe2lmKFouY3VycmVudCl7Y29uc3QgZT1aLmN1cnJlbnQuY2hpbGRyZW5bMF07aWYobnVsbCE9ZSYmZS5jbGllbnRXaWR0aCYmbnVsbCE9ZSYmZS5jbGllbnRIZWlnaHQpe2NvbnN0e2lzT3J0aG9ncmFwaGljQ2FtZXJhOnR9PUQ7aWYodHx8dilNLnNjYWxlJiYoQXJyYXkuaXNBcnJheShNLnNjYWxlKT9NLnNjYWxlIGluc3RhbmNlb2Ygbi5WZWN0b3IzP0suY3VycmVudC5zY2FsZS5jb3B5KE0uc2NhbGUuY2xvbmUoKS5kaXZpZGVTY2FsYXIoMSkpOksuY3VycmVudC5zY2FsZS5zZXQoMS9NLnNjYWxlWzBdLDEvTS5zY2FsZVsxXSwxL00uc2NhbGVbMl0pOksuY3VycmVudC5zY2FsZS5zZXRTY2FsYXIoMS9NLnNjYWxlKSk7ZWxzZXtjb25zdCB0PSh1fHwxMCkvNDAwLHI9ZS5jbGllbnRXaWR0aCp0LG49ZS5jbGllbnRIZWlnaHQqdDtLLmN1cnJlbnQuc2NhbGUuc2V0KHIsbiwxKX1KLmN1cnJlbnQ9ITB9fX1lbHNle2NvbnN0IHQ9Vy5jaGlsZHJlblswXTtpZihudWxsIT10JiZ0LmNsaWVudFdpZHRoJiZudWxsIT10JiZ0LmNsaWVudEhlaWdodCl7Y29uc3QgZT0xL04uZmFjdG9yLHI9dC5jbGllbnRXaWR0aCplLG49dC5jbGllbnRIZWlnaHQqZTtLLmN1cnJlbnQuc2NhbGUuc2V0KHIsbiwxKSxKLmN1cnJlbnQ9ITB9Sy5jdXJyZW50Lmxvb2tBdChlLmNhbWVyYS5wb3NpdGlvbil9fSkpO2NvbnN0IGFlPUMudXNlTWVtbygoKCk9Pih7dmVydGV4U2hhZGVyOm0/dm9pZCAwOidcXG4gICAgICAgICAgLypcXG4gICAgICAgICAgICBUaGlzIHNoYWRlciBpcyBmcm9tIHRoZSBUSFJFRVxcJ3MgU3ByaXRlTWF0ZXJpYWwuXFxuICAgICAgICAgICAgV2UgbmVlZCB0byB0dXJuIHRoZSBiYWNraW5nIHBsYW5lIGludG8gYSBTcHJpdGVcXG4gICAgICAgICAgICAobWFrZSBpdCBhbHdheXMgZmFjZSB0aGUgY2FtZXJhKSBpZiBcInRyYW5zZnJvbVwiXFxuICAgICAgICAgICAgaXMgZmFsc2UuXFxuICAgICAgICAgICovXFxuICAgICAgICAgICNpbmNsdWRlIDxjb21tb24+XFxuXFxuICAgICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgICB2ZWMyIGNlbnRlciA9IHZlYzIoMC4sIDEuKTtcXG4gICAgICAgICAgICBmbG9hdCByb3RhdGlvbiA9IDAuMDtcXG5cXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHNvbWV3aGF0IGFyYml0cmFyeSwgYnV0IGl0IHNlZW1zIHRvIHdvcmsgd2VsbFxcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gZmlndXJlIG91dCBob3cgdG8gZGVyaXZlIHRoaXMgZHluYW1pY2FsbHkgaWYgaXQgZXZlbiBtYXR0ZXJzXFxuICAgICAgICAgICAgZmxvYXQgc2l6ZSA9IDAuMDM7XFxuXFxuICAgICAgICAgICAgdmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XFxuICAgICAgICAgICAgdmVjMiBzY2FsZTtcXG4gICAgICAgICAgICBzY2FsZS54ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMCBdLngsIG1vZGVsTWF0cml4WyAwIF0ueSwgbW9kZWxNYXRyaXhbIDAgXS56ICkgKTtcXG4gICAgICAgICAgICBzY2FsZS55ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMSBdLngsIG1vZGVsTWF0cml4WyAxIF0ueSwgbW9kZWxNYXRyaXhbIDEgXS56ICkgKTtcXG5cXG4gICAgICAgICAgICBib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7XFxuICAgICAgICAgICAgaWYgKCBpc1BlcnNwZWN0aXZlICkgc2NhbGUgKj0gLSBtdlBvc2l0aW9uLno7XFxuXFxuICAgICAgICAgICAgdmVjMiBhbGlnbmVkUG9zaXRpb24gPSAoIHBvc2l0aW9uLnh5IC0gKCBjZW50ZXIgLSB2ZWMyKCAwLjUgKSApICkgKiBzY2FsZSAqIHNpemU7XFxuICAgICAgICAgICAgdmVjMiByb3RhdGVkUG9zaXRpb247XFxuICAgICAgICAgICAgcm90YXRlZFBvc2l0aW9uLnggPSBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueCAtIHNpbiggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi55O1xcbiAgICAgICAgICAgIHJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcXG4gICAgICAgICAgICBtdlBvc2l0aW9uLnh5ICs9IHJvdGF0ZWRQb3NpdGlvbjtcXG5cXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1xcbiAgICAgICAgICB9XFxuICAgICAgJyxmcmFnbWVudFNoYWRlcjpcIlxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7XFxuICAgICAgICB9XFxuICAgICAgXCJ9KSksW21dKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe30sTSx7cmVmOiR9KSxmJiYhZWUmJkMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7Y2FzdFNoYWRvdzpoLHJlY2VpdmVTaGFkb3c6eCxyZWY6S30sdnx8Qy5jcmVhdGVFbGVtZW50KFwicGxhbmVHZW9tZXRyeVwiLG51bGwpLHl8fEMuY3JlYXRlRWxlbWVudChcInNoYWRlck1hdGVyaWFsXCIse3NpZGU6bi5Eb3VibGVTaWRlLHZlcnRleFNoYWRlcjphZS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6YWUuZnJhZ21lbnRTaGFkZXJ9KSkpfSkpO2xldCAkPTA7Y29uc3QgcT1vLmNyZWF0ZSgoZT0+KG4uRGVmYXVsdExvYWRpbmdNYW5hZ2VyLm9uU3RhcnQ9KHQscixuKT0+e2Uoe2FjdGl2ZTohMCxpdGVtOnQsbG9hZGVkOnIsdG90YWw6bixwcm9ncmVzczooci0kKS8obi0kKSoxMDB9KX0sbi5EZWZhdWx0TG9hZGluZ01hbmFnZXIub25Mb2FkPSgpPT57ZSh7YWN0aXZlOiExfSl9LG4uRGVmYXVsdExvYWRpbmdNYW5hZ2VyLm9uRXJyb3I9dD0+ZSgoZT0+KHtlcnJvcnM6Wy4uLmUuZXJyb3JzLHRdfSkpKSxuLkRlZmF1bHRMb2FkaW5nTWFuYWdlci5vblByb2dyZXNzPSh0LHIsbik9PntyPT09biYmKCQ9biksZSh7YWN0aXZlOiEwLGl0ZW06dCxsb2FkZWQ6cix0b3RhbDpuLHByb2dyZXNzOihyLSQpLyhuLSQpKjEwMHx8MTAwfSl9LHtlcnJvcnM6W10sYWN0aXZlOiExLHByb2dyZXNzOjAsaXRlbTpcIlwiLGxvYWRlZDowLHRvdGFsOjB9KSkpO2NvbnN0IFg9ZT0+YExvYWRpbmcgJHtlLnRvRml4ZWQoMil9JWA7Y29uc3QgWj17Y29udGFpbmVyOntwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixiYWNrZ3JvdW5kOlwiIzE3MTcxN1wiLGRpc3BsYXk6XCJmbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGp1c3RpZnlDb250ZW50OlwiY2VudGVyXCIsdHJhbnNpdGlvbjpcIm9wYWNpdHkgMzAwbXMgZWFzZVwiLHpJbmRleDoxZTN9LGlubmVyOnt3aWR0aDoxMDAsaGVpZ2h0OjMsYmFja2dyb3VuZDpcIiMyNzI3MjdcIix0ZXh0QWxpZ246XCJjZW50ZXJcIn0sYmFyOntoZWlnaHQ6Myx3aWR0aDpcIjEwMCVcIixiYWNrZ3JvdW5kOlwid2hpdGVcIix0cmFuc2l0aW9uOlwidHJhbnNmb3JtIDIwMG1zXCIsdHJhbnNmb3JtT3JpZ2luOlwibGVmdCBjZW50ZXJcIn0sZGF0YTp7ZGlzcGxheTpcImlubGluZS1ibG9ja1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixmb250VmFyaWFudE51bWVyaWM6XCJ0YWJ1bGFyLW51bXNcIixtYXJnaW5Ub3A6XCIwLjhlbVwiLGNvbG9yOlwiI2YwZjBmMFwiLGZvbnRTaXplOlwiMC42ZW1cIixmb250RmFtaWx5OictYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiSW50ZXJcIiwgXCJTZWdvZSBVSVwiLCBcIkhlbHZldGljYSBOZXVlXCIsIEhlbHZldGljYSwgQXJpYWwsIFJvYm90bywgVWJ1bnR1LCBzYW5zLXNlcmlmLCBcIkFwcGxlIENvbG9yIEVtb2ppXCIsIFwiU2Vnb2UgVUkgRW1vamlcIiwgXCJTZWdvZSBVSSBTeW1ib2xcIicsd2hpdGVTcGFjZTpcIm5vd3JhcFwifX0sWT1DLmNyZWF0ZUNvbnRleHQobnVsbCk7ZnVuY3Rpb24gUSgpe3JldHVybiBDLnVzZUNvbnRleHQoWSl9Y29uc3QgSz1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZX0sdCk9Pntjb25zdCByPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZSh0LCgoKT0+ci5jdXJyZW50KSxbXSk7Y29uc3Qgbj1RKCkse3dpZHRoOm8saGVpZ2h0Oml9PWEudXNlVGhyZWUoKGU9PmUudmlld3BvcnQpKTtyZXR1cm4gYS51c2VGcmFtZSgoKCk9PntyLmN1cnJlbnQucG9zaXRpb24ueD1uLmhvcml6b250YWw/LW8qKG4ucGFnZXMtMSkqbi5vZmZzZXQ6MCxyLmN1cnJlbnQucG9zaXRpb24ueT1uLmhvcml6b250YWw/MDppKihuLnBhZ2VzLTEpKm4ub2Zmc2V0fSkpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjpyfSxlKX0pKSxKPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLHN0eWxlOnQsLi4ucn0sbik9Pntjb25zdCBvPVEoKSxpPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShuLCgoKT0+aS5jdXJyZW50KSxbXSk7Y29uc3R7d2lkdGg6cyxoZWlnaHQ6bH09YS51c2VUaHJlZSgoZT0+ZS5zaXplKSksYz1DLnVzZUNvbnRleHQoYS5jb250ZXh0KSx1PUMudXNlTWVtbygoKCk9PlAuY3JlYXRlUm9vdChvLmZpeGVkKSksW28uZml4ZWRdKTtyZXR1cm4gYS51c2VGcmFtZSgoKCk9PntvLmRlbHRhPm8uZXBzJiYoaS5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlM2QoJHtvLmhvcml6b250YWw/LXMqKG8ucGFnZXMtMSkqby5vZmZzZXQ6MH1weCwke28uaG9yaXpvbnRhbD8wOmwqKG8ucGFnZXMtMSkqLW8ub2Zmc2V0fXB4LDApYCl9KSksdS5yZW5kZXIoQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsVC5kZWZhdWx0KHtyZWY6aSxzdHlsZTp7Li4udCxwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpbGxDaGFuZ2U6XCJ0cmFuc2Zvcm1cIn19LHIpLEMuY3JlYXRlRWxlbWVudChZLlByb3ZpZGVyLHt2YWx1ZTpvfSxDLmNyZWF0ZUVsZW1lbnQoYS5jb250ZXh0LlByb3ZpZGVyLHt2YWx1ZTpjfSxlKSkpKSxudWxsfSkpLGVlPUMuZm9yd2FyZFJlZigoKHtodG1sOmUsLi4udH0scik9Pntjb25zdCBuPWU/SjpLO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQobixULmRlZmF1bHQoe3JlZjpyfSx0KSl9KSk7Y29uc3QgdGU9Qy5jcmVhdGVDb250ZXh0KG51bGwpO2NvbnN0IHJlPUMuY3JlYXRlQ29udGV4dChbXSk7Y29uc3QgbmU9Qy5mb3J3YXJkUmVmKChmdW5jdGlvbih7Y2hpbGRyZW46ZSxmb2xsb3c6dD0hMCxsb2NrWDpyPSExLGxvY2tZOm89ITEsbG9ja1o6aT0hMSwuLi5zfSxsKXtjb25zdCBjPUMudXNlUmVmKG51bGwpLHU9Qy51c2VSZWYobnVsbCksZD1uZXcgbi5RdWF0ZXJuaW9uO3JldHVybiBhLnVzZUZyYW1lKCgoe2NhbWVyYTplfSk9PntpZighdHx8IXUuY3VycmVudClyZXR1cm47Y29uc3Qgbj1jLmN1cnJlbnQucm90YXRpb24uY2xvbmUoKTt1LmN1cnJlbnQudXBkYXRlTWF0cml4KCksdS5jdXJyZW50LnVwZGF0ZVdvcmxkTWF0cml4KCExLCExKSx1LmN1cnJlbnQuZ2V0V29ybGRRdWF0ZXJuaW9uKGQpLGUuZ2V0V29ybGRRdWF0ZXJuaW9uKGMuY3VycmVudC5xdWF0ZXJuaW9uKS5wcmVtdWx0aXBseShkLmludmVydCgpKSxyJiYoYy5jdXJyZW50LnJvdGF0aW9uLng9bi54KSxvJiYoYy5jdXJyZW50LnJvdGF0aW9uLnk9bi55KSxpJiYoYy5jdXJyZW50LnJvdGF0aW9uLno9bi56KX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUobCwoKCk9PnUuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6dX0scyksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOmN9LGUpKX0pKSxhZT1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSxkZXB0aDp0PS0xLC4uLnJ9LG4pPT57Y29uc3Qgbz1DLnVzZVJlZihudWxsKTtyZXR1cm4gQy51c2VJbXBlcmF0aXZlSGFuZGxlKG4sKCgpPT5vLmN1cnJlbnQpLFtdKSxhLnVzZUZyYW1lKCgoe2NhbWVyYTplfSk9PntvLmN1cnJlbnQucXVhdGVybmlvbi5jb3B5KGUucXVhdGVybmlvbiksby5jdXJyZW50LnBvc2l0aW9uLmNvcHkoZS5wb3NpdGlvbil9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe3JlZjpvfSxyKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtcInBvc2l0aW9uLXpcIjotdH0sZSkpfSkpLG9lPW5ldyBSLlZlY3RvcjMsaWU9bmV3IFIuVmVjdG9yMyxzZT1uZXcgUi5WZWN0b3IzLGxlPShlLHQscixuPTEpPT57Y29uc3QgYT1vZS5zZXQoZS54L3Iud2lkdGgqMi0xLC1lLnkvci5oZWlnaHQqMisxLG4pO3JldHVybiBhLnVucHJvamVjdCh0KSxhfSxjZT0oZSx0LHIsbik9Pntjb25zdCBhPSgoZSx0LHIpPT57Y29uc3Qgbj1yLndpZHRoLzIsYT1yLmhlaWdodC8yO3QudXBkYXRlTWF0cml4V29ybGQoITEpO2NvbnN0IG89ZS5wcm9qZWN0KHQpO3JldHVybiBvLng9by54Km4rbixvLnk9LW8ueSphK2Esb30pKHNlLmNvcHkoZSkscixuKTtsZXQgbz0wO2ZvcihsZXQgaT0wO2k8MjsrK2kpe2NvbnN0IHM9aWUuY29weShhKS5zZXRDb21wb25lbnQoaSxhLmdldENvbXBvbmVudChpKSt0KSxsPWxlKHMscixuLHMueik7bz1NYXRoLm1heChvLGUuZGlzdGFuY2VUbyhsKSl9cmV0dXJuIG99LHVlPW5ldyBuLlZlY3RvcjMsZGU9dC5mb3J3YXJkUmVmKCgoe3NjYWxlOmU9MSwuLi5yfSxuKT0+e2NvbnN0IG89dC51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShuLCgoKT0+by5jdXJyZW50KSxbXSksYS51c2VGcmFtZSgodD0+e2NvbnN0IHI9by5jdXJyZW50O2lmKCFyKXJldHVybjtjb25zdCBuPWNlKHIuZ2V0V29ybGRQb3NpdGlvbih1ZSksZSx0LmNhbWVyYSx0LnNpemUpO3Iuc2NhbGUuc2V0U2NhbGFyKG4qZSl9KSksQy5jcmVhdGVFbGVtZW50KFwib2JqZWN0M0RcIixULmRlZmF1bHQoe3JlZjpvfSxyKSl9KSksbWU9Qy5mb3J3YXJkUmVmKChmdW5jdGlvbih7cG9pbnRzOmUsY29sb3I6dD0xNjc3NzIxNSx2ZXJ0ZXhDb2xvcnM6cixsaW5ld2lkdGg6byxsaW5lV2lkdGg6aSxzZWdtZW50czpzLGRhc2hlZDpsLC4uLmN9LGQpe3ZhciBtLGY7Y29uc3QgcD1hLnVzZVRocmVlKChlPT5lLnNpemUpKSxoPUMudXNlTWVtbygoKCk9PnM/bmV3IHUuTGluZVNlZ21lbnRzMjpuZXcgdS5MaW5lMiksW3NdKSxbeF09Qy51c2VTdGF0ZSgoKCk9Pm5ldyB1LkxpbmVNYXRlcmlhbCkpLHk9ND09PShudWxsPT1yfHxudWxsPT0obT1yWzBdKT92b2lkIDA6bS5sZW5ndGgpPzQ6Myx2PUMudXNlTWVtbygoKCk9Pntjb25zdCBhPXM/bmV3IHUuTGluZVNlZ21lbnRzR2VvbWV0cnk6bmV3IHUuTGluZUdlb21ldHJ5LG89ZS5tYXAoKGU9Pntjb25zdCB0PUFycmF5LmlzQXJyYXkoZSk7cmV0dXJuIGUgaW5zdGFuY2VvZiBuLlZlY3RvcjN8fGUgaW5zdGFuY2VvZiBuLlZlY3RvcjQ/W2UueCxlLnksZS56XTplIGluc3RhbmNlb2Ygbi5WZWN0b3IyP1tlLngsZS55LDBdOnQmJjM9PT1lLmxlbmd0aD9bZVswXSxlWzFdLGVbMl1dOnQmJjI9PT1lLmxlbmd0aD9bZVswXSxlWzFdLDBdOmV9KSk7aWYoYS5zZXRQb3NpdGlvbnMoby5mbGF0KCkpLHIpe3Q9MTY3NzcyMTU7Y29uc3QgZT1yLm1hcCgoZT0+ZSBpbnN0YW5jZW9mIG4uQ29sb3I/ZS50b0FycmF5KCk6ZSkpO2Euc2V0Q29sb3JzKGUuZmxhdCgpLHkpfXJldHVybiBhfSksW2UscyxyLHldKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aC5jb21wdXRlTGluZURpc3RhbmNlcygpfSksW2UsaF0pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2w/eC5kZWZpbmVzLlVTRV9EQVNIPVwiXCI6ZGVsZXRlIHguZGVmaW5lcy5VU0VfREFTSCx4Lm5lZWRzVXBkYXRlPSEwfSksW2wseF0pLEMudXNlRWZmZWN0KCgoKT0+KCk9Pnt2LmRpc3Bvc2UoKSx4LmRpc3Bvc2UoKX0pLFt2XSksQy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsVC5kZWZhdWx0KHtvYmplY3Q6aCxyZWY6ZH0sYyksQy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIse29iamVjdDp2LGF0dGFjaDpcImdlb21ldHJ5XCJ9KSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe29iamVjdDp4LGF0dGFjaDpcIm1hdGVyaWFsXCIsY29sb3I6dCx2ZXJ0ZXhDb2xvcnM6Qm9vbGVhbihyKSxyZXNvbHV0aW9uOltwLndpZHRoLHAuaGVpZ2h0XSxsaW5ld2lkdGg6bnVsbCE9PShmPW51bGwhPW8/bzppKSYmdm9pZCAwIT09Zj9mOjEsZGFzaGVkOmwsdHJhbnNwYXJlbnQ6ND09PXl9LGMpKSl9KSksZmU9bmV3IG4uVmVjdG9yMyxwZT1DLmZvcndhcmRSZWYoKGZ1bmN0aW9uKHtzdGFydDplPVswLDAsMF0sZW5kOnQ9WzAsMCwwXSxtaWQ6cixzZWdtZW50czphPTIwLC4uLm99LGkpe2NvbnN0IHM9Qy51c2VSZWYobnVsbCk7Qy51c2VJbXBlcmF0aXZlSGFuZGxlKGksKCgpPT5zLmN1cnJlbnQpKTtjb25zdFtsXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uUXVhZHJhdGljQmV6aWVyQ3VydmUzKHZvaWQgMCx2b2lkIDAsdm9pZCAwKSkpLGM9Qy51c2VDYWxsYmFjaygoKGUsdCxyLGE9MjApPT4oZSBpbnN0YW5jZW9mIG4uVmVjdG9yMz9sLnYwLmNvcHkoZSk6bC52MC5zZXQoLi4uZSksdCBpbnN0YW5jZW9mIG4uVmVjdG9yMz9sLnYyLmNvcHkodCk6bC52Mi5zZXQoLi4udCksciBpbnN0YW5jZW9mIG4uVmVjdG9yMz9sLnYxLmNvcHkocik6QXJyYXkuaXNBcnJheShyKT9sLnYxLnNldCguLi5yKTpsLnYxLmNvcHkobC52MC5jbG9uZSgpLmFkZChsLnYyLmNsb25lKCkuc3ViKGwudjApKS5hZGQoZmUuc2V0KDAsbC52MC55LWwudjIueSwwKSkpLGwuZ2V0UG9pbnRzKGEpKSksW10pO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3MuY3VycmVudC5zZXRQb2ludHM9KGUsdCxyKT0+e2NvbnN0IG49YyhlLHQscik7cy5jdXJyZW50Lmdlb21ldHJ5JiZzLmN1cnJlbnQuZ2VvbWV0cnkuc2V0UG9zaXRpb25zKG4ubWFwKChlPT5lLnRvQXJyYXkoKSkpLmZsYXQoKSl9fSksW10pO2NvbnN0IHU9Qy51c2VNZW1vKCgoKT0+YyhlLHQscixhKSksW2UsdCxyLGFdKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KG1lLFQuZGVmYXVsdCh7cmVmOnMscG9pbnRzOnV9LG8pKX0pKSxoZT1DLmZvcndhcmRSZWYoKGZ1bmN0aW9uKHtzdGFydDplLGVuZDp0LG1pZEE6cixtaWRCOmEsc2VnbWVudHM6bz0yMCwuLi5pfSxzKXtjb25zdCBsPUMudXNlTWVtbygoKCk9Pntjb25zdCBpPWUgaW5zdGFuY2VvZiBuLlZlY3RvcjM/ZTpuZXcgbi5WZWN0b3IzKC4uLmUpLHM9dCBpbnN0YW5jZW9mIG4uVmVjdG9yMz90Om5ldyBuLlZlY3RvcjMoLi4udCksbD1yIGluc3RhbmNlb2Ygbi5WZWN0b3IzP3I6bmV3IG4uVmVjdG9yMyguLi5yKSxjPWEgaW5zdGFuY2VvZiBuLlZlY3RvcjM/YTpuZXcgbi5WZWN0b3IzKC4uLmEpO3JldHVybiBuZXcgbi5DdWJpY0JlemllckN1cnZlMyhpLGwsYyxzKS5nZXRQb2ludHMobyl9KSxbZSx0LHIsYSxvXSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChtZSxULmRlZmF1bHQoe3JlZjpzLHBvaW50czpsfSxpKSl9KSkseGU9Qy5mb3J3YXJkUmVmKChmdW5jdGlvbih7cG9pbnRzOmUsY2xvc2VkOnQ9ITEsY3VydmVUeXBlOnI9XCJjZW50cmlwZXRhbFwiLHRlbnNpb246YT0uNSxzZWdtZW50czpvPTIwLHZlcnRleENvbG9yczppLC4uLnN9LGwpe2NvbnN0IGM9Qy51c2VNZW1vKCgoKT0+e2NvbnN0IG89ZS5tYXAoKGU9PmUgaW5zdGFuY2VvZiBuLlZlY3RvcjM/ZTpuZXcgbi5WZWN0b3IzKC4uLmUpKSk7cmV0dXJuIG5ldyBuLkNhdG11bGxSb21DdXJ2ZTMobyx0LHIsYSl9KSxbZSx0LHIsYV0pLHU9Qy51c2VNZW1vKCgoKT0+Yy5nZXRQb2ludHMobykpLFtjLG9dKSxkPUMudXNlTWVtbygoKCk9PntpZighaXx8aS5sZW5ndGg8MilyZXR1cm47aWYoaS5sZW5ndGg9PT1vKzEpcmV0dXJuIGk7Y29uc3QgZT1pLm1hcCgoZT0+ZSBpbnN0YW5jZW9mIG4uQ29sb3I/ZTpuZXcgbi5Db2xvciguLi5lKSkpO3QmJmUucHVzaChlWzBdLmNsb25lKCkpO2NvbnN0IHI9W2VbMF1dLGE9by8oZS5sZW5ndGgtMSk7Zm9yKGxldCB0PTE7dDxvO3QrKyl7Y29uc3Qgbj10JWEvYSxvPU1hdGguZmxvb3IodC9hKTtyLnB1c2goZVtvXS5jbG9uZSgpLmxlcnAoZVtvKzFdLG4pKX1yZXR1cm4gci5wdXNoKGVbZS5sZW5ndGgtMV0pLHJ9KSxbaSxvXSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChtZSxULmRlZmF1bHQoe3JlZjpsLHBvaW50czp1LHZlcnRleENvbG9yczpkfSxzKSl9KSkseWU9Qy5mb3J3YXJkUmVmKCgoe3VybDplLGRpc3RhbmNlOnQ9MSxsb29wOnI9ITAsYXV0b3BsYXk6bywuLi5pfSxzKT0+e2NvbnN0IGw9Qy51c2VSZWYobnVsbCk7Qy51c2VJbXBlcmF0aXZlSGFuZGxlKHMsKCgpPT5sLmN1cnJlbnQpLFtdKTtjb25zdCBjPWEudXNlVGhyZWUoKCh7Y2FtZXJhOmV9KT0+ZSkpLFt1XT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uQXVkaW9MaXN0ZW5lcikpLGQ9YS51c2VMb2FkZXIobi5BdWRpb0xvYWRlcixlKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57Y29uc3QgZT1sLmN1cnJlbnQ7ZSYmKGUuc2V0QnVmZmVyKGQpLGUuc2V0UmVmRGlzdGFuY2UodCksZS5zZXRMb29wKHIpLG8mJiFlLmlzUGxheWluZyYmZS5wbGF5KCkpfSksW2QsYyx0LHJdKSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWwuY3VycmVudDtyZXR1cm4gYy5hZGQodSksKCk9PntjLnJlbW92ZSh1KSxlJiYoZS5pc1BsYXlpbmcmJmUuc3RvcCgpLGUuc291cmNlJiZlLnNvdXJjZS5fY29ubmVjdGVkJiZlLmRpc2Nvbm5lY3QoKSl9fSksW10pLEMuY3JlYXRlRWxlbWVudChcInBvc2l0aW9uYWxBdWRpb1wiLFQuZGVmYXVsdCh7cmVmOmwsYXJnczpbdV19LGkpKX0pKSx2ZT1DLmZvcndhcmRSZWYoKCh7c2RmR2x5cGhTaXplOmU9NjQsYW5jaG9yWDp0PVwiY2VudGVyXCIsYW5jaG9yWTpyPVwibWlkZGxlXCIsZm9udDpuLGZvbnRTaXplOm89MSxjaGlsZHJlbjppLGNoYXJhY3RlcnM6cyxvblN5bmM6bCwuLi5jfSx1KT0+e2NvbnN0IGQ9YS51c2VUaHJlZSgoKHtpbnZhbGlkYXRlOmV9KT0+ZSkpLFtwXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG0uVGV4dCkpLFtoLHhdPUMudXNlTWVtbygoKCk9Pntjb25zdCBlPVtdO2xldCB0PVwiXCI7cmV0dXJuIEMuQ2hpbGRyZW4uZm9yRWFjaChpLChyPT57XCJzdHJpbmdcIj09dHlwZW9mIHJ8fFwibnVtYmVyXCI9PXR5cGVvZiByP3QrPXI6ZS5wdXNoKHIpfSkpLFtlLHRdfSksW2ldKTtyZXR1cm4gZi5zdXNwZW5kKCgoKT0+bmV3IFByb21pc2UoKGU9Pm0ucHJlbG9hZEZvbnQoe2ZvbnQ6bixjaGFyYWN0ZXJzOnN9LGUpKSkpLFtcInRyb2lrYS10ZXh0XCIsbixzXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57cC5zeW5jKCgoKT0+e2QoKSxsJiZsKHApfSkpfSkpLEMudXNlRWZmZWN0KCgoKT0+KCk9PnAuZGlzcG9zZSgpKSxbcF0pLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7b2JqZWN0OnAscmVmOnUsZm9udDpuLHRleHQ6eCxhbmNob3JYOnQsYW5jaG9yWTpyLGZvbnRTaXplOm8sc2RmR2x5cGhTaXplOmV9LGMpLGgpfSkpO2xldCBnZT1udWxsO2FzeW5jIGZ1bmN0aW9uIHdlKGUpe2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/YXdhaXQoYXdhaXQgZmV0Y2goZSkpLmpzb24oKTplfShlKTtyZXR1cm4gcj10LGdlfHwoZ2U9bmV3IHUuRm9udExvYWRlciksZ2UucGFyc2Uocik7dmFyIHJ9ZnVuY3Rpb24gemUoZSl7cmV0dXJuIGYuc3VzcGVuZCh3ZSxbZV0pfXplLnByZWxvYWQ9ZT0+Zi5wcmVsb2FkKHdlLFtlXSksemUuY2xlYXI9ZT0+Zi5jbGVhcihbZV0pO2NvbnN0IGJlPVtcInN0cmluZ1wiLFwibnVtYmVyXCJdLEVlPUMuZm9yd2FyZFJlZigoKHtmb250OmUsbGV0dGVyU3BhY2luZzpyPTAsbGluZUhlaWdodDpuPTEsc2l6ZTpvPTEsaGVpZ2h0Omk9LjIsYmV2ZWxUaGlja25lc3M6cz0uMSxiZXZlbFNpemU6bD0uMDEsYmV2ZWxFbmFibGVkOmM9ITEsYmV2ZWxPZmZzZXQ6ZD0wLGJldmVsU2VnbWVudHM6bT00LGN1cnZlU2VnbWVudHM6Zj04LHNtb290aDpwLGNoaWxkcmVuOmgsLi4ueH0seSk9PntDLnVzZU1lbW8oKCgpPT5hLmV4dGVuZCh7UmVuYW1lZFRleHRHZW9tZXRyeTp1LlRleHRHZW9tZXRyeX0pKSxbXSk7Y29uc3Qgdj1DLnVzZVJlZihudWxsKSxnPXplKGUpLHc9dC51c2VNZW1vKCgoKT0+KHtmb250Omcsc2l6ZTpvLGhlaWdodDppLGJldmVsVGhpY2tuZXNzOnMsYmV2ZWxTaXplOmwsYmV2ZWxFbmFibGVkOmMsYmV2ZWxTZWdtZW50czptLGJldmVsT2Zmc2V0OmQsY3VydmVTZWdtZW50czpmLGxldHRlclNwYWNpbmc6cixsaW5lSGVpZ2h0Om59KSksW2csbyxpLHMsbCxjLG0sZCxmLHIsbl0pLFt6LC4uLmJdPXQudXNlTWVtbygoKCk9PihlPT57bGV0IHQ9XCJcIjtjb25zdCByPVtdO3JldHVybiBDLkNoaWxkcmVuLmZvckVhY2goZSwoZT0+e2JlLmluY2x1ZGVzKHR5cGVvZiBlKT90Kz1lK1wiXCI6ci5wdXNoKGUpfSkpLFt0LC4uLnJdfSkoaCkpLFtoXSksRT1DLnVzZU1lbW8oKCgpPT5beix3XSksW3osd10pO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntwJiYodi5jdXJyZW50Lmdlb21ldHJ5PXUubWVyZ2VWZXJ0aWNlcyh2LmN1cnJlbnQuZ2VvbWV0cnkscCksdi5jdXJyZW50Lmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCkpfSksW0UscF0pLEMudXNlSW1wZXJhdGl2ZUhhbmRsZSh5LCgoKT0+di5jdXJyZW50KSxbXSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7fSx4LHtyZWY6dn0pLEMuY3JlYXRlRWxlbWVudChcInJlbmFtZWRUZXh0R2VvbWV0cnlcIix7YXJnczpFfSksYil9KSksTWU9Qy5mb3J3YXJkUmVmKCgoe2NoaWxkcmVuOmUsbXVsdGlzYW1waW5nOnQ9OCxyZW5kZXJJbmRleDpyPTEsZGlzYWJsZVJlbmRlcjpvLGRpc2FibGVHYW1tYTppLGRpc2FibGVSZW5kZXJQYXNzOnMsZGVwdGhCdWZmZXI6bD0hMCxzdGVuY2lsQnVmZmVyOmM9ITEsYW5pc290cm9weTpkPTEsZW5jb2Rpbmc6bSx0eXBlOmYsLi4ucH0saCk9PntDLnVzZU1lbW8oKCgpPT5hLmV4dGVuZCh7RWZmZWN0Q29tcG9zZXI6dS5FZmZlY3RDb21wb3NlcixSZW5kZXJQYXNzOnUuUmVuZGVyUGFzcyxTaGFkZXJQYXNzOnUuU2hhZGVyUGFzc30pKSxbXSk7Y29uc3QgeD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUoaCwoKCk9PnguY3VycmVudCksW10pO2NvbnN0e3NjZW5lOnksY2FtZXJhOnYsZ2w6ZyxzaXplOncsdmlld3BvcnQ6en09YS51c2VUaHJlZSgpLFtiXT1DLnVzZVN0YXRlKCgoKT0+e2NvbnN0IGU9bmV3IG4uV2ViR0xSZW5kZXJUYXJnZXQody53aWR0aCx3LmhlaWdodCx7dHlwZTpmfHxuLkhhbGZGbG9hdFR5cGUsZm9ybWF0Om4uUkdCQUZvcm1hdCxkZXB0aEJ1ZmZlcjpsLHN0ZW5jaWxCdWZmZXI6Yyxhbmlzb3Ryb3B5OmR9KTtyZXR1cm4gZj09PW4uVW5zaWduZWRCeXRlVHlwZSYmbnVsbCE9bSYmKFwiY29sb3JTcGFjZVwiaW4gZT9lLnRleHR1cmUuY29sb3JTcGFjZT1tOmUudGV4dHVyZS5lbmNvZGluZz1tKSxlLnNhbXBsZXM9dCxlfSkpO0MudXNlRWZmZWN0KCgoKT0+e3ZhciBlLHQ7bnVsbD09KGU9eC5jdXJyZW50KXx8ZS5zZXRTaXplKHcud2lkdGgsdy5oZWlnaHQpLG51bGw9PSh0PXguY3VycmVudCl8fHQuc2V0UGl4ZWxSYXRpbyh6LmRwcil9KSxbZyx3LHouZHByXSksYS51c2VGcmFtZSgoKCk9Pnt2YXIgZTtvfHxudWxsPT0oZT14LmN1cnJlbnQpfHxlLnJlbmRlcigpfSkscik7Y29uc3QgRT1bXTtyZXR1cm4gc3x8RS5wdXNoKEMuY3JlYXRlRWxlbWVudChcInJlbmRlclBhc3NcIix7a2V5OlwicmVuZGVycGFzc1wiLGF0dGFjaDpgcGFzc2VzLSR7RS5sZW5ndGh9YCxhcmdzOlt5LHZdfSkpLGl8fEUucHVzaChDLmNyZWF0ZUVsZW1lbnQoXCJzaGFkZXJQYXNzXCIse2F0dGFjaDpgcGFzc2VzLSR7RS5sZW5ndGh9YCxrZXk6XCJnYW1tYXBhc3NcIixhcmdzOlt1LkdhbW1hQ29ycmVjdGlvblNoYWRlcl19KSksQy5DaGlsZHJlbi5mb3JFYWNoKGUsKGU9PntlJiZFLnB1c2goQy5jbG9uZUVsZW1lbnQoZSx7a2V5OkUubGVuZ3RoLGF0dGFjaDpgcGFzc2VzLSR7RS5sZW5ndGh9YH0pKX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJlZmZlY3RDb21wb3NlclwiLFQuZGVmYXVsdCh7cmVmOngsYXJnczpbZyxiXX0scCksRSl9KSk7bGV0IFNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLkxpbmVhcj1cImxpbmVhclwiLGUuUmFkaWFsPVwicmFkaWFsXCIsZX0oe30pO2Z1bmN0aW9uIFRlKGUsdCxyLG4pe2NvbnN0IGE9Y2xhc3MgZXh0ZW5kcyBSLlNoYWRlck1hdGVyaWFse2NvbnN0cnVjdG9yKGE9e30pe2NvbnN0IG89T2JqZWN0LmVudHJpZXMoZSk7c3VwZXIoe3VuaWZvcm1zOm8ucmVkdWNlKCgoZSxbdCxyXSk9Pih7Li4uZSwuLi5SLlVuaWZvcm1zVXRpbHMuY2xvbmUoe1t0XTp7dmFsdWU6cn19KX0pKSx7fSksdmVydGV4U2hhZGVyOnQsZnJhZ21lbnRTaGFkZXI6cn0pLHRoaXMua2V5PVwiXCIsby5mb3JFYWNoKCgoW2VdKT0+T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSx7Z2V0OigpPT50aGlzLnVuaWZvcm1zW2VdLnZhbHVlLHNldDp0PT50aGlzLnVuaWZvcm1zW2VdLnZhbHVlPXR9KSkpLE9iamVjdC5hc3NpZ24odGhpcyxhKSxuJiZuKHRoaXMpfX07cmV0dXJuIGEua2V5PVIuTWF0aFV0aWxzLmdlbmVyYXRlVVVJRCgpLGF9Y29uc3QgQ2U9ZT0+ZT09PU9iamVjdChlKSYmIUFycmF5LmlzQXJyYXkoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU7ZnVuY3Rpb24gUGUoZSxyKXtjb25zdCBvPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxpPWEudXNlTG9hZGVyKG4uVGV4dHVyZUxvYWRlcixDZShlKT9PYmplY3QudmFsdWVzKGUpOmUpO3QudXNlTGF5b3V0RWZmZWN0KCgoKT0+e251bGw9PXJ8fHIoaSl9KSxbcl0pLHQudXNlRWZmZWN0KCgoKT0+e2lmKFwiaW5pdFRleHR1cmVcImluIG8pe2xldCBlPVtdO0FycmF5LmlzQXJyYXkoaSk/ZT1pOmkgaW5zdGFuY2VvZiBuLlRleHR1cmU/ZT1baV06Q2UoaSkmJihlPU9iamVjdC52YWx1ZXMoaSkpLGUuZm9yRWFjaCgoZT0+e2UgaW5zdGFuY2VvZiBuLlRleHR1cmUmJm8uaW5pdFRleHR1cmUoZSl9KSl9fSksW28saV0pO2NvbnN0IHM9dC51c2VNZW1vKCgoKT0+e2lmKENlKGUpKXtjb25zdCB0PXt9O2xldCByPTA7Zm9yKGNvbnN0IG4gaW4gZSl0W25dPWlbcisrXTtyZXR1cm4gdH1yZXR1cm4gaX0pLFtlLGldKTtyZXR1cm4gc31QZS5wcmVsb2FkPWU9PmEudXNlTG9hZGVyLnByZWxvYWQobi5UZXh0dXJlTG9hZGVyLGUpLFBlLmNsZWFyPWU9PmEudXNlTG9hZGVyLmNsZWFyKG4uVGV4dHVyZUxvYWRlcixlKTtjb25zdCBSZT0oKCk9PnBhcnNlSW50KG4uUkVWSVNJT04ucmVwbGFjZSgvXFxEKy9nLFwiXCIpKSkoKSxEZT1UZSh7Y29sb3I6bmV3IFIuQ29sb3IoXCJ3aGl0ZVwiKSxzY2FsZTpuZXcgUi5WZWN0b3IyKDEsMSksaW1hZ2VCb3VuZHM6bmV3IFIuVmVjdG9yMigxLDEpLHJlc29sdXRpb246MTAyNCxtYXA6bnVsbCx6b29tOjEscmFkaXVzOjAsZ3JheXNjYWxlOjAsb3BhY2l0eToxfSxcIlxcbiAgdmFyeWluZyB2ZWMyIHZVdjtcXG4gIHZhcnlpbmcgdmVjMiB2UG9zO1xcbiAgdm9pZCBtYWluKCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLik7XFxuICAgIHZVdiA9IHV2O1xcbiAgICB2UG9zID0gcG9zaXRpb24ueHk7XFxuICB9XFxuXCIsYFxcbiAgLy8gbW9zdGx5IGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vc3RhdGljby9kZjY0YzVkMTY3MzYyZWNmN2IzNGZjYTBiMTQ1OWE0NFxcbiAgdmFyeWluZyB2ZWMyIHZVdjtcXG4gIHZhcnlpbmcgdmVjMiB2UG9zO1xcbiAgdW5pZm9ybSB2ZWMyIHNjYWxlO1xcbiAgdW5pZm9ybSB2ZWMyIGltYWdlQm91bmRzO1xcbiAgdW5pZm9ybSBmbG9hdCByZXNvbHV0aW9uO1xcbiAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcbiAgdW5pZm9ybSBmbG9hdCByYWRpdXM7XFxuICB1bmlmb3JtIGZsb2F0IHpvb207XFxuICB1bmlmb3JtIGZsb2F0IGdyYXlzY2FsZTtcXG4gIHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4gIGNvbnN0IHZlYzMgbHVtYSA9IHZlYzMoLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gIHZlYzQgdG9HcmF5c2NhbGUodmVjNCBjb2xvciwgZmxvYXQgaW50ZW5zaXR5KSB7XFxuICAgIHJldHVybiB2ZWM0KG1peChjb2xvci5yZ2IsIHZlYzMoZG90KGNvbG9yLnJnYiwgbHVtYSkpLCBpbnRlbnNpdHkpLCBjb2xvci5hKTtcXG4gIH1cXG4gIHZlYzIgYXNwZWN0KHZlYzIgc2l6ZSkge1xcbiAgICByZXR1cm4gc2l6ZSAvIG1pbihzaXplLngsIHNpemUueSk7XFxuICB9XFxuICBcXG4gIGNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTtcXG4gICAgXFxuICAvLyBmcm9tIGh0dHBzOi8vaXF1aWxlemxlcy5vcmcvYXJ0aWNsZXMvZGlzdGZ1bmN0aW9uc1xcbiAgZmxvYXQgdWRSb3VuZEJveCggdmVjMiBwLCB2ZWMyIGIsIGZsb2F0IHIgKSB7XFxuICAgIHJldHVybiBsZW5ndGgobWF4KGFicyhwKS1iK3IsMC4wKSktcjtcXG4gIH1cXG5cXG4gIHZvaWQgbWFpbigpIHtcXG4gICAgdmVjMiBzID0gYXNwZWN0KHNjYWxlKTtcXG4gICAgdmVjMiBpID0gYXNwZWN0KGltYWdlQm91bmRzKTtcXG4gICAgZmxvYXQgcnMgPSBzLnggLyBzLnk7XFxuICAgIGZsb2F0IHJpID0gaS54IC8gaS55O1xcbiAgICB2ZWMyIG5ldyA9IHJzIDwgcmkgPyB2ZWMyKGkueCAqIHMueSAvIGkueSwgcy55KSA6IHZlYzIocy54LCBpLnkgKiBzLnggLyBpLngpO1xcbiAgICB2ZWMyIG9mZnNldCA9IChycyA8IHJpID8gdmVjMigobmV3LnggLSBzLngpIC8gMi4wLCAwLjApIDogdmVjMigwLjAsIChuZXcueSAtIHMueSkgLyAyLjApKSAvIG5ldztcXG4gICAgdmVjMiB1diA9IHZVdiAqIHMgLyBuZXcgKyBvZmZzZXQ7XFxuICAgIHZlYzIgelV2ID0gKHV2IC0gdmVjMigwLjUsIDAuNSkpIC8gem9vbSArIHZlYzIoMC41LCAwLjUpO1xcblxcbiAgICB2ZWMyIHJlcyA9IHZlYzIoc2NhbGUgKiByZXNvbHV0aW9uKTtcXG4gICAgdmVjMiBoYWxmUmVzID0gMC41ICogcmVzO1xcbiAgICBmbG9hdCBiID0gdWRSb3VuZEJveCh2VXYueHkgKiByZXMgLSBoYWxmUmVzLCBoYWxmUmVzLCByZXNvbHV0aW9uICogcmFkaXVzKTsgICAgXFxuXFx0ICB2ZWMzIGEgPSBtaXgodmVjMygxLjAsMC4wLDAuMCksIHZlYzMoMC4wLDAuMCwwLjApLCBzbW9vdGhzdGVwKDAuMCwgMS4wLCBiKSk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRvR3JheXNjYWxlKHRleHR1cmUyRChtYXAsIHpVdikgKiB2ZWM0KGNvbG9yLCBvcGFjaXR5ICogYSksIGdyYXlzY2FsZSk7XFxuICAgIFxcbiAgICAjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuICAgICNpbmNsdWRlIDwke1JlPj0xNTQ/XCJjb2xvcnNwYWNlX2ZyYWdtZW50XCI6XCJlbmNvZGluZ3NfZnJhZ21lbnRcIn0+XFxuICB9XFxuYCksRmU9Qy5mb3J3YXJkUmVmKCgoe2NoaWxkcmVuOmUsY29sb3I6dCxzZWdtZW50czpyPTEsc2NhbGU6bj0xLHpvb206bz0xLGdyYXlzY2FsZTppPTAsb3BhY2l0eTpzPTEscmFkaXVzOmw9MCx0ZXh0dXJlOmMsdG9uZU1hcHBlZDp1LHRyYW5zcGFyZW50OmQsc2lkZTptLC4uLmZ9LHApPT57YS5leHRlbmQoe0ltYWdlTWF0ZXJpYWw6RGV9KTtjb25zdCBoPUMudXNlUmVmKG51bGwpLHg9YS51c2VUaHJlZSgoZT0+ZS5zaXplKSkseT1BcnJheS5pc0FycmF5KG4pP1tuWzBdLG5bMV1dOltuLG5dLHY9W2MuaW1hZ2Uud2lkdGgsYy5pbWFnZS5oZWlnaHRdLGc9TWF0aC5tYXgoeC53aWR0aCx4LmhlaWdodCk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShwLCgoKT0+aC5jdXJyZW50KSxbXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aC5jdXJyZW50Lmdlb21ldHJ5LnBhcmFtZXRlcnMmJmguY3VycmVudC5tYXRlcmlhbC5zY2FsZS5zZXQoeVswXSpoLmN1cnJlbnQuZ2VvbWV0cnkucGFyYW1ldGVycy53aWR0aCx5WzFdKmguY3VycmVudC5nZW9tZXRyeS5wYXJhbWV0ZXJzLmhlaWdodCl9KSxbeVswXSx5WzFdXSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVmOmgsc2NhbGU6QXJyYXkuaXNBcnJheShuKT9bLi4ubiwxXTpufSxmKSxDLmNyZWF0ZUVsZW1lbnQoXCJwbGFuZUdlb21ldHJ5XCIse2FyZ3M6WzEsMSxyLHJdfSksQy5jcmVhdGVFbGVtZW50KFwiaW1hZ2VNYXRlcmlhbFwiLHtjb2xvcjp0LG1hcDpjLHpvb206byxncmF5c2NhbGU6aSxvcGFjaXR5OnMsc2NhbGU6eSxpbWFnZUJvdW5kczp2LHJlc29sdXRpb246ZyxyYWRpdXM6bCx0b25lTWFwcGVkOnUsdHJhbnNwYXJlbnQ6ZCxzaWRlOm0sa2V5OkRlLmtleX0pLGUpfSkpLGtlPUMuZm9yd2FyZFJlZigoKHt1cmw6ZSwuLi50fSxyKT0+e2NvbnN0IG49UGUoZSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChGZSxULmRlZmF1bHQoe30sdCx7dGV4dHVyZTpuLHJlZjpyfSkpfSkpLF9lPUMuZm9yd2FyZFJlZigoKHt1cmw6ZSwuLi50fSxyKT0+Qy5jcmVhdGVFbGVtZW50KEZlLFQuZGVmYXVsdCh7fSx0LHtyZWY6cn0pKSkpLEFlPUMuZm9yd2FyZFJlZigoKGUsdCk9PntpZihlLnVybClyZXR1cm4gQy5jcmVhdGVFbGVtZW50KGtlLFQuZGVmYXVsdCh7fSxlLHtyZWY6dH0pKTtpZihlLnRleHR1cmUpcmV0dXJuIEMuY3JlYXRlRWxlbWVudChfZSxULmRlZmF1bHQoe30sZSx7cmVmOnR9KSk7dGhyb3cgbmV3IEVycm9yKFwiPEltYWdlIC8+IHJlcXVpcmVzIGEgdXJsIG9yIHRleHR1cmVcIil9KSksTGU9Qy5mb3J3YXJkUmVmKCgoe3RocmVzaG9sZDplPTE1LGdlb21ldHJ5OnQsLi4ucn0sbik9Pntjb25zdCBhPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShuLCgoKT0+YS5jdXJyZW50KSxbXSk7Y29uc3Qgbz1DLnVzZU1lbW8oKCgpPT5bMCwwLDAsMSwwLDBdKSxbXSksaT1DLnVzZVJlZigpLHM9Qy51c2VSZWYoKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57Y29uc3Qgcj1hLmN1cnJlbnQucGFyZW50LG49bnVsbCE9dD90Om51bGw9PXI/dm9pZCAwOnIuZ2VvbWV0cnk7aWYoIW4pcmV0dXJuO2lmKGkuY3VycmVudD09PW4mJnMuY3VycmVudD09PWUpcmV0dXJuO2kuY3VycmVudD1uLHMuY3VycmVudD1lO2NvbnN0IG89bmV3IFIuRWRnZXNHZW9tZXRyeShuLGUpLmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7YS5jdXJyZW50Lmdlb21ldHJ5LnNldFBvc2l0aW9ucyhvKSxhLmN1cnJlbnQuZ2VvbWV0cnkuYXR0cmlidXRlcy5pbnN0YW5jZVN0YXJ0Lm5lZWRzVXBkYXRlPSEwLGEuY3VycmVudC5nZW9tZXRyeS5hdHRyaWJ1dGVzLmluc3RhbmNlRW5kLm5lZWRzVXBkYXRlPSEwLGEuY3VycmVudC5jb21wdXRlTGluZURpc3RhbmNlcygpfSkpLEMuY3JlYXRlRWxlbWVudChtZSxULmRlZmF1bHQoe3NlZ21lbnRzOiEwLHBvaW50czpvLHJlZjphLHJheWNhc3Q6KCk9Pm51bGx9LHIpKX0pKSxJZT1UZSh7c2NyZWVuc3BhY2U6ITEsY29sb3I6bmV3IFIuQ29sb3IoXCJibGFja1wiKSxvcGFjaXR5OjEsdGhpY2tuZXNzOi4wNSxzaXplOm5ldyBSLlZlY3RvcjJ9LFwiI2luY2x1ZGUgPGNvbW1vbj5cXG4gICAjaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XFxuICAgI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxcbiAgICNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XFxuICAgdW5pZm9ybSBmbG9hdCB0aGlja25lc3M7XFxuICAgdW5pZm9ybSBib29sIHNjcmVlbnNwYWNlO1xcbiAgIHVuaWZvcm0gdmVjMiBzaXplO1xcbiAgIHZvaWQgbWFpbigpIHtcXG4gICAgICNpZiBkZWZpbmVkIChVU0VfU0tJTk5JTkcpXFxuXFx0ICAgICAjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxcbiAgICAgICAjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxcbiAgICAgICAjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxcbiAgICAgICAjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XFxuICAgICAgICNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cXG4gICAgICNlbmRpZlxcbiAgICAgI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cXG5cXHQgICAjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxcblxcdCAgICNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XFxuICAgICAjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XFxuICAgICAjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cXG4gICAgIHZlYzQgdE5vcm1hbCA9IHZlYzQobm9ybWFsLCAwLjApO1xcbiAgICAgdmVjNCB0UG9zaXRpb24gPSB2ZWM0KHRyYW5zZm9ybWVkLCAxLjApO1xcbiAgICAgI2lmZGVmIFVTRV9JTlNUQU5DSU5HXFxuICAgICAgIHROb3JtYWwgPSBpbnN0YW5jZU1hdHJpeCAqIHROb3JtYWw7XFxuICAgICAgIHRQb3NpdGlvbiA9IGluc3RhbmNlTWF0cml4ICogdFBvc2l0aW9uO1xcbiAgICAgI2VuZGlmXFxuICAgICBpZiAoc2NyZWVuc3BhY2UpIHtcXG4gICAgICAgdmVjMyBuZXdQb3NpdGlvbiA9IHRQb3NpdGlvbi54eXogKyB0Tm9ybWFsLnh5eiAqIHRoaWNrbmVzcztcXG4gICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChuZXdQb3NpdGlvbiwgMS4wKTsgXFxuICAgICB9IGVsc2Uge1xcbiAgICAgICB2ZWM0IGNsaXBQb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB0UG9zaXRpb247XFxuICAgICAgIHZlYzQgY2xpcE5vcm1hbCA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB0Tm9ybWFsO1xcbiAgICAgICB2ZWMyIG9mZnNldCA9IG5vcm1hbGl6ZShjbGlwTm9ybWFsLnh5KSAqIHRoaWNrbmVzcyAvIHNpemUgKiBjbGlwUG9zaXRpb24udyAqIDIuMDtcXG4gICAgICAgY2xpcFBvc2l0aW9uLnh5ICs9IG9mZnNldDtcXG4gICAgICAgZ2xfUG9zaXRpb24gPSBjbGlwUG9zaXRpb247XFxuICAgICB9XFxuICAgfVwiLGB1bmlmb3JtIHZlYzMgY29sb3I7XFxuICAgdW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbiAgICNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cXG4gICB2b2lkIG1haW4oKXtcXG4gICAgICNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XFxuICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBvcGFjaXR5KTtcXG4gICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgICNpbmNsdWRlIDwke1JlPj0xNTQ/XCJjb2xvcnNwYWNlX2ZyYWdtZW50XCI6XCJlbmNvZGluZ3NfZnJhZ21lbnRcIn0+XFxuICAgfWApO2NvbnN0IEJlPXt3aWR0aDouMixsZW5ndGg6MSxkZWNheToxLGxvY2FsOiExLHN0cmlkZTowLGludGVydmFsOjF9LFZlPShlLHQ9MSk9PihlLnNldChlLnN1YmFycmF5KHQpKSxlLmZpbGwoLTEvMCwtdCksZSk7ZnVuY3Rpb24gVWUoZSx0KXtjb25zdHtsZW5ndGg6cixsb2NhbDpvLGRlY2F5OmksaW50ZXJ2YWw6cyxzdHJpZGU6bH09ey4uLkJlLC4uLnR9LGM9Qy51c2VSZWYoKSxbdV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlZlY3RvcjMpKTtDLnVzZUxheW91dEVmZmVjdCgoKCk9PntlJiYoYy5jdXJyZW50PUZsb2F0MzJBcnJheS5mcm9tKHtsZW5ndGg6MTAqciozfSwoKHQscik9PmUucG9zaXRpb24uZ2V0Q29tcG9uZW50KHIlMykpKSl9KSxbcixlXSk7Y29uc3QgZD1DLnVzZVJlZihuZXcgbi5WZWN0b3IzKSxtPUMudXNlUmVmKDApO3JldHVybiBhLnVzZUZyYW1lKCgoKT0+e2lmKGUmJmMuY3VycmVudCl7aWYoMD09PW0uY3VycmVudCl7bGV0IHQ7bz90PWUucG9zaXRpb246KGUuZ2V0V29ybGRQb3NpdGlvbih1KSx0PXUpO2NvbnN0IHI9MSppO2ZvcihsZXQgZT0wO2U8cjtlKyspdC5kaXN0YW5jZVRvKGQuY3VycmVudCk8bHx8KFZlKGMuY3VycmVudCwzKSxjLmN1cnJlbnQuc2V0KHQudG9BcnJheSgpLGMuY3VycmVudC5sZW5ndGgtMykpO2QuY3VycmVudC5jb3B5KHQpfW0uY3VycmVudCsrLG0uY3VycmVudD1tLmN1cnJlbnQlc319KSksY31jb25zdCBPZT1DLmZvcndhcmRSZWYoKChlLHQpPT57Y29uc3R7Y2hpbGRyZW46cn09ZSx7d2lkdGg6byxsZW5ndGg6aSxkZWNheTpzLGxvY2FsOmwsc3RyaWRlOmMsaW50ZXJ2YWw6dX09ey4uLkJlLC4uLmV9LHtjb2xvcjpkPVwiaG90cGlua1wiLGF0dGVudWF0aW9uOm0sdGFyZ2V0OmZ9PWUsaD1hLnVzZVRocmVlKChlPT5lLnNpemUpKSx4PWEudXNlVGhyZWUoKGU9PmUuc2NlbmUpKSx5PUMudXNlUmVmKG51bGwpLFt2LGddPUMudXNlU3RhdGUobnVsbCksdz1VZSh2LHtsZW5ndGg6aSxkZWNheTpzLGxvY2FsOmwsc3RyaWRlOmMsaW50ZXJ2YWw6dX0pO0MudXNlRWZmZWN0KCgoKT0+e2NvbnN0IGU9KG51bGw9PWY/dm9pZCAwOmYuY3VycmVudCl8fHkuY3VycmVudC5jaGlsZHJlbi5maW5kKChlPT5lIGluc3RhbmNlb2Ygbi5PYmplY3QzRCkpO2UmJmcoZSl9KSxbdyxmXSk7Y29uc3Qgej1DLnVzZU1lbW8oKCgpPT5uZXcgcC5NZXNoTGluZUdlb21ldHJ5KSxbXSksYj1DLnVzZU1lbW8oKCgpPT57dmFyIGU7Y29uc3QgdD1uZXcgcC5NZXNoTGluZU1hdGVyaWFsKHtsaW5lV2lkdGg6LjEqbyxjb2xvcjpkLHNpemVBdHRlbnVhdGlvbjoxLHJlc29sdXRpb246bmV3IG4uVmVjdG9yMihoLndpZHRoLGguaGVpZ2h0KX0pO2xldCBhO2lmKHIpaWYoQXJyYXkuaXNBcnJheShyKSlhPXIuZmluZCgoZT0+e2NvbnN0IHQ9ZTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC50eXBlJiZcIm1lc2hMaW5lTWF0ZXJpYWxcIj09PXQudHlwZX0pKTtlbHNle2NvbnN0IGU9cjtcInN0cmluZ1wiPT10eXBlb2YgZS50eXBlJiZcIm1lc2hMaW5lTWF0ZXJpYWxcIj09PWUudHlwZSYmKGE9ZSl9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mKG51bGw9PShlPWEpP3ZvaWQgMDplLnByb3BzKSYmdC5zZXRWYWx1ZXMoYS5wcm9wcyksdH0pLFtvLGQsaCxyXSk7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e2IudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS5zZXQoaC53aWR0aCxoLmhlaWdodCl9KSxbaF0pLGEudXNlRnJhbWUoKCgpPT57dy5jdXJyZW50JiZ6LnNldFBvaW50cyh3LmN1cnJlbnQsbSl9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixudWxsLGEuY3JlYXRlUG9ydGFsKEMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7cmVmOnQsZ2VvbWV0cnk6eixtYXRlcmlhbDpifSkseCksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOnl9LHIpKX0pKTtmdW5jdGlvbiBOZShlLHQ9MTYscixhLG8pe2NvbnN0W2ksc109Qy51c2VTdGF0ZSgoKCk9Pntjb25zdCBlPUFycmF5LmZyb20oe2xlbmd0aDp0fSwoKCk9PlsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXSkpLmZsYXQoKTtyZXR1cm4gbmV3IG4uSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlKEZsb2F0MzJBcnJheS5mcm9tKGUpLDE2KX0pKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aWYodm9pZCAwPT09ZS5jdXJyZW50KXJldHVybjtjb25zdCBsPW5ldyB1Lk1lc2hTdXJmYWNlU2FtcGxlcihlLmN1cnJlbnQpO2EmJmwuc2V0V2VpZ2h0QXR0cmlidXRlKGEpLGwuYnVpbGQoKTtjb25zdCBjPW5ldyBuLlZlY3RvcjMsZD1uZXcgbi5WZWN0b3IzLG09bmV3IG4uQ29sb3IsZj1uZXcgbi5PYmplY3QzRDtlLmN1cnJlbnQudXBkYXRlTWF0cml4V29ybGQoITApO2ZvcihsZXQgbj0wO248dDtuKyspbC5zYW1wbGUoYyxkLG0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cih7ZHVtbXk6ZixzYW1wbGVkTWVzaDplLmN1cnJlbnQscG9zaXRpb246Yyxub3JtYWw6ZCxjb2xvcjptfSxuKTpmLnBvc2l0aW9uLmNvcHkoYyksZi51cGRhdGVNYXRyaXgoKSxudWxsIT1vJiZvLmN1cnJlbnQmJm8uY3VycmVudC5zZXRNYXRyaXhBdChuLGYubWF0cml4KSxmLm1hdHJpeC50b0FycmF5KGkuYXJyYXksMTYqbik7bnVsbCE9byYmby5jdXJyZW50JiYoby5jdXJyZW50Lmluc3RhbmNlTWF0cml4Lm5lZWRzVXBkYXRlPSEwKSxpLm5lZWRzVXBkYXRlPSEwLHMobmV3IG4uSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlKGkuYXJyYXksaS5pdGVtU2l6ZSkuY29weShpKSl9KSxbZSxvLGEsdCxyXSksaX1jb25zdCBqZT1DLmZvcndhcmRSZWYoKCh7aXNDaGlsZDplPSExLG9iamVjdDp0LGNoaWxkcmVuOnIsZGVlcDpuLGNhc3RTaGFkb3c6YSxyZWNlaXZlU2hhZG93Om8saW5qZWN0Omksa2V5czpzLC4uLmx9LGMpPT57Y29uc3QgZD17a2V5czpzLGRlZXA6bixpbmplY3Q6aSxjYXN0U2hhZG93OmEscmVjZWl2ZVNoYWRvdzpvfTtpZih0PUMudXNlTWVtbygoKCk9PntpZighMT09PWUmJiFBcnJheS5pc0FycmF5KHQpKXtsZXQgZT0hMTtpZih0LnRyYXZlcnNlKCh0PT57dC5pc1NraW5uZWRNZXNoJiYoZT0hMCl9KSksZSlyZXR1cm4gdS5Ta2VsZXRvblV0aWxzLmNsb25lKHQpfXJldHVybiB0fSksW3QsZV0pLEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHt9LGwse3JlZjpjfSksdC5tYXAoKGU9PkMuY3JlYXRlRWxlbWVudChqZSxULmRlZmF1bHQoe2tleTplLnV1aWQsb2JqZWN0OmV9LGQpKSkpLHIpO2NvbnN0e2NoaWxkcmVuOm0sLi4uZn09ZnVuY3Rpb24oZSx7a2V5czp0PVtcIm5lYXJcIixcImZhclwiLFwiY29sb3JcIixcImRpc3RhbmNlXCIsXCJkZWNheVwiLFwicGVudW1icmFcIixcImFuZ2xlXCIsXCJpbnRlbnNpdHlcIixcInNrZWxldG9uXCIsXCJ2aXNpYmxlXCIsXCJjYXN0U2hhZG93XCIsXCJyZWNlaXZlU2hhZG93XCIsXCJtb3JwaFRhcmdldERpY3Rpb25hcnlcIixcIm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1wiLFwibmFtZVwiLFwiZ2VvbWV0cnlcIixcIm1hdGVyaWFsXCIsXCJwb3NpdGlvblwiLFwicm90YXRpb25cIixcInNjYWxlXCIsXCJ1cFwiLFwidXNlckRhdGFcIixcImJpbmRNb2RlXCIsXCJiaW5kTWF0cml4XCIsXCJiaW5kTWF0cml4SW52ZXJzZVwiLFwic2tlbGV0b25cIl0sZGVlcDpyLGluamVjdDpuLGNhc3RTaGFkb3c6YSxyZWNlaXZlU2hhZG93Om99KXtsZXQgaT17fTtmb3IoY29uc3QgciBvZiB0KWlbcl09ZVtyXTtyZXR1cm4gciYmKGkuZ2VvbWV0cnkmJlwibWF0ZXJpYWxzT25seVwiIT09ciYmKGkuZ2VvbWV0cnk9aS5nZW9tZXRyeS5jbG9uZSgpKSxpLm1hdGVyaWFsJiZcImdlb21ldHJpZXNPbmx5XCIhPT1yJiYoaS5tYXRlcmlhbD1pLm1hdGVyaWFsLmNsb25lKCkpKSxuJiYoaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP3suLi5pLGNoaWxkcmVuOm4oZSl9OkMuaXNWYWxpZEVsZW1lbnQobik/ey4uLmksY2hpbGRyZW46bn06ey4uLmksLi4ubn0pLGUgaW5zdGFuY2VvZiBSLk1lc2gmJihhJiYoaS5jYXN0U2hhZG93PSEwKSxvJiYoaS5yZWNlaXZlU2hhZG93PSEwKSksaX0odCxkKSxwPXQudHlwZVswXS50b0xvd2VyQ2FzZSgpK3QudHlwZS5zbGljZSgxKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KHAsVC5kZWZhdWx0KHt9LGYsbCx7cmVmOmN9KSx0LmNoaWxkcmVuLm1hcCgoZT0+XCJCb25lXCI9PT1lLnR5cGU/Qy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsVC5kZWZhdWx0KHtrZXk6ZS51dWlkLG9iamVjdDplfSxkKSk6Qy5jcmVhdGVFbGVtZW50KGplLFQuZGVmYXVsdCh7a2V5OmUudXVpZCxvYmplY3Q6ZX0sZCx7aXNDaGlsZDohMH0pKSkpLHIsbSl9KSksV2U9Qy5jcmVhdGVDb250ZXh0KG51bGwpLEdlPUMuZm9yd2FyZFJlZigoKHtyZXNvbHV0aW9uOmU9MjgsbWF4UG9seUNvdW50OnQ9MWU0LGVuYWJsZVV2czpyPSExLGVuYWJsZUNvbG9yczpuPSExLGNoaWxkcmVuOm8sLi4uaX0scyk9Pntjb25zdCBsPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShzLCgoKT0+bC5jdXJyZW50KSxbXSk7Y29uc3QgYz1DLnVzZU1lbW8oKCgpPT5uZXcgdS5NYXJjaGluZ0N1YmVzKGUsbnVsbCxyLG4sdCkpLFtlLHQscixuXSksZD1DLnVzZU1lbW8oKCgpPT4oe2dldFBhcmVudDooKT0+bH0pKSxbXSk7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57Yy51cGRhdGUoKSxjLnJlc2V0KCl9KSwtMSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe29iamVjdDpjLHJlZjpsfSxpKSxDLmNyZWF0ZUVsZW1lbnQoV2UuUHJvdmlkZXIse3ZhbHVlOmR9LG8pKSl9KSksSGU9Qy5mb3J3YXJkUmVmKCgoe3N0cmVuZ3RoOmU9LjUsc3VidHJhY3Q6dD0xMixjb2xvcjpyLC4uLm59LG8pPT57Y29uc3R7Z2V0UGFyZW50Oml9PUMudXNlQ29udGV4dChXZSkscz1DLnVzZU1lbW8oKCgpPT5pKCkpLFtpXSksbD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUobywoKCk9PmwuY3VycmVudCksW10pO2NvbnN0IGM9bmV3IFIuVmVjdG9yMztyZXR1cm4gYS51c2VGcmFtZSgobj0+e3MuY3VycmVudCYmbC5jdXJyZW50JiYobC5jdXJyZW50LmdldFdvcmxkUG9zaXRpb24oYykscy5jdXJyZW50LmFkZEJhbGwoLjUrLjUqYy54LC41Ky41KmMueSwuNSsuNSpjLnosZSx0LHIpKX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOmx9LG4pKX0pKSwkZT1DLmZvcndhcmRSZWYoKCh7cGxhbmVUeXBlOmU9XCJ4XCIsc3RyZW5ndGg6dD0uNSxzdWJ0cmFjdDpyPTEyLC4uLm59LG8pPT57Y29uc3R7Z2V0UGFyZW50Oml9PUMudXNlQ29udGV4dChXZSkscz1DLnVzZU1lbW8oKCgpPT5pKCkpLFtpXSksbD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUobywoKCk9PmwuY3VycmVudCksW10pO2NvbnN0IGM9Qy51c2VNZW1vKCgoKT0+XCJ4XCI9PT1lP1wiYWRkUGxhbmVYXCI6XCJ5XCI9PT1lP1wiYWRkUGxhbmVZXCI6XCJhZGRQbGFuZVpcIiksW2VdKTtyZXR1cm4gYS51c2VGcmFtZSgoKCk9PntzLmN1cnJlbnQmJmwuY3VycmVudCYmcy5jdXJyZW50W2NdKHQscil9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe3JlZjpsfSxuKSl9KSk7ZnVuY3Rpb24gcWUoZT1bMCwwLDBdKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9KGUpP2U6ZSBpbnN0YW5jZW9mIFIuVmVjdG9yM3x8ZSBpbnN0YW5jZW9mIFIuRXVsZXI/W2UueCxlLnksZS56XTpbZSxlLGVdfWNvbnN0IFhlPUMuZm9yd2FyZFJlZigoZnVuY3Rpb24oe2RlYnVnOmUsZGVwdGhUZXN0OnQ9ITEscG9seWdvbk9mZnNldEZhY3RvcjpyPS0xMCxtYXA6bixtZXNoOm8sY2hpbGRyZW46aSxwb3NpdGlvbjpzLHJvdGF0aW9uOmwsc2NhbGU6YywuLi5kfSxtKXtjb25zdCBmPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShtLCgoKT0+Zi5jdXJyZW50KSk7Y29uc3QgcD1DLnVzZVJlZihudWxsKSxoPUMudXNlUmVmKHtwb3NpdGlvbjpuZXcgUi5WZWN0b3IzLHJvdGF0aW9uOm5ldyBSLkV1bGVyLHNjYWxlOm5ldyBSLlZlY3RvcjMoMSwxLDEpfSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IGU9KG51bGw9PW8/dm9pZCAwOm8uY3VycmVudCl8fGYuY3VycmVudC5wYXJlbnQsdD1mLmN1cnJlbnQ7aWYoIShlIGluc3RhbmNlb2YgUi5NZXNoKSl0aHJvdyBuZXcgRXJyb3IoJ0RlY2FsIG11c3QgaGF2ZSBhIE1lc2ggYXMgcGFyZW50IG9yIHNwZWNpZnkgaXRzIFwibWVzaFwiIHByb3AnKTtpZihlKXthLmFwcGx5UHJvcHMoaC5jdXJyZW50LHtwb3NpdGlvbjpzLHNjYWxlOmN9KTtjb25zdCByPWUubWF0cml4V29ybGQuY2xvbmUoKTtpZihlLm1hdHJpeFdvcmxkLmlkZW50aXR5KCksbCYmXCJudW1iZXJcIiE9dHlwZW9mIGwpYS5hcHBseVByb3BzKGguY3VycmVudCx7cm90YXRpb246bH0pO2Vsc2V7Y29uc3QgdD1uZXcgUi5PYmplY3QzRDt0LnBvc2l0aW9uLmNvcHkoaC5jdXJyZW50LnBvc2l0aW9uKTtjb25zdCByPWUuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTt2b2lkIDA9PT1lLmdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsJiZlLmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7Y29uc3Qgbj1lLmdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsLmFycmF5O2xldCBvPTEvMDtuZXcgUi5WZWN0b3IzO2xldCBpPW5ldyBSLlZlY3RvcjM7Y29uc3Qgcz10LnBvc2l0aW9uLngsYz10LnBvc2l0aW9uLnksdT10LnBvc2l0aW9uLnosZD1yLmxlbmd0aDtsZXQgbT0tMTtmb3IobGV0IGU9MDtlPGQ7ZSs9Myl7Y29uc3QgdD1yW2VdLXMsbj1yW2UrMV0tYyxhPXJbZSsyXS11LGk9dCp0K24qbithKmE7aTxvJiYobz1pLG09ZSl9aS5mcm9tQXJyYXkobixtKSx0Lmxvb2tBdCh0LnBvc2l0aW9uLmNsb25lKCkuYWRkKGkpKSx0LnJvdGF0ZVooTWF0aC5QSSksdC5yb3RhdGVZKE1hdGguUEkpLFwibnVtYmVyXCI9PXR5cGVvZiBsJiZ0LnJvdGF0ZVoobCksYS5hcHBseVByb3BzKGguY3VycmVudCx7cm90YXRpb246dC5yb3RhdGlvbn0pfXJldHVybiB0Lmdlb21ldHJ5PW5ldyB1LkRlY2FsR2VvbWV0cnkoZSxoLmN1cnJlbnQucG9zaXRpb24saC5jdXJyZW50LnJvdGF0aW9uLGguY3VycmVudC5zY2FsZSksZS5tYXRyaXhXb3JsZD1yLCgpPT57dC5nZW9tZXRyeS5kaXNwb3NlKCl9fX0pLFtvLC4uLnFlKHMpLC4uLnFlKGMpLC4uLnFlKGwpXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57cC5jdXJyZW50JiYoYS5hcHBseVByb3BzKHAuY3VycmVudCxoLmN1cnJlbnQpLHAuY3VycmVudC50cmF2ZXJzZSgoZT0+ZS5yYXljYXN0PSgpPT5udWxsKSkpfSksW2VdKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtyZWY6ZixcIm1hdGVyaWFsLXRyYW5zcGFyZW50XCI6ITAsXCJtYXRlcmlhbC1wb2x5Z29uT2Zmc2V0XCI6ITAsXCJtYXRlcmlhbC1wb2x5Z29uT2Zmc2V0RmFjdG9yXCI6cixcIm1hdGVyaWFsLWRlcHRoVGVzdFwiOnQsXCJtYXRlcmlhbC1tYXBcIjpufSxkKSxpLGUmJkMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7cmVmOnB9LEMuY3JlYXRlRWxlbWVudChcImJveEdlb21ldHJ5XCIsbnVsbCksQy5jcmVhdGVFbGVtZW50KFwibWVzaE5vcm1hbE1hdGVyaWFsXCIse3dpcmVmcmFtZTohMH0pLEMuY3JlYXRlRWxlbWVudChcImF4ZXNIZWxwZXJcIixudWxsKSkpfSkpLFplPXQuZm9yd2FyZFJlZigoZnVuY3Rpb24oe3NyYzplLHNraXBGaWxsOnIsc2tpcFN0cm9rZXM6byxmaWxsTWF0ZXJpYWw6aSxzdHJva2VNYXRlcmlhbDpzLGZpbGxNZXNoUHJvcHM6bCxzdHJva2VNZXNoUHJvcHM6YywuLi5kfSxtKXtjb25zdCBmPWEudXNlTG9hZGVyKHUuU1ZHTG9hZGVyLGUuc3RhcnRzV2l0aChcIjxzdmdcIik/YGRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCR7ZX1gOmUpLHA9dC51c2VNZW1vKCgoKT0+bz9bXTpmLnBhdGhzLm1hcCgoZT0+e3ZhciB0O3JldHVybiB2b2lkIDA9PT0obnVsbD09KHQ9ZS51c2VyRGF0YSk/dm9pZCAwOnQuc3R5bGUuc3Ryb2tlKXx8XCJub25lXCI9PT1lLnVzZXJEYXRhLnN0eWxlLnN0cm9rZT9udWxsOmUuc3ViUGF0aHMubWFwKCh0PT51LlNWR0xvYWRlci5wb2ludHNUb1N0cm9rZSh0LmdldFBvaW50cygpLGUudXNlckRhdGEuc3R5bGUpKSl9KSkpLFtmLG9dKTt0LnVzZUVmZmVjdCgoKCk9PigpPT5wLmZvckVhY2goKGU9PmUmJmUubWFwKChlPT5lLmRpc3Bvc2UoKSkpKSkpLFtwXSk7bGV0IGg9MDtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwib2JqZWN0M0RcIixULmRlZmF1bHQoe3JlZjptfSxkKSxDLmNyZWF0ZUVsZW1lbnQoXCJvYmplY3QzRFwiLHtzY2FsZTpbMSwtMSwxXX0sZi5wYXRocy5tYXAoKChlLGEpPT57dmFyIGQsbTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KHQuRnJhZ21lbnQse2tleTphfSwhciYmdm9pZCAwIT09KG51bGw9PShkPWUudXNlckRhdGEpP3ZvaWQgMDpkLnN0eWxlLmZpbGwpJiZcIm5vbmVcIiE9PWUudXNlckRhdGEuc3R5bGUuZmlsbCYmdS5TVkdMb2FkZXIuY3JlYXRlU2hhcGVzKGUpLm1hcCgoKHQscik9PkMuY3JlYXRlRWxlbWVudChcIm1lc2hcIixULmRlZmF1bHQoe2tleTpyfSxsLHtyZW5kZXJPcmRlcjpoKyt9KSxDLmNyZWF0ZUVsZW1lbnQoXCJzaGFwZUdlb21ldHJ5XCIse2FyZ3M6W3RdfSksQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIixULmRlZmF1bHQoe2NvbG9yOmUudXNlckRhdGEuc3R5bGUuZmlsbCxvcGFjaXR5OmUudXNlckRhdGEuc3R5bGUuZmlsbE9wYWNpdHksdHJhbnNwYXJlbnQ6ITAsc2lkZTpuLkRvdWJsZVNpZGUsZGVwdGhXcml0ZTohMX0saSkpKSkpLCFvJiZ2b2lkIDAhPT0obnVsbD09KG09ZS51c2VyRGF0YSk/dm9pZCAwOm0uc3R5bGUuc3Ryb2tlKSYmXCJub25lXCIhPT1lLnVzZXJEYXRhLnN0eWxlLnN0cm9rZSYmZS5zdWJQYXRocy5tYXAoKCh0LHIpPT5DLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtrZXk6cixnZW9tZXRyeTpwW2FdW3JdfSxjLHtyZW5kZXJPcmRlcjpoKyt9KSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoQmFzaWNNYXRlcmlhbFwiLFQuZGVmYXVsdCh7Y29sb3I6ZS51c2VyRGF0YS5zdHlsZS5zdHJva2Usb3BhY2l0eTplLnVzZXJEYXRhLnN0eWxlLnN0cm9rZU9wYWNpdHksdHJhbnNwYXJlbnQ6ITAsc2lkZTpuLkRvdWJsZVNpZGUsZGVwdGhXcml0ZTohMX0scykpKSkpKX0pKSkpfSkpO2xldCBZZT1udWxsLFFlPVwiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZHJhY28vdmVyc2lvbmVkL2RlY29kZXJzLzEuNS41L1wiO2Z1bmN0aW9uIEtlKGU9ITAsdD0hMCxyKXtyZXR1cm4gbj0+e3ImJnIobiksZSYmKFllfHwoWWU9bmV3IHUuRFJBQ09Mb2FkZXIpLFllLnNldERlY29kZXJQYXRoKFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6UWUpLG4uc2V0RFJBQ09Mb2FkZXIoWWUpKSx0JiZuLnNldE1lc2hvcHREZWNvZGVyKFwiZnVuY3Rpb25cIj09dHlwZW9mIHUuTWVzaG9wdERlY29kZXI/dS5NZXNob3B0RGVjb2RlcigpOnUuTWVzaG9wdERlY29kZXIpfX1jb25zdCBKZT0oZSx0LHIsbik9PmEudXNlTG9hZGVyKHUuR0xURkxvYWRlcixlLEtlKHQscixuKSk7SmUucHJlbG9hZD0oZSx0LHIsbik9PmEudXNlTG9hZGVyLnByZWxvYWQodS5HTFRGTG9hZGVyLGUsS2UodCxyLG4pKSxKZS5jbGVhcj1lPT5hLnVzZUxvYWRlci5jbGVhcih1LkdMVEZMb2FkZXIsZSksSmUuc2V0RGVjb2RlclBhdGg9ZT0+e1FlPWV9O2NvbnN0IGV0PUMuZm9yd2FyZFJlZigoKHtzcmM6ZSx1c2VEcmFjbzp0LHVzZU1lc2hPcHQ6cixleHRlbmRMb2FkZXI6biwuLi5hfSxvKT0+e2NvbnN0e3NjZW5lOml9PUplKGUsdCxyLG4pO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoamUsVC5kZWZhdWx0KHtyZWY6b30sYSx7b2JqZWN0Oml9KSl9KSk7Y29uc3QgdHQ9VGUoe2FscGhhVGVzdDowLHZpZXdwb3J0Om5ldyBSLlZlY3RvcjIoMTk4MCwxMDgwKSxmb2NhbDoxZTMsY2VudGVyQW5kU2NhbGVUZXh0dXJlOm51bGwsY292QW5kQ29sb3JUZXh0dXJlOm51bGx9LFwiXFxuICAgIHByZWNpc2lvbiBoaWdocCBzYW1wbGVyMkQ7XFxuICAgIHByZWNpc2lvbiBoaWdocCB1c2FtcGxlcjJEO1xcbiAgICBvdXQgdmVjNCB2Q29sb3I7XFxuICAgIG91dCB2ZWMzIHZQb3NpdGlvbjtcXG4gICAgdW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XFxuICAgIHVuaWZvcm0gdmVjMiB2aWV3cG9ydDtcXG4gICAgdW5pZm9ybSBmbG9hdCBmb2NhbDtcXG4gICAgYXR0cmlidXRlIHVpbnQgc3BsYXRJbmRleDtcXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgY2VudGVyQW5kU2NhbGVUZXh0dXJlO1xcbiAgICB1bmlmb3JtIHVzYW1wbGVyMkQgY292QW5kQ29sb3JUZXh0dXJlOyAgICBcXG5cXG4gICAgdmVjMiB1bnBhY2tJbnQxNihpbiB1aW50IHZhbHVlKSB7XFxuICAgICAgaW50IHYgPSBpbnQodmFsdWUpO1xcbiAgICAgIGludCB2MCA9IHYgPj4gMTY7XFxuICAgICAgaW50IHYxID0gKHYgJiAweEZGRkYpO1xcbiAgICAgIGlmKCh2ICYgMHg4MDAwKSAhPSAwKVxcbiAgICAgICAgdjEgfD0gMHhGRkZGMDAwMDtcXG4gICAgICByZXR1cm4gdmVjMihmbG9hdCh2MSksIGZsb2F0KHYwKSk7XFxuICAgIH1cXG5cXG4gICAgdm9pZCBtYWluICgpIHtcXG4gICAgICBpdmVjMiB0ZXhTaXplID0gdGV4dHVyZVNpemUoY2VudGVyQW5kU2NhbGVUZXh0dXJlLCAwKTtcXG4gICAgICBpdmVjMiB0ZXhQb3MgPSBpdmVjMihzcGxhdEluZGV4JXVpbnQodGV4U2l6ZS54KSwgc3BsYXRJbmRleC91aW50KHRleFNpemUueCkpO1xcbiAgICAgIHZlYzQgY2VudGVyQW5kU2NhbGVEYXRhID0gdGV4ZWxGZXRjaChjZW50ZXJBbmRTY2FsZVRleHR1cmUsIHRleFBvcywgMCk7XFxuICAgICAgdmVjNCBjZW50ZXIgPSB2ZWM0KGNlbnRlckFuZFNjYWxlRGF0YS54eXosIDEpO1xcbiAgICAgIHZlYzQgY2Ftc3BhY2UgPSBtb2RlbFZpZXdNYXRyaXggKiBjZW50ZXI7XFxuICAgICAgdmVjNCBwb3MyZCA9IHByb2plY3Rpb25NYXRyaXggKiBjYW1zcGFjZTtcXG5cXG4gICAgICBmbG9hdCBib3VuZHMgPSAxLjIgKiBwb3MyZC53O1xcbiAgICAgIGlmIChwb3MyZC56IDwgLXBvczJkLncgfHwgcG9zMmQueCA8IC1ib3VuZHMgfHwgcG9zMmQueCA+IGJvdW5kc1xcbiAgICAgICAgfHwgcG9zMmQueSA8IC1ib3VuZHMgfHwgcG9zMmQueSA+IGJvdW5kcykge1xcbiAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KDAuMCwgMC4wLCAyLjAsIDEuMCk7XFxuICAgICAgICByZXR1cm47XFxuICAgICAgfVxcblxcbiAgICAgIHV2ZWM0IGNvdkFuZENvbG9yRGF0YSA9IHRleGVsRmV0Y2goY292QW5kQ29sb3JUZXh0dXJlLCB0ZXhQb3MsIDApO1xcbiAgICAgIHZlYzIgY292M0RfTTExX00xMiA9IHVucGFja0ludDE2KGNvdkFuZENvbG9yRGF0YS54KSAqIGNlbnRlckFuZFNjYWxlRGF0YS53O1xcbiAgICAgIHZlYzIgY292M0RfTTEzX00yMiA9IHVucGFja0ludDE2KGNvdkFuZENvbG9yRGF0YS55KSAqIGNlbnRlckFuZFNjYWxlRGF0YS53O1xcbiAgICAgIHZlYzIgY292M0RfTTIzX00zMyA9IHVucGFja0ludDE2KGNvdkFuZENvbG9yRGF0YS56KSAqIGNlbnRlckFuZFNjYWxlRGF0YS53O1xcbiAgICAgIG1hdDMgVnJrID0gbWF0MyhcXG4gICAgICAgIGNvdjNEX00xMV9NMTIueCwgY292M0RfTTExX00xMi55LCBjb3YzRF9NMTNfTTIyLngsXFxuICAgICAgICBjb3YzRF9NMTFfTTEyLnksIGNvdjNEX00xM19NMjIueSwgY292M0RfTTIzX00zMy54LFxcbiAgICAgICAgY292M0RfTTEzX00yMi54LCBjb3YzRF9NMjNfTTMzLngsIGNvdjNEX00yM19NMzMueVxcbiAgICAgICk7XFxuXFxuICAgICAgbWF0MyBKID0gbWF0MyhcXG4gICAgICAgIGZvY2FsIC8gY2Ftc3BhY2UueiwgMC4sIC0oZm9jYWwgKiBjYW1zcGFjZS54KSAvIChjYW1zcGFjZS56ICogY2Ftc3BhY2UueiksXFxuICAgICAgICAwLiwgZm9jYWwgLyBjYW1zcGFjZS56LCAtKGZvY2FsICogY2Ftc3BhY2UueSkgLyAoY2Ftc3BhY2UueiAqIGNhbXNwYWNlLnopLFxcbiAgICAgICAgMC4sIDAuLCAwLlxcbiAgICAgICk7XFxuXFxuICAgICAgbWF0MyBXID0gdHJhbnNwb3NlKG1hdDMobW9kZWxWaWV3TWF0cml4KSk7XFxuICAgICAgbWF0MyBUID0gVyAqIEo7XFxuICAgICAgbWF0MyBjb3YgPSB0cmFuc3Bvc2UoVCkgKiBWcmsgKiBUO1xcbiAgICAgIHZlYzIgdkNlbnRlciA9IHZlYzIocG9zMmQpIC8gcG9zMmQudztcXG4gICAgICBmbG9hdCBkaWFnb25hbDEgPSBjb3ZbMF1bMF0gKyAwLjM7XFxuICAgICAgZmxvYXQgb2ZmRGlhZ29uYWwgPSBjb3ZbMF1bMV07XFxuICAgICAgZmxvYXQgZGlhZ29uYWwyID0gY292WzFdWzFdICsgMC4zO1xcbiAgICAgIGZsb2F0IG1pZCA9IDAuNSAqIChkaWFnb25hbDEgKyBkaWFnb25hbDIpO1xcbiAgICAgIGZsb2F0IHJhZGl1cyA9IGxlbmd0aCh2ZWMyKChkaWFnb25hbDEgLSBkaWFnb25hbDIpIC8gMi4wLCBvZmZEaWFnb25hbCkpO1xcbiAgICAgIGZsb2F0IGxhbWJkYTEgPSBtaWQgKyByYWRpdXM7XFxuICAgICAgZmxvYXQgbGFtYmRhMiA9IG1heChtaWQgLSByYWRpdXMsIDAuMSk7XFxuICAgICAgdmVjMiBkaWFnb25hbFZlY3RvciA9IG5vcm1hbGl6ZSh2ZWMyKG9mZkRpYWdvbmFsLCBsYW1iZGExIC0gZGlhZ29uYWwxKSk7XFxuICAgICAgdmVjMiB2MSA9IG1pbihzcXJ0KDIuMCAqIGxhbWJkYTEpLCAxMDI0LjApICogZGlhZ29uYWxWZWN0b3I7XFxuICAgICAgdmVjMiB2MiA9IG1pbihzcXJ0KDIuMCAqIGxhbWJkYTIpLCAxMDI0LjApICogdmVjMihkaWFnb25hbFZlY3Rvci55LCAtZGlhZ29uYWxWZWN0b3IueCk7XFxuICAgICAgdWludCBjb2xvclVpbnQgPSBjb3ZBbmRDb2xvckRhdGEudztcXG4gICAgICB2Q29sb3IgPSB2ZWM0KFxcbiAgICAgICAgZmxvYXQoY29sb3JVaW50ICYgdWludCgweEZGKSkgLyAyNTUuMCxcXG4gICAgICAgIGZsb2F0KChjb2xvclVpbnQgPj4gdWludCg4KSkgJiB1aW50KDB4RkYpKSAvIDI1NS4wLFxcbiAgICAgICAgZmxvYXQoKGNvbG9yVWludCA+PiB1aW50KDE2KSkgJiB1aW50KDB4RkYpKSAvIDI1NS4wLFxcbiAgICAgICAgZmxvYXQoY29sb3JVaW50ID4+IHVpbnQoMjQpKSAvIDI1NS4wXFxuICAgICAgKTtcXG4gICAgICB2UG9zaXRpb24gPSBwb3NpdGlvbjtcXG5cXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoXFxuICAgICAgICB2Q2VudGVyIFxcbiAgICAgICAgICArIHBvc2l0aW9uLnggKiB2MiAvIHZpZXdwb3J0ICogMi4wIFxcbiAgICAgICAgICArIHBvc2l0aW9uLnkgKiB2MSAvIHZpZXdwb3J0ICogMi4wLCBwb3MyZC56IC8gcG9zMmQudywgMS4wKTtcXG4gICAgfVxcbiAgICBcIixgXFxuICAgICNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD5cXG4gICAgI2luY2x1ZGUgPGFscGhhaGFzaF9wYXJzX2ZyYWdtZW50PlxcbiAgICBpbiB2ZWM0IHZDb2xvcjtcXG4gICAgaW4gdmVjMyB2UG9zaXRpb247XFxuICAgIHZvaWQgbWFpbiAoKSB7XFxuICAgICAgZmxvYXQgQSA9IC1kb3QodlBvc2l0aW9uLnh5LCB2UG9zaXRpb24ueHkpO1xcbiAgICAgIGlmIChBIDwgLTQuMCkgZGlzY2FyZDtcXG4gICAgICBmbG9hdCBCID0gZXhwKEEpICogdkNvbG9yLmE7XFxuICAgICAgdmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KHZDb2xvci5yZ2IsIEIpO1xcbiAgICAgICNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XFxuICAgICAgI2luY2x1ZGUgPGFscGhhaGFzaF9mcmFnbWVudD5cXG4gICAgICBnbF9GcmFnQ29sb3IgPSBkaWZmdXNlQ29sb3I7XFxuICAgICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcbiAgICAgICNpbmNsdWRlIDwke1JlPj0xNTQ/XCJjb2xvcnNwYWNlX2ZyYWdtZW50XCI6XCJlbmNvZGluZ3NfZnJhZ21lbnRcIn0+XFxuICAgIH1cXG4gIGApO2Z1bmN0aW9uIHJ0KGUpe2xldCB0PW51bGwscj0wO2Uub25tZXNzYWdlPW49PntpZihcInB1c2hcIj09bi5kYXRhLm1ldGhvZCl7MD09PXImJih0PW5ldyBGbG9hdDMyQXJyYXkobi5kYXRhLmxlbmd0aCkpO2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheShuLmRhdGEubWF0cmljZXMpO3Quc2V0KGUscikscis9ZS5sZW5ndGh9ZWxzZSBpZihcInNvcnRcIj09bi5kYXRhLm1ldGhvZCYmbnVsbCE9PXQpe2NvbnN0IHI9ZnVuY3Rpb24oZSxyPSExKXtjb25zdCBuPXQubGVuZ3RoLzE2O2xldCBhPS0xLzAsbz0xLzA7Y29uc3QgaT1uZXcgRmxvYXQzMkFycmF5KG4pLHM9bmV3IEludDMyQXJyYXkoaS5idWZmZXIpLGw9bmV3IEludDMyQXJyYXkobik7bGV0IGM9MDtmb3IobGV0IHM9MDtzPG47cysrKXtjb25zdCBuPWVbMF0qdFsxNipzKzEyXStlWzFdKnRbMTYqcysxM10rZVsyXSp0WzE2KnMrMTRdK2VbM107KHJ8fG48MCYmdFsxNipzKzE1XT4tMWUtNCpuKSYmKGlbY109bixsW2NdPXMsYysrLG4+YSYmKGE9biksbjxvJiYobz1uKSl9Y29uc3QgdT02NTUzNS8oYS1vKSxkPW5ldyBVaW50MzJBcnJheSg2NTUzNik7Zm9yKGxldCBlPTA7ZTxjO2UrKylzW2VdPShpW2VdLW8pKnV8MCxkW3NbZV1dKys7Y29uc3QgbT1uZXcgVWludDMyQXJyYXkoNjU1MzYpO2ZvcihsZXQgZT0xO2U8NjU1MzY7ZSsrKW1bZV09bVtlLTFdK2RbZS0xXTtjb25zdCBmPW5ldyBVaW50MzJBcnJheShjKTtmb3IobGV0IGU9MDtlPGM7ZSsrKWZbbVtzW2VdXSsrXT1sW2VdO3JldHVybiBmfShuZXcgRmxvYXQzMkFycmF5KG4uZGF0YS52aWV3KSxuLmRhdGEuaGFzaGVkKTtlLnBvc3RNZXNzYWdlKHtpbmRpY2VzOnIsa2V5Om4uZGF0YS5rZXl9LFtyLmJ1ZmZlcl0pfX19Y2xhc3MgbnQgZXh0ZW5kcyBSLkxvYWRlcntjb25zdHJ1Y3RvciguLi5lKXtzdXBlciguLi5lKSx0aGlzLmdsPW51bGwsdGhpcy5jaHVua1NpemU9MjVlM31sb2FkKGUsdCxyLG4pe2NvbnN0IGE9e2dsOnRoaXMuZ2wsdXJsOnRoaXMubWFuYWdlci5yZXNvbHZlVVJMKGUpLHdvcmtlcjpuZXcgV29ya2VyKFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW1wiKFwiLHJ0LnRvU3RyaW5nKCksXCIpKHNlbGYpXCJdLHt0eXBlOlwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwifSkpKSxtYW5hZ2VyOnRoaXMubWFuYWdlcix1cGRhdGU6KGUsdCxyKT0+ZnVuY3Rpb24oZSx0LHIsbil7aWYoZS51cGRhdGVNYXRyaXhXb3JsZCgpLHQuZ2wuZ2V0Q3VycmVudFZpZXdwb3J0KHIudmlld3BvcnQpLHIubWF0ZXJpYWwudmlld3BvcnQueD1yLnZpZXdwb3J0Lnosci5tYXRlcmlhbC52aWV3cG9ydC55PXIudmlld3BvcnQudyxyLm1hdGVyaWFsLmZvY2FsPXIudmlld3BvcnQudy8yKk1hdGguYWJzKGUucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1s1XSksci5yZWFkeSl7aWYobiYmci5zb3J0ZWQpcmV0dXJuO3IucmVhZHk9ITE7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KFtyLm1vZGVsVmlld01hdHJpeC5lbGVtZW50c1syXSwtci5tb2RlbFZpZXdNYXRyaXguZWxlbWVudHNbNl0sci5tb2RlbFZpZXdNYXRyaXguZWxlbWVudHNbMTBdLHIubW9kZWxWaWV3TWF0cml4LmVsZW1lbnRzWzE0XV0pO3Qud29ya2VyLnBvc3RNZXNzYWdlKHttZXRob2Q6XCJzb3J0XCIsc3JjOnQudXJsLGtleTpyLnV1aWQsdmlldzplLmJ1ZmZlcixoYXNoZWQ6bn0sW2UuYnVmZmVyXSksbiYmdC5sb2FkZWQmJihyLnNvcnRlZD0hMCl9fSh0LGEsZSxyKSxjb25uZWN0OmU9PmZ1bmN0aW9uKGUsdCl7ZS5sb2FkaW5nfHxhc3luYyBmdW5jdGlvbihlKXtlLmxvYWRpbmc9ITA7bGV0IHQ9MCxyPTA7Y29uc3Qgbj1bXTtsZXQgYT0wO2NvbnN0IG89MCE9PWUudG90YWxEb3dubG9hZEJ5dGVzO2Zvcig7Oyl0cnl7Y29uc3R7dmFsdWU6aSxkb25lOnN9PWF3YWl0IGUuc3RyZWFtLnJlYWQoKTtpZihzKWJyZWFrO2lmKHQrPWkubGVuZ3RoLG51bGwhPWUudG90YWxEb3dubG9hZEJ5dGVzKXtjb25zdCByPXQvZS50b3RhbERvd25sb2FkQnl0ZXMqMTAwO2lmKGUub25Qcm9ncmVzcyYmci1hPjEpe2NvbnN0IG49bmV3IFByb2dyZXNzRXZlbnQoXCJwcm9ncmVzc1wiLHtsZW5ndGhDb21wdXRhYmxlOm8sbG9hZGVkOnQsdG90YWw6ZS50b3RhbERvd25sb2FkQnl0ZXN9KTtlLm9uUHJvZ3Jlc3MobiksYT1yfX1uLnB1c2goaSk7Y29uc3QgbD10LXI7aWYobnVsbCE9ZS50b3RhbERvd25sb2FkQnl0ZXMmJmw+ZS5yb3dMZW5ndGgqZS5jaHVua1NpemUpe2xldCB0PU1hdGguZmxvb3IobC9lLnJvd0xlbmd0aCk7Y29uc3QgYT1uZXcgVWludDhBcnJheShsKTtsZXQgaT0wO2Zvcihjb25zdCBlIG9mIG4pYS5zZXQoZSxpKSxpKz1lLmxlbmd0aDtpZihuLmxlbmd0aD0wLGw+dCplLnJvd0xlbmd0aCl7Y29uc3Qgcj1uZXcgVWludDhBcnJheShsLXQqZS5yb3dMZW5ndGgpO3Iuc2V0KGEuc3ViYXJyYXkobC1yLmxlbmd0aCxsKSwwKSxuLnB1c2gocil9Y29uc3Qgcz1uZXcgVWludDhBcnJheSh0KmUucm93TGVuZ3RoKTtzLnNldChhLnN1YmFycmF5KDAscy5ieXRlTGVuZ3RoKSwwKTtjb25zdCBjPWF0KGUscy5idWZmZXIsdCk7aWYoZS53b3JrZXIucG9zdE1lc3NhZ2Uoe21ldGhvZDpcInB1c2hcIixzcmM6ZS51cmwsbGVuZ3RoOjE2KmUubnVtVmVydGljZXMsbWF0cmljZXM6Yy5idWZmZXJ9LFtjLmJ1ZmZlcl0pLHIrPXQqZS5yb3dMZW5ndGgsZS5vblByb2dyZXNzKXtjb25zdCB0PW5ldyBQcm9ncmVzc0V2ZW50KFwicHJvZ3Jlc3NcIix7bGVuZ3RoQ29tcHV0YWJsZTpvLGxvYWRlZDplLnRvdGFsRG93bmxvYWRCeXRlcyx0b3RhbDplLnRvdGFsRG93bmxvYWRCeXRlc30pO2Uub25Qcm9ncmVzcyh0KX19fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSk7YnJlYWt9aWYodC1yPjApe2xldCB0PW5ldyBVaW50OEFycmF5KG4ucmVkdWNlKCgoZSx0KT0+ZSt0Lmxlbmd0aCksMCkpLHI9MDtmb3IoY29uc3QgZSBvZiBuKXQuc2V0KGUscikscis9ZS5sZW5ndGg7bGV0IGE9TWF0aC5mbG9vcih0LmJ5dGVMZW5ndGgvZS5yb3dMZW5ndGgpO2NvbnN0IG89YXQoZSx0LmJ1ZmZlcixhKTtlLndvcmtlci5wb3N0TWVzc2FnZSh7bWV0aG9kOlwicHVzaFwiLHNyYzplLnVybCxsZW5ndGg6MTYqYSxtYXRyaWNlczpvLmJ1ZmZlcn0sW28uYnVmZmVyXSl9ZS5sb2FkZWQ9ITAsZS5tYW5hZ2VyLml0ZW1FbmQoZS51cmwpfShlKTt0LnJlYWR5PSExLHQucG09bmV3IFIuTWF0cml4NCx0LnZtMT1uZXcgUi5NYXRyaXg0LHQudm0yPW5ldyBSLk1hdHJpeDQsdC52aWV3cG9ydD1uZXcgUi5WZWN0b3I0O2xldCByPW5ldyBVaW50MzJBcnJheShlLmJ1ZmZlclRleHR1cmVXaWR0aCplLmJ1ZmZlclRleHR1cmVIZWlnaHQpO2NvbnN0IG49bmV3IFIuSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlKHIsMSwhMSk7bi5zZXRVc2FnZShSLkR5bmFtaWNEcmF3VXNhZ2UpO2NvbnN0IGE9dC5nZW9tZXRyeT1uZXcgUi5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSxvPW5ldyBGbG9hdDMyQXJyYXkoMTgpLGk9bmV3IFIuQnVmZmVyQXR0cmlidXRlKG8sMyk7ZnVuY3Rpb24gcyhlKXtpZih0JiZlLmRhdGEua2V5PT09dC51dWlkKXtsZXQgcj1uZXcgVWludDMyQXJyYXkoZS5kYXRhLmluZGljZXMpO2EuYXR0cmlidXRlcy5zcGxhdEluZGV4LnNldChyKSxhLmF0dHJpYnV0ZXMuc3BsYXRJbmRleC5uZWVkc1VwZGF0ZT0hMCxhLmluc3RhbmNlQ291bnQ9ci5sZW5ndGgsdC5yZWFkeT0hMH19YXN5bmMgZnVuY3Rpb24gbCgpe2Zvcig7Oyl7Y29uc3QgdD1lLmdsLnByb3BlcnRpZXMuZ2V0KGUuY2VudGVyQW5kU2NhbGVUZXh0dXJlKSxyPWUuZ2wucHJvcGVydGllcy5nZXQoZS5jb3ZBbmRDb2xvclRleHR1cmUpO2lmKG51bGwhPXQmJnQuX193ZWJnbFRleHR1cmUmJm51bGwhPXImJnIuX193ZWJnbFRleHR1cmUmJmUubG9hZGVkVmVydGV4Q291bnQ+MClicmVhazthd2FpdCBuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLDEwKSkpfXQucmVhZHk9ITB9cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixpKSxpLnNldFhZWigyLC0yLDIsMCksaS5zZXRYWVooMSwyLDIsMCksaS5zZXRYWVooMCwtMiwtMiwwKSxpLnNldFhZWig1LC0yLC0yLDApLGkuc2V0WFlaKDQsMiwyLDApLGkuc2V0WFlaKDMsMiwtMiwwKSxpLm5lZWRzVXBkYXRlPSEwLGEuc2V0QXR0cmlidXRlKFwic3BsYXRJbmRleFwiLG4pLGEuaW5zdGFuY2VDb3VudD0xLGUud29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIscyksbCgpLCgpPT5lLndvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHMpfShhLGUpLGxvYWRpbmc6ITEsbG9hZGVkOiExLGxvYWRlZFZlcnRleENvdW50OjAsY2h1bmtTaXplOnRoaXMuY2h1bmtTaXplLHRvdGFsRG93bmxvYWRCeXRlczowLG51bVZlcnRpY2VzOjAscm93TGVuZ3RoOjMyLG1heFZlcnRleGVzOjAsYnVmZmVyVGV4dHVyZVdpZHRoOjAsYnVmZmVyVGV4dHVyZUhlaWdodDowLHN0cmVhbTpudWxsLGNlbnRlckFuZFNjYWxlRGF0YTpudWxsLGNvdkFuZENvbG9yRGF0YTpudWxsLGNvdkFuZENvbG9yVGV4dHVyZTpudWxsLGNlbnRlckFuZFNjYWxlVGV4dHVyZTpudWxsLG9uUHJvZ3Jlc3M6cn07KGFzeW5jIGZ1bmN0aW9uKGUpe2UubWFuYWdlci5pdGVtU3RhcnQoZS51cmwpO2NvbnN0IHQ9YXdhaXQgZmV0Y2goZS51cmwpO2lmKG51bGw9PT10LmJvZHkpdGhyb3dcIkZhaWxlZCB0byBmZXRjaCBmaWxlXCI7bGV0IHI9dC5oZWFkZXJzLmdldChcIkNvbnRlbnQtTGVuZ3RoXCIpO2NvbnN0IG49cj9wYXJzZUludChyKTp2b2lkIDA7aWYobnVsbD09bil0aHJvd1wiRmFpbGVkIHRvIGdldCBjb250ZW50IGxlbmd0aFwiO2Uuc3RyZWFtPXQuYm9keS5nZXRSZWFkZXIoKSxlLnRvdGFsRG93bmxvYWRCeXRlcz1uLGUubnVtVmVydGljZXM9TWF0aC5mbG9vcihlLnRvdGFsRG93bmxvYWRCeXRlcy9lLnJvd0xlbmd0aCk7Y29uc3QgYT1lLmdsLmdldENvbnRleHQoKTtsZXQgbz1hLmdldFBhcmFtZXRlcihhLk1BWF9URVhUVVJFX1NJWkUpO2UubWF4VmVydGV4ZXM9bypvLGUubnVtVmVydGljZXM+ZS5tYXhWZXJ0ZXhlcyYmKGUubnVtVmVydGljZXM9ZS5tYXhWZXJ0ZXhlcyk7cmV0dXJuIGUuYnVmZmVyVGV4dHVyZVdpZHRoPW8sZS5idWZmZXJUZXh0dXJlSGVpZ2h0PU1hdGguZmxvb3IoKGUubnVtVmVydGljZXMtMSkvbykrMSxlLmNlbnRlckFuZFNjYWxlRGF0YT1uZXcgRmxvYXQzMkFycmF5KGUuYnVmZmVyVGV4dHVyZVdpZHRoKmUuYnVmZmVyVGV4dHVyZUhlaWdodCo0KSxlLmNvdkFuZENvbG9yRGF0YT1uZXcgVWludDMyQXJyYXkoZS5idWZmZXJUZXh0dXJlV2lkdGgqZS5idWZmZXJUZXh0dXJlSGVpZ2h0KjQpLGUuY2VudGVyQW5kU2NhbGVUZXh0dXJlPW5ldyBSLkRhdGFUZXh0dXJlKGUuY2VudGVyQW5kU2NhbGVEYXRhLGUuYnVmZmVyVGV4dHVyZVdpZHRoLGUuYnVmZmVyVGV4dHVyZUhlaWdodCxSLlJHQkFGb3JtYXQsUi5GbG9hdFR5cGUpLGUuY2VudGVyQW5kU2NhbGVUZXh0dXJlLm5lZWRzVXBkYXRlPSEwLGUuY292QW5kQ29sb3JUZXh0dXJlPW5ldyBSLkRhdGFUZXh0dXJlKGUuY292QW5kQ29sb3JEYXRhLGUuYnVmZmVyVGV4dHVyZVdpZHRoLGUuYnVmZmVyVGV4dHVyZUhlaWdodCxSLlJHQkFJbnRlZ2VyRm9ybWF0LFIuVW5zaWduZWRJbnRUeXBlKSxlLmNvdkFuZENvbG9yVGV4dHVyZS5pbnRlcm5hbEZvcm1hdD1cIlJHQkEzMlVJXCIsZS5jb3ZBbmRDb2xvclRleHR1cmUubmVlZHNVcGRhdGU9ITAsZX0pKGEpLnRoZW4odCkuY2F0Y2goKGU9PntudWxsPT1ufHxuKGUpLGEubWFuYWdlci5pdGVtRXJyb3IoYS51cmwpfSkpfX1mdW5jdGlvbiBhdChlLHQscil7Y29uc3Qgbj1lLmdsLmdldENvbnRleHQoKTtpZihlLmxvYWRlZFZlcnRleENvdW50K3I+ZS5tYXhWZXJ0ZXhlcyYmKHI9ZS5tYXhWZXJ0ZXhlcy1lLmxvYWRlZFZlcnRleENvdW50KSxyPD0wKXRocm93XCJGYWlsZWQgdG8gcGFyc2UgZmlsZVwiO2NvbnN0IGE9bmV3IFVpbnQ4QXJyYXkodCksbz1uZXcgRmxvYXQzMkFycmF5KHQpLGk9bmV3IEZsb2F0MzJBcnJheSgxNipyKSxzPW5ldyBVaW50OEFycmF5KGUuY292QW5kQ29sb3JEYXRhLmJ1ZmZlciksbD1uZXcgSW50MTZBcnJheShlLmNvdkFuZENvbG9yRGF0YS5idWZmZXIpO2ZvcihsZXQgdD0wO3Q8cjt0Kyspe2NvbnN0IHI9bmV3IFIuUXVhdGVybmlvbigtKGFbMzIqdCsyOCsxXS0xMjgpLzEyOCwoYVszMip0KzI4KzJdLTEyOCkvMTI4LChhWzMyKnQrMjgrM10tMTI4KS8xMjgsLShhWzMyKnQrMjgrMF0tMTI4KS8xMjgpO3IuaW52ZXJ0KCk7Y29uc3Qgbj1uZXcgUi5WZWN0b3IzKG9bOCp0KzBdLG9bOCp0KzFdLC1vWzgqdCsyXSksYz1uZXcgUi5WZWN0b3IzKG9bOCp0KzMrMF0sb1s4KnQrMysxXSxvWzgqdCszKzJdKSx1PW5ldyBSLk1hdHJpeDQ7dS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihyKSx1LnRyYW5zcG9zZSgpLHUuc2NhbGUoYyk7Y29uc3QgZD11LmNsb25lKCk7dS50cmFuc3Bvc2UoKSx1LnByZW11bHRpcGx5KGQpLHUuc2V0UG9zaXRpb24obik7Y29uc3QgbT1bMCwxLDIsNSw2LDEwXTtsZXQgZj0wO2ZvcihsZXQgZT0wO2U8bS5sZW5ndGg7ZSsrKU1hdGguYWJzKHUuZWxlbWVudHNbbVtlXV0pPmYmJihmPU1hdGguYWJzKHUuZWxlbWVudHNbbVtlXV0pKTtsZXQgcD00KmUubG9hZGVkVmVydGV4Q291bnQrNCp0O2UuY2VudGVyQW5kU2NhbGVEYXRhW3ArMF09bi54LGUuY2VudGVyQW5kU2NhbGVEYXRhW3ArMV09LW4ueSxlLmNlbnRlckFuZFNjYWxlRGF0YVtwKzJdPW4ueixlLmNlbnRlckFuZFNjYWxlRGF0YVtwKzNdPWYvMzI3NjcscD04KmUubG9hZGVkVmVydGV4Q291bnQrNCp0KjI7Zm9yKGxldCBlPTA7ZTxtLmxlbmd0aDtlKyspbFtwK2VdPTMyNzY3KnUuZWxlbWVudHNbbVtlXV0vZjtwPTE2KmUubG9hZGVkVmVydGV4Q291bnQrNCooNCp0KzMpO2NvbnN0IGg9bmV3IFIuQ29sb3IoYVszMip0KzI0KzBdLzI1NSxhWzMyKnQrMjQrMV0vMjU1LGFbMzIqdCsyNCsyXS8yNTUpO2guY29udmVydFNSR0JUb0xpbmVhcigpLHNbcCswXT0yNTUqaC5yLHNbcCsxXT0yNTUqaC5nLHNbcCsyXT0yNTUqaC5iLHNbcCszXT1hWzMyKnQrMjQrM10sdS5lbGVtZW50c1sxNV09TWF0aC5tYXgoYy54LGMueSxjLnopKmFbMzIqdCsyNCszXS8yNTU7Zm9yKGxldCBlPTA7ZTwxNjtlKyspaVsxNip0K2VdPXUuZWxlbWVudHNbZV19Zm9yKDtyPjA7KXtsZXQgdD0wLGE9MDtjb25zdCBvPWUubG9hZGVkVmVydGV4Q291bnQlZS5idWZmZXJUZXh0dXJlV2lkdGgsaT1NYXRoLmZsb29yKGUubG9hZGVkVmVydGV4Q291bnQvZS5idWZmZXJUZXh0dXJlV2lkdGgpO2UubG9hZGVkVmVydGV4Q291bnQlZS5idWZmZXJUZXh0dXJlV2lkdGghPTA/KHQ9TWF0aC5taW4oZS5idWZmZXJUZXh0dXJlV2lkdGgsbytyKS1vLGE9MSk6TWF0aC5mbG9vcihyL2UuYnVmZmVyVGV4dHVyZVdpZHRoKT4wPyh0PWUuYnVmZmVyVGV4dHVyZVdpZHRoLGE9TWF0aC5mbG9vcihyL2UuYnVmZmVyVGV4dHVyZVdpZHRoKSk6KHQ9ciVlLmJ1ZmZlclRleHR1cmVXaWR0aCxhPTEpO2NvbnN0IHM9ZS5nbC5wcm9wZXJ0aWVzLmdldChlLmNlbnRlckFuZFNjYWxlVGV4dHVyZSk7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQscy5fX3dlYmdsVGV4dHVyZSksbi50ZXhTdWJJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLG8saSx0LGEsbi5SR0JBLG4uRkxPQVQsZS5jZW50ZXJBbmRTY2FsZURhdGEsNCplLmxvYWRlZFZlcnRleENvdW50KTtjb25zdCBsPWUuZ2wucHJvcGVydGllcy5nZXQoZS5jb3ZBbmRDb2xvclRleHR1cmUpO24uYmluZFRleHR1cmUobi5URVhUVVJFXzJELGwuX193ZWJnbFRleHR1cmUpLG4udGV4U3ViSW1hZ2UyRChuLlRFWFRVUkVfMkQsMCxvLGksdCxhLG4uUkdCQV9JTlRFR0VSLG4uVU5TSUdORURfSU5ULGUuY292QW5kQ29sb3JEYXRhLDQqZS5sb2FkZWRWZXJ0ZXhDb3VudCksZS5nbC5yZXNldFN0YXRlKCksZS5sb2FkZWRWZXJ0ZXhDb3VudCs9dCphLHItPXQqYX1yZXR1cm4gaX1mdW5jdGlvbiBvdChlLHQscil7Y29uc3Qgbj1hLnVzZVRocmVlKChlPT5lLnNpemUpKSxvPWEudXNlVGhyZWUoKGU9PmUudmlld3BvcnQpKSxpPVwibnVtYmVyXCI9PXR5cGVvZiBlP2U6bi53aWR0aCpvLmRwcixzPVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6bi5oZWlnaHQqby5kcHIsbD0oXCJudW1iZXJcIj09dHlwZW9mIGU/cjplKXx8e30se3NhbXBsZXM6Yz0wLGRlcHRoOnUsLi4uZH09bCxtPUMudXNlTWVtbygoKCk9Pntjb25zdCBlPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KGkscyx7bWluRmlsdGVyOlIuTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpSLkxpbmVhckZpbHRlcix0eXBlOlIuSGFsZkZsb2F0VHlwZSwuLi5kfSk7cmV0dXJuIHUmJihlLmRlcHRoVGV4dHVyZT1uZXcgUi5EZXB0aFRleHR1cmUoaSxzLFIuRmxvYXRUeXBlKSksZS5zYW1wbGVzPWMsZX0pLFtdKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57bS5zZXRTaXplKGkscyksYyYmKG0uc2FtcGxlcz1jKX0pLFtjLG0saSxzXSksQy51c2VFZmZlY3QoKCgpPT4oKT0+bS5kaXNwb3NlKCkpLFtdKSxtfWNvbnN0IGl0PUMuZm9yd2FyZFJlZigoKHtlbnZNYXA6ZSxyZXNvbHV0aW9uOnQ9MjU2LGZyYW1lczpyPTEvMCxjaGlsZHJlbjpuLG1ha2VEZWZhdWx0Om8sLi4uaX0scyk9Pntjb25zdCBsPWEudXNlVGhyZWUoKCh7c2V0OmV9KT0+ZSkpLGM9YS51c2VUaHJlZSgoKHtjYW1lcmE6ZX0pPT5lKSksdT1hLnVzZVRocmVlKCgoe3NpemU6ZX0pPT5lKSksZD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUocywoKCk9PmQuY3VycmVudCksW10pO2NvbnN0IG09Qy51c2VSZWYobnVsbCksZj1vdCh0KTtDLnVzZUxheW91dEVmZmVjdCgoKCk9PntpLm1hbnVhbHx8ZC5jdXJyZW50LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0pLFt1LGldKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9PntkLmN1cnJlbnQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfSkpLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2lmKG8pe2NvbnN0IGU9YztyZXR1cm4gbCgoKCk9Pih7Y2FtZXJhOmQuY3VycmVudH0pKSksKCk9PmwoKCgpPT4oe2NhbWVyYTplfSkpKX19KSxbZCxvLGxdKTtsZXQgcD0wLGg9bnVsbDtjb25zdCB4PVwiZnVuY3Rpb25cIj09dHlwZW9mIG47cmV0dXJuIGEudXNlRnJhbWUoKHQ9Pnt4JiYocj09PTEvMHx8cDxyKSYmKG0uY3VycmVudC52aXNpYmxlPSExLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KGYpLGg9dC5zY2VuZS5iYWNrZ3JvdW5kLGUmJih0LnNjZW5lLmJhY2tncm91bmQ9ZSksdC5nbC5yZW5kZXIodC5zY2VuZSxkLmN1cnJlbnQpLHQuc2NlbmUuYmFja2dyb3VuZD1oLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KG51bGwpLG0uY3VycmVudC52aXNpYmxlPSEwLHArKyl9KSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJvcnRob2dyYXBoaWNDYW1lcmFcIixULmRlZmF1bHQoe2xlZnQ6dS53aWR0aC8tMixyaWdodDp1LndpZHRoLzIsdG9wOnUuaGVpZ2h0LzIsYm90dG9tOnUuaGVpZ2h0Ly0yLHJlZjpkfSxpKSwheCYmbiksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOm19LHgmJm4oZi50ZXh0dXJlKSkpfSkpLHN0PUMuZm9yd2FyZFJlZigoKHtlbnZNYXA6ZSxyZXNvbHV0aW9uOnQ9MjU2LGZyYW1lczpyPTEvMCxtYWtlRGVmYXVsdDpuLGNoaWxkcmVuOm8sLi4uaX0scyk9Pntjb25zdCBsPWEudXNlVGhyZWUoKCh7c2V0OmV9KT0+ZSkpLGM9YS51c2VUaHJlZSgoKHtjYW1lcmE6ZX0pPT5lKSksdT1hLnVzZVRocmVlKCgoe3NpemU6ZX0pPT5lKSksZD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUocywoKCk9PmQuY3VycmVudCksW10pO2NvbnN0IG09Qy51c2VSZWYobnVsbCksZj1vdCh0KTtDLnVzZUxheW91dEVmZmVjdCgoKCk9PntpLm1hbnVhbHx8KGQuY3VycmVudC5hc3BlY3Q9dS53aWR0aC91LmhlaWdodCl9KSxbdSxpXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57ZC5jdXJyZW50LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX0pKTtsZXQgcD0wLGg9bnVsbDtjb25zdCB4PVwiZnVuY3Rpb25cIj09dHlwZW9mIG87cmV0dXJuIGEudXNlRnJhbWUoKHQ9Pnt4JiYocj09PTEvMHx8cDxyKSYmKG0uY3VycmVudC52aXNpYmxlPSExLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KGYpLGg9dC5zY2VuZS5iYWNrZ3JvdW5kLGUmJih0LnNjZW5lLmJhY2tncm91bmQ9ZSksdC5nbC5yZW5kZXIodC5zY2VuZSxkLmN1cnJlbnQpLHQuc2NlbmUuYmFja2dyb3VuZD1oLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KG51bGwpLG0uY3VycmVudC52aXNpYmxlPSEwLHArKyl9KSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aWYobil7Y29uc3QgZT1jO3JldHVybiBsKCgoKT0+KHtjYW1lcmE6ZC5jdXJyZW50fSkpKSwoKT0+bCgoKCk9Pih7Y2FtZXJhOmV9KSkpfX0pLFtkLG4sbF0pLEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsQy5jcmVhdGVFbGVtZW50KFwicGVyc3BlY3RpdmVDYW1lcmFcIixULmRlZmF1bHQoe3JlZjpkfSxpKSwheCYmbyksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOm19LHgmJm8oZi50ZXh0dXJlKSkpfSkpO2Z1bmN0aW9uIGx0KHtyZXNvbHV0aW9uOmU9MjU2LG5lYXI6cj0uMSxmYXI6bz0xZTMsZW52TWFwOmksZm9nOnN9PXt9KXtjb25zdCBsPWEudXNlVGhyZWUoKCh7Z2w6ZX0pPT5lKSksYz1hLnVzZVRocmVlKCgoe3NjZW5lOmV9KT0+ZSkpLHU9dC51c2VNZW1vKCgoKT0+e2NvbnN0IHQ9bmV3IG4uV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KGUpO3JldHVybiB0LnRleHR1cmUudHlwZT1uLkhhbGZGbG9hdFR5cGUsdH0pLFtlXSk7dC51c2VFZmZlY3QoKCgpPT4oKT0+e3UuZGlzcG9zZSgpfSksW3VdKTtjb25zdCBkPXQudXNlTWVtbygoKCk9Pm5ldyBSLkN1YmVDYW1lcmEocixvLHUpKSxbcixvLHVdKTtsZXQgbSxmO2NvbnN0IHA9Qy51c2VDYWxsYmFjaygoKCk9PnttPWMuZm9nLGY9Yy5iYWNrZ3JvdW5kLGMuYmFja2dyb3VuZD1pfHxmLGMuZm9nPXN8fG0sZC51cGRhdGUobCxjKSxjLmZvZz1tLGMuYmFja2dyb3VuZD1mfSksW2wsYyxkXSk7cmV0dXJue2Zibzp1LGNhbWVyYTpkLHVwZGF0ZTpwfX1jb25zdCBjdD1DLmZvcndhcmRSZWYoKChlLHQpPT57Y29uc3R7Y2FtZXJhOnIsb25DaGFuZ2U6bixtYWtlRGVmYXVsdDpvLC4uLml9PWUscz1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLGw9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSksYz1hLnVzZVRocmVlKChlPT5lLmdldCkpLGQ9YS51c2VUaHJlZSgoZT0+ZS5zZXQpKSxtPXJ8fHMsZj1DLnVzZU1lbW8oKCgpPT5uZXcgdS5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzKG0pKSxbbV0pO3JldHVybiBDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWU9PntsKCksbiYmbihlKX07cmV0dXJuIG51bGw9PWZ8fG51bGw9PWYuYWRkRXZlbnRMaXN0ZW5lcnx8Zi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSksKCk9Pm51bGw9PWZ8fG51bGw9PWYucmVtb3ZlRXZlbnRMaXN0ZW5lcj92b2lkIDA6Zi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSl9KSxbbixmLGxdKSxhLnVzZUZyYW1lKCgoKT0+bnVsbD09Zj92b2lkIDA6Zi51cGRhdGUoKSksLTEpLEMudXNlRWZmZWN0KCgoKT0+e2NvbnN0IGU9ZjtyZXR1cm4gbnVsbD09ZXx8ZS5jb25uZWN0KCksKCk9Pm51bGw9PWU/dm9pZCAwOmUuZGlzcG9zZSgpfSksW2ZdKSxDLnVzZUVmZmVjdCgoKCk9PntpZihvKXtjb25zdCBlPWMoKS5jb250cm9scztyZXR1cm4gZCh7Y29udHJvbHM6Zn0pLCgpPT5kKHtjb250cm9sczplfSl9fSksW28sZl0pLGY/Qy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsVC5kZWZhdWx0KHtyZWY6dCxvYmplY3Q6Zn0saSkpOm51bGx9KSksdXQ9Qy5mb3J3YXJkUmVmKCgoe2RvbUVsZW1lbnQ6ZSwuLi50fSxyKT0+e2NvbnN0e29uQ2hhbmdlOm4sbWFrZURlZmF1bHQ6bywuLi5pfT10LHM9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSksbD1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLGM9YS51c2VUaHJlZSgoZT0+ZS5nbCkpLGQ9YS51c2VUaHJlZSgoZT0+ZS5ldmVudHMpKSxtPWEudXNlVGhyZWUoKGU9PmUuZ2V0KSksZj1hLnVzZVRocmVlKChlPT5lLnNldCkpLHA9ZXx8ZC5jb25uZWN0ZWR8fGMuZG9tRWxlbWVudCxoPUMudXNlTWVtbygoKCk9Pm5ldyB1LkZseUNvbnRyb2xzKGwpKSxbbF0pO3JldHVybiBDLnVzZUVmZmVjdCgoKCk9PihoLmNvbm5lY3QocCksKCk9PntoLmRpc3Bvc2UoKX0pKSxbcCxoLHNdKSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWU9PntzKCksbiYmbihlKX07cmV0dXJuIG51bGw9PWguYWRkRXZlbnRMaXN0ZW5lcnx8aC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSksKCk9Pm51bGw9PWgucmVtb3ZlRXZlbnRMaXN0ZW5lcj92b2lkIDA6aC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSl9KSxbbixzXSksQy51c2VFZmZlY3QoKCgpPT57aWYobyl7Y29uc3QgZT1tKCkuY29udHJvbHM7cmV0dXJuIGYoe2NvbnRyb2xzOmh9KSwoKT0+Zih7Y29udHJvbHM6ZX0pfX0pLFtvLGhdKSxhLnVzZUZyYW1lKCgoZSx0KT0+aC51cGRhdGUodCkpKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe3JlZjpyLG9iamVjdDpoLGFyZ3M6W2wscF19LGkpKX0pKSxkdD1DLmZvcndhcmRSZWYoKChlPXtlbmFibGVEYW1waW5nOiEwfSx0KT0+e2NvbnN0e2RvbUVsZW1lbnQ6cixjYW1lcmE6bixtYWtlRGVmYXVsdDpvLG9uQ2hhbmdlOmksb25TdGFydDpzLG9uRW5kOmwsLi4uY309ZSxkPWEudXNlVGhyZWUoKGU9PmUuaW52YWxpZGF0ZSkpLG09YS51c2VUaHJlZSgoZT0+ZS5jYW1lcmEpKSxmPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxwPWEudXNlVGhyZWUoKGU9PmUuZXZlbnRzKSksaD1hLnVzZVRocmVlKChlPT5lLnNldCkpLHg9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSx5PXJ8fHAuY29ubmVjdGVkfHxmLmRvbUVsZW1lbnQsdj1ufHxtLGc9Qy51c2VNZW1vKCgoKT0+bmV3IHUuTWFwQ29udHJvbHModikpLFt2XSk7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e2cuY29ubmVjdCh5KTtjb25zdCBlPWU9PntkKCksaSYmaShlKX07cmV0dXJuIGcuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLHMmJmcuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIscyksbCYmZy5hZGRFdmVudExpc3RlbmVyKFwiZW5kXCIsbCksKCk9PntnLmRpc3Bvc2UoKSxnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxzJiZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGFydFwiLHMpLGwmJmcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZFwiLGwpfX0pLFtpLHMsbCxnLGQseV0pLEMudXNlRWZmZWN0KCgoKT0+e2lmKG8pe2NvbnN0IGU9eCgpLmNvbnRyb2xzO3JldHVybiBoKHtjb250cm9sczpnfSksKCk9Pmgoe2NvbnRyb2xzOmV9KX19KSxbbyxnXSksYS51c2VGcmFtZSgoKCk9PmcudXBkYXRlKCkpLC0xKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe3JlZjp0LG9iamVjdDpnLGVuYWJsZURhbXBpbmc6ITB9LGMpKX0pKSxtdD1DLmZvcndhcmRSZWYoKCh7bWFrZURlZmF1bHQ6ZSxjYW1lcmE6dCxyZWdyZXNzOnIsZG9tRWxlbWVudDpuLGVuYWJsZURhbXBpbmc6bz0hMCxrZXlFdmVudHM6aT0hMSxvbkNoYW5nZTpzLG9uU3RhcnQ6bCxvbkVuZDpjLC4uLmR9LG0pPT57Y29uc3QgZj1hLnVzZVRocmVlKChlPT5lLmludmFsaWRhdGUpKSxwPWEudXNlVGhyZWUoKGU9PmUuY2FtZXJhKSksaD1hLnVzZVRocmVlKChlPT5lLmdsKSkseD1hLnVzZVRocmVlKChlPT5lLmV2ZW50cykpLHk9YS51c2VUaHJlZSgoZT0+ZS5zZXRFdmVudHMpKSx2PWEudXNlVGhyZWUoKGU9PmUuc2V0KSksZz1hLnVzZVRocmVlKChlPT5lLmdldCkpLHc9YS51c2VUaHJlZSgoZT0+ZS5wZXJmb3JtYW5jZSkpLHo9dHx8cCxiPW58fHguY29ubmVjdGVkfHxoLmRvbUVsZW1lbnQsRT1DLnVzZU1lbW8oKCgpPT5uZXcgdS5PcmJpdENvbnRyb2xzKHopKSxbel0pO3JldHVybiBhLnVzZUZyYW1lKCgoKT0+e0UuZW5hYmxlZCYmRS51cGRhdGUoKX0pLC0xKSxDLnVzZUVmZmVjdCgoKCk9PihpJiZFLmNvbm5lY3QoITA9PT1pP2I6aSksRS5jb25uZWN0KGIpLCgpPT57RS5kaXNwb3NlKCl9KSksW2ksYixyLEUsZl0pLEMudXNlRWZmZWN0KCgoKT0+e2NvbnN0IGU9ZT0+e2YoKSxyJiZ3LnJlZ3Jlc3MoKSxzJiZzKGUpfSx0PWU9PntsJiZsKGUpfSxuPWU9PntjJiZjKGUpfTtyZXR1cm4gRS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSksRS5hZGRFdmVudExpc3RlbmVyKFwic3RhcnRcIix0KSxFLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRcIixuKSwoKT0+e0UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIsdCksRS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kXCIsbiksRS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSl9fSksW3MsbCxjLEUsZix5XSksQy51c2VFZmZlY3QoKCgpPT57aWYoZSl7Y29uc3QgZT1nKCkuY29udHJvbHM7cmV0dXJuIHYoe2NvbnRyb2xzOkV9KSwoKT0+dih7Y29udHJvbHM6ZX0pfX0pLFtlLEVdKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe3JlZjptLG9iamVjdDpFLGVuYWJsZURhbXBpbmc6b30sZCkpfSkpLGZ0PUMuZm9yd2FyZFJlZigoKHttYWtlRGVmYXVsdDplLGNhbWVyYTp0LGRvbUVsZW1lbnQ6cixyZWdyZXNzOm4sb25DaGFuZ2U6byxvblN0YXJ0Omksb25FbmQ6cywuLi5sfSxjKT0+e2NvbnN0e2ludmFsaWRhdGU6ZCxjYW1lcmE6bSxnbDpmLGV2ZW50czpwLHNldDpoLGdldDp4LHBlcmZvcm1hbmNlOnksdmlld3BvcnQ6dn09YS51c2VUaHJlZSgpLGc9dHx8bSx3PXJ8fHAuY29ubmVjdGVkfHxmLmRvbUVsZW1lbnQsej1DLnVzZU1lbW8oKCgpPT5uZXcgdS5UcmFja2JhbGxDb250cm9scyhnKSksW2ddKTtyZXR1cm4gYS51c2VGcmFtZSgoKCk9Pnt6LmVuYWJsZWQmJnoudXBkYXRlKCl9KSwtMSksQy51c2VFZmZlY3QoKCgpPT4oei5jb25uZWN0KHcpLCgpPT57ei5kaXNwb3NlKCl9KSksW3csbix6LGRdKSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWU9PntkKCksbiYmeS5yZWdyZXNzKCksbyYmbyhlKX07cmV0dXJuIHouYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLGkmJnouYWRkRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIsaSkscyYmei5hZGRFdmVudExpc3RlbmVyKFwiZW5kXCIscyksKCk9PntpJiZ6LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGFydFwiLGkpLHMmJnoucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZFwiLHMpLHoucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpfX0pLFtvLGkscyx6LGRdKSxDLnVzZUVmZmVjdCgoKCk9Pnt6LmhhbmRsZVJlc2l6ZSgpfSksW3ZdKSxDLnVzZUVmZmVjdCgoKCk9PntpZihlKXtjb25zdCBlPXgoKS5jb250cm9scztyZXR1cm4gaCh7Y29udHJvbHM6en0pLCgpPT5oKHtjb250cm9sczplfSl9fSksW2Usel0pLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7cmVmOmMsb2JqZWN0Onp9LGwpKX0pKSxwdD10LmZvcndhcmRSZWYoKCh7Y2FtZXJhOmUsbWFrZURlZmF1bHQ6cixyZWdyZXNzOm4sZG9tRWxlbWVudDpvLG9uQ2hhbmdlOmksb25TdGFydDpzLG9uRW5kOmwsLi4uY30sZCk9Pntjb25zdCBtPWEudXNlVGhyZWUoKGU9PmUuaW52YWxpZGF0ZSkpLGY9YS51c2VUaHJlZSgoZT0+ZS5jYW1lcmEpKSxwPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxoPWEudXNlVGhyZWUoKGU9PmUuZXZlbnRzKSkseD1hLnVzZVRocmVlKChlPT5lLnNldCkpLHk9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSx2PWEudXNlVGhyZWUoKGU9PmUucGVyZm9ybWFuY2UpKSxnPWV8fGYsdz1vfHxoLmNvbm5lY3RlZHx8cC5kb21FbGVtZW50LHo9dC51c2VNZW1vKCgoKT0+bmV3IHUuQXJjYmFsbENvbnRyb2xzKGcpKSxbZ10pO3JldHVybiBhLnVzZUZyYW1lKCgoKT0+e3ouZW5hYmxlZCYmei51cGRhdGUoKX0pLC0xKSx0LnVzZUVmZmVjdCgoKCk9Pih6LmNvbm5lY3QodyksKCk9Pnt6LmRpc3Bvc2UoKX0pKSxbdyxuLHosbV0pLHQudXNlRWZmZWN0KCgoKT0+e2NvbnN0IGU9ZT0+e20oKSxuJiZ2LnJlZ3Jlc3MoKSxpJiZpKGUpfTtyZXR1cm4gei5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZSkscyYmei5hZGRFdmVudExpc3RlbmVyKFwic3RhcnRcIixzKSxsJiZ6LmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRcIixsKSwoKT0+e3oucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLHMmJnoucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIscyksbCYmei5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kXCIsbCl9fSksW2kscyxsXSksdC51c2VFZmZlY3QoKCgpPT57aWYocil7Y29uc3QgZT15KCkuY29udHJvbHM7cmV0dXJuIHgoe2NvbnRyb2xzOnp9KSwoKT0+eCh7Y29udHJvbHM6ZX0pfX0pLFtyLHpdKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe3JlZjpkLG9iamVjdDp6fSxjKSl9KSksaHQ9Qy5mb3J3YXJkUmVmKCgoe2NoaWxkcmVuOmUsZG9tRWxlbWVudDp0LG9uQ2hhbmdlOnIsb25Nb3VzZURvd246bixvbk1vdXNlVXA6byxvbk9iamVjdENoYW5nZTppLG9iamVjdDpzLG1ha2VEZWZhdWx0OmwsY2FtZXJhOmMsZW5hYmxlZDpkLGF4aXM6bSxtb2RlOmYsdHJhbnNsYXRpb25TbmFwOnAscm90YXRpb25TbmFwOmgsc2NhbGVTbmFwOngsc3BhY2U6eSxzaXplOnYsc2hvd1g6ZyxzaG93WTp3LHNob3daOnosLi4uYn0sRSk9Pntjb25zdCBNPWEudXNlVGhyZWUoKGU9PmUuY29udHJvbHMpKSxTPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxQPWEudXNlVGhyZWUoKGU9PmUuZXZlbnRzKSksRD1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLEY9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSksaz1hLnVzZVRocmVlKChlPT5lLmdldCkpLF89YS51c2VUaHJlZSgoZT0+ZS5zZXQpKSxBPWN8fEQsTD10fHxQLmNvbm5lY3RlZHx8Uy5kb21FbGVtZW50LEk9Qy51c2VNZW1vKCgoKT0+bmV3IHUuVHJhbnNmb3JtQ29udHJvbHMoQSxMKSksW0EsTF0pLEI9Qy51c2VSZWYobnVsbCk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT4ocz9JLmF0dGFjaChzIGluc3RhbmNlb2YgUi5PYmplY3QzRD9zOnMuY3VycmVudCk6Qi5jdXJyZW50IGluc3RhbmNlb2YgUi5PYmplY3QzRCYmSS5hdHRhY2goQi5jdXJyZW50KSwoKT0+e0kuZGV0YWNoKCl9KSksW3MsZSxJXSksQy51c2VFZmZlY3QoKCgpPT57aWYoTSl7Y29uc3QgZT1lPT5NLmVuYWJsZWQ9IWUudmFsdWU7cmV0dXJuIEkuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdnaW5nLWNoYW5nZWRcIixlKSwoKT0+SS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ2dpbmctY2hhbmdlZFwiLGUpfX0pLFtJLE1dKTtjb25zdCBWPUMudXNlUmVmKCksVT1DLnVzZVJlZigpLE89Qy51c2VSZWYoKSxOPUMudXNlUmVmKCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e1YuY3VycmVudD1yfSksW3JdKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9PntVLmN1cnJlbnQ9bn0pLFtuXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57Ty5jdXJyZW50PW99KSxbb10pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e04uY3VycmVudD1pfSksW2ldKSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWU9PntGKCksbnVsbD09Vi5jdXJyZW50fHxWLmN1cnJlbnQoZSl9LHQ9ZT0+bnVsbD09VS5jdXJyZW50P3ZvaWQgMDpVLmN1cnJlbnQoZSkscj1lPT5udWxsPT1PLmN1cnJlbnQ/dm9pZCAwOk8uY3VycmVudChlKSxuPWU9Pm51bGw9PU4uY3VycmVudD92b2lkIDA6Ti5jdXJyZW50KGUpO3JldHVybiBJLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxJLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZURvd25cIix0KSxJLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZVVwXCIsciksSS5hZGRFdmVudExpc3RlbmVyKFwib2JqZWN0Q2hhbmdlXCIsbiksKCk9PntJLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxJLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZURvd25cIix0KSxJLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZVVwXCIsciksSS5yZW1vdmVFdmVudExpc3RlbmVyKFwib2JqZWN0Q2hhbmdlXCIsbil9fSksW0YsSV0pLEMudXNlRWZmZWN0KCgoKT0+e2lmKGwpe2NvbnN0IGU9aygpLmNvbnRyb2xzO3JldHVybiBfKHtjb250cm9sczpJfSksKCk9Pl8oe2NvbnRyb2xzOmV9KX19KSxbbCxJXSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIix7cmVmOkUsb2JqZWN0OkksZW5hYmxlZDpkLGF4aXM6bSxtb2RlOmYsdHJhbnNsYXRpb25TbmFwOnAscm90YXRpb25TbmFwOmgsc2NhbGVTbmFwOngsc3BhY2U6eSxzaXplOnYsc2hvd1g6ZyxzaG93WTp3LHNob3daOnp9KSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOkJ9LGIpLGUpKX0pKSx4dD1DLmZvcndhcmRSZWYoKCh7ZG9tRWxlbWVudDplLHNlbGVjdG9yOnQsb25DaGFuZ2U6cixvbkxvY2s6bixvblVubG9jazpvLGVuYWJsZWQ6aT0hMCxtYWtlRGVmYXVsdDpzLC4uLmx9LGMpPT57Y29uc3R7Y2FtZXJhOmQsLi4ubX09bCxmPWEudXNlVGhyZWUoKGU9PmUuc2V0RXZlbnRzKSkscD1hLnVzZVRocmVlKChlPT5lLmdsKSksaD1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLHg9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSkseT1hLnVzZVRocmVlKChlPT5lLmV2ZW50cykpLHY9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSxnPWEudXNlVGhyZWUoKGU9PmUuc2V0KSksdz1kfHxoLHo9ZXx8eS5jb25uZWN0ZWR8fHAuZG9tRWxlbWVudCxiPUMudXNlTWVtbygoKCk9Pm5ldyB1LlBvaW50ZXJMb2NrQ29udHJvbHModykpLFt3XSk7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e2lmKGkpe2IuY29ubmVjdCh6KTtjb25zdCBlPXYoKS5ldmVudHMuY29tcHV0ZTtyZXR1cm4gZih7Y29tcHV0ZShlLHQpe2NvbnN0IHI9dC5zaXplLndpZHRoLzIsbj10LnNpemUuaGVpZ2h0LzI7dC5wb2ludGVyLnNldChyL3Quc2l6ZS53aWR0aCoyLTEsLW4vdC5zaXplLmhlaWdodCoyKzEpLHQucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodC5wb2ludGVyLHQuY2FtZXJhKX19KSwoKT0+e2IuZGlzY29ubmVjdCgpLGYoe2NvbXB1dGU6ZX0pfX19KSxbaSxiXSksQy51c2VFZmZlY3QoKCgpPT57Y29uc3QgZT1lPT57eCgpLHImJnIoZSl9O2IuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLG4mJmIuYWRkRXZlbnRMaXN0ZW5lcihcImxvY2tcIixuKSxvJiZiLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvY2tcIixvKTtjb25zdCBhPSgpPT5iLmxvY2soKSxpPXQ/QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKTpbZG9jdW1lbnRdO3JldHVybiBpLmZvckVhY2goKGU9PmUmJmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYSkpKSwoKT0+e2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLG4mJmIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvY2tcIixuKSxvJiZiLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ1bmxvY2tcIixvKSxpLmZvckVhY2goKGU9PmU/ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixhKTp2b2lkIDApKX19KSxbcixuLG8sdCxiLHhdKSxDLnVzZUVmZmVjdCgoKCk9PntpZihzKXtjb25zdCBlPXYoKS5jb250cm9scztyZXR1cm4gZyh7Y29udHJvbHM6Yn0pLCgpPT5nKHtjb250cm9sczplfSl9fSksW3MsYl0pLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7cmVmOmMsb2JqZWN0OmJ9LG0pKX0pKSx5dD1DLmZvcndhcmRSZWYoKCh7ZG9tRWxlbWVudDplLG1ha2VEZWZhdWx0OnQsLi4ucn0sbik9Pntjb25zdCBvPWEudXNlVGhyZWUoKGU9PmUuY2FtZXJhKSksaT1hLnVzZVRocmVlKChlPT5lLmdsKSkscz1hLnVzZVRocmVlKChlPT5lLmV2ZW50cykpLGw9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSxjPWEudXNlVGhyZWUoKGU9PmUuc2V0KSksZD1lfHxzLmNvbm5lY3RlZHx8aS5kb21FbGVtZW50LFttXT1DLnVzZVN0YXRlKCgoKT0+bmV3IHUuRmlyc3RQZXJzb25Db250cm9scyhvLGQpKSk7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e2lmKHQpe2NvbnN0IGU9bCgpLmNvbnRyb2xzO3JldHVybiBjKHtjb250cm9sczptfSksKCk9PmMoe2NvbnRyb2xzOmV9KX19KSxbdCxtXSksYS51c2VGcmFtZSgoKGUsdCk9PnttLnVwZGF0ZSh0KX0pLC0xKSxtP0MuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7cmVmOm4sb2JqZWN0Om19LHIpKTpudWxsfSkpLHZ0PXQuZm9yd2FyZFJlZigoKGUscik9Pnt0LnVzZU1lbW8oKCgpPT57Y29uc3QgZT17Qm94MzpuLkJveDMsTWF0aFV0aWxzOntjbGFtcDpuLk1hdGhVdGlscy5jbGFtcH0sTWF0cml4NDpuLk1hdHJpeDQsUXVhdGVybmlvbjpuLlF1YXRlcm5pb24sUmF5Y2FzdGVyOm4uUmF5Y2FzdGVyLFNwaGVyZTpuLlNwaGVyZSxTcGhlcmljYWw6bi5TcGhlcmljYWwsVmVjdG9yMjpuLlZlY3RvcjIsVmVjdG9yMzpuLlZlY3RvcjMsVmVjdG9yNDpuLlZlY3RvcjR9O0QuZGVmYXVsdC5pbnN0YWxsKHtUSFJFRTplfSksYS5leHRlbmQoe0NhbWVyYUNvbnRyb2xzSW1wbDpELmRlZmF1bHR9KX0pLFtdKTtjb25zdHtjYW1lcmE6byxkb21FbGVtZW50OmksbWFrZURlZmF1bHQ6cyxvblN0YXJ0Omwsb25FbmQ6YyxvbkNoYW5nZTp1LHJlZ3Jlc3M6ZCwuLi5tfT1lLGY9YS51c2VUaHJlZSgoZT0+ZS5jYW1lcmEpKSxwPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxoPWEudXNlVGhyZWUoKGU9PmUuaW52YWxpZGF0ZSkpLHg9YS51c2VUaHJlZSgoZT0+ZS5ldmVudHMpKSx5PWEudXNlVGhyZWUoKGU9PmUuc2V0RXZlbnRzKSksdj1hLnVzZVRocmVlKChlPT5lLnNldCkpLGc9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSx3PWEudXNlVGhyZWUoKGU9PmUucGVyZm9ybWFuY2UpKSx6PW98fGYsYj1pfHx4LmNvbm5lY3RlZHx8cC5kb21FbGVtZW50LEU9dC51c2VNZW1vKCgoKT0+bmV3IEQuZGVmYXVsdCh6KSksW3pdKTtyZXR1cm4gYS51c2VGcmFtZSgoKGUsdCk9PntFLmVuYWJsZWQmJkUudXBkYXRlKHQpfSksLTEpLHQudXNlRWZmZWN0KCgoKT0+KEUuY29ubmVjdChiKSwoKT0+e0UuZGlzY29ubmVjdCgpfSkpLFtiLEVdKSx0LnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPWU9PntoKCksZCYmdy5yZWdyZXNzKCksdSYmdShlKX0sdD1lPT57bCYmbChlKX0scj1lPT57YyYmYyhlKX07cmV0dXJuIEUuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLGUpLEUuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xzdGFydFwiLHQpLEUuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xlbmRcIixyKSxFLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250cm9sXCIsZSksRS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbnN0YXJ0XCIsZSksRS5hZGRFdmVudExpc3RlbmVyKFwid2FrZVwiLGUpLCgpPT57RS5yZW1vdmVFdmVudExpc3RlbmVyKFwidXBkYXRlXCIsZSksRS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbHN0YXJ0XCIsdCksRS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY29udHJvbGVuZFwiLHIpLEUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRyb2xcIixlKSxFLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uc3RhcnRcIixlKSxFLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3YWtlXCIsZSl9fSksW0UsbCxjLGgseSxkLHVdKSx0LnVzZUVmZmVjdCgoKCk9PntpZihzKXtjb25zdCBlPWcoKS5jb250cm9scztyZXR1cm4gdih7Y29udHJvbHM6RX0pLCgpPT52KHtjb250cm9sczplfSl9fSksW3MsRV0pLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7cmVmOnIsb2JqZWN0OkV9LG0pKX0pKSxndD1DLmNyZWF0ZUNvbnRleHQobnVsbCk7ZnVuY3Rpb24gd3QoKXtjb25zdCBlPUMudXNlQ29udGV4dChndCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwidXNlTW90aW9uIGhvb2sgbXVzdCBiZSB1c2VkIGluIGEgTW90aW9uUGF0aENvbnRyb2xzIGNvbXBvbmVudC5cIik7cmV0dXJuIGV9ZnVuY3Rpb24genQoe3BvaW50czplPTUwLGNvbG9yOnQ9XCJibGFja1wifSl7Y29uc3R7cGF0aDpyfT13dCgpLFtuLGFdPUMudXNlU3RhdGUoW10pLG89Qy51c2VNZW1vKCgoKT0+bmV3IFIuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOnR9KSksW3RdKSxpPUMudXNlTWVtbygoKCk9Pm5ldyBSLlNwaGVyZUdlb21ldHJ5KC4wMjUsMTYsMTYpKSxbXSkscz1DLnVzZVJlZihbXSk7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e3IuY3VydmVzIT09cy5jdXJyZW50JiYoYShyLmdldFBvaW50cyhlKSkscy5jdXJyZW50PXIuY3VydmVzKX0pKSxuLm1hcCgoKGUsdCk9PkMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7a2V5OnQsbWF0ZXJpYWw6byxnZW9tZXRyeTppLHBvc2l0aW9uOltlLngsZS55LGUuel19KSkpfWNvbnN0IGJ0PUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGN1cnZlczp0PVtdLGRlYnVnOnI9ITEsZGVidWdDb2xvcjpuPVwiYmxhY2tcIixvYmplY3Q6byxmb2N1czppLGxvb3A6bD0hMCxvZmZzZXQ6YyxzbW9vdGg6dT0hMSxlcHM6ZD0xZS01LGRhbXBpbmc6bT0uMSxmb2N1c0RhbXBpbmc6Zj0uMSxtYXhTcGVlZDpwPTEvMCwuLi5ofSx4KT0+e2NvbnN0e2NhbWVyYTp5fT1hLnVzZVRocmVlKCksdj1DLnVzZVJlZihudWxsKSxnPUMudXNlUmVmKG51bGwhPWM/YzowKSx3PUMudXNlTWVtbygoKCk9Pm5ldyBSLkN1cnZlUGF0aCksW10pLHo9Qy51c2VNZW1vKCgoKT0+KHtmb2N1czppLG9iamVjdDoobnVsbD09bz92b2lkIDA6by5jdXJyZW50KWluc3RhbmNlb2YgUi5PYmplY3QzRD9vOntjdXJyZW50Onl9LHBhdGg6dyxjdXJyZW50OmcuY3VycmVudCxvZmZzZXQ6Zy5jdXJyZW50LHBvaW50Om5ldyBSLlZlY3RvcjMsdGFuZ2VudDpuZXcgUi5WZWN0b3IzLG5leHQ6bmV3IFIuVmVjdG9yM30pKSxbaSxvXSk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT57dmFyIGUscjt3LmN1cnZlcz1bXTtjb25zdCBuPXQubGVuZ3RoPjA/dDpudWxsIT09KGU9bnVsbD09KHI9di5jdXJyZW50KXx8bnVsbD09KHI9ci5fX3IzZik/dm9pZCAwOnIub2JqZWN0cykmJnZvaWQgMCE9PWU/ZTpbXTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl3LmFkZChuW2VdKTtpZih1KXtjb25zdCBlPXcuZ2V0UG9pbnRzKFwibnVtYmVyXCI9PXR5cGVvZiB1P3U6MSksdD1uZXcgUi5DYXRtdWxsUm9tQ3VydmUzKGUpO3cuY3VydmVzPVt0XX13LnVwZGF0ZUFyY0xlbmd0aHMoKX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUoeCwoKCk9Pk9iamVjdC5hc3NpZ24odi5jdXJyZW50LHttb3Rpb246en0pKSxbel0pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2cuY3VycmVudD1zLm1pc2MucmVwZWF0KGcuY3VycmVudCwxKX0pLFtjXSk7Y29uc3QgYj1DLnVzZU1lbW8oKCgpPT5uZXcgUi5WZWN0b3IzKSxbXSk7cmV0dXJuIGEudXNlRnJhbWUoKChlLHQpPT57Y29uc3Qgcj16Lm9mZnNldDtpZihzLmVhc2luZy5kYW1wKGcsXCJjdXJyZW50XCIsdm9pZCAwIT09Yz9jOnouY3VycmVudCxtLHQscCx2b2lkIDAsZCksei5vZmZzZXQ9bD9zLm1pc2MucmVwZWF0KGcuY3VycmVudCwxKTpzLm1pc2MuY2xhbXAoZy5jdXJyZW50LDAsMSksdy5nZXRDdXJ2ZUxlbmd0aHMoKS5sZW5ndGg+MCl7dy5nZXRQb2ludEF0KHoub2Zmc2V0LHoucG9pbnQpLHcuZ2V0VGFuZ2VudEF0KHoub2Zmc2V0LHoudGFuZ2VudCkubm9ybWFsaXplKCksdy5nZXRQb2ludEF0KHMubWlzYy5yZXBlYXQoZy5jdXJyZW50LShyLXoub2Zmc2V0KSwxKSx6Lm5leHQpO2NvbnN0IGU9KG51bGw9PW8/dm9pZCAwOm8uY3VycmVudClpbnN0YW5jZW9mIFIuT2JqZWN0M0Q/by5jdXJyZW50Onk7ZS5wb3NpdGlvbi5jb3B5KHoucG9pbnQpLGkmJnMuZWFzaW5nLmRhbXBMb29rQXQoZSwoZT0+KG51bGw9PWU/dm9pZCAwOmUuY3VycmVudClpbnN0YW5jZW9mIFIuT2JqZWN0M0QpKGkpP2kuY3VycmVudC5nZXRXb3JsZFBvc2l0aW9uKGIpOmksZix0LHAsdm9pZCAwLGQpfX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOnZ9LGgpLEMuY3JlYXRlRWxlbWVudChndC5Qcm92aWRlcix7dmFsdWU6en0sZSxyJiZDLmNyZWF0ZUVsZW1lbnQoenQse2NvbG9yOm59KSkpfSkpO2Z1bmN0aW9uIEV0KHtkZWZhdWx0U2NlbmU6ZSxkZWZhdWx0Q2FtZXJhOnQscmVuZGVyUHJpb3JpdHk6cj0xfSl7Y29uc3R7Z2w6bixzY2VuZTpvLGNhbWVyYTppfT1hLnVzZVRocmVlKCk7bGV0IHM7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57cz1uLmF1dG9DbGVhciwxPT09ciYmKG4uYXV0b0NsZWFyPSEwLG4ucmVuZGVyKGUsdCkpLG4uYXV0b0NsZWFyPSExLG4uY2xlYXJEZXB0aCgpLG4ucmVuZGVyKG8saSksbi5hdXRvQ2xlYXI9c30pLHIpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse29uUG9pbnRlck92ZXI6KCk9Pm51bGx9KX1mdW5jdGlvbiBNdCh7Y2hpbGRyZW46ZSxyZW5kZXJQcmlvcml0eTp0PTF9KXtjb25zdHtzY2VuZTpyLGNhbWVyYTpufT1hLnVzZVRocmVlKCksW29dPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5TY2VuZSkpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLGEuY3JlYXRlUG9ydGFsKEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsZSxDLmNyZWF0ZUVsZW1lbnQoRXQse2RlZmF1bHRTY2VuZTpyLGRlZmF1bHRDYW1lcmE6bixyZW5kZXJQcmlvcml0eTp0fSkpLG8se2V2ZW50czp7cHJpb3JpdHk6dCsxfX0pKX1jb25zdCBTdD1DLmNyZWF0ZUNvbnRleHQoe30pLFR0PSgpPT5DLnVzZUNvbnRleHQoU3QpLEN0PTIqTWF0aC5QSSxQdD1uZXcgbi5PYmplY3QzRCxSdD1uZXcgbi5NYXRyaXg0LFtEdCxGdF09W25ldyBuLlF1YXRlcm5pb24sbmV3IG4uUXVhdGVybmlvbl0sa3Q9bmV3IG4uVmVjdG9yMyxfdD1uZXcgbi5WZWN0b3IzLEF0PWU9PlwiZ2V0VGFyZ2V0XCJpbiBlLEx0PVwiI2YwZjBmMFwiLEl0PVwiIzk5OVwiLEJ0PVwiYmxhY2tcIixWdD1cImJsYWNrXCIsVXQ9W1wiUmlnaHRcIixcIkxlZnRcIixcIlRvcFwiLFwiQm90dG9tXCIsXCJGcm9udFwiLFwiQmFja1wiXSxPdD1lPT5uZXcgbi5WZWN0b3IzKC4uLmUpLm11bHRpcGx5U2NhbGFyKC4zOCksTnQ9W1sxLDEsMV0sWzEsMSwtMV0sWzEsLTEsMV0sWzEsLTEsLTFdLFstMSwxLDFdLFstMSwxLC0xXSxbLTEsLTEsMV0sWy0xLC0xLC0xXV0ubWFwKE90KSxqdD1bLjI1LC4yNSwuMjVdLFd0PVtbMSwxLDBdLFsxLDAsMV0sWzEsMCwtMV0sWzEsLTEsMF0sWzAsMSwxXSxbMCwxLC0xXSxbMCwtMSwxXSxbMCwtMSwtMV0sWy0xLDEsMF0sWy0xLDAsMV0sWy0xLDAsLTFdLFstMSwtMSwwXV0ubWFwKE90KSxHdD1XdC5tYXAoKGU9PmUudG9BcnJheSgpLm1hcCgoZT0+MD09ZT8uNTouMjUpKSkpLEh0PSh7aG92ZXI6ZSxpbmRleDp0LGZvbnQ6cj1cIjIwcHggSW50ZXIgdmFyLCBBcmlhbCwgc2Fucy1zZXJpZlwiLGZhY2VzOm89VXQsY29sb3I6aT1MdCxob3ZlckNvbG9yOnM9SXQsdGV4dENvbG9yOmw9QnQsc3Ryb2tlQ29sb3I6Yz1WdCxvcGFjaXR5OnU9MX0pPT57Y29uc3QgZD1hLnVzZVRocmVlKChlPT5lLmdsKSksbT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9MTI4LGUuaGVpZ2h0PTEyODtjb25zdCBhPWUuZ2V0Q29udGV4dChcIjJkXCIpO3JldHVybiBhLmZpbGxTdHlsZT1pLGEuZmlsbFJlY3QoMCwwLGUud2lkdGgsZS5oZWlnaHQpLGEuc3Ryb2tlU3R5bGU9YyxhLnN0cm9rZVJlY3QoMCwwLGUud2lkdGgsZS5oZWlnaHQpLGEuZm9udD1yLGEudGV4dEFsaWduPVwiY2VudGVyXCIsYS5maWxsU3R5bGU9bCxhLmZpbGxUZXh0KG9bdF0udG9VcHBlckNhc2UoKSw2NCw3NiksbmV3IG4uQ2FudmFzVGV4dHVyZShlKX0pLFt0LG8scixpLGwsY10pO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoQmFzaWNNYXRlcmlhbFwiLHttYXA6bSxcIm1hcC1hbmlzb3Ryb3B5XCI6ZC5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpfHwxLGF0dGFjaDpgbWF0ZXJpYWwtJHt0fWAsY29sb3I6ZT9zOlwid2hpdGVcIix0cmFuc3BhcmVudDohMCxvcGFjaXR5OnV9KX0sJHQ9ZT0+e2NvbnN0e3R3ZWVuQ2FtZXJhOnR9PVR0KCksW3Isbl09Qy51c2VTdGF0ZShudWxsKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLHtvblBvaW50ZXJPdXQ6ZT0+e2Uuc3RvcFByb3BhZ2F0aW9uKCksbihudWxsKX0sb25Qb2ludGVyTW92ZTplPT57ZS5zdG9wUHJvcGFnYXRpb24oKSxuKE1hdGguZmxvb3IoZS5mYWNlSW5kZXgvMikpfSxvbkNsaWNrOmUub25DbGlja3x8KGU9PntlLnN0b3BQcm9wYWdhdGlvbigpLHQoZS5mYWNlLm5vcm1hbCl9KX0sWy4uLkFycmF5KDYpXS5tYXAoKCh0LG4pPT5DLmNyZWF0ZUVsZW1lbnQoSHQsVC5kZWZhdWx0KHtrZXk6bixpbmRleDpuLGhvdmVyOnI9PT1ufSxlKSkpKSxDLmNyZWF0ZUVsZW1lbnQoXCJib3hHZW9tZXRyeVwiLG51bGwpKX0scXQ9KHtvbkNsaWNrOmUsZGltZW5zaW9uczp0LHBvc2l0aW9uOnIsaG92ZXJDb2xvcjpuPUl0fSk9Pntjb25zdHt0d2VlbkNhbWVyYTphfT1UdCgpLFtvLGldPUMudXNlU3RhdGUoITEpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3NjYWxlOjEuMDEscG9zaXRpb246cixvblBvaW50ZXJPdmVyOmU9PntlLnN0b3BQcm9wYWdhdGlvbigpLGkoITApfSxvblBvaW50ZXJPdXQ6ZT0+e2Uuc3RvcFByb3BhZ2F0aW9uKCksaSghMSl9LG9uQ2xpY2s6ZXx8KGU9PntlLnN0b3BQcm9wYWdhdGlvbigpLGEocil9KX0sQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7Y29sb3I6bz9uOlwid2hpdGVcIix0cmFuc3BhcmVudDohMCxvcGFjaXR5Oi42LHZpc2libGU6b30pLEMuY3JlYXRlRWxlbWVudChcImJveEdlb21ldHJ5XCIse2FyZ3M6dH0pKX07ZnVuY3Rpb24gWHQoe3NjYWxlOmU9Wy44LC4wNSwuMDVdLGNvbG9yOnQscm90YXRpb246cn0pe3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyb3RhdGlvbjpyfSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3Bvc2l0aW9uOlsuNCwwLDBdfSxDLmNyZWF0ZUVsZW1lbnQoXCJib3hHZW9tZXRyeVwiLHthcmdzOmV9KSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoQmFzaWNNYXRlcmlhbFwiLHtjb2xvcjp0LHRvbmVNYXBwZWQ6ITF9KSkpfWZ1bmN0aW9uIFp0KHtvbkNsaWNrOmUsZm9udDp0LGRpc2FibGVkOnIsYXJjU3R5bGU6byxsYWJlbDppLGxhYmVsQ29sb3I6cyxheGlzSGVhZFNjYWxlOmw9MSwuLi5jfSl7Y29uc3QgdT1hLnVzZVRocmVlKChlPT5lLmdsKSksZD1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9NjQsZS5oZWlnaHQ9NjQ7Y29uc3Qgcj1lLmdldENvbnRleHQoXCIyZFwiKTtyZXR1cm4gci5iZWdpblBhdGgoKSxyLmFyYygzMiwzMiwxNiwwLDIqTWF0aC5QSSksci5jbG9zZVBhdGgoKSxyLmZpbGxTdHlsZT1vLHIuZmlsbCgpLGkmJihyLmZvbnQ9dCxyLnRleHRBbGlnbj1cImNlbnRlclwiLHIuZmlsbFN0eWxlPXMsci5maWxsVGV4dChpLDMyLDQxKSksbmV3IG4uQ2FudmFzVGV4dHVyZShlKX0pLFtvLGkscyx0XSksW20sZl09Qy51c2VTdGF0ZSghMSkscD0oaT8xOi43NSkqKG0/MS4yOjEpKmw7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcInNwcml0ZVwiLFQuZGVmYXVsdCh7c2NhbGU6cCxvblBvaW50ZXJPdmVyOnI/dm9pZCAwOmU9PntlLnN0b3BQcm9wYWdhdGlvbigpLGYoITApfSxvblBvaW50ZXJPdXQ6cj92b2lkIDA6ZXx8KGU9PntlLnN0b3BQcm9wYWdhdGlvbigpLGYoITEpfSl9LGMpLEMuY3JlYXRlRWxlbWVudChcInNwcml0ZU1hdGVyaWFsXCIse21hcDpkLFwibWFwLWFuaXNvdHJvcHlcIjp1LmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCl8fDEsYWxwaGFUZXN0Oi4zLG9wYWNpdHk6aT8xOi43NSx0b25lTWFwcGVkOiExfSkpfWNvbnN0IFl0PVRlKHtjZWxsU2l6ZTouNSxzZWN0aW9uU2l6ZToxLGZhZGVEaXN0YW5jZToxMDAsZmFkZVN0cmVuZ3RoOjEsZmFkZUZyb206MSxjZWxsVGhpY2tuZXNzOi41LHNlY3Rpb25UaGlja25lc3M6MSxjZWxsQ29sb3I6bmV3IFIuQ29sb3Isc2VjdGlvbkNvbG9yOm5ldyBSLkNvbG9yLGluZmluaXRlR3JpZDohMSxmb2xsb3dDYW1lcmE6ITEsd29ybGRDYW1Qcm9qUG9zaXRpb246bmV3IFIuVmVjdG9yMyx3b3JsZFBsYW5lUG9zaXRpb246bmV3IFIuVmVjdG9yM30sXCJcXG4gICAgdmFyeWluZyB2ZWMzIGxvY2FsUG9zaXRpb247XFxuICAgIHZhcnlpbmcgdmVjNCB3b3JsZFBvc2l0aW9uO1xcblxcbiAgICB1bmlmb3JtIHZlYzMgd29ybGRDYW1Qcm9qUG9zaXRpb247XFxuICAgIHVuaWZvcm0gdmVjMyB3b3JsZFBsYW5lUG9zaXRpb247XFxuICAgIHVuaWZvcm0gZmxvYXQgZmFkZURpc3RhbmNlO1xcbiAgICB1bmlmb3JtIGJvb2wgaW5maW5pdGVHcmlkO1xcbiAgICB1bmlmb3JtIGJvb2wgZm9sbG93Q2FtZXJhO1xcblxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgbG9jYWxQb3NpdGlvbiA9IHBvc2l0aW9uLnh6eTtcXG4gICAgICBpZiAoaW5maW5pdGVHcmlkKSBsb2NhbFBvc2l0aW9uICo9IDEuMCArIGZhZGVEaXN0YW5jZTtcXG4gICAgICBcXG4gICAgICB3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KGxvY2FsUG9zaXRpb24sIDEuMCk7XFxuICAgICAgaWYgKGZvbGxvd0NhbWVyYSkge1xcbiAgICAgICAgd29ybGRQb3NpdGlvbi54eXogKz0gKHdvcmxkQ2FtUHJvalBvc2l0aW9uIC0gd29ybGRQbGFuZVBvc2l0aW9uKTtcXG4gICAgICAgIGxvY2FsUG9zaXRpb24gPSAoaW52ZXJzZShtb2RlbE1hdHJpeCkgKiB3b3JsZFBvc2l0aW9uKS54eXo7XFxuICAgICAgfVxcblxcbiAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiB3b3JsZFBvc2l0aW9uO1xcbiAgICB9XFxuICBcIixgXFxuICAgIHZhcnlpbmcgdmVjMyBsb2NhbFBvc2l0aW9uO1xcbiAgICB2YXJ5aW5nIHZlYzQgd29ybGRQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSB2ZWMzIHdvcmxkQ2FtUHJvalBvc2l0aW9uO1xcbiAgICB1bmlmb3JtIGZsb2F0IGNlbGxTaXplO1xcbiAgICB1bmlmb3JtIGZsb2F0IHNlY3Rpb25TaXplO1xcbiAgICB1bmlmb3JtIHZlYzMgY2VsbENvbG9yO1xcbiAgICB1bmlmb3JtIHZlYzMgc2VjdGlvbkNvbG9yO1xcbiAgICB1bmlmb3JtIGZsb2F0IGZhZGVEaXN0YW5jZTtcXG4gICAgdW5pZm9ybSBmbG9hdCBmYWRlU3RyZW5ndGg7XFxuICAgIHVuaWZvcm0gZmxvYXQgZmFkZUZyb207XFxuICAgIHVuaWZvcm0gZmxvYXQgY2VsbFRoaWNrbmVzcztcXG4gICAgdW5pZm9ybSBmbG9hdCBzZWN0aW9uVGhpY2tuZXNzO1xcblxcbiAgICBmbG9hdCBnZXRHcmlkKGZsb2F0IHNpemUsIGZsb2F0IHRoaWNrbmVzcykge1xcbiAgICAgIHZlYzIgciA9IGxvY2FsUG9zaXRpb24ueHogLyBzaXplO1xcbiAgICAgIHZlYzIgZ3JpZCA9IGFicyhmcmFjdChyIC0gMC41KSAtIDAuNSkgLyBmd2lkdGgocik7XFxuICAgICAgZmxvYXQgbGluZSA9IG1pbihncmlkLngsIGdyaWQueSkgKyAxLjAgLSB0aGlja25lc3M7XFxuICAgICAgcmV0dXJuIDEuMCAtIG1pbihsaW5lLCAxLjApO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICBmbG9hdCBnMSA9IGdldEdyaWQoY2VsbFNpemUsIGNlbGxUaGlja25lc3MpO1xcbiAgICAgIGZsb2F0IGcyID0gZ2V0R3JpZChzZWN0aW9uU2l6ZSwgc2VjdGlvblRoaWNrbmVzcyk7XFxuXFxuICAgICAgdmVjMyBmcm9tID0gd29ybGRDYW1Qcm9qUG9zaXRpb24qdmVjMyhmYWRlRnJvbSk7XFxuICAgICAgZmxvYXQgZGlzdCA9IGRpc3RhbmNlKGZyb20sIHdvcmxkUG9zaXRpb24ueHl6KTtcXG4gICAgICBmbG9hdCBkID0gMS4wIC0gbWluKGRpc3QgLyBmYWRlRGlzdGFuY2UsIDEuMCk7XFxuICAgICAgdmVjMyBjb2xvciA9IG1peChjZWxsQ29sb3IsIHNlY3Rpb25Db2xvciwgbWluKDEuMCwgc2VjdGlvblRoaWNrbmVzcyAqIGcyKSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2xvciwgKGcxICsgZzIpICogcG93KGQsIGZhZGVTdHJlbmd0aCkpO1xcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gbWl4KDAuNzUgKiBnbF9GcmFnQ29sb3IuYSwgZ2xfRnJhZ0NvbG9yLmEsIGcyKTtcXG4gICAgICBpZiAoZ2xfRnJhZ0NvbG9yLmEgPD0gMC4wKSBkaXNjYXJkO1xcblxcbiAgICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgICB9XFxuICBgKSxRdD1DLmZvcndhcmRSZWYoKCh7YXJnczplLGNlbGxDb2xvcjp0PVwiIzAwMDAwMFwiLHNlY3Rpb25Db2xvcjpyPVwiIzIwODBmZlwiLGNlbGxTaXplOm49LjUsc2VjdGlvblNpemU6bz0xLGZvbGxvd0NhbWVyYTppPSExLGluZmluaXRlR3JpZDpzPSExLGZhZGVEaXN0YW5jZTpsPTEwMCxmYWRlU3RyZW5ndGg6Yz0xLGZhZGVGcm9tOnU9MSxjZWxsVGhpY2tuZXNzOmQ9LjUsc2VjdGlvblRoaWNrbmVzczptPTEsc2lkZTpmPVIuQmFja1NpZGUsLi4ucH0saCk9PnthLmV4dGVuZCh7R3JpZE1hdGVyaWFsOll0fSk7Y29uc3QgeD1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUoaCwoKCk9PnguY3VycmVudCksW10pO2NvbnN0IHk9bmV3IFIuUGxhbmUsdj1uZXcgUi5WZWN0b3IzKDAsMSwwKSxnPW5ldyBSLlZlY3RvcjMoMCwwLDApO2EudXNlRnJhbWUoKGU9Pnt5LnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KHYsZykuYXBwbHlNYXRyaXg0KHguY3VycmVudC5tYXRyaXhXb3JsZCk7Y29uc3QgdD14LmN1cnJlbnQubWF0ZXJpYWwscj10LnVuaWZvcm1zLndvcmxkQ2FtUHJvalBvc2l0aW9uLG49dC51bmlmb3Jtcy53b3JsZFBsYW5lUG9zaXRpb247eS5wcm9qZWN0UG9pbnQoZS5jYW1lcmEucG9zaXRpb24sci52YWx1ZSksbi52YWx1ZS5zZXQoMCwwLDApLmFwcGx5TWF0cml4NCh4LmN1cnJlbnQubWF0cml4V29ybGQpfSkpO2NvbnN0IHc9e2NlbGxTaXplOm4sc2VjdGlvblNpemU6byxjZWxsQ29sb3I6dCxzZWN0aW9uQ29sb3I6cixjZWxsVGhpY2tuZXNzOmQsc2VjdGlvblRoaWNrbmVzczptfSx6PXtmYWRlRGlzdGFuY2U6bCxmYWRlU3RyZW5ndGg6YyxmYWRlRnJvbTp1LGluZmluaXRlR3JpZDpzLGZvbGxvd0NhbWVyYTppfTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVmOngsZnJ1c3R1bUN1bGxlZDohMX0scCksQy5jcmVhdGVFbGVtZW50KFwiZ3JpZE1hdGVyaWFsXCIsVC5kZWZhdWx0KHt0cmFuc3BhcmVudDohMCxcImV4dGVuc2lvbnMtZGVyaXZhdGl2ZXNcIjohMCxzaWRlOmZ9LHcseikpLEMuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIix7YXJnczplfSkpfSkpO2Z1bmN0aW9uIEt0KGUse3BhdGg6dH0pe2NvbnN0W3JdPWEudXNlTG9hZGVyKG4uQ3ViZVRleHR1cmVMb2FkZXIsW2VdLChlPT5lLnNldFBhdGgodCkpKTtyZXR1cm4gcn1mdW5jdGlvbiBKdChlKXtyZXR1cm4gYS51c2VMb2FkZXIodS5GQlhMb2FkZXIsZSl9S3QucHJlbG9hZD0oZSx7cGF0aDp0fSk9PmEudXNlTG9hZGVyLnByZWxvYWQobi5DdWJlVGV4dHVyZUxvYWRlcixbZV0sKGU9PmUuc2V0UGF0aCh0KSkpLEp0LnByZWxvYWQ9ZT0+YS51c2VMb2FkZXIucHJlbG9hZCh1LkZCWExvYWRlcixlKSxKdC5jbGVhcj1lPT5hLnVzZUxvYWRlci5jbGVhcih1LkZCWExvYWRlcixlKTtjb25zdCBlcj1cImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9wbW5kcnMvZHJlaS1hc3NldHNAbWFzdGVyXCI7ZnVuY3Rpb24gdHIoZSxyPWAke2VyfS9iYXNpcy9gKXtjb25zdCBuPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxvPWEudXNlTG9hZGVyKHUuS1RYMkxvYWRlcixDZShlKT9PYmplY3QudmFsdWVzKGUpOmUsKGU9PntlLmRldGVjdFN1cHBvcnQobiksZS5zZXRUcmFuc2NvZGVyUGF0aChyKX0pKTtpZih0LnVzZUVmZmVjdCgoKCk9PnsoQXJyYXkuaXNBcnJheShvKT9vOltvXSkuZm9yRWFjaChuLmluaXRUZXh0dXJlKX0pLFtuLG9dKSxDZShlKSl7Y29uc3QgdD1PYmplY3Qua2V5cyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKGU9Pk9iamVjdC5hc3NpZ24ocix7W2VdOm9bdC5pbmRleE9mKGUpXX0pKSkscn1yZXR1cm4gb310ci5wcmVsb2FkPShlLHQ9YCR7ZXJ9L2Jhc2lzL2ApPT5hLnVzZUxvYWRlci5wcmVsb2FkKHUuS1RYMkxvYWRlcixlLChlPT57ZS5zZXRUcmFuc2NvZGVyUGF0aCh0KX0pKSx0ci5jbGVhcj1lPT5hLnVzZUxvYWRlci5jbGVhcih1LktUWDJMb2FkZXIsZSk7Y29uc3QgcnI9KChlLHQpPT5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcImZ1bmN0aW9uXCI9PXR5cGVvZihudWxsPT0oZT13aW5kb3cuZG9jdW1lbnQpP3ZvaWQgMDplLmNyZWF0ZUVsZW1lbnQpJiZcInN0cmluZ1wiPT10eXBlb2YobnVsbD09KHQ9d2luZG93Lm5hdmlnYXRvcik/dm9pZCAwOnQudXNlckFnZW50KSkoKTtsZXQgbnI9bnVsbDtmdW5jdGlvbiBhcihlLHt1bnN1c3BlbmQ6cj1cImxvYWRlZG1ldGFkYXRhXCIsc3RhcnQ6bj0hMCxobHM6bz17fSxjcm9zc09yaWdpbjppPVwiYW5vbnltb3VzXCIsbXV0ZWQ6cz0hMCxsb29wOmw9ITAscGxheXNJbmxpbmU6Yz0hMCxvblZpZGVvRnJhbWU6dSwuLi5kfT17fSl7Y29uc3QgbT1hLnVzZVRocmVlKChlPT5lLmdsKSkscD10LnVzZVJlZihudWxsKSxoPWYuc3VzcGVuZCgoKCk9Pm5ldyBQcm9taXNlKChhc3luYyB0PT57bGV0IG4sYTtcInN0cmluZ1wiPT10eXBlb2YgZT9uPWU6YT1lO2NvbnN0IHU9T2JqZWN0LmFzc2lnbihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikse3NyYzpuLHNyY09iamVjdDphLGNyb3NzT3JpZ2luOmksbG9vcDpsLG11dGVkOnMscGxheXNJbmxpbmU6YywuLi5kfSk7aWYobiYmcnImJm4uZW5kc1dpdGgoXCIubTN1OFwiKSl7Y29uc3QgZT1wLmN1cnJlbnQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oLi4uZSl7dmFyIHQ7bnVsbCE9PSh0PW5yKSYmdm9pZCAwIT09dHx8KG5yPWF3YWl0IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIFMocmVxdWlyZShcImhscy5qc1wiKSl9KSkpO2NvbnN0IHI9bnIuZGVmYXVsdDtyZXR1cm4gci5pc1N1cHBvcnRlZCgpP25ldyByKC4uLmUpOm51bGx9KG8pO2UmJihlLm9uKHguRXZlbnRzLk1FRElBX0FUVEFDSEVELCgoKT0+e2UubG9hZFNvdXJjZShuKX0pKSxlLmF0dGFjaE1lZGlhKHUpKX1jb25zdCBmPW5ldyBSLlZpZGVvVGV4dHVyZSh1KTtcImNvbG9yU3BhY2VcImluIGY/Zi5jb2xvclNwYWNlPW0ub3V0cHV0Q29sb3JTcGFjZTpmLmVuY29kaW5nPW0ub3V0cHV0RW5jb2RpbmcsdS5hZGRFdmVudExpc3RlbmVyKHIsKCgpPT50KGYpKSl9KSkpLFtlXSkseT1oLnNvdXJjZS5kYXRhO3JldHVybiBpcih5LHUpLHQudXNlRWZmZWN0KCgoKT0+KG4mJmguaW1hZ2UucGxheSgpLCgpPT57cC5jdXJyZW50JiYocC5jdXJyZW50LmRlc3Ryb3koKSxwLmN1cnJlbnQ9bnVsbCl9KSksW2gsbl0pLGh9Y29uc3Qgb3I9dC5mb3J3YXJkUmVmKCgoe2NoaWxkcmVuOmUsc3JjOnIsLi4ubn0sYSk9Pntjb25zdCBvPWFyKHIsbik7cmV0dXJuIHQudXNlRWZmZWN0KCgoKT0+KCk9PntvLmRpc3Bvc2UoKX0pLFtvXSksdC51c2VJbXBlcmF0aXZlSGFuZGxlKGEsKCgpPT5vKSxbb10pLEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsbnVsbD09ZT92b2lkIDA6ZShvKSl9KSksaXI9KGUscik9Pnt0LnVzZUVmZmVjdCgoKCk9PntpZighcilyZXR1cm47aWYoIWUucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaylyZXR1cm47bGV0IHQ7Y29uc3Qgbj0oLi4uYSk9PntyKC4uLmEpLHQ9ZS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKG4pfTtyZXR1cm4gZS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKG4pLCgpPT5lLmNhbmNlbFZpZGVvRnJhbWVDYWxsYmFjayh0KX0pLFtlLHJdKX0sc3I9KGUsdCk9PntpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlWzBdO3JldHVybiBlW251bGwhPXQ/dDpPYmplY3Qua2V5cyhlKVswXV1bMF19LGxyPWU9Pntmb3IobGV0IHQ9Mzt0PGUubGVuZ3RoO3QrPTQpaWYoMCE9PWVbdF0pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIGNyKGUscixvLGkscyxsKXtjb25zdCBjPUMudXNlUmVmKGEudXNlVGhyZWUoKGU9PmUudmlld3BvcnQpKSksdT1DLnVzZVJlZihudWxsKSxkPUMudXNlUmVmKDApLG09Qy51c2VSZWYoZSksZj1DLnVzZVJlZihyKSxwPUMudXNlUmVmKG8pLFtoLHhdPXQudXNlU3RhdGUobnVsbCksW3ksdl09Qy51c2VTdGF0ZShuZXcgUi5UZXh0dXJlKSxnPUMudXNlTWVtbygoKCk9Pm5ldyBSLlRleHR1cmVMb2FkZXIpLFtdKSxbdyx6XT10LnVzZVN0YXRlKG51bGwpLGI9Qy51c2VDYWxsYmFjaygoKGUsdCxyKT0+e2NvbnN0IG49dCooYy5jdXJyZW50LmFzcGVjdD5lL3Q/Yy5jdXJyZW50LndpZHRoL2U6Yy5jdXJyZW50LmhlaWdodC90KSxhPWUqKGMuY3VycmVudC5hc3BlY3Q+ZS90P2MuY3VycmVudC53aWR0aC9lOmMuY3VycmVudC5oZWlnaHQvdCkqcixvPW4qcjtsZXQgaT1NYXRoLm1pbigxLGEpLHM9TWF0aC5taW4oMSxvKTtyZXR1cm4gYT4xJiYoaT0xLHM9by9hKjEpLG5ldyBSLlZlY3RvcjMoaSxzLDEpfSksW10pLEU9Qy51c2VDYWxsYmFjaygoKGUsdCk9PntpZihlLmltYWdlKXtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbj1yLmdldENvbnRleHQoXCIyZFwiLGwpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZXQgMmQgY29udGV4dFwiKTtyLndpZHRoPWUuaW1hZ2Uud2lkdGgsci5oZWlnaHQ9ZS5pbWFnZS5oZWlnaHQsbi5kcmF3SW1hZ2UoZS5pbWFnZSwwLDApO2NvbnN0IGE9ZS5pbWFnZS53aWR0aCxvPWUuaW1hZ2UuaGVpZ2h0LGk9TWF0aC5yb3VuZChNYXRoLnNxcnQodCooYS9vKSkpLHM9TWF0aC5yb3VuZCh0L2kpLGM9YS9pLHU9by9zLGQ9W107Zm9yKGxldCBlPTA7ZTxzO2UrKylmb3IobGV0IHI9MDtyPGk7cisrKXtpZihlKmkrcj49dCl7ZC5wdXNoKHtyb3c6ZSxjb2w6cn0pO2NvbnRpbnVlfWNvbnN0IGE9bi5nZXRJbWFnZURhdGEocipjLGUqdSxjLHUpLmRhdGE7bHIoYSkmJmQucHVzaCh7cm93OmUsY29sOnJ9KX1yZXR1cm57cm93czpzLGNvbHVtbnM6aSxmcmFtZVdpZHRoOmMsZnJhbWVIZWlnaHQ6dSxlbXB0eUZyYW1lczpkfX1yZXR1cm57cm93czowLGNvbHVtbnM6MCxmcmFtZVdpZHRoOjAsZnJhbWVIZWlnaHQ6MCxlbXB0eUZyYW1lczpbXX19KSxbbF0pLE09Qy51c2VDYWxsYmFjaygoZT0+e2NvbnN0IHQ9ZT0+e2xldCB0PW51bGw7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3R7dzplLGg6bn09ci5mcmFtZSxhPWUqbjsoIXR8fGE+dC5hcmVhKSYmKHQ9e3c6ZSxoOm4sYXJlYTphfSl9cmV0dXJuIGUubWFwKChlPT57Y29uc3R7dzpyLGg6bn09ZS5mcmFtZSxhPXIqbixvPXQ/YT09PXQuYXJlYT8xOk1hdGguc3FydChhL3QuYXJlYSk6MTtyZXR1cm57Li4uZSxzY2FsZVJhdGlvOm99fSkpfTtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiB0KGUpO3tjb25zdCByPXt9O2Zvcihjb25zdCBuIGluIGUpcltuXT10KGVbbl0pO3JldHVybiByfX0pLFtdKSxTPUMudXNlQ2FsbGJhY2soKCgpPT57Y29uc3QgZT17fSx0PXUuY3VycmVudCxyPXAuY3VycmVudDtpZih0KXtpZihyJiZBcnJheS5pc0FycmF5KHQuZnJhbWVzKSl7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2VbcltuXV09W107Zm9yKGNvbnN0IGEgb2YgdC5mcmFtZXMpe2NvbnN0IHQ9YS5mcmFtZSxvPWEuc291cmNlU2l6ZS53LGk9YS5zb3VyY2VTaXplLmg7XCJzdHJpbmdcIj09dHlwZW9mIGEuZmlsZW5hbWUmJi0xIT09YS5maWxlbmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YocltuXS50b0xvd2VyQ2FzZSgpKSYmZVtyW25dXS5wdXNoKHsuLi5hLGZyYW1lOnQsc291cmNlU2l6ZTp7dzpvLGg6aX19KX19Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1NKGVbdF0pO0FycmF5LmlzQXJyYXkocikmJihlW3RdPXIpfXJldHVybiBlfWlmKHImJlwib2JqZWN0XCI9PXR5cGVvZiB0LmZyYW1lcyl7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspe2VbcltuXV09W107Zm9yKGNvbnN0IGEgaW4gdC5mcmFtZXMpe2NvbnN0IG89dC5mcmFtZXNbYV0saT1vLmZyYW1lLHM9by5zb3VyY2VTaXplLncsbD1vLnNvdXJjZVNpemUuaDtcInN0cmluZ1wiPT10eXBlb2YgYSYmLTEhPT1hLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihyW25dLnRvTG93ZXJDYXNlKCkpJiZlW3Jbbl1dLnB1c2goey4uLm8sZnJhbWU6aSxzb3VyY2VTaXplOnt3OnMsaDpsfX0pfX1mb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPU0oZVt0XSk7QXJyYXkuaXNBcnJheShyKSYmKGVbdF09cil9cmV0dXJuIGV9e2xldCBlPVtdO3JldHVybiBudWxsIT10JiZ0LmZyYW1lcyYmKGU9QXJyYXkuaXNBcnJheSh0LmZyYW1lcyk/dC5mcmFtZXMubWFwKChlPT4oey4uLmUseDplLmZyYW1lLngseTplLmZyYW1lLnksdzplLmZyYW1lLncsaDplLmZyYW1lLmh9KSkpOk9iamVjdC52YWx1ZXModC5mcmFtZXMpLmZsYXQoKS5tYXAoKGU9Pih7Li4uZSx4OmUuZnJhbWUueCx5OmUuZnJhbWUueSx3OmUuZnJhbWUudyxoOmUuZnJhbWUuaH0pKSkpLE0oZSl9fXJldHVybltdfSksW00sdV0pLFQ9Qy51c2VDYWxsYmFjaygoKGUsdCk9PntsZXQgcj1uZXcgUi5WZWN0b3IzKDEsMSwxKTtpZihudWxsPT09ZSl7aWYodCYmaSl7Y29uc3QgZT10LmltYWdlLndpZHRoLG49dC5pbWFnZS5oZWlnaHQ7ZC5jdXJyZW50PWk7Y29uc3R7cm93czphLGNvbHVtbnM6byxmcmFtZVdpZHRoOnMsZnJhbWVIZWlnaHQ6bCxlbXB0eUZyYW1lczpjfT1FKHQsaSksbT17ZnJhbWVzOltdLG1ldGE6e3ZlcnNpb246XCIxLjBcIixzaXplOnt3OmUsaDpufSxyb3dzOmEsY29sdW1uczpvLGZyYW1lV2lkdGg6cyxmcmFtZUhlaWdodDpsLHNjYWxlOlwiMVwifX07Zm9yKGxldCBlPTA7ZTxhO2UrKylmb3IobGV0IHQ9MDt0PG87dCsrKXsobnVsbCE9Yz9jOltdKS5zb21lKChyPT5yLnJvdz09PWUmJnIuY29sPT09dCkpfHxBcnJheS5pc0FycmF5KG0uZnJhbWVzKSYmbS5mcmFtZXMucHVzaCh7ZnJhbWU6e3g6dCpzLHk6ZSpsLHc6cyxoOmx9LHNjYWxlUmF0aW86MSxyb3RhdGVkOiExLHRyaW1tZWQ6ITEsc3ByaXRlU291cmNlU2l6ZTp7eDowLHk6MCx3OnMsaDpsfSxzb3VyY2VTaXplOnt3OnMsaDpsfX0pfXI9YihzLGwsLjEpLHUuY3VycmVudD1tfXUuY3VycmVudCYmdS5jdXJyZW50LmZyYW1lcyYmKHUuY3VycmVudC5mcmFtZXM9TSh1LmN1cnJlbnQuZnJhbWVzKSl9ZWxzZSBpZih0KXt1LmN1cnJlbnQ9ZSx1LmN1cnJlbnQuZnJhbWVzPVMoKSxkLmN1cnJlbnQ9QXJyYXkuaXNBcnJheShlLmZyYW1lcyk/ZS5mcmFtZXMubGVuZ3RoOk9iamVjdC5rZXlzKGUuZnJhbWVzKS5sZW5ndGg7Y29uc3R7dzp0LGg6bn09c3IoZS5mcmFtZXMpLnNvdXJjZVNpemU7cj1iKHQsbiwuMSl9eCh1LmN1cnJlbnQpLFwiZW5jb2RpbmdcImluIHQ/dC5lbmNvZGluZz0zMDAxOlwiY29sb3JTcGFjZVwiaW4gdCYmKHQuY29sb3JTcGFjZT1SLlNSR0JDb2xvclNwYWNlKSx2KHQpLHooe3Nwcml0ZVRleHR1cmU6dCxzcHJpdGVEYXRhOnUuY3VycmVudCxhc3BlY3Q6cn0pfSksW0UsaSxTLGIsTV0pLFA9Qy51c2VDYWxsYmFjaygoKGUsdCxyKT0+e2NvbnN0IG49ZmV0Y2goZSkudGhlbigoZT0+ZS5qc29uKCkpKSxhPW5ldyBQcm9taXNlKChlPT57Zy5sb2FkKHQsZSl9KSk7UHJvbWlzZS5hbGwoW24sYV0pLnRoZW4oKGU9PntyKGVbMF0sZVsxXSl9KSl9KSxbZ10pLEQ9Qy51c2VDYWxsYmFjaygoZT0+e2lmKCFlJiYhbS5jdXJyZW50KXRocm93IG5ldyBFcnJvcihcIkVpdGhlciB0ZXh0dXJlVXJsIG9yIGlucHV0IG11c3QgYmUgcHJvdmlkZWRcIik7Y29uc3QgdD1udWxsIT1lP2U6bS5jdXJyZW50O2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkEgdmFsaWQgdGV4dHVyZSBVUkwgbXVzdCBiZSBwcm92aWRlZFwiKTtnLmxvYWQodCwoZT0+VChudWxsLGUpKSl9KSxbZyxUXSksRj1DLnVzZUNhbGxiYWNrKCgoZSx0KT0+e3QmJmU/UCh0LGUsVCk6RChlKX0pLFtQLEQsVF0pO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntmLmN1cnJlbnQmJm0uY3VycmVudD9QKGYuY3VycmVudCxtLmN1cnJlbnQsVCk6bS5jdXJyZW50JiZEKCk7Y29uc3QgZT1tLmN1cnJlbnQ7cmV0dXJuKCk9PntlJiZhLnVzZUxvYWRlci5jbGVhcihuLlRleHR1cmVMb2FkZXIsZSl9fSksW1AsRCxUXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57bnVsbD09c3x8cyh5LG51bGwhPWg/aDpudWxsKX0pLFt5LGgsc10pLHtzcHJpdGVPYmo6dyxsb2FkSnNvbkFuZFRleHR1cmU6Rn19ZnVuY3Rpb24gdXIoZSx0LC4uLnIpe2NvbnN0IG49Qy51c2VSZWYoKSxvPWEudXNlVGhyZWUoKGU9PmUuc2NlbmUpKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57bGV0IGE7aWYoZSYmbnVsbCE9ZSYmZS5jdXJyZW50JiZ0JiYobi5jdXJyZW50PWE9bmV3IHQoZS5jdXJyZW50LC4uLnIpKSxhKXJldHVybiBhLnRyYXZlcnNlKChlPT5lLnJheWNhc3Q9KCk9Pm51bGwpKSxvLmFkZChhKSwoKT0+e24uY3VycmVudD12b2lkIDAsby5yZW1vdmUoYSksbnVsbD09YS5kaXNwb3NlfHxhLmRpc3Bvc2UoKX19KSxbbyx0LGUsLi4ucl0pLGEudXNlRnJhbWUoKCgpPT57dmFyIGU7bnVsbD09KGU9bi5jdXJyZW50KXx8bnVsbD09ZS51cGRhdGV8fGUudXBkYXRlKCl9KSksbn1jci5wcmVsb2FkPWU9PmEudXNlTG9hZGVyLnByZWxvYWQobi5UZXh0dXJlTG9hZGVyLGUpLGNyLmNsZWFyPWU9PmEudXNlTG9hZGVyLmNsZWFyKG4uVGV4dHVyZUxvYWRlcixlKTtmdW5jdGlvbiBkcihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTpudWxsIT1lJiYoZS5jdXJyZW50PXQpfWNvbnN0IG1yPUMuZm9yd2FyZFJlZigoZnVuY3Rpb24oe2NsYXNzTmFtZTplLHBhcmVudDp0LGlkOnIsY2xlYXJTdGF0c0dsU3R5bGU6biwuLi5vfSxpKXtjb25zdCBzPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxsPUMudXNlTWVtbygoKCk9Pntjb25zdCBlPW5ldyBrLmRlZmF1bHQoey4uLm99KTtyZXR1cm4gZS5pbml0KHMpLGV9KSxbc10pO3JldHVybiBDLnVzZUltcGVyYXRpdmVIYW5kbGUoaSwoKCk9PmwuZG9tRWxlbWVudCksW2xdKSxDLnVzZUVmZmVjdCgoKCk9PntpZihsKXtjb25zdCBvPXQmJnQuY3VycmVudHx8ZG9jdW1lbnQuYm9keTtudWxsPT1vfHxvLmFwcGVuZENoaWxkKGwuZG9tRWxlbWVudCksbC5kb21FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYW52YXNcIikuZm9yRWFjaCgoZT0+e2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJwb3NpdGlvblwiKX0pKSxyJiYobC5kb21FbGVtZW50LmlkPXIpLG4mJmwuZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxsLmRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7Y29uc3QgaT0obnVsbCE9ZT9lOlwiXCIpLnNwbGl0KFwiIFwiKS5maWx0ZXIoKGU9PmUpKTtpLmxlbmd0aCYmbC5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uaSk7Y29uc3Qgcz1hLmFkZEFmdGVyRWZmZWN0KCgoKT0+bC51cGRhdGUoKSkpO3JldHVybigpPT57aS5sZW5ndGgmJmwuZG9tRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKC4uLmkpLG51bGw9PW98fG8ucmVtb3ZlQ2hpbGQobC5kb21FbGVtZW50KSxzKCl9fX0pLFt0LGwsZSxyLG5dKSxudWxsfSkpO2NvbnN0IGZyPWU9PmYuc3VzcGVuZCgoKCk9PmcuZ2V0R1BVVGllcihlKSksW1widXNlRGV0ZWN0R1BVXCJdKTtjb25zdCBwcj1lPT5lLmlzTWVzaDtjb25zdCBocj1DLmZvcndhcmRSZWYoKCh7ZW5hYmxlZDplPSEwLGZpcnN0SGl0T25seTp0PSExLGNoaWxkcmVuOnIsc3RyYXRlZ3k6bz13LlNBSCx2ZXJib3NlOmk9ITEsc2V0Qm91bmRpbmdCb3g6cz0hMCxtYXhEZXB0aDpsPTQwLG1heExlYWZUcmlzOmM9MTAsaW5kaXJlY3Q6dT0hMSwuLi5kfSxtKT0+e2NvbnN0IGY9Qy51c2VSZWYobnVsbCkscD1hLnVzZVRocmVlKChlPT5lLnJheWNhc3RlcikpO3JldHVybiBDLnVzZUltcGVyYXRpdmVIYW5kbGUobSwoKCk9PmYuY3VycmVudCksW10pLEMudXNlRWZmZWN0KCgoKT0+e2lmKGUpe2NvbnN0IGU9e3N0cmF0ZWd5Om8sdmVyYm9zZTppLHNldEJvdW5kaW5nQm94OnMsbWF4RGVwdGg6bCxtYXhMZWFmVHJpczpjLGluZGlyZWN0OnV9LHI9Zi5jdXJyZW50O3JldHVybiBwLmZpcnN0SGl0T25seT10LHIudHJhdmVyc2UoKHQ9Pntwcih0KSYmIXQuZ2VvbWV0cnkuYm91bmRzVHJlZSYmdC5yYXljYXN0PT09bi5NZXNoLnByb3RvdHlwZS5yYXljYXN0JiYodC5yYXljYXN0PXcuYWNjZWxlcmF0ZWRSYXljYXN0LHQuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kc1RyZWU9dy5jb21wdXRlQm91bmRzVHJlZSx0Lmdlb21ldHJ5LmRpc3Bvc2VCb3VuZHNUcmVlPXcuZGlzcG9zZUJvdW5kc1RyZWUsdC5nZW9tZXRyeS5jb21wdXRlQm91bmRzVHJlZShlKSl9KSksKCk9PntkZWxldGUgcC5maXJzdEhpdE9ubHksci50cmF2ZXJzZSgoZT0+e3ByKGUpJiZlLmdlb21ldHJ5LmJvdW5kc1RyZWUmJihlLmdlb21ldHJ5LmRpc3Bvc2VCb3VuZHNUcmVlKCksZS5yYXljYXN0PW4uTWVzaC5wcm90b3R5cGUucmF5Y2FzdCl9KSl9fX0pLFtdKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOmZ9LGQpLHIpfSkpO2Z1bmN0aW9uIHhyKGUpe2NvbnN0IHQ9Qy51c2VSZWYobnVsbCkscj1DLnVzZVJlZighMSksbj1DLnVzZVJlZighMSksbz1DLnVzZVJlZihlKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57by5jdXJyZW50PWV9KSxbZV0pLEMudXNlRWZmZWN0KCgoKT0+e2NvbnN0IGU9dC5jdXJyZW50O2lmKGUpe2NvbnN0IHQ9YS5hZGRFZmZlY3QoKCgpPT4oci5jdXJyZW50PSExLCEwKSkpLGk9ZS5vbkJlZm9yZVJlbmRlcjtlLm9uQmVmb3JlUmVuZGVyPSgpPT5yLmN1cnJlbnQ9ITA7Y29uc3Qgcz1hLmFkZEFmdGVyRWZmZWN0KCgoKT0+KHIuY3VycmVudCE9PW4uY3VycmVudCYmKG51bGw9PW8uY3VycmVudHx8by5jdXJyZW50KG4uY3VycmVudD1yLmN1cnJlbnQpKSwhMCkpKTtyZXR1cm4oKT0+e2Uub25CZWZvcmVSZW5kZXI9aSx0KCkscygpfX19KSxbXSksdH1jb25zdCB5cj1uZXcgUi5Cb3gzLHZyPW5ldyBSLlZlY3RvcjM7Y29uc3QgZ3I9ZT0+TWF0aC5zcXJ0KDEtTWF0aC5wb3coZS0xLDIpKTtjbGFzcyB3cntjb25zdHJ1Y3Rvcih7c2l6ZTplPTI1NixtYXhBZ2U6dD03NTAscmFkaXVzOnI9LjMsaW50ZW5zaXR5Om49LjIsaW50ZXJwb2xhdGU6YT0wLHNtb290aGluZzpvPTAsbWluRm9yY2U6aT0uMyxibGVuZDpzPVwic2NyZWVuXCIsZWFzZTpsPWdyfT17fSl7dGhpcy5zaXplPWUsdGhpcy5tYXhBZ2U9dCx0aGlzLnJhZGl1cz1yLHRoaXMuaW50ZW5zaXR5PW4sdGhpcy5lYXNlPWwsdGhpcy5pbnRlcnBvbGF0ZT1hLHRoaXMuc21vb3RoaW5nPW8sdGhpcy5taW5Gb3JjZT1pLHRoaXMuYmxlbmQ9cyx0aGlzLnRyYWlsPVtdLHRoaXMuZm9yY2U9MCx0aGlzLmluaXRUZXh0dXJlKCl9aW5pdFRleHR1cmUoKXt0aGlzLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY2FudmFzLndpZHRoPXRoaXMuY2FudmFzLmhlaWdodD10aGlzLnNpemU7Y29uc3QgZT10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7aWYobnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwiMkQgbm90IGF2YWlsYWJsZVwiKTt0aGlzLmN0eD1lLHRoaXMuY3R4LmZpbGxTdHlsZT1cImJsYWNrXCIsdGhpcy5jdHguZmlsbFJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCksdGhpcy50ZXh0dXJlPW5ldyBuLlRleHR1cmUodGhpcy5jYW52YXMpLHRoaXMuY2FudmFzLmlkPVwidG91Y2hUZXh0dXJlXCIsdGhpcy5jYW52YXMuc3R5bGUud2lkdGg9dGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PWAke3RoaXMuY2FudmFzLndpZHRofXB4YH11cGRhdGUoZSl7dGhpcy5jbGVhcigpLHRoaXMudHJhaWwuZm9yRWFjaCgoKHQscik9Pnt0LmFnZSs9MWUzKmUsdC5hZ2U+dGhpcy5tYXhBZ2UmJnRoaXMudHJhaWwuc3BsaWNlKHIsMSl9KSksdGhpcy50cmFpbC5sZW5ndGh8fCh0aGlzLmZvcmNlPTApLHRoaXMudHJhaWwuZm9yRWFjaCgoZT0+e3RoaXMuZHJhd1RvdWNoKGUpfSkpLHRoaXMudGV4dHVyZS5uZWVkc1VwZGF0ZT0hMH1jbGVhcigpe3RoaXMuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cInNvdXJjZS1vdmVyXCIsdGhpcy5jdHguZmlsbFN0eWxlPVwiYmxhY2tcIix0aGlzLmN0eC5maWxsUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KX1hZGRUb3VjaChlKXtjb25zdCB0PXRoaXMudHJhaWxbdGhpcy50cmFpbC5sZW5ndGgtMV07aWYodCl7Y29uc3Qgcj10LngtZS54LG49dC55LWUueSxhPXIqcituKm4sbz1NYXRoLm1heCh0aGlzLm1pbkZvcmNlLE1hdGgubWluKDFlNCphLDEpKTtpZih0aGlzLmZvcmNlPWZ1bmN0aW9uKGUsdCxyPS45KXtyZXR1cm4gdCpyK2UqKDEtcil9KG8sdGhpcy5mb3JjZSx0aGlzLnNtb290aGluZyksdGhpcy5pbnRlcnBvbGF0ZSl7Y29uc3QgZT1NYXRoLmNlaWwoYS9NYXRoLnBvdyguNSp0aGlzLnJhZGl1cy90aGlzLmludGVycG9sYXRlLDIpKTtpZihlPjEpZm9yKGxldCBhPTE7YTxlO2ErKyl0aGlzLnRyYWlsLnB1c2goe3g6dC54LXIvZSphLHk6dC55LW4vZSphLGFnZTowLGZvcmNlOm99KX19dGhpcy50cmFpbC5wdXNoKHt4OmUueCx5OmUueSxhZ2U6MCxmb3JjZTp0aGlzLmZvcmNlfSl9ZHJhd1RvdWNoKGUpe2NvbnN0IHQ9e3g6ZS54KnRoaXMuc2l6ZSx5OigxLWUueSkqdGhpcy5zaXplfTtsZXQgcj0xO3I9ZS5hZ2U8LjMqdGhpcy5tYXhBZ2U/dGhpcy5lYXNlKGUuYWdlLyguMyp0aGlzLm1heEFnZSkpOnRoaXMuZWFzZSgxLShlLmFnZS0uMyp0aGlzLm1heEFnZSkvKC43KnRoaXMubWF4QWdlKSkscio9ZS5mb3JjZSx0aGlzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dGhpcy5ibGVuZDtjb25zdCBuPXRoaXMuc2l6ZSp0aGlzLnJhZGl1cypyLGE9dGhpcy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQodC54LHQueSxNYXRoLm1heCgwLC4yNSpuKSx0LngsdC55LE1hdGgubWF4KDAsbikpO2EuYWRkQ29sb3JTdG9wKDAsYHJnYmEoMjU1LCAyNTUsIDI1NSwgJHt0aGlzLmludGVuc2l0eX0pYCksYS5hZGRDb2xvclN0b3AoMSxcInJnYmEoMCwgMCwgMCwgMC4wKVwiKSx0aGlzLmN0eC5iZWdpblBhdGgoKSx0aGlzLmN0eC5maWxsU3R5bGU9YSx0aGlzLmN0eC5hcmModC54LHQueSxNYXRoLm1heCgwLG4pLDAsMipNYXRoLlBJKSx0aGlzLmN0eC5maWxsKCl9fWZ1bmN0aW9uIHpyKGU9e30pe2NvbnN0e3NpemU6cixtYXhBZ2U6bixyYWRpdXM6byxpbnRlbnNpdHk6aSxpbnRlcnBvbGF0ZTpzLHNtb290aGluZzpsLG1pbkZvcmNlOmMsYmxlbmQ6dSxlYXNlOmR9PWUsbT10LnVzZU1lbW8oKCgpPT5uZXcgd3IoZSkpLFtyLG4sbyxpLHMsbCxjLHUsZF0pO2EudXNlRnJhbWUoKChlLHQpPT57bS51cGRhdGUodCl9KSk7Y29uc3QgZj10LnVzZUNhbGxiYWNrKChlPT5tLmFkZFRvdWNoKGUudXYpKSxbbV0pO3JldHVyblttLnRleHR1cmUsZl19Y29uc3QgYnI9Qy5mb3J3YXJkUmVmKChmdW5jdGlvbih7Y2hpbGRyZW46ZSxkaXNhYmxlOnQsZGlzYWJsZVg6cixkaXNhYmxlWTphLGRpc2FibGVaOm8sbGVmdDppLHJpZ2h0OnMsdG9wOmwsYm90dG9tOmMsZnJvbnQ6dSxiYWNrOmQsb25DZW50ZXJlZDptLHByZWNpc2U6Zj0hMCxjYWNoZUtleTpwPTAsLi4uaH0seCl7Y29uc3QgeT1DLnVzZVJlZihudWxsKSx2PUMudXNlUmVmKG51bGwpLGc9Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3YuY3VycmVudC5tYXRyaXhXb3JsZC5pZGVudGl0eSgpO2NvbnN0IGU9KG5ldyBuLkJveDMpLnNldEZyb21PYmplY3QoZy5jdXJyZW50LGYpLHA9bmV3IG4uVmVjdG9yMyxoPW5ldyBuLlNwaGVyZSx4PWUubWF4LngtZS5taW4ueCx3PWUubWF4LnktZS5taW4ueSx6PWUubWF4LnotZS5taW4uejtlLmdldENlbnRlcihwKSxlLmdldEJvdW5kaW5nU3BoZXJlKGgpO2NvbnN0IGI9bD93LzI6Yz8tdy8yOjAsRT1pPy14LzI6cz94LzI6MCxNPXU/ei8yOmQ/LXovMjowO3YuY3VycmVudC5wb3NpdGlvbi5zZXQodHx8cj8wOi1wLngrRSx0fHxhPzA6LXAueStiLHR8fG8/MDotcC56K00pLHZvaWQgMCE9PW0mJm0oe3BhcmVudDp5LmN1cnJlbnQucGFyZW50LGNvbnRhaW5lcjp5LmN1cnJlbnQsd2lkdGg6eCxoZWlnaHQ6dyxkZXB0aDp6LGJvdW5kaW5nQm94OmUsYm91bmRpbmdTcGhlcmU6aCxjZW50ZXI6cCx2ZXJ0aWNhbEFsaWdubWVudDpiLGhvcml6b250YWxBbGlnbm1lbnQ6RSxkZXB0aEFsaWdubWVudDpNfSl9KSxbcCxtLGwsaSx1LHQscixhLG8sZixzLGMsZF0pLEMudXNlSW1wZXJhdGl2ZUhhbmRsZSh4LCgoKT0+eS5jdXJyZW50KSxbXSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe3JlZjp5fSxoKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6dn0sQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOmd9LGUpKSl9KSksRXI9Qy5mb3J3YXJkUmVmKCgoe2ZvbnQ6ZSxjb2xvcjp0PVwiI2NiY2JjYlwiLGJldmVsU2l6ZTpyPS4wNCxkZWJ1ZzpuPSExLGNoaWxkcmVuOmEsLi4ub30saSk9Pntjb25zdFtzLGxdPUMudXNlU3RhdGUoMCksYz1DLnVzZUNhbGxiYWNrKCgoZT0xKT0+bChzK2UpKSxbc10pLHU9Qy51c2VDYWxsYmFjaygoKGU9MSk9Pmwocy1lKSksW3NdKSxkPUMudXNlTWVtbygoKCk9Pih7aW5jcjpjLGRlY3I6dX0pKSxbYyx1XSk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShpLCgoKT0+ZCksW2RdKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLG8sQy5jcmVhdGVFbGVtZW50KEMuU3VzcGVuc2Use2ZhbGxiYWNrOm51bGx9LEMuY3JlYXRlRWxlbWVudChicix7dG9wOiEwLGNhY2hlS2V5OkpTT04uc3RyaW5naWZ5KHtjb3VudGVyOnMsZm9udDplfSl9LEMuY3JlYXRlRWxlbWVudChFZSx7YmV2ZWxFbmFibGVkOiEwLGJldmVsU2l6ZTpyLGZvbnQ6ZX0sbj9DLmNyZWF0ZUVsZW1lbnQoXCJtZXNoTm9ybWFsTWF0ZXJpYWxcIix7d2lyZWZyYW1lOiEwfSk6Qy5jcmVhdGVFbGVtZW50KFwibWVzaFN0YW5kYXJkTWF0ZXJpYWxcIix7Y29sb3I6dH0pLHMpKSksYSl9KSksTXI9KGUsdCk9PntcInVwZGF0ZVJhbmdlc1wiaW4gZT9lLnVwZGF0ZVJhbmdlc1swXT10OmUudXBkYXRlUmFuZ2U9dH07Y29uc3QgU3I9bmV3IFIuTWF0cml4NCxUcj1uZXcgUi5NYXRyaXg0LENyPVtdLFByPW5ldyBSLk1lc2g7Y2xhc3MgUnIgZXh0ZW5kcyBSLkdyb3Vwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmNvbG9yPW5ldyBSLkNvbG9yKFwid2hpdGVcIiksdGhpcy5pbnN0YW5jZT17Y3VycmVudDp2b2lkIDB9LHRoaXMuaW5zdGFuY2VLZXk9e2N1cnJlbnQ6dm9pZCAwfX1nZXQgZ2VvbWV0cnkoKXt2YXIgZTtyZXR1cm4gbnVsbD09KGU9dGhpcy5pbnN0YW5jZS5jdXJyZW50KT92b2lkIDA6ZS5nZW9tZXRyeX1yYXljYXN0KGUsdCl7Y29uc3Qgcj10aGlzLmluc3RhbmNlLmN1cnJlbnQ7aWYoIXIpcmV0dXJuO2lmKCFyLmdlb21ldHJ5fHwhci5tYXRlcmlhbClyZXR1cm47UHIuZ2VvbWV0cnk9ci5nZW9tZXRyeTtjb25zdCBuPXIubWF0cml4V29ybGQsYT1yLnVzZXJEYXRhLmluc3RhbmNlcy5pbmRleE9mKHRoaXMuaW5zdGFuY2VLZXkpO2lmKCEoLTE9PT1hfHxhPnIuY291bnQpKXtyLmdldE1hdHJpeEF0KGEsU3IpLFRyLm11bHRpcGx5TWF0cmljZXMobixTciksUHIubWF0cml4V29ybGQ9VHIsci5tYXRlcmlhbCBpbnN0YW5jZW9mIFIuTWF0ZXJpYWw/UHIubWF0ZXJpYWwuc2lkZT1yLm1hdGVyaWFsLnNpZGU6UHIubWF0ZXJpYWwuc2lkZT1yLm1hdGVyaWFsWzBdLnNpZGUsUHIucmF5Y2FzdChlLENyKTtmb3IobGV0IGU9MCxyPUNyLmxlbmd0aDtlPHI7ZSsrKXtjb25zdCByPUNyW2VdO3IuaW5zdGFuY2VJZD1hLHIub2JqZWN0PXRoaXMsdC5wdXNoKHIpfUNyLmxlbmd0aD0wfX19Y29uc3QgRHI9Qy5jcmVhdGVDb250ZXh0KG51bGwpLEZyPW5ldyBSLk1hdHJpeDQsa3I9bmV3IFIuTWF0cml4NCxfcj1uZXcgUi5NYXRyaXg0LEFyPW5ldyBSLlZlY3RvcjMsTHI9bmV3IFIuUXVhdGVybmlvbixJcj1uZXcgUi5WZWN0b3IzLEJyPUMuZm9yd2FyZFJlZigoKHtjb250ZXh0OmUsY2hpbGRyZW46dCwuLi5yfSxuKT0+e0MudXNlTWVtbygoKCk9PmEuZXh0ZW5kKHtQb3NpdGlvbk1lc2g6UnJ9KSksW10pO2NvbnN0IG89Qy51c2VSZWYoKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUobiwoKCk9Pm8uY3VycmVudCksW10pO2NvbnN0e3N1YnNjcmliZTppLGdldFBhcmVudDpzfT1DLnVzZUNvbnRleHQoZXx8RHIpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PmkobykpLFtdKSxDLmNyZWF0ZUVsZW1lbnQoXCJwb3NpdGlvbk1lc2hcIixULmRlZmF1bHQoe2luc3RhbmNlOnMoKSxpbnN0YW5jZUtleTpvLHJlZjpvfSxyKSx0KX0pKSxWcj1DLmZvcndhcmRSZWYoKCh7Y29udGV4dDplLGNoaWxkcmVuOnQscmFuZ2U6cixsaW1pdDpuPTFlMyxmcmFtZXM6bz0xLzAsLi4uaX0scyk9Pntjb25zdFt7bG9jYWxDb250ZXh0OmwsaW5zdGFuY2U6Y31dPUMudXNlU3RhdGUoKCgpPT57Y29uc3QgZT1DLmNyZWF0ZUNvbnRleHQobnVsbCk7cmV0dXJue2xvY2FsQ29udGV4dDplLGluc3RhbmNlOkMuZm9yd2FyZFJlZigoKHQscik9PkMuY3JlYXRlRWxlbWVudChCcixULmRlZmF1bHQoe2NvbnRleHQ6ZX0sdCx7cmVmOnJ9KSkpKX19KSksdT1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUocywoKCk9PnUuY3VycmVudCksW10pO2NvbnN0W2QsbV09Qy51c2VTdGF0ZShbXSksW1tmLHBdXT1DLnVzZVN0YXRlKCgoKT0+e2NvbnN0IGU9bmV3IEZsb2F0MzJBcnJheSgxNipuKTtmb3IobGV0IHQ9MDt0PG47dCsrKV9yLmlkZW50aXR5KCkudG9BcnJheShlLDE2KnQpO3JldHVybltlLG5ldyBGbG9hdDMyQXJyYXkoWy4uLm5ldyBBcnJheSgzKm4pXS5tYXAoKCgpPT4xKSkpXX0pKTtDLnVzZUVmZmVjdCgoKCk9Pnt1LmN1cnJlbnQuaW5zdGFuY2VNYXRyaXgubmVlZHNVcGRhdGU9ITB9KSk7bGV0IGg9MCx4PTA7Y29uc3QgeT1DLnVzZVJlZihbXSk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT57eS5jdXJyZW50PU9iamVjdC5lbnRyaWVzKHUuY3VycmVudC5nZW9tZXRyeS5hdHRyaWJ1dGVzKS5maWx0ZXIoKChbZSx0XSk9PnQuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpKX0pKSxhLnVzZUZyYW1lKCgoKT0+e2lmKG89PT0xLzB8fGg8byl7dS5jdXJyZW50LnVwZGF0ZU1hdHJpeCgpLHUuY3VycmVudC51cGRhdGVNYXRyaXhXb3JsZCgpLEZyLmNvcHkodS5jdXJyZW50Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKSx4PU1hdGgubWluKG4sdm9pZCAwIT09cj9yOm4sZC5sZW5ndGgpLHUuY3VycmVudC5jb3VudD14LE1yKHUuY3VycmVudC5pbnN0YW5jZU1hdHJpeCx7b2Zmc2V0OjAsY291bnQ6MTYqeH0pLE1yKHUuY3VycmVudC5pbnN0YW5jZUNvbG9yLHtvZmZzZXQ6MCxjb3VudDozKnh9KTtmb3IobGV0IGU9MDtlPGQubGVuZ3RoO2UrKyl7Y29uc3QgdD1kW2VdLmN1cnJlbnQ7dC5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoQXIsTHIsSXIpLGtyLmNvbXBvc2UoQXIsTHIsSXIpLnByZW11bHRpcGx5KEZyKSxrci50b0FycmF5KGYsMTYqZSksdS5jdXJyZW50Lmluc3RhbmNlTWF0cml4Lm5lZWRzVXBkYXRlPSEwLHQuY29sb3IudG9BcnJheShwLDMqZSksdS5jdXJyZW50Lmluc3RhbmNlQ29sb3IubmVlZHNVcGRhdGU9ITB9aCsrfX0pKTtjb25zdCB2PUMudXNlTWVtbygoKCk9Pih7Z2V0UGFyZW50OigpPT51LHN1YnNjcmliZTplPT4obSgodD0+Wy4uLnQsZV0pKSwoKT0+bSgodD0+dC5maWx0ZXIoKHQ9PnQuY3VycmVudCE9PWUuY3VycmVudCkpKSkpfSkpLFtdKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwiaW5zdGFuY2VkTWVzaFwiLFQuZGVmYXVsdCh7dXNlckRhdGE6e2luc3RhbmNlczpkLGxpbWl0Om4sZnJhbWVzOm99LG1hdHJpeEF1dG9VcGRhdGU6ITEscmVmOnUsYXJnczpbbnVsbCxudWxsLDBdLHJheWNhc3Q6KCk9Pm51bGx9LGkpLEMuY3JlYXRlRWxlbWVudChcImluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJpbnN0YW5jZU1hdHJpeFwiLGNvdW50OmYubGVuZ3RoLzE2LGFycmF5OmYsaXRlbVNpemU6MTYsdXNhZ2U6Ui5EeW5hbWljRHJhd1VzYWdlfSksQy5jcmVhdGVFbGVtZW50KFwiaW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImluc3RhbmNlQ29sb3JcIixjb3VudDpwLmxlbmd0aC8zLGFycmF5OnAsaXRlbVNpemU6Myx1c2FnZTpSLkR5bmFtaWNEcmF3VXNhZ2V9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P0MuY3JlYXRlRWxlbWVudChsLlByb3ZpZGVyLHt2YWx1ZTp2fSx0KGMpKTplP0MuY3JlYXRlRWxlbWVudChlLlByb3ZpZGVyLHt2YWx1ZTp2fSx0KTpDLmNyZWF0ZUVsZW1lbnQoRHIuUHJvdmlkZXIse3ZhbHVlOnZ9LHQpKX0pKSxVcj1DLmZvcndhcmRSZWYoKGZ1bmN0aW9uKHttZXNoZXM6ZSxjaGlsZHJlbjp0LC4uLnJ9LG4pe2NvbnN0IGE9QXJyYXkuaXNBcnJheShlKTtpZighYSlmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlKSllW3RdLmlzTWVzaHx8ZGVsZXRlIGVbdF07cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjpufSxDLmNyZWF0ZUVsZW1lbnQoXy5kZWZhdWx0LHtjb21wb25lbnRzOihhP2U6T2JqZWN0LnZhbHVlcyhlKSkubWFwKCgoe2dlb21ldHJ5OmUsbWF0ZXJpYWw6dH0pPT5DLmNyZWF0ZUVsZW1lbnQoVnIsVC5kZWZhdWx0KHtrZXk6ZS51dWlkLGdlb21ldHJ5OmUsbWF0ZXJpYWw6dH0scikpKSl9LChyPT5hP3QoLi4ucik6dChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PmVbdF0uaXNNZXNoKSkucmVkdWNlKCgoZSx0LG4pPT4oey4uLmUsW3RdOnJbbl19KSkse30pKSkpKX0pKTtjb25zdCBPcj1DLmZvcndhcmRSZWYoKCh7bmFtZTplLGRlZmF1bHRWYWx1ZTp0LG5vcm1hbGl6ZWQ6cix1c2FnZTpuPVIuRHluYW1pY0RyYXdVc2FnZX0sbyk9Pntjb25zdCBpPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShvLCgoKT0+aS5jdXJyZW50KSxbXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57Y29uc3Qgcj1pLmN1cnJlbnQuX19yM2YucGFyZW50O3IuZ2VvbWV0cnkuYXR0cmlidXRlc1tlXT1pLmN1cnJlbnQ7Y29uc3Qgbj1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLGE9QXJyYXkuZnJvbSh7bGVuZ3RoOnIudXNlckRhdGEubGltaXR9LCgoKT0+bikpLmZsYXQoKTtyZXR1cm4gaS5jdXJyZW50LmFycmF5PW5ldyBGbG9hdDMyQXJyYXkoYSksaS5jdXJyZW50Lml0ZW1TaXplPW4ubGVuZ3RoLGkuY3VycmVudC5jb3VudD1hLmxlbmd0aC9pLmN1cnJlbnQuaXRlbVNpemUsKCk9PntkZWxldGUgci5nZW9tZXRyeS5hdHRyaWJ1dGVzW2VdfX0pLFtlXSk7bGV0IHM9MDtyZXR1cm4gYS51c2VGcmFtZSgoKCk9Pntjb25zdCB0PWkuY3VycmVudC5fX3IzZi5wYXJlbnQ7aWYodC51c2VyRGF0YS5mcmFtZXM9PT0xLzB8fHM8dC51c2VyRGF0YS5mcmFtZXMpe2ZvcihsZXQgcj0wO3I8dC51c2VyRGF0YS5pbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10LnVzZXJEYXRhLmluc3RhbmNlc1tyXS5jdXJyZW50W2VdO3ZvaWQgMCE9PW4mJihpLmN1cnJlbnQuc2V0KEFycmF5LmlzQXJyYXkobik/bjpcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnRvQXJyYXk/bi50b0FycmF5KCk6W25dLHIqaS5jdXJyZW50Lml0ZW1TaXplKSxpLmN1cnJlbnQubmVlZHNVcGRhdGU9ITApfXMrK319KSksQy5jcmVhdGVFbGVtZW50KFwiaW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlXCIse3JlZjppLHVzYWdlOm4sbm9ybWFsaXplZDpyfSl9KSksTnI9Qy5jcmVhdGVDb250ZXh0KG51bGwpO2NvbnN0IGpyPW5ldyBSLlBsYW5lR2VvbWV0cnkoMSwxKSxXcj1DLmZvcndhcmRSZWYoKCh7c3RhcnRGcmFtZTplPTAsZW5kRnJhbWU6dCxmcHM6cj0zMCxmcmFtZU5hbWU6bj1cIlwiLHRleHR1cmVEYXRhVVJMOm8sdGV4dHVyZUltYWdlVVJMOmksbG9vcDpzPSExLG51bWJlck9mRnJhbWVzOmw9MSxhdXRvUGxheTpjPSEwLGFuaW1hdGlvbk5hbWVzOnUsb25TdGFydDpkLG9uRW5kOm0sb25Mb29wRW5kOmYsb25GcmFtZTpwLHBsYXk6aCxwYXVzZTp4PSExLGZsaXBYOnk9ITEsYWxwaGFUZXN0OnY9MCxjaGlsZHJlbjpnLGFzU3ByaXRlOnc9ITEsb2Zmc2V0OnoscGxheUJhY2t3YXJkczpiPSExLHJlc2V0T25FbmQ6RT0hMSxtYXhJdGVtczpNPTEsaW5zdGFuY2VJdGVtczpTPVtbMCwwLDBdXSxzcHJpdGVEYXRhc2V0OlAsY2FudmFzUmVuZGVyaW5nQ29udGV4dDJEU2V0dGluZ3M6RCxyb3VuZEZyYW1lUG9zaXRpb246Rj0hMSxtZXNoUHJvcHM6az17fSwuLi5ffSxBKT0+e2NvbnN0IEw9Qy51c2VSZWYobmV3IFIuR3JvdXApLEk9Qy51c2VSZWYobnVsbCksQj1DLnVzZVJlZihudWxsKSxWPUMudXNlUmVmKG51bGwpLFU9Qy51c2VSZWYod2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSxPPUMudXNlUmVmKGUpLE49Qy51c2VSZWYobiksaj1yPjA/MWUzL3I6MCxbVyxHXT1DLnVzZVN0YXRlKG5ldyBSLlRleHR1cmUpLEg9Qy51c2VSZWYoMCksWyQscV09Qy51c2VTdGF0ZShuZXcgUi5WZWN0b3IzKDEsMSwxKSksWD15Py0xOjEsWj1DLnVzZVJlZih4KSxZPUMudXNlUmVmKHopLFE9Qy51c2VSZWYoITEpLHtzcHJpdGVPYmo6Syxsb2FkSnNvbkFuZFRleHR1cmU6Sn09Y3IobnVsbCxudWxsLHUsbCx2b2lkIDAsRCksZWU9Qy51c2VSZWYobiksdGU9Qy51c2VDYWxsYmFjaygoKGUsdCk9PntpZihudWxsPT09dClsJiYoSC5jdXJyZW50PWwsYiYmKE8uY3VycmVudD1sLTEpLEkuY3VycmVudD10KTtlbHNle3ZhciByLG47SS5jdXJyZW50PXQsSS5jdXJyZW50JiZBcnJheS5pc0FycmF5KEkuY3VycmVudC5mcmFtZXMpP0guY3VycmVudD1JLmN1cnJlbnQuZnJhbWVzLmxlbmd0aDpJLmN1cnJlbnQmJlwib2JqZWN0XCI9PXR5cGVvZiBJLmN1cnJlbnQmJmVlLmN1cnJlbnQ/SC5jdXJyZW50PUkuY3VycmVudC5mcmFtZXNbZWUuY3VycmVudF0ubGVuZ3RoOkguY3VycmVudD0wLGImJihPLmN1cnJlbnQ9SC5jdXJyZW50LTEpO2NvbnN0e3c6YSxoOm99PXNyKG51bGwhPT0ocj1udWxsPT0obj1JLmN1cnJlbnQpP3ZvaWQgMDpuLmZyYW1lcykmJnZvaWQgMCE9PXI/cjpbXSxlZS5jdXJyZW50KS5zb3VyY2VTaXplLGk9b2UoYSxvKTtxKGkpLEIuY3VycmVudCYmKEIuY3VycmVudC5tYXA9ZSl9RyhlKX0pLFtsLGJdKSxyZT1DLnVzZUNhbGxiYWNrKCgoKT0+e2lmKCFJLmN1cnJlbnQpcmV0dXJuO2NvbnN0e21ldGE6e3NpemU6ZX0sZnJhbWVzOnR9PUkuY3VycmVudCx7dzpyLGg6YX09QXJyYXkuaXNBcnJheSh0KT90WzBdLnNvdXJjZVNpemU6biYmdFtuXT90W25dWzBdLnNvdXJjZVNpemU6e3c6MCxoOjB9O0IuY3VycmVudCYmQi5jdXJyZW50Lm1hcCYmKEIuY3VycmVudC5tYXAud3JhcFM9Qi5jdXJyZW50Lm1hcC53cmFwVD1SLlJlcGVhdFdyYXBwaW5nLEIuY3VycmVudC5tYXAuY2VudGVyLnNldCgwLDApLEIuY3VycmVudC5tYXAucmVwZWF0LnNldCgxKlgvKGUudy9yKSwxLyhlLmgvYSkpKTtjb25zdCBvPTEvKChlLmgtMSkvYSk7Qi5jdXJyZW50JiZCLmN1cnJlbnQubWFwJiYoQi5jdXJyZW50Lm1hcC5vZmZzZXQueD0wLEIuY3VycmVudC5tYXAub2Zmc2V0Lnk9MS1vKSxkJiZkKHtjdXJyZW50RnJhbWVOYW1lOm51bGwhPW4/bjpcIlwiLGN1cnJlbnRGcmFtZTpPLmN1cnJlbnR9KX0pLFtYLG4sZF0pLGFlPUMudXNlTWVtbygoKCk9Pih7Y3VycmVudDpZLmN1cnJlbnQsb2Zmc2V0OlkuY3VycmVudCxpbWFnZVVybDppLGhhc0VuZGVkOiExLHJlZjpBfSkpLFtpLEFdKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUoQSwoKCk9PkwuY3VycmVudCksW10pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e1kuY3VycmVudD16fSksW3pdKTtjb25zdCBvZT0oZSx0KT0+e3ZhciByO2NvbnN0IG49bmV3IFIuVmVjdG9yMyxhPXQvZTtyZXR1cm4gbi5zZXQoMSxhLDEpLG51bGw9PShyPVYuY3VycmVudCl8fHIuc2NhbGUuY29weShuKSxufTtDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgZTtQP3RlKG51bGw9PVB8fG51bGw9PShlPVAuc3ByaXRlVGV4dHVyZSk/dm9pZCAwOmUuY2xvbmUoKSxQLnNwcml0ZURhdGEpOmkmJm8mJkooaSxvKX0pLFtKLFAsbyxpLHRlXSksQy51c2VFZmZlY3QoKCgpPT57dmFyIGU7SyYmdGUobnVsbD09S3x8bnVsbD09KGU9Sy5zcHJpdGVUZXh0dXJlKT92b2lkIDA6ZS5jbG9uZSgpLG51bGw9PUs/dm9pZCAwOksuc3ByaXRlRGF0YSl9KSxbSyx0ZV0pLEMudXNlRWZmZWN0KCgoKT0+e3ZhciBlOyhhZS5oYXNFbmRlZD0hMSxJLmN1cnJlbnQmJiEwPT09Yik/Ty5jdXJyZW50PShudWxsIT09KGU9SS5jdXJyZW50LmZyYW1lcy5sZW5ndGgpJiZ2b2lkIDAhPT1lP2U6MCktMTpPLmN1cnJlbnQ9MH0pLFtiLGFlXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57cmUoKX0pLFtXLHkscmVdKSxDLnVzZUVmZmVjdCgoKCk9PntjJiYoWi5jdXJyZW50PSExKX0pLFtjXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aWYoTi5jdXJyZW50IT09biYmbiYmKE8uY3VycmVudD0wLE4uY3VycmVudD1uLGFlLmhhc0VuZGVkPSExLGo8PTAmJihPLmN1cnJlbnQ9dHx8ZXx8MCksSS5jdXJyZW50KSl7Y29uc3R7dzplLGg6dH09c3IoSS5jdXJyZW50LmZyYW1lcyxuKS5zb3VyY2VTaXplLHI9b2UoZSx0KTtxKHIpfX0pLFtuLGosYWUsdCxlXSk7Y29uc3QgaWU9KGUsdCxyLG4pPT57dmFyIGE9dm9pZCAwPT09ej9hZS5jdXJyZW50Ono7Y29uc3Qgbz1PLmN1cnJlbnQ7bGV0IGk9MCxzPTA7b2UoZSx0KTtjb25zdCBsPUY/TWF0aC5yb3VuZCgoci53LTEpL2UpOihyLnctMSkvZSxjPUY/TWF0aC5yb3VuZCgoci5oLTEpL3QpOihyLmgtMSkvdDtpZighbltvXSlyZXR1cm47Y29uc3R7ZnJhbWU6e3g6dSx5OmR9LHNvdXJjZVNpemU6e3c6bSxoOmZ9fT1uW29dLHA9MS9sLGg9MS9jO2lmKEIuY3VycmVudCYmQi5jdXJyZW50Lm1hcCYmKGk9WD4wP3AqKHUvbSk6cCoodS9tKS1CLmN1cnJlbnQubWFwLnJlcGVhdC54LHM9TWF0aC5hYnMoMS1oKS1oKihkL2YpLEIuY3VycmVudC5tYXAub2Zmc2V0Lng9aSxCLmN1cnJlbnQubWFwLm9mZnNldC55PXMpLG51bGwhPWEpe2xldCBlPU1hdGguZmxvb3IoYSpuLmxlbmd0aCk7ZT1NYXRoLm1heCgwLE1hdGgubWluKGUsbi5sZW5ndGgtMSkpLGlzTmFOKGUpJiYoZT0wKSxPLmN1cnJlbnQ9ZX1lbHNlIGI/Ty5jdXJyZW50LT0xOk8uY3VycmVudCs9MX07cmV0dXJuIGEudXNlRnJhbWUoKChyLGEpPT57dmFyIG8saTtudWxsIT0obz1JLmN1cnJlbnQpJiZvLmZyYW1lcyYmbnVsbCE9KGk9Qi5jdXJyZW50KSYmaS5tYXAmJihaLmN1cnJlbnR8fGFlLmhhc0VuZGVkfHwhYyYmIWh8fCgoKCk9PntpZihudWxsPT09KHI9SS5jdXJyZW50KXx8IShcIm1ldGFcImluIHIpfHwhKFwiZnJhbWVzXCJpbiByKSlyZXR1cm47dmFyIHI7Y29uc3R7bWV0YTp7c2l6ZTphfSxmcmFtZXM6b309SS5jdXJyZW50LHt3OmksaDpsfT1zcihvLG4pLnNvdXJjZVNpemUsYz1BcnJheS5pc0FycmF5KG8pP286bj9vW25dOltdLHU9dHx8Yy5sZW5ndGgtMTt2YXIgcD12b2lkIDA9PT16P2FlLmN1cnJlbnQ6ejtpZihqPD0wKXJldHVybiBPLmN1cnJlbnQ9dHx8ZXx8MCx2b2lkIGllKGksbCxhLGMpO2NvbnN0IGg9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpLHg9aC1VLmN1cnJlbnQ7aWYoISh4PD1qKSl7dmFyIHk9Yj9PLmN1cnJlbnQ8MDpPLmN1cnJlbnQ+dSx2PWI/Ty5jdXJyZW50PT09dTowPT09Ty5jdXJyZW50LGc9Yj9PLmN1cnJlbnQ8MDpPLmN1cnJlbnQ+PXU7aWYoeSl7aWYoTy5jdXJyZW50PXMmJm51bGwhPWU/ZTowLGImJihPLmN1cnJlbnQ9dSkscz9udWxsPT1mfHxmKHtjdXJyZW50RnJhbWVOYW1lOm51bGwhPW4/bjpcIlwiLGN1cnJlbnRGcmFtZTpPLmN1cnJlbnR9KToobnVsbD09bXx8bSh7Y3VycmVudEZyYW1lTmFtZTpudWxsIT1uP246XCJcIixjdXJyZW50RnJhbWU6Ty5jdXJyZW50fSksYWUuaGFzRW5kZWQ9IUUsRSYmKFouY3VycmVudD0hMCkpLCFzKXJldHVybn1lbHNlIHYmJihudWxsPT1kfHxkKHtjdXJyZW50RnJhbWVOYW1lOm51bGwhPW4/bjpcIlwiLGN1cnJlbnRGcmFtZTpPLmN1cnJlbnR9KSk7dm9pZCAwIT09cCYmZz8hMT09PVEuY3VycmVudCYmKG51bGw9PW18fG0oe2N1cnJlbnRGcmFtZU5hbWU6bnVsbCE9bj9uOlwiXCIsY3VycmVudEZyYW1lOk8uY3VycmVudH0pLFEuY3VycmVudD0hMCk6US5jdXJyZW50PSExLHg8PWp8fChVLmN1cnJlbnQ9aC14JWosaWUoaSxsLGEsYykpfX0pKCksbnVsbD09cHx8cCh7Y3VycmVudEZyYW1lTmFtZTpOLmN1cnJlbnQsY3VycmVudEZyYW1lOk8uY3VycmVudH0pKSl9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe30sXyx7cmVmOkwsc2NhbGU6ZnVuY3Rpb24oZT1uZXcgUi5WZWN0b3IzKDEsMSwxKSx0PTEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P2UubXVsdGlwbHlTY2FsYXIodCk6QXJyYXkuaXNBcnJheSh0KT9lLm11bHRpcGx5KG5ldyBSLlZlY3RvcjMoLi4udCkpOnQgaW5zdGFuY2VvZiBSLlZlY3RvcjM/ZS5tdWx0aXBseSh0KTp2b2lkIDB9KCQsXy5zY2FsZSl9KSxDLmNyZWF0ZUVsZW1lbnQoTnIuUHJvdmlkZXIse3ZhbHVlOmFlfSx3JiZDLmNyZWF0ZUVsZW1lbnQobmUsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtyZWY6VixzY2FsZToxLGdlb21ldHJ5OmpyfSxrKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoQmFzaWNNYXRlcmlhbFwiLHtwcmVtdWx0aXBsaWVkQWxwaGE6ITEsdG9uZU1hcHBlZDohMSxzaWRlOlIuRG91YmxlU2lkZSxyZWY6QixtYXA6Vyx0cmFuc3BhcmVudDohMCxhbHBoYVRlc3Q6bnVsbCE9dj92OjB9KSkpLCF3JiZDLmNyZWF0ZUVsZW1lbnQoVnIsVC5kZWZhdWx0KHtnZW9tZXRyeTpqcixsaW1pdDpudWxsIT1NP006MX0sayksQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7cHJlbXVsdGlwbGllZEFscGhhOiExLHRvbmVNYXBwZWQ6ITEsc2lkZTpSLkRvdWJsZVNpZGUscmVmOkIsbWFwOlcsdHJhbnNwYXJlbnQ6ITAsYWxwaGFUZXN0Om51bGwhPXY/djowfSksKG51bGwhPVM/UzpbMF0pLm1hcCgoKGUsdCk9PkMuY3JlYXRlRWxlbWVudChCcixULmRlZmF1bHQoe2tleTp0LHJlZjoxPT09KG51bGw9PVM/dm9pZCAwOlMubGVuZ3RoKT9WOm51bGwscG9zaXRpb246ZSxzY2FsZToxfSxrKSkpKSksZykpfSkpLEdyPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGN1cnZlOnR9LHIpPT57Y29uc3Rbbl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBSLlNjZW5lKSksW28saV09Qy51c2VTdGF0ZSgpLHM9Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3MuY3VycmVudD1uZXcgdS5GbG93KG4uY2hpbGRyZW5bMF0pLGkocy5jdXJyZW50Lm9iamVjdDNEKX0pLFtlXSksQy51c2VFZmZlY3QoKCgpPT57dmFyIGU7dCYmKG51bGw9PShlPXMuY3VycmVudCl8fGUudXBkYXRlQ3VydmUoMCx0KSl9KSxbdF0pLEMudXNlSW1wZXJhdGl2ZUhhbmRsZShyLCgoKT0+cy5jdXJyZW50KSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxhLmNyZWF0ZVBvcnRhbChlLG4pLG8mJkMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLHtvYmplY3Q6b30pKX0pKTtjbGFzcyBIciBleHRlbmRzIG4uTWVzaFBoeXNpY2FsTWF0ZXJpYWx7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSksdGhpcy5zZXRWYWx1ZXMoZSksdGhpcy5fdGltZT17dmFsdWU6MH0sdGhpcy5fZGlzdG9ydD17dmFsdWU6LjR9LHRoaXMuX3JhZGl1cz17dmFsdWU6MX19b25CZWZvcmVDb21waWxlKGUpe2UudW5pZm9ybXMudGltZT10aGlzLl90aW1lLGUudW5pZm9ybXMucmFkaXVzPXRoaXMuX3JhZGl1cyxlLnVuaWZvcm1zLmRpc3RvcnQ9dGhpcy5fZGlzdG9ydCxlLnZlcnRleFNoYWRlcj1gXFxuICAgICAgdW5pZm9ybSBmbG9hdCB0aW1lO1xcbiAgICAgIHVuaWZvcm0gZmxvYXQgcmFkaXVzO1xcbiAgICAgIHVuaWZvcm0gZmxvYXQgZGlzdG9ydDtcXG4gICAgICAjZGVmaW5lIEdMU0xJRlkgMVxcbnZlYzMgbW9kMjg5KHZlYzMgeCl7cmV0dXJuIHgtZmxvb3IoeCooMS4wLzI4OS4wKSkqMjg5LjA7fXZlYzQgbW9kMjg5KHZlYzQgeCl7cmV0dXJuIHgtZmxvb3IoeCooMS4wLzI4OS4wKSkqMjg5LjA7fXZlYzQgcGVybXV0ZSh2ZWM0IHgpe3JldHVybiBtb2QyODkoKCh4KjM0LjApKzEuMCkqeCk7fXZlYzQgdGF5bG9ySW52U3FydCh2ZWM0IHIpe3JldHVybiAxLjc5Mjg0MjkxNDAwMTU5LTAuODUzNzM0NzIwOTUzMTQqcjt9ZmxvYXQgc25vaXNlKHZlYzMgdil7Y29uc3QgdmVjMiBDPXZlYzIoMS4wLzYuMCwxLjAvMy4wKTtjb25zdCB2ZWM0IEQ9dmVjNCgwLjAsMC41LDEuMCwyLjApO3ZlYzMgaT1mbG9vcih2K2RvdCh2LEMueXl5KSk7dmVjMyB4MD12LWkrZG90KGksQy54eHgpO3ZlYzMgZz1zdGVwKHgwLnl6eCx4MC54eXopO3ZlYzMgbD0xLjAtZzt2ZWMzIGkxPW1pbihnLnh5eixsLnp4eSk7dmVjMyBpMj1tYXgoZy54eXosbC56eHkpO3ZlYzMgeDE9eDAtaTErQy54eHg7dmVjMyB4Mj14MC1pMitDLnl5eTt2ZWMzIHgzPXgwLUQueXl5O2k9bW9kMjg5KGkpO3ZlYzQgcD1wZXJtdXRlKHBlcm11dGUocGVybXV0ZShpLnordmVjNCgwLjAsaTEueixpMi56LDEuMCkpK2kueSt2ZWM0KDAuMCxpMS55LGkyLnksMS4wKSkraS54K3ZlYzQoMC4wLGkxLngsaTIueCwxLjApKTtmbG9hdCBuXz0wLjE0Mjg1NzE0Mjg1Nzt2ZWMzIG5zPW5fKkQud3l6LUQueHp4O3ZlYzQgaj1wLTQ5LjAqZmxvb3IocCpucy56Km5zLnopO3ZlYzQgeF89Zmxvb3Ioaipucy56KTt2ZWM0IHlfPWZsb29yKGotNy4wKnhfKTt2ZWM0IHg9eF8qbnMueCtucy55eXl5O3ZlYzQgeT15Xypucy54K25zLnl5eXk7dmVjNCBoPTEuMC1hYnMoeCktYWJzKHkpO3ZlYzQgYjA9dmVjNCh4Lnh5LHkueHkpO3ZlYzQgYjE9dmVjNCh4Lnp3LHkuencpO3ZlYzQgczA9Zmxvb3IoYjApKjIuMCsxLjA7dmVjNCBzMT1mbG9vcihiMSkqMi4wKzEuMDt2ZWM0IHNoPS1zdGVwKGgsdmVjNCgwLjApKTt2ZWM0IGEwPWIwLnh6eXcrczAueHp5dypzaC54eHl5O3ZlYzQgYTE9YjEueHp5dytzMS54enl3KnNoLnp6d3c7dmVjMyBwMD12ZWMzKGEwLnh5LGgueCk7dmVjMyBwMT12ZWMzKGEwLnp3LGgueSk7dmVjMyBwMj12ZWMzKGExLnh5LGgueik7dmVjMyBwMz12ZWMzKGExLnp3LGgudyk7dmVjNCBub3JtPXRheWxvckludlNxcnQodmVjNChkb3QocDAscDApLGRvdChwMSxwMSksZG90KHAyLHAyKSxkb3QocDMscDMpKSk7cDAqPW5vcm0ueDtwMSo9bm9ybS55O3AyKj1ub3JtLno7cDMqPW5vcm0udzt2ZWM0IG09bWF4KDAuNi12ZWM0KGRvdCh4MCx4MCksZG90KHgxLHgxKSxkb3QoeDIseDIpLGRvdCh4Myx4MykpLDAuMCk7bT1tKm07cmV0dXJuIDQyLjAqZG90KG0qbSx2ZWM0KGRvdChwMCx4MCksZG90KHAxLHgxKSxkb3QocDIseDIpLGRvdChwMyx4MykpKTt9XFxuICAgICAgJHtlLnZlcnRleFNoYWRlcn1cXG4gICAgYCxlLnZlcnRleFNoYWRlcj1lLnZlcnRleFNoYWRlci5yZXBsYWNlKFwiI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cIixcIlxcbiAgICAgICAgZmxvYXQgdXBkYXRlVGltZSA9IHRpbWUgLyA1MC4wO1xcbiAgICAgICAgZmxvYXQgbm9pc2UgPSBzbm9pc2UodmVjMyhwb3NpdGlvbiAvIDIuMCArIHVwZGF0ZVRpbWUgKiA1LjApKTtcXG4gICAgICAgIHZlYzMgdHJhbnNmb3JtZWQgPSB2ZWMzKHBvc2l0aW9uICogKG5vaXNlICogcG93KGRpc3RvcnQsIDIuMCkgKyByYWRpdXMpKTtcXG4gICAgICAgIFwiKX1nZXQgdGltZSgpe3JldHVybiB0aGlzLl90aW1lLnZhbHVlfXNldCB0aW1lKGUpe3RoaXMuX3RpbWUudmFsdWU9ZX1nZXQgZGlzdG9ydCgpe3JldHVybiB0aGlzLl9kaXN0b3J0LnZhbHVlfXNldCBkaXN0b3J0KGUpe3RoaXMuX2Rpc3RvcnQudmFsdWU9ZX1nZXQgcmFkaXVzKCl7cmV0dXJuIHRoaXMuX3JhZGl1cy52YWx1ZX1zZXQgcmFkaXVzKGUpe3RoaXMuX3JhZGl1cy52YWx1ZT1lfX1jb25zdCAkcj1DLmZvcndhcmRSZWYoKCh7c3BlZWQ6ZT0xLC4uLnR9LHIpPT57Y29uc3Rbbl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBIcikpO3JldHVybiBhLnVzZUZyYW1lKCh0PT5uJiYobi50aW1lPXQuY2xvY2suZWxhcHNlZFRpbWUqZSkpKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe29iamVjdDpuLHJlZjpyLGF0dGFjaDpcIm1hdGVyaWFsXCJ9LHQpKX0pKTtjbGFzcyBxciBleHRlbmRzIG4uTWVzaFN0YW5kYXJkTWF0ZXJpYWx7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSksdGhpcy5zZXRWYWx1ZXMoZSksdGhpcy5fdGltZT17dmFsdWU6MH0sdGhpcy5fZmFjdG9yPXt2YWx1ZToxfX1vbkJlZm9yZUNvbXBpbGUoZSl7ZS51bmlmb3Jtcy50aW1lPXRoaXMuX3RpbWUsZS51bmlmb3Jtcy5mYWN0b3I9dGhpcy5fZmFjdG9yLGUudmVydGV4U2hhZGVyPWBcXG4gICAgICB1bmlmb3JtIGZsb2F0IHRpbWU7XFxuICAgICAgdW5pZm9ybSBmbG9hdCBmYWN0b3I7XFxuICAgICAgJHtlLnZlcnRleFNoYWRlcn1cXG4gICAgYCxlLnZlcnRleFNoYWRlcj1lLnZlcnRleFNoYWRlci5yZXBsYWNlKFwiI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cIixcImZsb2F0IHRoZXRhID0gc2luKCB0aW1lICsgcG9zaXRpb24ueSApIC8gMi4wICogZmFjdG9yO1xcbiAgICAgICAgZmxvYXQgYyA9IGNvcyggdGhldGEgKTtcXG4gICAgICAgIGZsb2F0IHMgPSBzaW4oIHRoZXRhICk7XFxuICAgICAgICBtYXQzIG0gPSBtYXQzKCBjLCAwLCBzLCAwLCAxLCAwLCAtcywgMCwgYyApO1xcbiAgICAgICAgdmVjMyB0cmFuc2Zvcm1lZCA9IHZlYzMoIHBvc2l0aW9uICkgKiBtO1xcbiAgICAgICAgdk5vcm1hbCA9IHZOb3JtYWwgKiBtO1wiKX1nZXQgdGltZSgpe3JldHVybiB0aGlzLl90aW1lLnZhbHVlfXNldCB0aW1lKGUpe3RoaXMuX3RpbWUudmFsdWU9ZX1nZXQgZmFjdG9yKCl7cmV0dXJuIHRoaXMuX2ZhY3Rvci52YWx1ZX1zZXQgZmFjdG9yKGUpe3RoaXMuX2ZhY3Rvci52YWx1ZT1lfX1jb25zdCBYcj1DLmZvcndhcmRSZWYoKCh7c3BlZWQ6ZT0xLC4uLnR9LHIpPT57Y29uc3Rbbl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBxcikpO3JldHVybiBhLnVzZUZyYW1lKCh0PT5uJiYobi50aW1lPXQuY2xvY2suZWxhcHNlZFRpbWUqZSkpKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe29iamVjdDpuLHJlZjpyLGF0dGFjaDpcIm1hdGVyaWFsXCJ9LHQpKX0pKTtjbGFzcyBaciBleHRlbmRzIFIuU2hhZGVyTWF0ZXJpYWx7Y29uc3RydWN0b3IoZT1uZXcgUi5WZWN0b3IyKXtzdXBlcih7dW5pZm9ybXM6e2lucHV0QnVmZmVyOm5ldyBSLlVuaWZvcm0obnVsbCksZGVwdGhCdWZmZXI6bmV3IFIuVW5pZm9ybShudWxsKSxyZXNvbHV0aW9uOm5ldyBSLlVuaWZvcm0obmV3IFIuVmVjdG9yMiksdGV4ZWxTaXplOm5ldyBSLlVuaWZvcm0obmV3IFIuVmVjdG9yMiksaGFsZlRleGVsU2l6ZTpuZXcgUi5Vbmlmb3JtKG5ldyBSLlZlY3RvcjIpLGtlcm5lbDpuZXcgUi5Vbmlmb3JtKDApLHNjYWxlOm5ldyBSLlVuaWZvcm0oMSksY2FtZXJhTmVhcjpuZXcgUi5Vbmlmb3JtKDApLGNhbWVyYUZhcjpuZXcgUi5Vbmlmb3JtKDEpLG1pbkRlcHRoVGhyZXNob2xkOm5ldyBSLlVuaWZvcm0oMCksbWF4RGVwdGhUaHJlc2hvbGQ6bmV3IFIuVW5pZm9ybSgxKSxkZXB0aFNjYWxlOm5ldyBSLlVuaWZvcm0oMCksZGVwdGhUb0JsdXJSYXRpb0JpYXM6bmV3IFIuVW5pZm9ybSguMjUpfSxmcmFnbWVudFNoYWRlcjpgI2luY2x1ZGUgPGNvbW1vbj5cXG4gICAgICAgICNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD4gICAgICBcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGlucHV0QnVmZmVyO1xcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgZGVwdGhCdWZmZXI7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGNhbWVyYUZhcjtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWluRGVwdGhUaHJlc2hvbGQ7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IG1heERlcHRoVGhyZXNob2xkO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFNjYWxlO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFRvQmx1clJhdGlvQmlhcztcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2MDtcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXYxO1xcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjI7XFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2MztcXG5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgZmxvYXQgZGVwdGhGYWN0b3IgPSAwLjA7XFxuICAgICAgICAgIFxcbiAgICAgICAgICAjaWZkZWYgVVNFX0RFUFRIXFxuICAgICAgICAgICAgdmVjNCBkZXB0aCA9IHRleHR1cmUyRChkZXB0aEJ1ZmZlciwgdlV2KTtcXG4gICAgICAgICAgICBkZXB0aEZhY3RvciA9IHNtb290aHN0ZXAobWluRGVwdGhUaHJlc2hvbGQsIG1heERlcHRoVGhyZXNob2xkLCAxLjAtKGRlcHRoLnIgKiBkZXB0aC5hKSk7XFxuICAgICAgICAgICAgZGVwdGhGYWN0b3IgKj0gZGVwdGhTY2FsZTtcXG4gICAgICAgICAgICBkZXB0aEZhY3RvciA9IG1heCgwLjAsIG1pbigxLjAsIGRlcHRoRmFjdG9yICsgMC4yNSkpO1xcbiAgICAgICAgICAjZW5kaWZcXG4gICAgICAgICAgXFxuICAgICAgICAgIHZlYzQgc3VtID0gdGV4dHVyZTJEKGlucHV0QnVmZmVyLCBtaXgodlV2MCwgdlV2LCBkZXB0aEZhY3RvcikpO1xcbiAgICAgICAgICBzdW0gKz0gdGV4dHVyZTJEKGlucHV0QnVmZmVyLCBtaXgodlV2MSwgdlV2LCBkZXB0aEZhY3RvcikpO1xcbiAgICAgICAgICBzdW0gKz0gdGV4dHVyZTJEKGlucHV0QnVmZmVyLCBtaXgodlV2MiwgdlV2LCBkZXB0aEZhY3RvcikpO1xcbiAgICAgICAgICBzdW0gKz0gdGV4dHVyZTJEKGlucHV0QnVmZmVyLCBtaXgodlV2MywgdlV2LCBkZXB0aEZhY3RvcikpO1xcbiAgICAgICAgICBnbF9GcmFnQ29sb3IgPSBzdW0gKiAwLjI1IDtcXG5cXG4gICAgICAgICAgI2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cXG4gICAgICAgICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcbiAgICAgICAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgICAgICAgfWAsdmVydGV4U2hhZGVyOlwidW5pZm9ybSB2ZWMyIHRleGVsU2l6ZTtcXG4gICAgICAgIHVuaWZvcm0gdmVjMiBoYWxmVGV4ZWxTaXplO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBrZXJuZWw7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IHNjYWxlO1xcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXYwO1xcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjE7XFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2MjtcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXYzO1xcblxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICB2ZWMyIHV2ID0gcG9zaXRpb24ueHkgKiAwLjUgKyAwLjU7XFxuICAgICAgICAgIHZVdiA9IHV2O1xcblxcbiAgICAgICAgICB2ZWMyIGRVdiA9ICh0ZXhlbFNpemUgKiB2ZWMyKGtlcm5lbCkgKyBoYWxmVGV4ZWxTaXplKSAqIHNjYWxlO1xcbiAgICAgICAgICB2VXYwID0gdmVjMih1di54IC0gZFV2LngsIHV2LnkgKyBkVXYueSk7XFxuICAgICAgICAgIHZVdjEgPSB2ZWMyKHV2LnggKyBkVXYueCwgdXYueSArIGRVdi55KTtcXG4gICAgICAgICAgdlV2MiA9IHZlYzIodXYueCArIGRVdi54LCB1di55IC0gZFV2LnkpO1xcbiAgICAgICAgICB2VXYzID0gdmVjMih1di54IC0gZFV2LngsIHV2LnkgLSBkVXYueSk7XFxuXFxuICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbi54eSwgMS4wLCAxLjApO1xcbiAgICAgICAgfVwiLGJsZW5kaW5nOlIuTm9CbGVuZGluZyxkZXB0aFdyaXRlOiExLGRlcHRoVGVzdDohMX0pLHRoaXMudG9uZU1hcHBlZD0hMSx0aGlzLnNldFRleGVsU2l6ZShlLngsZS55KSx0aGlzLmtlcm5lbD1uZXcgRmxvYXQzMkFycmF5KFswLDEsMiwyLDNdKX1zZXRUZXhlbFNpemUoZSx0KXt0aGlzLnVuaWZvcm1zLnRleGVsU2l6ZS52YWx1ZS5zZXQoZSx0KSx0aGlzLnVuaWZvcm1zLmhhbGZUZXhlbFNpemUudmFsdWUuc2V0KGUsdCkubXVsdGlwbHlTY2FsYXIoLjUpfXNldFJlc29sdXRpb24oZSl7dGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLmNvcHkoZSl9fWNsYXNzIFlye2NvbnN0cnVjdG9yKHtnbDplLHJlc29sdXRpb246dCx3aWR0aDpyPTUwMCxoZWlnaHQ6YT01MDAsbWluRGVwdGhUaHJlc2hvbGQ6bz0wLG1heERlcHRoVGhyZXNob2xkOmk9MSxkZXB0aFNjYWxlOnM9MCxkZXB0aFRvQmx1clJhdGlvQmlhczpsPS4yNX0pe3RoaXMucmVuZGVyVG9TY3JlZW49ITEsdGhpcy5yZW5kZXJUYXJnZXRBPW5ldyBuLldlYkdMUmVuZGVyVGFyZ2V0KHQsdCx7bWluRmlsdGVyOm4uTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpuLkxpbmVhckZpbHRlcixzdGVuY2lsQnVmZmVyOiExLGRlcHRoQnVmZmVyOiExLHR5cGU6bi5IYWxmRmxvYXRUeXBlfSksdGhpcy5yZW5kZXJUYXJnZXRCPXRoaXMucmVuZGVyVGFyZ2V0QS5jbG9uZSgpLHRoaXMuY29udm9sdXRpb25NYXRlcmlhbD1uZXcgWnIsdGhpcy5jb252b2x1dGlvbk1hdGVyaWFsLnNldFRleGVsU2l6ZSgxL3IsMS9hKSx0aGlzLmNvbnZvbHV0aW9uTWF0ZXJpYWwuc2V0UmVzb2x1dGlvbihuZXcgbi5WZWN0b3IyKHIsYSkpLHRoaXMuc2NlbmU9bmV3IG4uU2NlbmUsdGhpcy5jYW1lcmE9bmV3IG4uQ2FtZXJhLHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5taW5EZXB0aFRocmVzaG9sZC52YWx1ZT1vLHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5tYXhEZXB0aFRocmVzaG9sZC52YWx1ZT1pLHRoaXMuY29udm9sdXRpb25NYXRlcmlhbC51bmlmb3Jtcy5kZXB0aFNjYWxlLnZhbHVlPXMsdGhpcy5jb252b2x1dGlvbk1hdGVyaWFsLnVuaWZvcm1zLmRlcHRoVG9CbHVyUmF0aW9CaWFzLnZhbHVlPWwsdGhpcy5jb252b2x1dGlvbk1hdGVyaWFsLmRlZmluZXMuVVNFX0RFUFRIPXM+MDtjb25zdCBjPW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDAsMywtMSwwLC0xLDMsMF0pLHU9bmV3IEZsb2F0MzJBcnJheShbMCwwLDIsMCwwLDJdKSxkPW5ldyBuLkJ1ZmZlckdlb21ldHJ5O2Quc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgbi5CdWZmZXJBdHRyaWJ1dGUoYywzKSksZC5zZXRBdHRyaWJ1dGUoXCJ1dlwiLG5ldyBuLkJ1ZmZlckF0dHJpYnV0ZSh1LDIpKSx0aGlzLnNjcmVlbj1uZXcgbi5NZXNoKGQsdGhpcy5jb252b2x1dGlvbk1hdGVyaWFsKSx0aGlzLnNjcmVlbi5mcnVzdHVtQ3VsbGVkPSExLHRoaXMuc2NlbmUuYWRkKHRoaXMuc2NyZWVuKX1yZW5kZXIoZSx0LHIpe2NvbnN0IG49dGhpcy5zY2VuZSxhPXRoaXMuY2FtZXJhLG89dGhpcy5yZW5kZXJUYXJnZXRBLGk9dGhpcy5yZW5kZXJUYXJnZXRCO2xldCBzPXRoaXMuY29udm9sdXRpb25NYXRlcmlhbCxsPXMudW5pZm9ybXM7bC5kZXB0aEJ1ZmZlci52YWx1ZT10LmRlcHRoVGV4dHVyZTtjb25zdCBjPXMua2VybmVsO2xldCB1LGQsbSxmPXQ7Zm9yKGQ9MCxtPWMubGVuZ3RoLTE7ZDxtOysrZCl1PTEmZD9pOm8sbC5rZXJuZWwudmFsdWU9Y1tkXSxsLmlucHV0QnVmZmVyLnZhbHVlPWYudGV4dHVyZSxlLnNldFJlbmRlclRhcmdldCh1KSxlLnJlbmRlcihuLGEpLGY9dTtsLmtlcm5lbC52YWx1ZT1jW2RdLGwuaW5wdXRCdWZmZXIudmFsdWU9Zi50ZXh0dXJlLGUuc2V0UmVuZGVyVGFyZ2V0KHRoaXMucmVuZGVyVG9TY3JlZW4/bnVsbDpyKSxlLnJlbmRlcihuLGEpfX1jbGFzcyBRciBleHRlbmRzIG4uTWVzaFN0YW5kYXJkTWF0ZXJpYWx7Y29uc3RydWN0b3IoZT17fSl7c3VwZXIoZSksdGhpcy5fdERlcHRoPXt2YWx1ZTpudWxsfSx0aGlzLl9kaXN0b3J0aW9uTWFwPXt2YWx1ZTpudWxsfSx0aGlzLl90RGlmZnVzZT17dmFsdWU6bnVsbH0sdGhpcy5fdERpZmZ1c2VCbHVyPXt2YWx1ZTpudWxsfSx0aGlzLl90ZXh0dXJlTWF0cml4PXt2YWx1ZTpudWxsfSx0aGlzLl9oYXNCbHVyPXt2YWx1ZTohMX0sdGhpcy5fbWlycm9yPXt2YWx1ZTowfSx0aGlzLl9taXhCbHVyPXt2YWx1ZTowfSx0aGlzLl9ibHVyU3RyZW5ndGg9e3ZhbHVlOi41fSx0aGlzLl9taW5EZXB0aFRocmVzaG9sZD17dmFsdWU6Ljl9LHRoaXMuX21heERlcHRoVGhyZXNob2xkPXt2YWx1ZToxfSx0aGlzLl9kZXB0aFNjYWxlPXt2YWx1ZTowfSx0aGlzLl9kZXB0aFRvQmx1clJhdGlvQmlhcz17dmFsdWU6LjI1fSx0aGlzLl9kaXN0b3J0aW9uPXt2YWx1ZToxfSx0aGlzLl9taXhDb250cmFzdD17dmFsdWU6MX0sdGhpcy5zZXRWYWx1ZXMoZSl9b25CZWZvcmVDb21waWxlKGUpe3ZhciB0O251bGwhPSh0PWUuZGVmaW5lcykmJnQuVVNFX1VWfHwoZS5kZWZpbmVzLlVTRV9VVj1cIlwiKSxlLnVuaWZvcm1zLmhhc0JsdXI9dGhpcy5faGFzQmx1cixlLnVuaWZvcm1zLnREaWZmdXNlPXRoaXMuX3REaWZmdXNlLGUudW5pZm9ybXMudERlcHRoPXRoaXMuX3REZXB0aCxlLnVuaWZvcm1zLmRpc3RvcnRpb25NYXA9dGhpcy5fZGlzdG9ydGlvbk1hcCxlLnVuaWZvcm1zLnREaWZmdXNlQmx1cj10aGlzLl90RGlmZnVzZUJsdXIsZS51bmlmb3Jtcy50ZXh0dXJlTWF0cml4PXRoaXMuX3RleHR1cmVNYXRyaXgsZS51bmlmb3Jtcy5taXJyb3I9dGhpcy5fbWlycm9yLGUudW5pZm9ybXMubWl4Qmx1cj10aGlzLl9taXhCbHVyLGUudW5pZm9ybXMubWl4U3RyZW5ndGg9dGhpcy5fYmx1clN0cmVuZ3RoLGUudW5pZm9ybXMubWluRGVwdGhUaHJlc2hvbGQ9dGhpcy5fbWluRGVwdGhUaHJlc2hvbGQsZS51bmlmb3Jtcy5tYXhEZXB0aFRocmVzaG9sZD10aGlzLl9tYXhEZXB0aFRocmVzaG9sZCxlLnVuaWZvcm1zLmRlcHRoU2NhbGU9dGhpcy5fZGVwdGhTY2FsZSxlLnVuaWZvcm1zLmRlcHRoVG9CbHVyUmF0aW9CaWFzPXRoaXMuX2RlcHRoVG9CbHVyUmF0aW9CaWFzLGUudW5pZm9ybXMuZGlzdG9ydGlvbj10aGlzLl9kaXN0b3J0aW9uLGUudW5pZm9ybXMubWl4Q29udHJhc3Q9dGhpcy5fbWl4Q29udHJhc3QsZS52ZXJ0ZXhTaGFkZXI9YFxcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHRleHR1cmVNYXRyaXg7XFxuICAgICAgICB2YXJ5aW5nIHZlYzQgbXlfdlV2O1xcbiAgICAgICR7ZS52ZXJ0ZXhTaGFkZXJ9YCxlLnZlcnRleFNoYWRlcj1lLnZlcnRleFNoYWRlci5yZXBsYWNlKFwiI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlwiLFwiI2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxcbiAgICAgICAgbXlfdlV2ID0gdGV4dHVyZU1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcIiksZS5mcmFnbWVudFNoYWRlcj1gXFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0RGlmZnVzZTtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHREaWZmdXNlQmx1cjtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHREZXB0aDtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGRpc3RvcnRpb25NYXA7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGRpc3RvcnRpb247XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XFxuXFx0XFx0XFx0ICB1bmlmb3JtIGZsb2F0IGNhbWVyYUZhcjtcXG4gICAgICAgIHVuaWZvcm0gYm9vbCBoYXNCbHVyO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBtaXhCbHVyO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBtaXJyb3I7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IG1peFN0cmVuZ3RoO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBtaW5EZXB0aFRocmVzaG9sZDtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWF4RGVwdGhUaHJlc2hvbGQ7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IG1peENvbnRyYXN0O1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFNjYWxlO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkZXB0aFRvQmx1clJhdGlvQmlhcztcXG4gICAgICAgIHZhcnlpbmcgdmVjNCBteV92VXY7XFxuICAgICAgICAke2UuZnJhZ21lbnRTaGFkZXJ9YCxlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cIixcIiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cXG5cXG4gICAgICBmbG9hdCBkaXN0b3J0aW9uRmFjdG9yID0gMC4wO1xcbiAgICAgICNpZmRlZiBVU0VfRElTVE9SVElPTlxcbiAgICAgICAgZGlzdG9ydGlvbkZhY3RvciA9IHRleHR1cmUyRChkaXN0b3J0aW9uTWFwLCB2VXYpLnIgKiBkaXN0b3J0aW9uO1xcbiAgICAgICNlbmRpZlxcblxcbiAgICAgIHZlYzQgbmV3X3ZVdiA9IG15X3ZVdjtcXG4gICAgICBuZXdfdlV2LnggKz0gZGlzdG9ydGlvbkZhY3RvcjtcXG4gICAgICBuZXdfdlV2LnkgKz0gZGlzdG9ydGlvbkZhY3RvcjtcXG5cXG4gICAgICB2ZWM0IGJhc2UgPSB0ZXh0dXJlMkRQcm9qKHREaWZmdXNlLCBuZXdfdlV2KTtcXG4gICAgICB2ZWM0IGJsdXIgPSB0ZXh0dXJlMkRQcm9qKHREaWZmdXNlQmx1ciwgbmV3X3ZVdik7XFxuXFxuICAgICAgdmVjNCBtZXJnZSA9IGJhc2U7XFxuXFxuICAgICAgI2lmZGVmIFVTRV9OT1JNQUxNQVBcXG4gICAgICAgIHZlYzIgbm9ybWFsX3V2ID0gdmVjMigwLjApO1xcbiAgICAgICAgdmVjNCBub3JtYWxDb2xvciA9IHRleHR1cmUyRChub3JtYWxNYXAsIHZVdiAqIG5vcm1hbFNjYWxlKTtcXG4gICAgICAgIHZlYzMgbXlfbm9ybWFsID0gbm9ybWFsaXplKCB2ZWMzKCBub3JtYWxDb2xvci5yICogMi4wIC0gMS4wLCBub3JtYWxDb2xvci5iLCAgbm9ybWFsQ29sb3IuZyAqIDIuMCAtIDEuMCApICk7XFxuICAgICAgICB2ZWMzIGNvb3JkID0gbmV3X3ZVdi54eXogLyBuZXdfdlV2Lnc7XFxuICAgICAgICBub3JtYWxfdXYgPSBjb29yZC54eSArIGNvb3JkLnogKiBteV9ub3JtYWwueHogKiAwLjA1O1xcbiAgICAgICAgdmVjNCBiYXNlX25vcm1hbCA9IHRleHR1cmUyRCh0RGlmZnVzZSwgbm9ybWFsX3V2KTtcXG4gICAgICAgIHZlYzQgYmx1cl9ub3JtYWwgPSB0ZXh0dXJlMkQodERpZmZ1c2VCbHVyLCBub3JtYWxfdXYpO1xcbiAgICAgICAgbWVyZ2UgPSBiYXNlX25vcm1hbDtcXG4gICAgICAgIGJsdXIgPSBibHVyX25vcm1hbDtcXG4gICAgICAjZW5kaWZcXG5cXG4gICAgICBmbG9hdCBkZXB0aEZhY3RvciA9IDAuMDAwMTtcXG4gICAgICBmbG9hdCBibHVyRmFjdG9yID0gMC4wO1xcblxcbiAgICAgICNpZmRlZiBVU0VfREVQVEhcXG4gICAgICAgIHZlYzQgZGVwdGggPSB0ZXh0dXJlMkRQcm9qKHREZXB0aCwgbmV3X3ZVdik7XFxuICAgICAgICBkZXB0aEZhY3RvciA9IHNtb290aHN0ZXAobWluRGVwdGhUaHJlc2hvbGQsIG1heERlcHRoVGhyZXNob2xkLCAxLjAtKGRlcHRoLnIgKiBkZXB0aC5hKSk7XFxuICAgICAgICBkZXB0aEZhY3RvciAqPSBkZXB0aFNjYWxlO1xcbiAgICAgICAgZGVwdGhGYWN0b3IgPSBtYXgoMC4wMDAxLCBtaW4oMS4wLCBkZXB0aEZhY3RvcikpO1xcblxcbiAgICAgICAgI2lmZGVmIFVTRV9CTFVSXFxuICAgICAgICAgIGJsdXIgPSBibHVyICogbWluKDEuMCwgZGVwdGhGYWN0b3IgKyBkZXB0aFRvQmx1clJhdGlvQmlhcyk7XFxuICAgICAgICAgIG1lcmdlID0gbWVyZ2UgKiBtaW4oMS4wLCBkZXB0aEZhY3RvciArIDAuNSk7XFxuICAgICAgICAjZWxzZVxcbiAgICAgICAgICBtZXJnZSA9IG1lcmdlICogZGVwdGhGYWN0b3I7XFxuICAgICAgICAjZW5kaWZcXG5cXG4gICAgICAjZW5kaWZcXG5cXG4gICAgICBmbG9hdCByZWZsZWN0b3JSb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7XFxuICAgICAgI2lmZGVmIFVTRV9ST1VHSE5FU1NNQVBcXG4gICAgICAgIHZlYzQgcmVmbGVjdG9yVGV4ZWxSb3VnaG5lc3MgPSB0ZXh0dXJlMkQoIHJvdWdobmVzc01hcCwgdlV2ICk7XFxuICAgICAgICByZWZsZWN0b3JSb3VnaG5lc3NGYWN0b3IgKj0gcmVmbGVjdG9yVGV4ZWxSb3VnaG5lc3MuZztcXG4gICAgICAjZW5kaWZcXG5cXG4gICAgICAjaWZkZWYgVVNFX0JMVVJcXG4gICAgICAgIGJsdXJGYWN0b3IgPSBtaW4oMS4wLCBtaXhCbHVyICogcmVmbGVjdG9yUm91Z2huZXNzRmFjdG9yKTtcXG4gICAgICAgIG1lcmdlID0gbWl4KG1lcmdlLCBibHVyLCBibHVyRmFjdG9yKTtcXG4gICAgICAjZW5kaWZcXG5cXG4gICAgICB2ZWM0IG5ld01lcmdlID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1xcbiAgICAgIG5ld01lcmdlLnIgPSAobWVyZ2UuciAtIDAuNSkgKiBtaXhDb250cmFzdCArIDAuNTtcXG4gICAgICBuZXdNZXJnZS5nID0gKG1lcmdlLmcgLSAwLjUpICogbWl4Q29udHJhc3QgKyAwLjU7XFxuICAgICAgbmV3TWVyZ2UuYiA9IChtZXJnZS5iIC0gMC41KSAqIG1peENvbnRyYXN0ICsgMC41O1xcblxcbiAgICAgIGRpZmZ1c2VDb2xvci5yZ2IgPSBkaWZmdXNlQ29sb3IucmdiICogKCgxLjAgLSBtaW4oMS4wLCBtaXJyb3IpKSArIG5ld01lcmdlLnJnYiAqIG1peFN0cmVuZ3RoKTtcXG4gICAgICBcIil9Z2V0IHREaWZmdXNlKCl7cmV0dXJuIHRoaXMuX3REaWZmdXNlLnZhbHVlfXNldCB0RGlmZnVzZShlKXt0aGlzLl90RGlmZnVzZS52YWx1ZT1lfWdldCB0RGVwdGgoKXtyZXR1cm4gdGhpcy5fdERlcHRoLnZhbHVlfXNldCB0RGVwdGgoZSl7dGhpcy5fdERlcHRoLnZhbHVlPWV9Z2V0IGRpc3RvcnRpb25NYXAoKXtyZXR1cm4gdGhpcy5fZGlzdG9ydGlvbk1hcC52YWx1ZX1zZXQgZGlzdG9ydGlvbk1hcChlKXt0aGlzLl9kaXN0b3J0aW9uTWFwLnZhbHVlPWV9Z2V0IHREaWZmdXNlQmx1cigpe3JldHVybiB0aGlzLl90RGlmZnVzZUJsdXIudmFsdWV9c2V0IHREaWZmdXNlQmx1cihlKXt0aGlzLl90RGlmZnVzZUJsdXIudmFsdWU9ZX1nZXQgdGV4dHVyZU1hdHJpeCgpe3JldHVybiB0aGlzLl90ZXh0dXJlTWF0cml4LnZhbHVlfXNldCB0ZXh0dXJlTWF0cml4KGUpe3RoaXMuX3RleHR1cmVNYXRyaXgudmFsdWU9ZX1nZXQgaGFzQmx1cigpe3JldHVybiB0aGlzLl9oYXNCbHVyLnZhbHVlfXNldCBoYXNCbHVyKGUpe3RoaXMuX2hhc0JsdXIudmFsdWU9ZX1nZXQgbWlycm9yKCl7cmV0dXJuIHRoaXMuX21pcnJvci52YWx1ZX1zZXQgbWlycm9yKGUpe3RoaXMuX21pcnJvci52YWx1ZT1lfWdldCBtaXhCbHVyKCl7cmV0dXJuIHRoaXMuX21peEJsdXIudmFsdWV9c2V0IG1peEJsdXIoZSl7dGhpcy5fbWl4Qmx1ci52YWx1ZT1lfWdldCBtaXhTdHJlbmd0aCgpe3JldHVybiB0aGlzLl9ibHVyU3RyZW5ndGgudmFsdWV9c2V0IG1peFN0cmVuZ3RoKGUpe3RoaXMuX2JsdXJTdHJlbmd0aC52YWx1ZT1lfWdldCBtaW5EZXB0aFRocmVzaG9sZCgpe3JldHVybiB0aGlzLl9taW5EZXB0aFRocmVzaG9sZC52YWx1ZX1zZXQgbWluRGVwdGhUaHJlc2hvbGQoZSl7dGhpcy5fbWluRGVwdGhUaHJlc2hvbGQudmFsdWU9ZX1nZXQgbWF4RGVwdGhUaHJlc2hvbGQoKXtyZXR1cm4gdGhpcy5fbWF4RGVwdGhUaHJlc2hvbGQudmFsdWV9c2V0IG1heERlcHRoVGhyZXNob2xkKGUpe3RoaXMuX21heERlcHRoVGhyZXNob2xkLnZhbHVlPWV9Z2V0IGRlcHRoU2NhbGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZS52YWx1ZX1zZXQgZGVwdGhTY2FsZShlKXt0aGlzLl9kZXB0aFNjYWxlLnZhbHVlPWV9Z2V0IGRlcHRoVG9CbHVyUmF0aW9CaWFzKCl7cmV0dXJuIHRoaXMuX2RlcHRoVG9CbHVyUmF0aW9CaWFzLnZhbHVlfXNldCBkZXB0aFRvQmx1clJhdGlvQmlhcyhlKXt0aGlzLl9kZXB0aFRvQmx1clJhdGlvQmlhcy52YWx1ZT1lfWdldCBkaXN0b3J0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3RvcnRpb24udmFsdWV9c2V0IGRpc3RvcnRpb24oZSl7dGhpcy5fZGlzdG9ydGlvbi52YWx1ZT1lfWdldCBtaXhDb250cmFzdCgpe3JldHVybiB0aGlzLl9taXhDb250cmFzdC52YWx1ZX1zZXQgbWl4Q29udHJhc3QoZSl7dGhpcy5fbWl4Q29udHJhc3QudmFsdWU9ZX19Y29uc3QgS3I9Qy5mb3J3YXJkUmVmKCgoe21peEJsdXI6ZT0wLG1peFN0cmVuZ3RoOnQ9MSxyZXNvbHV0aW9uOnI9MjU2LGJsdXI6bz1bMCwwXSxtaW5EZXB0aFRocmVzaG9sZDppPS45LG1heERlcHRoVGhyZXNob2xkOnM9MSxkZXB0aFNjYWxlOmw9MCxkZXB0aFRvQmx1clJhdGlvQmlhczpjPS4yNSxtaXJyb3I6dT0wLGRpc3RvcnRpb246ZD0xLG1peENvbnRyYXN0Om09MSxkaXN0b3J0aW9uTWFwOmYscmVmbGVjdG9yT2Zmc2V0OnA9MCwuLi5ofSx4KT0+e2EuZXh0ZW5kKHtNZXNoUmVmbGVjdG9yTWF0ZXJpYWxJbXBsOlFyfSk7Y29uc3QgeT1hLnVzZVRocmVlKCgoe2dsOmV9KT0+ZSkpLHY9YS51c2VUaHJlZSgoKHtjYW1lcmE6ZX0pPT5lKSksZz1hLnVzZVRocmVlKCgoe3NjZW5lOmV9KT0+ZSkpLHc9KG89QXJyYXkuaXNBcnJheShvKT9vOltvLG9dKVswXStvWzFdPjAsej1DLnVzZVJlZihudWxsKTtDLnVzZUltcGVyYXRpdmVIYW5kbGUoeCwoKCk9PnouY3VycmVudCksW10pO2NvbnN0W2JdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5QbGFuZSkpLFtFXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uVmVjdG9yMykpLFtNXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uVmVjdG9yMykpLFtTXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uVmVjdG9yMykpLFtQXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uTWF0cml4NCkpLFtSXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uVmVjdG9yMygwLDAsLTEpKSksW0RdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3I0KSksW0ZdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKSksW2tdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKSksW19dPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3I0KSksW0FdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5NYXRyaXg0KSksW0xdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5QZXJzcGVjdGl2ZUNhbWVyYSkpLEk9Qy51c2VDYWxsYmFjaygoKCk9Pnt2YXIgZTtjb25zdCB0PXouY3VycmVudC5wYXJlbnR8fChudWxsPT0oZT16LmN1cnJlbnQpP3ZvaWQgMDplLl9fcjNmLnBhcmVudCk7aWYoIXQpcmV0dXJuO2lmKE0uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHQubWF0cml4V29ybGQpLFMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHYubWF0cml4V29ybGQpLFAuZXh0cmFjdFJvdGF0aW9uKHQubWF0cml4V29ybGQpLEUuc2V0KDAsMCwxKSxFLmFwcGx5TWF0cml4NChQKSxNLmFkZFNjYWxlZFZlY3RvcihFLHApLEYuc3ViVmVjdG9ycyhNLFMpLEYuZG90KEUpPjApcmV0dXJuO0YucmVmbGVjdChFKS5uZWdhdGUoKSxGLmFkZChNKSxQLmV4dHJhY3RSb3RhdGlvbih2Lm1hdHJpeFdvcmxkKSxSLnNldCgwLDAsLTEpLFIuYXBwbHlNYXRyaXg0KFApLFIuYWRkKFMpLGsuc3ViVmVjdG9ycyhNLFIpLGsucmVmbGVjdChFKS5uZWdhdGUoKSxrLmFkZChNKSxMLnBvc2l0aW9uLmNvcHkoRiksTC51cC5zZXQoMCwxLDApLEwudXAuYXBwbHlNYXRyaXg0KFApLEwudXAucmVmbGVjdChFKSxMLmxvb2tBdChrKSxMLmZhcj12LmZhcixMLnVwZGF0ZU1hdHJpeFdvcmxkKCksTC5wcm9qZWN0aW9uTWF0cml4LmNvcHkodi5wcm9qZWN0aW9uTWF0cml4KSxBLnNldCguNSwwLDAsLjUsMCwuNSwwLC41LDAsMCwuNSwuNSwwLDAsMCwxKSxBLm11bHRpcGx5KEwucHJvamVjdGlvbk1hdHJpeCksQS5tdWx0aXBseShMLm1hdHJpeFdvcmxkSW52ZXJzZSksQS5tdWx0aXBseSh0Lm1hdHJpeFdvcmxkKSxiLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KEUsTSksYi5hcHBseU1hdHJpeDQoTC5tYXRyaXhXb3JsZEludmVyc2UpLEQuc2V0KGIubm9ybWFsLngsYi5ub3JtYWwueSxiLm5vcm1hbC56LGIuY29uc3RhbnQpO2NvbnN0IHI9TC5wcm9qZWN0aW9uTWF0cml4O18ueD0oTWF0aC5zaWduKEQueCkrci5lbGVtZW50c1s4XSkvci5lbGVtZW50c1swXSxfLnk9KE1hdGguc2lnbihELnkpK3IuZWxlbWVudHNbOV0pL3IuZWxlbWVudHNbNV0sXy56PS0xLF8udz0oMStyLmVsZW1lbnRzWzEwXSkvci5lbGVtZW50c1sxNF0sRC5tdWx0aXBseVNjYWxhcigyL0QuZG90KF8pKSxyLmVsZW1lbnRzWzJdPUQueCxyLmVsZW1lbnRzWzZdPUQueSxyLmVsZW1lbnRzWzEwXT1ELnorMSxyLmVsZW1lbnRzWzE0XT1ELnd9KSxbdixwXSksW0IsVixVLE9dPUMudXNlTWVtbygoKCk9Pntjb25zdCBhPXttaW5GaWx0ZXI6bi5MaW5lYXJGaWx0ZXIsbWFnRmlsdGVyOm4uTGluZWFyRmlsdGVyLHR5cGU6bi5IYWxmRmxvYXRUeXBlfSxwPW5ldyBuLldlYkdMUmVuZGVyVGFyZ2V0KHIscixhKTtwLmRlcHRoQnVmZmVyPSEwLHAuZGVwdGhUZXh0dXJlPW5ldyBuLkRlcHRoVGV4dHVyZShyLHIpLHAuZGVwdGhUZXh0dXJlLmZvcm1hdD1uLkRlcHRoRm9ybWF0LHAuZGVwdGhUZXh0dXJlLnR5cGU9bi5VbnNpZ25lZFNob3J0VHlwZTtjb25zdCBoPW5ldyBuLldlYkdMUmVuZGVyVGFyZ2V0KHIscixhKTtyZXR1cm5bcCxoLG5ldyBZcih7Z2w6eSxyZXNvbHV0aW9uOnIsd2lkdGg6b1swXSxoZWlnaHQ6b1sxXSxtaW5EZXB0aFRocmVzaG9sZDppLG1heERlcHRoVGhyZXNob2xkOnMsZGVwdGhTY2FsZTpsLGRlcHRoVG9CbHVyUmF0aW9CaWFzOmN9KSx7bWlycm9yOnUsdGV4dHVyZU1hdHJpeDpBLG1peEJsdXI6ZSx0RGlmZnVzZTpwLnRleHR1cmUsdERlcHRoOnAuZGVwdGhUZXh0dXJlLHREaWZmdXNlQmx1cjpoLnRleHR1cmUsaGFzQmx1cjp3LG1peFN0cmVuZ3RoOnQsbWluRGVwdGhUaHJlc2hvbGQ6aSxtYXhEZXB0aFRocmVzaG9sZDpzLGRlcHRoU2NhbGU6bCxkZXB0aFRvQmx1clJhdGlvQmlhczpjLGRpc3RvcnRpb246ZCxkaXN0b3J0aW9uTWFwOmYsbWl4Q29udHJhc3Q6bSxcImRlZmluZXMtVVNFX0JMVVJcIjp3P1wiXCI6dm9pZCAwLFwiZGVmaW5lcy1VU0VfREVQVEhcIjpsPjA/XCJcIjp2b2lkIDAsXCJkZWZpbmVzLVVTRV9ESVNUT1JUSU9OXCI6Zj9cIlwiOnZvaWQgMH1dfSksW3ksbyxBLHIsdSx3LGUsdCxpLHMsbCxjLGQsZixtXSk7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57dmFyIGU7Y29uc3QgdD16LmN1cnJlbnQucGFyZW50fHwobnVsbD09KGU9ei5jdXJyZW50KT92b2lkIDA6ZS5fX3IzZi5wYXJlbnQpO2lmKCF0KXJldHVybjt0LnZpc2libGU9ITE7Y29uc3Qgcj15LnhyLmVuYWJsZWQsbj15LnNoYWRvd01hcC5hdXRvVXBkYXRlO0koKSx5LnhyLmVuYWJsZWQ9ITEseS5zaGFkb3dNYXAuYXV0b1VwZGF0ZT0hMSx5LnNldFJlbmRlclRhcmdldChCKSx5LnN0YXRlLmJ1ZmZlcnMuZGVwdGguc2V0TWFzayghMCkseS5hdXRvQ2xlYXJ8fHkuY2xlYXIoKSx5LnJlbmRlcihnLEwpLHcmJlUucmVuZGVyKHksQixWKSx5LnhyLmVuYWJsZWQ9cix5LnNoYWRvd01hcC5hdXRvVXBkYXRlPW4sdC52aXNpYmxlPSEwLHkuc2V0UmVuZGVyVGFyZ2V0KG51bGwpfSkpLEMuY3JlYXRlRWxlbWVudChcIm1lc2hSZWZsZWN0b3JNYXRlcmlhbEltcGxcIixULmRlZmF1bHQoe2F0dGFjaDpcIm1hdGVyaWFsXCIsa2V5Olwia2V5XCIrT1tcImRlZmluZXMtVVNFX0JMVVJcIl0rT1tcImRlZmluZXMtVVNFX0RFUFRIXCJdK09bXCJkZWZpbmVzLVVTRV9ESVNUT1JUSU9OXCJdLHJlZjp6fSxPLGgpKX0pKSxKcj1UZSh7ZW52TWFwOm51bGwsYm91bmNlczozLGlvcjoyLjQsY29ycmVjdE1pcHM6ITAsYWJlcnJhdGlvblN0cmVuZ3RoOi4wMSxmcmVzbmVsOjAsYnZoOm5ldyB3Lk1lc2hCVkhVbmlmb3JtU3RydWN0LGNvbG9yOm5ldyBSLkNvbG9yKFwid2hpdGVcIiksb3BhY2l0eToxLHJlc29sdXRpb246bmV3IFIuVmVjdG9yMix2aWV3TWF0cml4SW52ZXJzZTpuZXcgUi5NYXRyaXg0LHByb2plY3Rpb25NYXRyaXhJbnZlcnNlOm5ldyBSLk1hdHJpeDR9LFwiXFxuICB1bmlmb3JtIG1hdDQgdmlld01hdHJpeEludmVyc2U7XFxuXFxuICB2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuICB2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG4gIHZhcnlpbmcgbWF0NCB2TW9kZWxNYXRyaXhJbnZlcnNlO1xcblxcbiAgI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxcblxcbiAgdm9pZCBtYWluKCkge1xcbiAgICAjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxcblxcbiAgICB2ZWM0IHRyYW5zZm9ybWVkTm9ybWFsID0gdmVjNChub3JtYWwsIDAuMCk7XFxuICAgIHZlYzQgdHJhbnNmb3JtZWRQb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDEuMCk7XFxuICAgICNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xcbiAgICAgIHRyYW5zZm9ybWVkTm9ybWFsID0gaW5zdGFuY2VNYXRyaXggKiB0cmFuc2Zvcm1lZE5vcm1hbDtcXG4gICAgICB0cmFuc2Zvcm1lZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB0cmFuc2Zvcm1lZFBvc2l0aW9uO1xcbiAgICAjZW5kaWZcXG5cXG4gICAgI2lmZGVmIFVTRV9JTlNUQU5DSU5HXFxuICAgICAgdk1vZGVsTWF0cml4SW52ZXJzZSA9IGludmVyc2UobW9kZWxNYXRyaXggKiBpbnN0YW5jZU1hdHJpeCk7XFxuICAgICNlbHNlXFxuICAgICAgdk1vZGVsTWF0cml4SW52ZXJzZSA9IGludmVyc2UobW9kZWxNYXRyaXgpO1xcbiAgICAjZW5kaWZcXG5cXG4gICAgdldvcmxkUG9zaXRpb24gPSAobW9kZWxNYXRyaXggKiB0cmFuc2Zvcm1lZFBvc2l0aW9uKS54eXo7XFxuICAgIHZOb3JtYWwgPSBub3JtYWxpemUoKHZpZXdNYXRyaXhJbnZlcnNlICogdmVjNChub3JtYWxNYXRyaXggKiB0cmFuc2Zvcm1lZE5vcm1hbC54eXosIDAuMCkpLnh5eik7XFxuICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHRyYW5zZm9ybWVkUG9zaXRpb247XFxuICB9XCIsYFxcbiAgI2RlZmluZSBFTlZNQVBfVFlQRV9DVUJFX1VWXFxuICBwcmVjaXNpb24gaGlnaHAgaXNhbXBsZXIyRDtcXG4gIHByZWNpc2lvbiBoaWdocCB1c2FtcGxlcjJEO1xcbiAgdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcbiAgdmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxuICB2YXJ5aW5nIG1hdDQgdk1vZGVsTWF0cml4SW52ZXJzZTtcXG5cXG4gICNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxcblxcbiAgI2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVNXFxuICAgIHVuaWZvcm0gc2FtcGxlckN1YmUgZW52TWFwO1xcbiAgI2Vsc2VcXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwO1xcbiAgI2VuZGlmXFxuXFxuICB1bmlmb3JtIGZsb2F0IGJvdW5jZXM7XFxuICAke3cuc2hhZGVyU3RydWN0c31cXG4gICR7dy5zaGFkZXJJbnRlcnNlY3RGdW5jdGlvbn1cXG4gIHVuaWZvcm0gQlZIIGJ2aDtcXG4gIHVuaWZvcm0gZmxvYXQgaW9yO1xcbiAgdW5pZm9ybSBib29sIGNvcnJlY3RNaXBzO1xcbiAgdW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XFxuICB1bmlmb3JtIGZsb2F0IGZyZXNuZWw7XFxuICB1bmlmb3JtIG1hdDQgbW9kZWxNYXRyaXg7XFxuICB1bmlmb3JtIG1hdDQgcHJvamVjdGlvbk1hdHJpeEludmVyc2U7XFxuICB1bmlmb3JtIG1hdDQgdmlld01hdHJpeEludmVyc2U7XFxuICB1bmlmb3JtIGZsb2F0IGFiZXJyYXRpb25TdHJlbmd0aDtcXG4gIHVuaWZvcm0gdmVjMyBjb2xvcjtcXG4gIHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG4gIGZsb2F0IGZyZXNuZWxGdW5jKHZlYzMgdmlld0RpcmVjdGlvbiwgdmVjMyB3b3JsZE5vcm1hbCkge1xcbiAgICByZXR1cm4gcG93KCAxLjAgKyBkb3QoIHZpZXdEaXJlY3Rpb24sIHdvcmxkTm9ybWFsKSwgMTAuMCApO1xcbiAgfVxcblxcbiAgdmVjMyB0b3RhbEludGVybmFsUmVmbGVjdGlvbih2ZWMzIHJvLCB2ZWMzIHJkLCB2ZWMzIG5vcm1hbCwgZmxvYXQgaW9yLCBtYXQ0IG1vZGVsTWF0cml4SW52ZXJzZSkge1xcbiAgICB2ZWMzIHJheU9yaWdpbiA9IHJvO1xcbiAgICB2ZWMzIHJheURpcmVjdGlvbiA9IHJkO1xcbiAgICByYXlEaXJlY3Rpb24gPSByZWZyYWN0KHJheURpcmVjdGlvbiwgbm9ybWFsLCAxLjAgLyBpb3IpO1xcbiAgICByYXlPcmlnaW4gPSB2V29ybGRQb3NpdGlvbiArIHJheURpcmVjdGlvbiAqIDAuMDAxO1xcbiAgICByYXlPcmlnaW4gPSAobW9kZWxNYXRyaXhJbnZlcnNlICogdmVjNChyYXlPcmlnaW4sIDEuMCkpLnh5ejtcXG4gICAgcmF5RGlyZWN0aW9uID0gbm9ybWFsaXplKChtb2RlbE1hdHJpeEludmVyc2UgKiB2ZWM0KHJheURpcmVjdGlvbiwgMC4wKSkueHl6KTtcXG4gICAgZm9yKGZsb2F0IGkgPSAwLjA7IGkgPCBib3VuY2VzOyBpKyspIHtcXG4gICAgICB1dmVjNCBmYWNlSW5kaWNlcyA9IHV2ZWM0KCAwdSApO1xcbiAgICAgIHZlYzMgZmFjZU5vcm1hbCA9IHZlYzMoIDAuMCwgMC4wLCAxLjAgKTtcXG4gICAgICB2ZWMzIGJhcnljb29yZCA9IHZlYzMoIDAuMCApO1xcbiAgICAgIGZsb2F0IHNpZGUgPSAxLjA7XFxuICAgICAgZmxvYXQgZGlzdCA9IDAuMDtcXG4gICAgICBidmhJbnRlcnNlY3RGaXJzdEhpdCggYnZoLCByYXlPcmlnaW4sIHJheURpcmVjdGlvbiwgZmFjZUluZGljZXMsIGZhY2VOb3JtYWwsIGJhcnljb29yZCwgc2lkZSwgZGlzdCApO1xcbiAgICAgIHZlYzMgaGl0UG9zID0gcmF5T3JpZ2luICsgcmF5RGlyZWN0aW9uICogbWF4KGRpc3QgLSAwLjAwMSwgMC4wKTtcXG4gICAgICB2ZWMzIHRlbXBEaXIgPSByZWZyYWN0KHJheURpcmVjdGlvbiwgZmFjZU5vcm1hbCwgaW9yKTtcXG4gICAgICBpZiAobGVuZ3RoKHRlbXBEaXIpICE9IDAuMCkge1xcbiAgICAgICAgcmF5RGlyZWN0aW9uID0gdGVtcERpcjtcXG4gICAgICAgIGJyZWFrO1xcbiAgICAgIH1cXG4gICAgICByYXlEaXJlY3Rpb24gPSByZWZsZWN0KHJheURpcmVjdGlvbiwgZmFjZU5vcm1hbCk7XFxuICAgICAgcmF5T3JpZ2luID0gaGl0UG9zICsgcmF5RGlyZWN0aW9uICogMC4wMTtcXG4gICAgfVxcbiAgICByYXlEaXJlY3Rpb24gPSBub3JtYWxpemUoKG1vZGVsTWF0cml4ICogdmVjNChyYXlEaXJlY3Rpb24sIDAuMCkpLnh5eik7XFxuICAgIHJldHVybiByYXlEaXJlY3Rpb247XFxuICB9XFxuXFxuICAjaW5jbHVkZSA8Y29tbW9uPlxcbiAgI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cXG5cXG4gICNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFTVxcbiAgICB2ZWM0IHRleHR1cmVHcmFkaWVudChzYW1wbGVyQ3ViZSBlbnZNYXAsIHZlYzMgcmF5RGlyZWN0aW9uLCB2ZWMzIGRpcmVjdGlvbkNhbVBlcmZlY3QpIHtcXG4gICAgICByZXR1cm4gdGV4dHVyZUdyYWQoZW52TWFwLCByYXlEaXJlY3Rpb24sIGRGZHgoY29ycmVjdE1pcHMgPyBkaXJlY3Rpb25DYW1QZXJmZWN0OiByYXlEaXJlY3Rpb24pLCBkRmR5KGNvcnJlY3RNaXBzID8gZGlyZWN0aW9uQ2FtUGVyZmVjdDogcmF5RGlyZWN0aW9uKSk7XFxuICAgIH1cXG4gICNlbHNlXFxuICAgIHZlYzQgdGV4dHVyZUdyYWRpZW50KHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgcmF5RGlyZWN0aW9uLCB2ZWMzIGRpcmVjdGlvbkNhbVBlcmZlY3QpIHtcXG4gICAgICB2ZWMyIHV2diA9IGVxdWlyZWN0VXYoIHJheURpcmVjdGlvbiApO1xcbiAgICAgIHZlYzIgc21vb3RoVXYgPSBlcXVpcmVjdFV2KCBkaXJlY3Rpb25DYW1QZXJmZWN0ICk7XFxuICAgICAgcmV0dXJuIHRleHR1cmVHcmFkKGVudk1hcCwgdXZ2LCBkRmR4KGNvcnJlY3RNaXBzID8gc21vb3RoVXYgOiB1dnYpLCBkRmR5KGNvcnJlY3RNaXBzID8gc21vb3RoVXYgOiB1dnYpKTtcXG4gICAgfVxcbiAgI2VuZGlmXFxuXFxuICB2b2lkIG1haW4oKSB7XFxuICAgIHZlYzIgdXYgPSBnbF9GcmFnQ29vcmQueHkgLyByZXNvbHV0aW9uO1xcbiAgICB2ZWMzIGRpcmVjdGlvbkNhbVBlcmZlY3QgPSAocHJvamVjdGlvbk1hdHJpeEludmVyc2UgKiB2ZWM0KHV2ICogMi4wIC0gMS4wLCAwLjAsIDEuMCkpLnh5ejtcXG4gICAgZGlyZWN0aW9uQ2FtUGVyZmVjdCA9ICh2aWV3TWF0cml4SW52ZXJzZSAqIHZlYzQoZGlyZWN0aW9uQ2FtUGVyZmVjdCwgMC4wKSkueHl6O1xcbiAgICBkaXJlY3Rpb25DYW1QZXJmZWN0ID0gbm9ybWFsaXplKGRpcmVjdGlvbkNhbVBlcmZlY3QpO1xcbiAgICB2ZWMzIG5vcm1hbCA9IHZOb3JtYWw7XFxuICAgIHZlYzMgcmF5T3JpZ2luID0gY2FtZXJhUG9zaXRpb247XFxuICAgIHZlYzMgcmF5RGlyZWN0aW9uID0gbm9ybWFsaXplKHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zaXRpb24pO1xcblxcbiAgICB2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoY29sb3IsIG9wYWNpdHkpO1xcbiAgICAjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XFxuXFxuICAgICNpZmRlZiBDSFJPTUFUSUNfQUJFUlJBVElPTlNcXG4gICAgICB2ZWMzIHJheURpcmVjdGlvbkcgPSB0b3RhbEludGVybmFsUmVmbGVjdGlvbihyYXlPcmlnaW4sIHJheURpcmVjdGlvbiwgbm9ybWFsLCBtYXgoaW9yLCAxLjApLCB2TW9kZWxNYXRyaXhJbnZlcnNlKTtcXG4gICAgICAjaWZkZWYgRkFTVF9DSFJPTUFcXG4gICAgICAgIHZlYzMgcmF5RGlyZWN0aW9uUiA9IG5vcm1hbGl6ZShyYXlEaXJlY3Rpb25HICsgMS4wICogdmVjMyhhYmVycmF0aW9uU3RyZW5ndGggLyAyLjApKTtcXG4gICAgICAgIHZlYzMgcmF5RGlyZWN0aW9uQiA9IG5vcm1hbGl6ZShyYXlEaXJlY3Rpb25HIC0gMS4wICogdmVjMyhhYmVycmF0aW9uU3RyZW5ndGggLyAyLjApKTtcXG4gICAgICAjZWxzZVxcbiAgICAgICAgdmVjMyByYXlEaXJlY3Rpb25SID0gdG90YWxJbnRlcm5hbFJlZmxlY3Rpb24ocmF5T3JpZ2luLCByYXlEaXJlY3Rpb24sIG5vcm1hbCwgbWF4KGlvciAqICgxLjAgLSBhYmVycmF0aW9uU3RyZW5ndGgpLCAxLjApLCB2TW9kZWxNYXRyaXhJbnZlcnNlKTtcXG4gICAgICAgIHZlYzMgcmF5RGlyZWN0aW9uQiA9IHRvdGFsSW50ZXJuYWxSZWZsZWN0aW9uKHJheU9yaWdpbiwgcmF5RGlyZWN0aW9uLCBub3JtYWwsIG1heChpb3IgKiAoMS4wICsgYWJlcnJhdGlvblN0cmVuZ3RoKSwgMS4wKSwgdk1vZGVsTWF0cml4SW52ZXJzZSk7XFxuICAgICAgI2VuZGlmXFxuICAgICAgZmxvYXQgZmluYWxDb2xvclIgPSB0ZXh0dXJlR3JhZGllbnQoZW52TWFwLCByYXlEaXJlY3Rpb25SLCBkaXJlY3Rpb25DYW1QZXJmZWN0KS5yO1xcbiAgICAgIGZsb2F0IGZpbmFsQ29sb3JHID0gdGV4dHVyZUdyYWRpZW50KGVudk1hcCwgcmF5RGlyZWN0aW9uRywgZGlyZWN0aW9uQ2FtUGVyZmVjdCkuZztcXG4gICAgICBmbG9hdCBmaW5hbENvbG9yQiA9IHRleHR1cmVHcmFkaWVudChlbnZNYXAsIHJheURpcmVjdGlvbkIsIGRpcmVjdGlvbkNhbVBlcmZlY3QpLmI7XFxuICAgICAgZGlmZnVzZUNvbG9yLnJnYiAqPSB2ZWMzKGZpbmFsQ29sb3JSLCBmaW5hbENvbG9yRywgZmluYWxDb2xvckIpO1xcbiAgICAjZWxzZVxcbiAgICAgIHJheURpcmVjdGlvbiA9IHRvdGFsSW50ZXJuYWxSZWZsZWN0aW9uKHJheU9yaWdpbiwgcmF5RGlyZWN0aW9uLCBub3JtYWwsIG1heChpb3IsIDEuMCksIHZNb2RlbE1hdHJpeEludmVyc2UpO1xcbiAgICAgIGRpZmZ1c2VDb2xvci5yZ2IgKj0gdGV4dHVyZUdyYWRpZW50KGVudk1hcCwgcmF5RGlyZWN0aW9uLCBkaXJlY3Rpb25DYW1QZXJmZWN0KS5yZ2I7XFxuICAgICNlbmRpZlxcblxcbiAgICB2ZWMzIHZpZXdEaXJlY3Rpb24gPSBub3JtYWxpemUodldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbik7XFxuICAgIGZsb2F0IG5GcmVzbmVsID0gZnJlc25lbEZ1bmModmlld0RpcmVjdGlvbiwgbm9ybWFsKSAqIGZyZXNuZWw7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobWl4KGRpZmZ1c2VDb2xvci5yZ2IsIHZlYzMoMS4wKSwgbkZyZXNuZWwpLCBkaWZmdXNlQ29sb3IuYSk7XFxuXFxuICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgI2luY2x1ZGUgPCR7UmU+PTE1ND9cImNvbG9yc3BhY2VfZnJhZ21lbnRcIjpcImVuY29kaW5nc19mcmFnbWVudFwifT5cXG4gIH1gKTtjb25zdCBlbj1UZSh7fSxcInZvaWQgbWFpbigpIHsgfVwiLFwidm9pZCBtYWluKCkgeyBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDAuMCk7IGRpc2NhcmQ7ICB9XCIpO2NsYXNzIHRuIGV4dGVuZHMgUi5NZXNoUGh5c2ljYWxNYXRlcmlhbHtjb25zdHJ1Y3RvcihlPTYsdD0hMSl7c3VwZXIoKSx0aGlzLnVuaWZvcm1zPXtjaHJvbWF0aWNBYmVycmF0aW9uOnt2YWx1ZTouMDV9LHRyYW5zbWlzc2lvbjp7dmFsdWU6MH0sX3RyYW5zbWlzc2lvbjp7dmFsdWU6MX0sdHJhbnNtaXNzaW9uTWFwOnt2YWx1ZTpudWxsfSxyb3VnaG5lc3M6e3ZhbHVlOjB9LHRoaWNrbmVzczp7dmFsdWU6MH0sdGhpY2tuZXNzTWFwOnt2YWx1ZTpudWxsfSxhdHRlbnVhdGlvbkRpc3RhbmNlOnt2YWx1ZToxLzB9LGF0dGVudWF0aW9uQ29sb3I6e3ZhbHVlOm5ldyBSLkNvbG9yKFwid2hpdGVcIil9LGFuaXNvdHJvcGljQmx1cjp7dmFsdWU6LjF9LHRpbWU6e3ZhbHVlOjB9LGRpc3RvcnRpb246e3ZhbHVlOjB9LGRpc3RvcnRpb25TY2FsZTp7dmFsdWU6LjV9LHRlbXBvcmFsRGlzdG9ydGlvbjp7dmFsdWU6MH0sYnVmZmVyOnt2YWx1ZTpudWxsfX0sdGhpcy5vbkJlZm9yZUNvbXBpbGU9cj0+e3IudW5pZm9ybXM9ey4uLnIudW5pZm9ybXMsLi4udGhpcy51bmlmb3Jtc30sdGhpcy5hbmlzb3Ryb3B5PjAmJihyLmRlZmluZXMuVVNFX0FOSVNPVFJPUFk9XCJcIiksdD9yLmRlZmluZXMuVVNFX1NBTVBMRVI9XCJcIjpyLmRlZmluZXMuVVNFX1RSQU5TTUlTU0lPTj1cIlwiLHIuZnJhZ21lbnRTaGFkZXI9XCJcXG4gICAgICB1bmlmb3JtIGZsb2F0IGNocm9tYXRpY0FiZXJyYXRpb247ICAgICAgICAgXFxuICAgICAgdW5pZm9ybSBmbG9hdCBhbmlzb3Ryb3BpY0JsdXI7ICAgICAgXFxuICAgICAgdW5pZm9ybSBmbG9hdCB0aW1lO1xcbiAgICAgIHVuaWZvcm0gZmxvYXQgZGlzdG9ydGlvbjtcXG4gICAgICB1bmlmb3JtIGZsb2F0IGRpc3RvcnRpb25TY2FsZTtcXG4gICAgICB1bmlmb3JtIGZsb2F0IHRlbXBvcmFsRGlzdG9ydGlvbjtcXG4gICAgICB1bmlmb3JtIHNhbXBsZXIyRCBidWZmZXI7XFxuXFxuICAgICAgdmVjMyByYW5kb20zKHZlYzMgYykge1xcbiAgICAgICAgZmxvYXQgaiA9IDQwOTYuMCpzaW4oZG90KGMsdmVjMygxNy4wLCA1OS40LCAxNS4wKSkpO1xcbiAgICAgICAgdmVjMyByO1xcbiAgICAgICAgci56ID0gZnJhY3QoNTEyLjAqaik7XFxuICAgICAgICBqICo9IC4xMjU7XFxuICAgICAgICByLnggPSBmcmFjdCg1MTIuMCpqKTtcXG4gICAgICAgIGogKj0gLjEyNTtcXG4gICAgICAgIHIueSA9IGZyYWN0KDUxMi4wKmopO1xcbiAgICAgICAgcmV0dXJuIHItMC41O1xcbiAgICAgIH1cXG5cXG4gICAgICB1aW50IGhhc2goIHVpbnQgeCApIHtcXG4gICAgICAgIHggKz0gKCB4IDw8IDEwdSApO1xcbiAgICAgICAgeCBePSAoIHggPj4gIDZ1ICk7XFxuICAgICAgICB4ICs9ICggeCA8PCAgM3UgKTtcXG4gICAgICAgIHggXj0gKCB4ID4+IDExdSApO1xcbiAgICAgICAgeCArPSAoIHggPDwgMTV1ICk7XFxuICAgICAgICByZXR1cm4geDtcXG4gICAgICB9XFxuXFxuICAgICAgLy8gQ29tcG91bmQgdmVyc2lvbnMgb2YgdGhlIGhhc2hpbmcgYWxnb3JpdGhtIEkgd2hpcHBlZCB0b2dldGhlci5cXG4gICAgICB1aW50IGhhc2goIHV2ZWMyIHYgKSB7IHJldHVybiBoYXNoKCB2LnggXiBoYXNoKHYueSkgICAgICAgICAgICAgICAgICAgICAgICAgKTsgfVxcbiAgICAgIHVpbnQgaGFzaCggdXZlYzMgdiApIHsgcmV0dXJuIGhhc2goIHYueCBeIGhhc2godi55KSBeIGhhc2godi56KSAgICAgICAgICAgICApOyB9XFxuICAgICAgdWludCBoYXNoKCB1dmVjNCB2ICkgeyByZXR1cm4gaGFzaCggdi54IF4gaGFzaCh2LnkpIF4gaGFzaCh2LnopIF4gaGFzaCh2LncpICk7IH1cXG5cXG4gICAgICAvLyBDb25zdHJ1Y3QgYSBmbG9hdCB3aXRoIGhhbGYtb3BlbiByYW5nZSBbMDoxXSB1c2luZyBsb3cgMjMgYml0cy5cXG4gICAgICAvLyBBbGwgemVyb2VzIHlpZWxkcyAwLjAsIGFsbCBvbmVzIHlpZWxkcyB0aGUgbmV4dCBzbWFsbGVzdCByZXByZXNlbnRhYmxlIHZhbHVlIGJlbG93IDEuMC5cXG4gICAgICBmbG9hdCBmbG9hdENvbnN0cnVjdCggdWludCBtICkge1xcbiAgICAgICAgY29uc3QgdWludCBpZWVlTWFudGlzc2EgPSAweDAwN0ZGRkZGdTsgLy8gYmluYXJ5MzIgbWFudGlzc2EgYml0bWFza1xcbiAgICAgICAgY29uc3QgdWludCBpZWVlT25lICAgICAgPSAweDNGODAwMDAwdTsgLy8gMS4wIGluIElFRUUgYmluYXJ5MzJcXG4gICAgICAgIG0gJj0gaWVlZU1hbnRpc3NhOyAgICAgICAgICAgICAgICAgICAgIC8vIEtlZXAgb25seSBtYW50aXNzYSBiaXRzIChmcmFjdGlvbmFsIHBhcnQpXFxuICAgICAgICBtIHw9IGllZWVPbmU7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZnJhY3Rpb25hbCBwYXJ0IHRvIDEuMFxcbiAgICAgICAgZmxvYXQgIGYgPSB1aW50Qml0c1RvRmxvYXQoIG0gKTsgICAgICAgLy8gUmFuZ2UgWzE6Ml1cXG4gICAgICAgIHJldHVybiBmIC0gMS4wOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhbmdlIFswOjFdXFxuICAgICAgfVxcblxcbiAgICAgIC8vIFBzZXVkby1yYW5kb20gdmFsdWUgaW4gaGFsZi1vcGVuIHJhbmdlIFswOjFdLlxcbiAgICAgIGZsb2F0IHJhbmRvbUJhc2UoIGZsb2F0IHggKSB7IHJldHVybiBmbG9hdENvbnN0cnVjdChoYXNoKGZsb2F0Qml0c1RvVWludCh4KSkpOyB9XFxuICAgICAgZmxvYXQgcmFuZG9tQmFzZSggdmVjMiAgdiApIHsgcmV0dXJuIGZsb2F0Q29uc3RydWN0KGhhc2goZmxvYXRCaXRzVG9VaW50KHYpKSk7IH1cXG4gICAgICBmbG9hdCByYW5kb21CYXNlKCB2ZWMzICB2ICkgeyByZXR1cm4gZmxvYXRDb25zdHJ1Y3QoaGFzaChmbG9hdEJpdHNUb1VpbnQodikpKTsgfVxcbiAgICAgIGZsb2F0IHJhbmRvbUJhc2UoIHZlYzQgIHYgKSB7IHJldHVybiBmbG9hdENvbnN0cnVjdChoYXNoKGZsb2F0Qml0c1RvVWludCh2KSkpOyB9XFxuICAgICAgZmxvYXQgcmFuZChmbG9hdCBzZWVkKSB7XFxuICAgICAgICBmbG9hdCByZXN1bHQgPSByYW5kb21CYXNlKHZlYzMoZ2xfRnJhZ0Nvb3JkLnh5LCBzZWVkKSk7XFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xcbiAgICAgIH1cXG5cXG4gICAgICBjb25zdCBmbG9hdCBGMyA9ICAwLjMzMzMzMzM7XFxuICAgICAgY29uc3QgZmxvYXQgRzMgPSAgMC4xNjY2NjY3O1xcblxcbiAgICAgIGZsb2F0IHNub2lzZSh2ZWMzIHApIHtcXG4gICAgICAgIHZlYzMgcyA9IGZsb29yKHAgKyBkb3QocCwgdmVjMyhGMykpKTtcXG4gICAgICAgIHZlYzMgeCA9IHAgLSBzICsgZG90KHMsIHZlYzMoRzMpKTtcXG4gICAgICAgIHZlYzMgZSA9IHN0ZXAodmVjMygwLjApLCB4IC0geC55engpO1xcbiAgICAgICAgdmVjMyBpMSA9IGUqKDEuMCAtIGUuenh5KTtcXG4gICAgICAgIHZlYzMgaTIgPSAxLjAgLSBlLnp4eSooMS4wIC0gZSk7XFxuICAgICAgICB2ZWMzIHgxID0geCAtIGkxICsgRzM7XFxuICAgICAgICB2ZWMzIHgyID0geCAtIGkyICsgMi4wKkczO1xcbiAgICAgICAgdmVjMyB4MyA9IHggLSAxLjAgKyAzLjAqRzM7XFxuICAgICAgICB2ZWM0IHcsIGQ7XFxuICAgICAgICB3LnggPSBkb3QoeCwgeCk7XFxuICAgICAgICB3LnkgPSBkb3QoeDEsIHgxKTtcXG4gICAgICAgIHcueiA9IGRvdCh4MiwgeDIpO1xcbiAgICAgICAgdy53ID0gZG90KHgzLCB4Myk7XFxuICAgICAgICB3ID0gbWF4KDAuNiAtIHcsIDAuMCk7XFxuICAgICAgICBkLnggPSBkb3QocmFuZG9tMyhzKSwgeCk7XFxuICAgICAgICBkLnkgPSBkb3QocmFuZG9tMyhzICsgaTEpLCB4MSk7XFxuICAgICAgICBkLnogPSBkb3QocmFuZG9tMyhzICsgaTIpLCB4Mik7XFxuICAgICAgICBkLncgPSBkb3QocmFuZG9tMyhzICsgMS4wKSwgeDMpO1xcbiAgICAgICAgdyAqPSB3O1xcbiAgICAgICAgdyAqPSB3O1xcbiAgICAgICAgZCAqPSB3O1xcbiAgICAgICAgcmV0dXJuIGRvdChkLCB2ZWM0KDUyLjApKTtcXG4gICAgICB9XFxuXFxuICAgICAgZmxvYXQgc25vaXNlRnJhY3RhbCh2ZWMzIG0pIHtcXG4gICAgICAgIHJldHVybiAwLjUzMzMzMzMqIHNub2lzZShtKVxcbiAgICAgICAgICAgICAgKzAuMjY2NjY2Nyogc25vaXNlKDIuMCptKVxcbiAgICAgICAgICAgICAgKzAuMTMzMzMzMyogc25vaXNlKDQuMCptKVxcbiAgICAgICAgICAgICAgKzAuMDY2NjY2Nyogc25vaXNlKDguMCptKTtcXG4gICAgICB9XFxuXCIrci5mcmFnbWVudFNoYWRlcixyLmZyYWdtZW50U2hhZGVyPXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIiNpbmNsdWRlIDx0cmFuc21pc3Npb25fcGFyc19mcmFnbWVudD5cIixcIlxcbiAgICAgICAgI2lmZGVmIFVTRV9UUkFOU01JU1NJT05cXG4gICAgICAgICAgLy8gVHJhbnNtaXNzaW9uIGNvZGUgaXMgYmFzZWQgb24gZ2xURi1TYW1wbGVyLVZpZXdlclxcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vS2hyb25vc0dyb3VwL2dsVEYtU2FtcGxlLVZpZXdlclxcbiAgICAgICAgICB1bmlmb3JtIGZsb2F0IF90cmFuc21pc3Npb247XFxuICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdGhpY2tuZXNzO1xcbiAgICAgICAgICB1bmlmb3JtIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2U7XFxuICAgICAgICAgIHVuaWZvcm0gdmVjMyBhdHRlbnVhdGlvbkNvbG9yO1xcbiAgICAgICAgICAjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxcbiAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHRyYW5zbWlzc2lvbk1hcDtcXG4gICAgICAgICAgI2VuZGlmXFxuICAgICAgICAgICNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQXFxuICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdGhpY2tuZXNzTWFwO1xcbiAgICAgICAgICAjZW5kaWZcXG4gICAgICAgICAgdW5pZm9ybSB2ZWMyIHRyYW5zbWlzc2lvblNhbXBsZXJTaXplO1xcbiAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25TYW1wbGVyTWFwO1xcbiAgICAgICAgICB1bmlmb3JtIG1hdDQgbW9kZWxNYXRyaXg7XFxuICAgICAgICAgIHVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcbiAgICAgICAgICB2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuICAgICAgICAgIHZlYzMgZ2V0Vm9sdW1lVHJhbnNtaXNzaW9uUmF5KCBjb25zdCBpbiB2ZWMzIG4sIGNvbnN0IGluIHZlYzMgdiwgY29uc3QgaW4gZmxvYXQgdGhpY2tuZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IsIGNvbnN0IGluIG1hdDQgbW9kZWxNYXRyaXggKSB7XFxuICAgICAgICAgICAgLy8gRGlyZWN0aW9uIG9mIHJlZnJhY3RlZCBsaWdodC5cXG4gICAgICAgICAgICB2ZWMzIHJlZnJhY3Rpb25WZWN0b3IgPSByZWZyYWN0KCAtIHYsIG5vcm1hbGl6ZSggbiApLCAxLjAgLyBpb3IgKTtcXG4gICAgICAgICAgICAvLyBDb21wdXRlIHJvdGF0aW9uLWluZGVwZW5kYW50IHNjYWxpbmcgb2YgdGhlIG1vZGVsIG1hdHJpeC5cXG4gICAgICAgICAgICB2ZWMzIG1vZGVsU2NhbGU7XFxuICAgICAgICAgICAgbW9kZWxTY2FsZS54ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMCBdLnh5eiApICk7XFxuICAgICAgICAgICAgbW9kZWxTY2FsZS55ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMSBdLnh5eiApICk7XFxuICAgICAgICAgICAgbW9kZWxTY2FsZS56ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMiBdLnh5eiApICk7XFxuICAgICAgICAgICAgLy8gVGhlIHRoaWNrbmVzcyBpcyBzcGVjaWZpZWQgaW4gbG9jYWwgc3BhY2UuXFxuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSggcmVmcmFjdGlvblZlY3RvciApICogdGhpY2tuZXNzICogbW9kZWxTY2FsZTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBmbG9hdCBhcHBseUlvclRvUm91Z2huZXNzKCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGlvciApIHtcXG4gICAgICAgICAgICAvLyBTY2FsZSByb3VnaG5lc3Mgd2l0aCBJT1Igc28gdGhhdCBhbiBJT1Igb2YgMS4wIHJlc3VsdHMgaW4gbm8gbWljcm9mYWNldCByZWZyYWN0aW9uIGFuZFxcbiAgICAgICAgICAgIC8vIGFuIElPUiBvZiAxLjUgcmVzdWx0cyBpbiB0aGUgZGVmYXVsdCBhbW91bnQgb2YgbWljcm9mYWNldCByZWZyYWN0aW9uLlxcbiAgICAgICAgICAgIHJldHVybiByb3VnaG5lc3MgKiBjbGFtcCggaW9yICogMi4wIC0gMi4wLCAwLjAsIDEuMCApO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIHZlYzQgZ2V0VHJhbnNtaXNzaW9uU2FtcGxlKCBjb25zdCBpbiB2ZWMyIGZyYWdDb29yZCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IgKSB7XFxuICAgICAgICAgICAgZmxvYXQgZnJhbWVidWZmZXJMb2QgPSBsb2cyKCB0cmFuc21pc3Npb25TYW1wbGVyU2l6ZS54ICkgKiBhcHBseUlvclRvUm91Z2huZXNzKCByb3VnaG5lc3MsIGlvciApOyAgICAgICAgICAgIFxcbiAgICAgICAgICAgICNpZmRlZiBVU0VfU0FNUExFUlxcbiAgICAgICAgICAgICAgI2lmZGVmIHRleHR1cmUyRExvZEVYVFxcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZTJETG9kRVhUKHRyYW5zbWlzc2lvblNhbXBsZXJNYXAsIGZyYWdDb29yZC54eSwgZnJhbWVidWZmZXJMb2QpO1xcbiAgICAgICAgICAgICAgI2Vsc2VcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmUyRCh0cmFuc21pc3Npb25TYW1wbGVyTWFwLCBmcmFnQ29vcmQueHksIGZyYW1lYnVmZmVyTG9kKTtcXG4gICAgICAgICAgICAgICNlbmRpZlxcbiAgICAgICAgICAgICNlbHNlXFxuICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZTJEKGJ1ZmZlciwgZnJhZ0Nvb3JkLnh5KTtcXG4gICAgICAgICAgICAjZW5kaWZcXG4gICAgICAgICAgfVxcbiAgICAgICAgICB2ZWMzIGFwcGx5Vm9sdW1lQXR0ZW51YXRpb24oIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIGZsb2F0IHRyYW5zbWlzc2lvbkRpc3RhbmNlLCBjb25zdCBpbiB2ZWMzIGF0dGVudWF0aW9uQ29sb3IsIGNvbnN0IGluIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2UgKSB7XFxuICAgICAgICAgICAgaWYgKCBpc2luZiggYXR0ZW51YXRpb25EaXN0YW5jZSApICkge1xcbiAgICAgICAgICAgICAgLy8gQXR0ZW51YXRpb24gZGlzdGFuY2UgaXMgK+KIniwgaS5lLiB0aGUgdHJhbnNtaXR0ZWQgY29sb3IgaXMgbm90IGF0dGVudWF0ZWQgYXQgYWxsLlxcbiAgICAgICAgICAgICAgcmV0dXJuIHJhZGlhbmNlO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAvLyBDb21wdXRlIGxpZ2h0IGF0dGVudWF0aW9uIHVzaW5nIEJlZXIncyBsYXcuXFxuICAgICAgICAgICAgICB2ZWMzIGF0dGVudWF0aW9uQ29lZmZpY2llbnQgPSAtbG9nKCBhdHRlbnVhdGlvbkNvbG9yICkgLyBhdHRlbnVhdGlvbkRpc3RhbmNlO1xcbiAgICAgICAgICAgICAgdmVjMyB0cmFuc21pdHRhbmNlID0gZXhwKCAtIGF0dGVudWF0aW9uQ29lZmZpY2llbnQgKiB0cmFuc21pc3Npb25EaXN0YW5jZSApOyAvLyBCZWVyJ3MgbGF3XFxuICAgICAgICAgICAgICByZXR1cm4gdHJhbnNtaXR0YW5jZSAqIHJhZGlhbmNlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfVxcbiAgICAgICAgICB2ZWM0IGdldElCTFZvbHVtZVJlZnJhY3Rpb24oIGNvbnN0IGluIHZlYzMgbiwgY29uc3QgaW4gdmVjMyB2LCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIHZlYzMgZGlmZnVzZUNvbG9yLFxcbiAgICAgICAgICAgIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc3BlY3VsYXJGOTAsIGNvbnN0IGluIHZlYzMgcG9zaXRpb24sIGNvbnN0IGluIG1hdDQgbW9kZWxNYXRyaXgsXFxuICAgICAgICAgICAgY29uc3QgaW4gbWF0NCB2aWV3TWF0cml4LCBjb25zdCBpbiBtYXQ0IHByb2pNYXRyaXgsIGNvbnN0IGluIGZsb2F0IGlvciwgY29uc3QgaW4gZmxvYXQgdGhpY2tuZXNzLFxcbiAgICAgICAgICAgIGNvbnN0IGluIHZlYzMgYXR0ZW51YXRpb25Db2xvciwgY29uc3QgaW4gZmxvYXQgYXR0ZW51YXRpb25EaXN0YW5jZSApIHtcXG4gICAgICAgICAgICB2ZWMzIHRyYW5zbWlzc2lvblJheSA9IGdldFZvbHVtZVRyYW5zbWlzc2lvblJheSggbiwgdiwgdGhpY2tuZXNzLCBpb3IsIG1vZGVsTWF0cml4ICk7XFxuICAgICAgICAgICAgdmVjMyByZWZyYWN0ZWRSYXlFeGl0ID0gcG9zaXRpb24gKyB0cmFuc21pc3Npb25SYXk7XFxuICAgICAgICAgICAgLy8gUHJvamVjdCByZWZyYWN0ZWQgdmVjdG9yIG9uIHRoZSBmcmFtZWJ1ZmZlciwgd2hpbGUgbWFwcGluZyB0byBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlcy5cXG4gICAgICAgICAgICB2ZWM0IG5kY1BvcyA9IHByb2pNYXRyaXggKiB2aWV3TWF0cml4ICogdmVjNCggcmVmcmFjdGVkUmF5RXhpdCwgMS4wICk7XFxuICAgICAgICAgICAgdmVjMiByZWZyYWN0aW9uQ29vcmRzID0gbmRjUG9zLnh5IC8gbmRjUG9zLnc7XFxuICAgICAgICAgICAgcmVmcmFjdGlvbkNvb3JkcyArPSAxLjA7XFxuICAgICAgICAgICAgcmVmcmFjdGlvbkNvb3JkcyAvPSAyLjA7XFxuICAgICAgICAgICAgLy8gU2FtcGxlIGZyYW1lYnVmZmVyIHRvIGdldCBwaXhlbCB0aGUgcmVmcmFjdGVkIHJheSBoaXRzLlxcbiAgICAgICAgICAgIHZlYzQgdHJhbnNtaXR0ZWRMaWdodCA9IGdldFRyYW5zbWlzc2lvblNhbXBsZSggcmVmcmFjdGlvbkNvb3Jkcywgcm91Z2huZXNzLCBpb3IgKTtcXG4gICAgICAgICAgICB2ZWMzIGF0dGVudWF0ZWRDb2xvciA9IGFwcGx5Vm9sdW1lQXR0ZW51YXRpb24oIHRyYW5zbWl0dGVkTGlnaHQucmdiLCBsZW5ndGgoIHRyYW5zbWlzc2lvblJheSApLCBhdHRlbnVhdGlvbkNvbG9yLCBhdHRlbnVhdGlvbkRpc3RhbmNlICk7XFxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzcGVjdWxhciBjb21wb25lbnQuXFxuICAgICAgICAgICAgdmVjMyBGID0gRW52aXJvbm1lbnRCUkRGKCBuLCB2LCBzcGVjdWxhckNvbG9yLCBzcGVjdWxhckY5MCwgcm91Z2huZXNzICk7XFxuICAgICAgICAgICAgcmV0dXJuIHZlYzQoICggMS4wIC0gRiApICogYXR0ZW51YXRlZENvbG9yICogZGlmZnVzZUNvbG9yLCB0cmFuc21pdHRlZExpZ2h0LmEgKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgI2VuZGlmXFxuXCIpLHIuZnJhZ21lbnRTaGFkZXI9ci5mcmFnbWVudFNoYWRlci5yZXBsYWNlKFwiI2luY2x1ZGUgPHRyYW5zbWlzc2lvbl9mcmFnbWVudD5cIixgICBcXG4gICAgICAgIC8vIEltcHJvdmUgdGhlIHJlZnJhY3Rpb24gdG8gdXNlIHRoZSB3b3JsZCBwb3NcXG4gICAgICAgIG1hdGVyaWFsLnRyYW5zbWlzc2lvbiA9IF90cmFuc21pc3Npb247XFxuICAgICAgICBtYXRlcmlhbC50cmFuc21pc3Npb25BbHBoYSA9IDEuMDtcXG4gICAgICAgIG1hdGVyaWFsLnRoaWNrbmVzcyA9IHRoaWNrbmVzcztcXG4gICAgICAgIG1hdGVyaWFsLmF0dGVudWF0aW9uRGlzdGFuY2UgPSBhdHRlbnVhdGlvbkRpc3RhbmNlO1xcbiAgICAgICAgbWF0ZXJpYWwuYXR0ZW51YXRpb25Db2xvciA9IGF0dGVudWF0aW9uQ29sb3I7XFxuICAgICAgICAjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxcbiAgICAgICAgICBtYXRlcmlhbC50cmFuc21pc3Npb24gKj0gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25NYXAsIHZVdiApLnI7XFxuICAgICAgICAjZW5kaWZcXG4gICAgICAgICNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQXFxuICAgICAgICAgIG1hdGVyaWFsLnRoaWNrbmVzcyAqPSB0ZXh0dXJlMkQoIHRoaWNrbmVzc01hcCwgdlV2ICkuZztcXG4gICAgICAgICNlbmRpZlxcbiAgICAgICAgXFxuICAgICAgICB2ZWMzIHBvcyA9IHZXb3JsZFBvc2l0aW9uO1xcbiAgICAgICAgZmxvYXQgcnVubmluZ1NlZWQgPSAwLjA7XFxuICAgICAgICB2ZWMzIHYgPSBub3JtYWxpemUoIGNhbWVyYVBvc2l0aW9uIC0gcG9zICk7XFxuICAgICAgICB2ZWMzIG4gPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTtcXG4gICAgICAgIHZlYzMgdHJhbnNtaXNzaW9uID0gdmVjMygwLjApO1xcbiAgICAgICAgZmxvYXQgdHJhbnNtaXNzaW9uUiwgdHJhbnNtaXNzaW9uQiwgdHJhbnNtaXNzaW9uRztcXG4gICAgICAgIGZsb2F0IHJhbmRvbUNvb3JkcyA9IHJhbmQocnVubmluZ1NlZWQrKyk7XFxuICAgICAgICBmbG9hdCB0aGlja25lc3Nfc21lYXIgPSB0aGlja25lc3MgKiBtYXgocG93KHJvdWdobmVzc0ZhY3RvciwgMC4zMyksIGFuaXNvdHJvcGljQmx1cik7XFxuICAgICAgICB2ZWMzIGRpc3RvcnRpb25Ob3JtYWwgPSB2ZWMzKDAuMCk7XFxuICAgICAgICB2ZWMzIHRlbXBvcmFsT2Zmc2V0ID0gdmVjMyh0aW1lLCAtdGltZSwgLXRpbWUpICogdGVtcG9yYWxEaXN0b3J0aW9uO1xcbiAgICAgICAgaWYgKGRpc3RvcnRpb24gPiAwLjApIHtcXG4gICAgICAgICAgZGlzdG9ydGlvbk5vcm1hbCA9IGRpc3RvcnRpb24gKiB2ZWMzKHNub2lzZUZyYWN0YWwodmVjMygocG9zICogZGlzdG9ydGlvblNjYWxlICsgdGVtcG9yYWxPZmZzZXQpKSksIHNub2lzZUZyYWN0YWwodmVjMyhwb3Muenh5ICogZGlzdG9ydGlvblNjYWxlIC0gdGVtcG9yYWxPZmZzZXQpKSwgc25vaXNlRnJhY3RhbCh2ZWMzKHBvcy55eHogKiBkaXN0b3J0aW9uU2NhbGUgKyB0ZW1wb3JhbE9mZnNldCkpKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGZvciAoZmxvYXQgaSA9IDAuMDsgaSA8ICR7ZX0uMDsgaSArKykge1xcbiAgICAgICAgICB2ZWMzIHNhbXBsZU5vcm0gPSBub3JtYWxpemUobiArIHJvdWdobmVzc0ZhY3RvciAqIHJvdWdobmVzc0ZhY3RvciAqIDIuMCAqIG5vcm1hbGl6ZSh2ZWMzKHJhbmQocnVubmluZ1NlZWQrKykgLSAwLjUsIHJhbmQocnVubmluZ1NlZWQrKykgLSAwLjUsIHJhbmQocnVubmluZ1NlZWQrKykgLSAwLjUpKSAqIHBvdyhyYW5kKHJ1bm5pbmdTZWVkKyspLCAwLjMzKSArIGRpc3RvcnRpb25Ob3JtYWwpO1xcbiAgICAgICAgICB0cmFuc21pc3Npb25SID0gZ2V0SUJMVm9sdW1lUmVmcmFjdGlvbihcXG4gICAgICAgICAgICBzYW1wbGVOb3JtLCB2LCBtYXRlcmlhbC5yb3VnaG5lc3MsIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJGOTAsXFxuICAgICAgICAgICAgcG9zLCBtb2RlbE1hdHJpeCwgdmlld01hdHJpeCwgcHJvamVjdGlvbk1hdHJpeCwgbWF0ZXJpYWwuaW9yLCBtYXRlcmlhbC50aGlja25lc3MgICsgdGhpY2tuZXNzX3NtZWFyICogKGkgKyByYW5kb21Db29yZHMpIC8gZmxvYXQoJHtlfSksXFxuICAgICAgICAgICAgbWF0ZXJpYWwuYXR0ZW51YXRpb25Db2xvciwgbWF0ZXJpYWwuYXR0ZW51YXRpb25EaXN0YW5jZVxcbiAgICAgICAgICApLnI7XFxuICAgICAgICAgIHRyYW5zbWlzc2lvbkcgPSBnZXRJQkxWb2x1bWVSZWZyYWN0aW9uKFxcbiAgICAgICAgICAgIHNhbXBsZU5vcm0sIHYsIG1hdGVyaWFsLnJvdWdobmVzcywgbWF0ZXJpYWwuZGlmZnVzZUNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCxcXG4gICAgICAgICAgICBwb3MsIG1vZGVsTWF0cml4LCB2aWV3TWF0cml4LCBwcm9qZWN0aW9uTWF0cml4LCBtYXRlcmlhbC5pb3IgICogKDEuMCArIGNocm9tYXRpY0FiZXJyYXRpb24gKiAoaSArIHJhbmRvbUNvb3JkcykgLyBmbG9hdCgke2V9KSkgLCBtYXRlcmlhbC50aGlja25lc3MgKyB0aGlja25lc3Nfc21lYXIgKiAoaSArIHJhbmRvbUNvb3JkcykgLyBmbG9hdCgke2V9KSxcXG4gICAgICAgICAgICBtYXRlcmlhbC5hdHRlbnVhdGlvbkNvbG9yLCBtYXRlcmlhbC5hdHRlbnVhdGlvbkRpc3RhbmNlXFxuICAgICAgICAgICkuZztcXG4gICAgICAgICAgdHJhbnNtaXNzaW9uQiA9IGdldElCTFZvbHVtZVJlZnJhY3Rpb24oXFxuICAgICAgICAgICAgc2FtcGxlTm9ybSwgdiwgbWF0ZXJpYWwucm91Z2huZXNzLCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLFxcbiAgICAgICAgICAgIHBvcywgbW9kZWxNYXRyaXgsIHZpZXdNYXRyaXgsIHByb2plY3Rpb25NYXRyaXgsIG1hdGVyaWFsLmlvciAqICgxLjAgKyAyLjAgKiBjaHJvbWF0aWNBYmVycmF0aW9uICogKGkgKyByYW5kb21Db29yZHMpIC8gZmxvYXQoJHtlfSkpLCBtYXRlcmlhbC50aGlja25lc3MgKyB0aGlja25lc3Nfc21lYXIgKiAoaSArIHJhbmRvbUNvb3JkcykgLyBmbG9hdCgke2V9KSxcXG4gICAgICAgICAgICBtYXRlcmlhbC5hdHRlbnVhdGlvbkNvbG9yLCBtYXRlcmlhbC5hdHRlbnVhdGlvbkRpc3RhbmNlXFxuICAgICAgICAgICkuYjtcXG4gICAgICAgICAgdHJhbnNtaXNzaW9uLnIgKz0gdHJhbnNtaXNzaW9uUjtcXG4gICAgICAgICAgdHJhbnNtaXNzaW9uLmcgKz0gdHJhbnNtaXNzaW9uRztcXG4gICAgICAgICAgdHJhbnNtaXNzaW9uLmIgKz0gdHJhbnNtaXNzaW9uQjtcXG4gICAgICAgIH1cXG4gICAgICAgIHRyYW5zbWlzc2lvbiAvPSAke2V9LjA7XFxuICAgICAgICB0b3RhbERpZmZ1c2UgPSBtaXgoIHRvdGFsRGlmZnVzZSwgdHJhbnNtaXNzaW9uLnJnYiwgbWF0ZXJpYWwudHJhbnNtaXNzaW9uICk7XFxuYCl9LE9iamVjdC5rZXlzKHRoaXMudW5pZm9ybXMpLmZvckVhY2goKGU9Pk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLGUse2dldDooKT0+dGhpcy51bmlmb3Jtc1tlXS52YWx1ZSxzZXQ6dD0+dGhpcy51bmlmb3Jtc1tlXS52YWx1ZT10fSkpKX19Y29uc3Qgcm49Qy5mb3J3YXJkUmVmKCgoe2J1ZmZlcjplLHRyYW5zbWlzc2lvblNhbXBsZXI6dD0hMSxiYWNrc2lkZTpyPSExLHNpZGU6bj1SLkZyb250U2lkZSx0cmFuc21pc3Npb246bz0xLHRoaWNrbmVzczppPTAsYmFja3NpZGVUaGlja25lc3M6cz0wLGJhY2tzaWRlRW52TWFwSW50ZW5zaXR5Omw9MSxzYW1wbGVzOmM9MTAscmVzb2x1dGlvbjp1LGJhY2tzaWRlUmVzb2x1dGlvbjpkLGJhY2tncm91bmQ6bSxhbmlzb3Ryb3B5OmYsYW5pc290cm9waWNCbHVyOnAsLi4uaH0seCk9PnthLmV4dGVuZCh7TWVzaFRyYW5zbWlzc2lvbk1hdGVyaWFsOnRufSk7Y29uc3QgeT1DLnVzZVJlZihudWxsKSxbdl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBlbikpLGc9b3QoZHx8dSksdz1vdCh1KTtsZXQgeixiLEUsTTtyZXR1cm4gYS51c2VGcmFtZSgoZT0+e3kuY3VycmVudC50aW1lPWUuY2xvY2suZWxhcHNlZFRpbWUseS5jdXJyZW50LmJ1ZmZlciE9PXcudGV4dHVyZXx8dHx8KE09eS5jdXJyZW50Ll9fcjNmLnBhcmVudCxNJiYoRT1lLmdsLnRvbmVNYXBwaW5nLHo9ZS5zY2VuZS5iYWNrZ3JvdW5kLGI9eS5jdXJyZW50LmVudk1hcEludGVuc2l0eSxlLmdsLnRvbmVNYXBwaW5nPVIuTm9Ub25lTWFwcGluZyxtJiYoZS5zY2VuZS5iYWNrZ3JvdW5kPW0pLE0ubWF0ZXJpYWw9dixyJiYoZS5nbC5zZXRSZW5kZXJUYXJnZXQoZyksZS5nbC5yZW5kZXIoZS5zY2VuZSxlLmNhbWVyYSksTS5tYXRlcmlhbD15LmN1cnJlbnQsTS5tYXRlcmlhbC5idWZmZXI9Zy50ZXh0dXJlLE0ubWF0ZXJpYWwudGhpY2tuZXNzPXMsTS5tYXRlcmlhbC5zaWRlPVIuQmFja1NpZGUsTS5tYXRlcmlhbC5lbnZNYXBJbnRlbnNpdHk9bCksZS5nbC5zZXRSZW5kZXJUYXJnZXQodyksZS5nbC5yZW5kZXIoZS5zY2VuZSxlLmNhbWVyYSksTS5tYXRlcmlhbD15LmN1cnJlbnQsTS5tYXRlcmlhbC50aGlja25lc3M9aSxNLm1hdGVyaWFsLnNpZGU9bixNLm1hdGVyaWFsLmJ1ZmZlcj13LnRleHR1cmUsTS5tYXRlcmlhbC5lbnZNYXBJbnRlbnNpdHk9YixlLnNjZW5lLmJhY2tncm91bmQ9eixlLmdsLnNldFJlbmRlclRhcmdldChudWxsKSxlLmdsLnRvbmVNYXBwaW5nPUUpKX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUoeCwoKCk9PnkuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcIm1lc2hUcmFuc21pc3Npb25NYXRlcmlhbFwiLFQuZGVmYXVsdCh7YXJnczpbYyx0XSxyZWY6eX0saCx7YnVmZmVyOmV8fHcudGV4dHVyZSxfdHJhbnNtaXNzaW9uOm8sYW5pc290cm9waWNCbHVyOm51bGwhPXA/cDpmLHRyYW5zbWlzc2lvbjp0P286MCx0aGlja25lc3M6aSxzaWRlOm59KSl9KSksbm49Qy5mb3J3YXJkUmVmKCgoZSx0KT0+KGEuZXh0ZW5kKHtEaXNjYXJkTWF0ZXJpYWxJbXBsOmVufSksQy5jcmVhdGVFbGVtZW50KFwiZGlzY2FyZE1hdGVyaWFsSW1wbFwiLFQuZGVmYXVsdCh7cmVmOnR9LGUpKSkpKTtjb25zdCBhbj1SZT49MTU0P1wib3BhcXVlX2ZyYWdtZW50XCI6XCJvdXRwdXRfZnJhZ21lbnRcIjtjbGFzcyBvbiBleHRlbmRzIFIuUG9pbnRzTWF0ZXJpYWx7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5vbkJlZm9yZUNvbXBpbGU9KGUsdCk9Pntjb25zdHtpc1dlYkdMMjpyfT10LmNhcGFiaWxpdGllcztlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShgI2luY2x1ZGUgPCR7YW59PmAsYFxcbiAgICAgICAgJHtyP2AjaW5jbHVkZSA8JHthbn0+YDpgI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcXG4jaW5jbHVkZSA8JHthbn0+YH1cXG4gICAgICB2ZWMyIGN4eSA9IDIuMCAqIGdsX1BvaW50Q29vcmQgLSAxLjA7XFxuICAgICAgZmxvYXQgciA9IGRvdChjeHksIGN4eSk7XFxuICAgICAgZmxvYXQgZGVsdGEgPSBmd2lkdGgocik7ICAgICBcXG4gICAgICBmbG9hdCBtYXNrID0gMS4wIC0gc21vb3Roc3RlcCgxLjAgLSBkZWx0YSwgMS4wICsgZGVsdGEsIHIpO1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoZ2xfRnJhZ0NvbG9yLnJnYiwgbWFzayAqIGdsX0ZyYWdDb2xvci5hICk7XFxuICAgICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcbiAgICAgICNpbmNsdWRlIDwke1JlPj0xNTQ/XCJjb2xvcnNwYWNlX2ZyYWdtZW50XCI6XCJlbmNvZGluZ3NfZnJhZ21lbnRcIn0+XFxuICAgICAgYCl9fX1jb25zdCBzbj1DLmZvcndhcmRSZWYoKChlLHQpPT57Y29uc3Rbcl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBvbihudWxsKSkpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe30sZSx7b2JqZWN0OnIscmVmOnQsYXR0YWNoOlwibWF0ZXJpYWxcIn0pKX0pKTtmdW5jdGlvbiBsbihlLHQscil7dC50cmF2ZXJzZSgodD0+e3QubWF0ZXJpYWwmJihlLnByb3BlcnRpZXMucmVtb3ZlKHQubWF0ZXJpYWwpLG51bGw9PXQubWF0ZXJpYWwuZGlzcG9zZXx8dC5tYXRlcmlhbC5kaXNwb3NlKCkpfSkpLGUuaW5mby5wcm9ncmFtcy5sZW5ndGg9MCxlLmNvbXBpbGUodCxyKX1mdW5jdGlvbiBjbihlLHQpe2NvbnN0IHI9ZStcIkdlb21ldHJ5XCI7cmV0dXJuIEMuZm9yd2FyZFJlZigoKHthcmdzOmUsY2hpbGRyZW46biwuLi5hfSxvKT0+e2NvbnN0IGk9Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShvLCgoKT0+aS5jdXJyZW50KSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57bnVsbD09dHx8dChpLmN1cnJlbnQpfSkpLEMuY3JlYXRlRWxlbWVudChcIm1lc2hcIixULmRlZmF1bHQoe3JlZjppfSxhKSxDLmNyZWF0ZUVsZW1lbnQocix7YXR0YWNoOlwiZ2VvbWV0cnlcIixhcmdzOmV9KSxuKX0pKX1jb25zdCB1bj1jbihcImJveFwiKSxkbj1jbihcImNpcmNsZVwiKSxtbj1jbihcImNvbmVcIiksZm49Y24oXCJjeWxpbmRlclwiKSxwbj1jbihcInNwaGVyZVwiKSxobj1jbihcInBsYW5lXCIpLHhuPWNuKFwidHViZVwiKSx5bj1jbihcInRvcnVzXCIpLHZuPWNuKFwidG9ydXNLbm90XCIpLGduPWNuKFwidGV0cmFoZWRyb25cIiksd249Y24oXCJyaW5nXCIpLHpuPWNuKFwicG9seWhlZHJvblwiKSxibj1jbihcImljb3NhaGVkcm9uXCIpLEVuPWNuKFwib2N0YWhlZHJvblwiKSxNbj1jbihcImRvZGVjYWhlZHJvblwiKSxTbj1jbihcImV4dHJ1ZGVcIiksVG49Y24oXCJsYXRoZVwiKSxDbj1jbihcImNhcHN1bGVcIiksUG49Y24oXCJzaGFwZVwiLCgoe2dlb21ldHJ5OmV9KT0+e2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLHI9KG5ldyBSLkJveDMpLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUodCksbj1uZXcgUi5WZWN0b3IzO3IuZ2V0U2l6ZShuKTtjb25zdCBhPVtdO2xldCBvPTAsaT0wLHM9MCxsPTA7Zm9yKGxldCBlPTA7ZTx0LmNvdW50O2UrKylvPXQuZ2V0WChlKSxpPXQuZ2V0WShlKSxzPShvLXIubWluLngpL24ueCxsPShpLXIubWluLnkpL24ueSxhLnB1c2gocyxsKTtlLnNldEF0dHJpYnV0ZShcInV2XCIsbmV3IFIuRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhLDIpKX0pKSxSbj0xZS01O2NvbnN0IERuPUMuZm9yd2FyZFJlZigoZnVuY3Rpb24oe2FyZ3M6W2U9MSx0PTEscj0xXT1bXSxyYWRpdXM6YT0uMDUsc3RlcHM6bz0xLHNtb290aG5lc3M6aT00LGJldmVsU2VnbWVudHM6cz00LGNyZWFzZUFuZ2xlOmw9LjQsY2hpbGRyZW46YywuLi5kfSxtKXtjb25zdCBmPUMudXNlTWVtbygoKCk9PmZ1bmN0aW9uKGUsdCxyKXtjb25zdCBhPW5ldyBuLlNoYXBlLG89ci1SbjtyZXR1cm4gYS5hYnNhcmMoUm4sUm4sUm4sLU1hdGguUEkvMiwtTWF0aC5QSSwhMCksYS5hYnNhcmMoUm4sdC0yKm8sUm4sTWF0aC5QSSxNYXRoLlBJLzIsITApLGEuYWJzYXJjKGUtMipvLHQtMipvLFJuLE1hdGguUEkvMiwwLCEwKSxhLmFic2FyYyhlLTIqbyxSbixSbiwwLC1NYXRoLlBJLzIsITApLGF9KGUsdCxhKSksW2UsdCxhXSkscD1DLnVzZU1lbW8oKCgpPT4oe2RlcHRoOnItMiphLGJldmVsRW5hYmxlZDohMCxiZXZlbFNlZ21lbnRzOjIqcyxzdGVwczpvLGJldmVsU2l6ZTphLVJuLGJldmVsVGhpY2tuZXNzOmEsY3VydmVTZWdtZW50czppfSkpLFtyLGEsaV0pLGg9Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2guY3VycmVudCYmKGguY3VycmVudC5jZW50ZXIoKSx1LnRvQ3JlYXNlZE5vcm1hbHMoaC5jdXJyZW50LGwpKX0pLFtmLHBdKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtyZWY6bX0sZCksQy5jcmVhdGVFbGVtZW50KFwiZXh0cnVkZUdlb21ldHJ5XCIse3JlZjpoLGFyZ3M6W2YscF19KSxjKX0pKTtmdW5jdGlvbiBGbigpe2NvbnN0IGU9bmV3IFIuQnVmZmVyR2VvbWV0cnksdD1uZXcgRmxvYXQzMkFycmF5KFstMSwtMSwzLC0xLC0xLDNdKTtyZXR1cm4gZS5ib3VuZGluZ1NwaGVyZT1uZXcgUi5TcGhlcmUsZS5ib3VuZGluZ1NwaGVyZS5zZXQobmV3IFIuVmVjdG9yMywxLzApLGUuc2V0QXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgUi5CdWZmZXJBdHRyaWJ1dGUodCwyKSksZX1jb25zdCBrbj1DLmZvcndhcmRSZWYoKGZ1bmN0aW9uKHtjaGlsZHJlbjplLC4uLnR9LHIpe2NvbnN0IG49Qy51c2VNZW1vKEZuLFtdKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVmOnIsZ2VvbWV0cnk6bixmcnVzdHVtQ3VsbGVkOiExfSx0KSxlKX0pKSxfbj1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSx3aWR0aDp0LGhlaWdodDpyLGRlcHRoOm4sYm94MzphLHByZWNpc2U6bz0hMCwuLi5pfSxzKT0+e2NvbnN0IGw9Qy51c2VSZWYobnVsbCksYz1DLnVzZVJlZihudWxsKSx1PUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntjLmN1cnJlbnQubWF0cml4V29ybGQuaWRlbnRpdHkoKTtsZXQgZT1hfHwobmV3IFIuQm94Mykuc2V0RnJvbU9iamVjdCh1LmN1cnJlbnQsbyk7Y29uc3QgaT1lLm1heC54LWUubWluLngscz1lLm1heC55LWUubWluLnksbD1lLm1heC56LWUubWluLno7bGV0IGQ9TWF0aC5tYXgoaSxzLGwpO3QmJihkPWkpLHImJihkPXMpLG4mJihkPWwpLGMuY3VycmVudC5zY2FsZS5zZXRTY2FsYXIoMS9kKX0pLFt0LHIsbixhLG9dKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUocywoKCk9PmwuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6bH0saSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOmN9LEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjp1fSxlKSkpfSkpO3ZhciBBbj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLk5PTkU9MF09XCJOT05FXCIsZVtlLlNUQVJUPTFdPVwiU1RBUlRcIixlW2UuQUNUSVZFPTJdPVwiQUNUSVZFXCIsZX0oQW58fHt9KTtjb25zdCBMbj1lPT5lJiZlLmlzT3J0aG9ncmFwaGljQ2FtZXJhLEluPWU9PjEtTWF0aC5leHAoLTUqZSkrLjAwNyplLEJuPUMuY3JlYXRlQ29udGV4dChudWxsKTtmdW5jdGlvbiBWbih7Y2hpbGRyZW46ZSxtYXhEdXJhdGlvbjp0PTEsbWFyZ2luOnI9MS4yLG9ic2VydmU6bixmaXQ6byxjbGlwOmksaW50ZXJwb2xhdGVGdW5jOnM9SW4sb25GaXQ6bH0pe2NvbnN0IGM9Qy51c2VSZWYobnVsbCkse2NhbWVyYTp1LHNpemU6ZCxpbnZhbGlkYXRlOm19PWEudXNlVGhyZWUoKSxmPWEudXNlVGhyZWUoKGU9PmUuY29udHJvbHMpKSxwPUMudXNlUmVmKGwpO3AuY3VycmVudD1sO2NvbnN0IGg9Qy51c2VSZWYoe2NhbVBvczpuZXcgUi5WZWN0b3IzLGNhbVJvdDpuZXcgUi5RdWF0ZXJuaW9uLGNhbVpvb206MX0pLHg9Qy51c2VSZWYoe2NhbVBvczp2b2lkIDAsY2FtUm90OnZvaWQgMCxjYW1ab29tOnZvaWQgMCxjYW1VcDp2b2lkIDAsdGFyZ2V0OnZvaWQgMH0pLHk9Qy51c2VSZWYoQW4uTk9ORSksdj1DLnVzZVJlZigwKSxbZ109Qy51c2VTdGF0ZSgoKCk9Pm5ldyBSLkJveDMpKSx3PUMudXNlTWVtbygoKCk9PntmdW5jdGlvbiBlKCl7Y29uc3QgZT1nLmdldFNpemUobmV3IFIuVmVjdG9yMyksdD1nLmdldENlbnRlcihuZXcgUi5WZWN0b3IzKSxuPU1hdGgubWF4KGUueCxlLnksZS56KSxhPUxuKHUpPzQqbjpuLygyKk1hdGguYXRhbihNYXRoLlBJKnUuZm92LzM2MCkpLG89TG4odSk/NCpuOmEvdS5hc3BlY3QsaT1yKk1hdGgubWF4KGEsbyk7cmV0dXJue2JveDpnLHNpemU6ZSxjZW50ZXI6dCxkaXN0YW5jZTppfX1yZXR1cm57Z2V0U2l6ZTplLHJlZnJlc2goZSl7aWYoKHQ9ZSkmJnQuaXNCb3gzKWcuY29weShlKTtlbHNle2NvbnN0IHQ9ZXx8Yy5jdXJyZW50O2lmKCF0KXJldHVybiB0aGlzO3QudXBkYXRlV29ybGRNYXRyaXgoITAsITApLGcuc2V0RnJvbU9iamVjdCh0KX12YXIgdDtpZihnLmlzRW1wdHkoKSl7Y29uc3QgZT11LnBvc2l0aW9uLmxlbmd0aCgpfHwxMDtnLnNldEZyb21DZW50ZXJBbmRTaXplKG5ldyBSLlZlY3RvcjMsbmV3IFIuVmVjdG9yMyhlLGUsZSkpfXJldHVybiBoLmN1cnJlbnQuY2FtUG9zLmNvcHkodS5wb3NpdGlvbiksaC5jdXJyZW50LmNhbVJvdC5jb3B5KHUucXVhdGVybmlvbiksTG4odSkmJihoLmN1cnJlbnQuY2FtWm9vbT11Lnpvb20pLHguY3VycmVudC5jYW1Qb3M9dm9pZCAwLHguY3VycmVudC5jYW1Sb3Q9dm9pZCAwLHguY3VycmVudC5jYW1ab29tPXZvaWQgMCx4LmN1cnJlbnQuY2FtVXA9dm9pZCAwLHguY3VycmVudC50YXJnZXQ9dm9pZCAwLHRoaXN9LHJlc2V0KCl7Y29uc3R7Y2VudGVyOnQsZGlzdGFuY2U6cn09ZSgpLG49dS5wb3NpdGlvbi5jbG9uZSgpLnN1Yih0KS5ub3JtYWxpemUoKTt4LmN1cnJlbnQuY2FtUG9zPXQuY2xvbmUoKS5hZGRTY2FsZWRWZWN0b3IobixyKSx4LmN1cnJlbnQudGFyZ2V0PXQuY2xvbmUoKTtjb25zdCBhPShuZXcgUi5NYXRyaXg0KS5sb29rQXQoeC5jdXJyZW50LmNhbVBvcyx4LmN1cnJlbnQudGFyZ2V0LHUudXApO3JldHVybiB4LmN1cnJlbnQuY2FtUm90PShuZXcgUi5RdWF0ZXJuaW9uKS5zZXRGcm9tUm90YXRpb25NYXRyaXgoYSkseS5jdXJyZW50PUFuLlNUQVJULHYuY3VycmVudD0wLHRoaXN9LG1vdmVUbyhlKXtyZXR1cm4geC5jdXJyZW50LmNhbVBvcz1BcnJheS5pc0FycmF5KGUpP25ldyBSLlZlY3RvcjMoLi4uZSk6ZS5jbG9uZSgpLHkuY3VycmVudD1Bbi5TVEFSVCx2LmN1cnJlbnQ9MCx0aGlzfSxsb29rQXQoe3RhcmdldDplLHVwOnR9KXt4LmN1cnJlbnQudGFyZ2V0PUFycmF5LmlzQXJyYXkoZSk/bmV3IFIuVmVjdG9yMyguLi5lKTplLmNsb25lKCkseC5jdXJyZW50LmNhbVVwPXQ/QXJyYXkuaXNBcnJheSh0KT9uZXcgUi5WZWN0b3IzKC4uLnQpOnQuY2xvbmUoKTp1LnVwLmNsb25lKCk7Y29uc3Qgcj0obmV3IFIuTWF0cml4NCkubG9va0F0KHguY3VycmVudC5jYW1Qb3N8fHUucG9zaXRpb24seC5jdXJyZW50LnRhcmdldCx4LmN1cnJlbnQuY2FtVXApO3JldHVybiB4LmN1cnJlbnQuY2FtUm90PShuZXcgUi5RdWF0ZXJuaW9uKS5zZXRGcm9tUm90YXRpb25NYXRyaXgocikseS5jdXJyZW50PUFuLlNUQVJULHYuY3VycmVudD0wLHRoaXN9LHRvKHtwb3NpdGlvbjplLHRhcmdldDp0fSl7cmV0dXJuIHRoaXMubW92ZVRvKGUpLmxvb2tBdCh7dGFyZ2V0OnR9KX0sZml0KCl7aWYoIUxuKHUpKXJldHVybiB0aGlzLnJlc2V0KCk7bGV0IGU9MCx0PTA7Y29uc3Qgbj1bbmV3IFIuVmVjdG9yMyhnLm1pbi54LGcubWluLnksZy5taW4ueiksbmV3IFIuVmVjdG9yMyhnLm1pbi54LGcubWF4LnksZy5taW4ueiksbmV3IFIuVmVjdG9yMyhnLm1pbi54LGcubWluLnksZy5tYXgueiksbmV3IFIuVmVjdG9yMyhnLm1pbi54LGcubWF4LnksZy5tYXgueiksbmV3IFIuVmVjdG9yMyhnLm1heC54LGcubWF4LnksZy5tYXgueiksbmV3IFIuVmVjdG9yMyhnLm1heC54LGcubWF4LnksZy5taW4ueiksbmV3IFIuVmVjdG9yMyhnLm1heC54LGcubWluLnksZy5tYXgueiksbmV3IFIuVmVjdG9yMyhnLm1heC54LGcubWluLnksZy5taW4ueildLGE9eC5jdXJyZW50LmNhbVBvc3x8dS5wb3NpdGlvbixvPXguY3VycmVudC50YXJnZXR8fChudWxsPT1mP3ZvaWQgMDpmLnRhcmdldCksaT14LmN1cnJlbnQuY2FtVXB8fHUudXAscz1vPyhuZXcgUi5NYXRyaXg0KS5sb29rQXQoYSxvLGkpLnNldFBvc2l0aW9uKGEpLmludmVydCgpOnUubWF0cml4V29ybGRJbnZlcnNlO2Zvcihjb25zdCByIG9mIG4pci5hcHBseU1hdHJpeDQocyksZT1NYXRoLm1heChlLE1hdGguYWJzKHIueSkpLHQ9TWF0aC5tYXgodCxNYXRoLmFicyhyLngpKTtlKj0yLHQqPTI7Y29uc3QgbD0odS50b3AtdS5ib3R0b20pL2UsYz0odS5yaWdodC11LmxlZnQpL3Q7cmV0dXJuIHguY3VycmVudC5jYW1ab29tPU1hdGgubWluKGwsYykvcix5LmN1cnJlbnQ9QW4uU1RBUlQsdi5jdXJyZW50PTAscC5jdXJyZW50JiZwLmN1cnJlbnQodGhpcy5nZXRTaXplKCkpLHRoaXN9LGNsaXAoKXtjb25zdHtkaXN0YW5jZTp0fT1lKCk7cmV0dXJuIHUubmVhcj10LzEwMCx1LmZhcj0xMDAqdCx1LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxmJiYoZi5tYXhEaXN0YW5jZT0xMCp0LGYudXBkYXRlKCkpLG0oKSx0aGlzfX19KSxbZyx1LGYscixtXSk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aWYoZil7Y29uc3QgZT0oKT0+e2lmKGYmJnguY3VycmVudC50YXJnZXQmJnkuY3VycmVudCE9PUFuLk5PTkUpe2NvbnN0IGU9KG5ldyBSLlZlY3RvcjMpLnNldEZyb21NYXRyaXhDb2x1bW4odS5tYXRyaXgsMiksdD1oLmN1cnJlbnQuY2FtUG9zLmRpc3RhbmNlVG8oZi50YXJnZXQpLHI9KHguY3VycmVudC5jYW1Qb3N8fGguY3VycmVudC5jYW1Qb3MpLmRpc3RhbmNlVG8oeC5jdXJyZW50LnRhcmdldCksbj0oMS12LmN1cnJlbnQpKnQrdi5jdXJyZW50KnI7Zi50YXJnZXQuY29weSh1LnBvc2l0aW9uKS5hZGRTY2FsZWRWZWN0b3IoZSwtbiksZi51cGRhdGUoKX15LmN1cnJlbnQ9QW4uTk9ORX07cmV0dXJuIGYuYWRkRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIsZSksKCk9PmYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXJ0XCIsZSl9fSksW2ZdKTtjb25zdCB6PUMudXNlUmVmKDApO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9Pnsobnx8MD09ei5jdXJyZW50KyspJiYody5yZWZyZXNoKCksbyYmdy5yZXNldCgpLmZpdCgpLGkmJncuY2xpcCgpKX0pLFtkLGksbyxuLHUsZl0pLGEudXNlRnJhbWUoKChlLHIpPT57aWYoeS5jdXJyZW50PT09QW4uU1RBUlQpeS5jdXJyZW50PUFuLkFDVElWRSxtKCk7ZWxzZSBpZih5LmN1cnJlbnQ9PT1Bbi5BQ1RJVkUpe2lmKHYuY3VycmVudCs9ci90LHYuY3VycmVudD49MSl4LmN1cnJlbnQuY2FtUG9zJiZ1LnBvc2l0aW9uLmNvcHkoeC5jdXJyZW50LmNhbVBvcykseC5jdXJyZW50LmNhbVJvdCYmdS5xdWF0ZXJuaW9uLmNvcHkoeC5jdXJyZW50LmNhbVJvdCkseC5jdXJyZW50LmNhbVVwJiZ1LnVwLmNvcHkoeC5jdXJyZW50LmNhbVVwKSx4LmN1cnJlbnQuY2FtWm9vbSYmTG4odSkmJih1Lnpvb209eC5jdXJyZW50LmNhbVpvb20pLHUudXBkYXRlTWF0cml4V29ybGQoKSx1LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxmJiZ4LmN1cnJlbnQudGFyZ2V0JiYoZi50YXJnZXQuY29weSh4LmN1cnJlbnQudGFyZ2V0KSxmLnVwZGF0ZSgpKSx5LmN1cnJlbnQ9QW4uTk9ORTtlbHNle2NvbnN0IGU9cyh2LmN1cnJlbnQpO3guY3VycmVudC5jYW1Qb3MmJnUucG9zaXRpb24ubGVycFZlY3RvcnMoaC5jdXJyZW50LmNhbVBvcyx4LmN1cnJlbnQuY2FtUG9zLGUpLHguY3VycmVudC5jYW1Sb3QmJnUucXVhdGVybmlvbi5zbGVycFF1YXRlcm5pb25zKGguY3VycmVudC5jYW1Sb3QseC5jdXJyZW50LmNhbVJvdCxlKSx4LmN1cnJlbnQuY2FtVXAmJnUudXAuc2V0KDAsMSwwKS5hcHBseVF1YXRlcm5pb24odS5xdWF0ZXJuaW9uKSx4LmN1cnJlbnQuY2FtWm9vbSYmTG4odSkmJih1Lnpvb209KDEtZSkqaC5jdXJyZW50LmNhbVpvb20rZSp4LmN1cnJlbnQuY2FtWm9vbSksdS51cGRhdGVNYXRyaXhXb3JsZCgpLHUudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfW0oKX19KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOmN9LEMuY3JlYXRlRWxlbWVudChCbi5Qcm92aWRlcix7dmFsdWU6d30sZSkpfWZ1bmN0aW9uIFVuKCl7cmV0dXJuIEMudXNlQ29udGV4dChCbil9Y29uc3QgT249Qy5mb3J3YXJkUmVmKCgoe2ludGVuc2l0eTplPTEsZGVjYXk6dCxkZWNheVJhdGU6cj0uNjUsbWF4WWF3Om49LjEsbWF4UGl0Y2g6bz0uMSxtYXhSb2xsOmk9LjEseWF3RnJlcXVlbmN5OnM9LjEscGl0Y2hGcmVxdWVuY3k6bD0uMSxyb2xsRnJlcXVlbmN5OmM9LjF9LGQpPT57Y29uc3QgbT1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLGY9YS51c2VUaHJlZSgoZT0+ZS5jb250cm9scykpLHA9Qy51c2VSZWYoZSksaD1DLnVzZVJlZihtLnJvdGF0aW9uLmNsb25lKCkpLFt4XT1DLnVzZVN0YXRlKCgoKT0+bmV3IHUuU2ltcGxleE5vaXNlKSksW3ldPUMudXNlU3RhdGUoKCgpPT5uZXcgdS5TaW1wbGV4Tm9pc2UpKSxbdl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyB1LlNpbXBsZXhOb2lzZSkpLGc9KCk9PnsocC5jdXJyZW50PDB8fHAuY3VycmVudD4xKSYmKHAuY3VycmVudD1wLmN1cnJlbnQ8MD8wOjEpfTtyZXR1cm4gQy51c2VJbXBlcmF0aXZlSGFuZGxlKGQsKCgpPT4oe2dldEludGVuc2l0eTooKT0+cC5jdXJyZW50LHNldEludGVuc2l0eTplPT57cC5jdXJyZW50PWUsZygpfX0pKSxbXSksQy51c2VFZmZlY3QoKCgpPT57aWYoZil7Y29uc3QgZT0oKT0+e2guY3VycmVudD1tLnJvdGF0aW9uLmNsb25lKCl9O3JldHVybiBmLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxlKCksKCk9PntmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKX19fSksW20sZl0pLGEudXNlRnJhbWUoKChlLGEpPT57Y29uc3QgdT1NYXRoLnBvdyhwLmN1cnJlbnQsMiksZD1uKnUqeC5ub2lzZShlLmNsb2NrLmVsYXBzZWRUaW1lKnMsMSksZj1vKnUqeS5ub2lzZShlLmNsb2NrLmVsYXBzZWRUaW1lKmwsMSksdz1pKnUqdi5ub2lzZShlLmNsb2NrLmVsYXBzZWRUaW1lKmMsMSk7bS5yb3RhdGlvbi5zZXQoaC5jdXJyZW50LngrZixoLmN1cnJlbnQueStkLGguY3VycmVudC56K3cpLHQmJnAuY3VycmVudD4wJiYocC5jdXJyZW50LT1yKmEsZygpKX0pKSxudWxsfSkpLE5uPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGVuYWJsZWQ6dD0hMCxzcGVlZDpyPTEscm90YXRpb25JbnRlbnNpdHk6bj0xLGZsb2F0SW50ZW5zaXR5Om89MSxmbG9hdGluZ1JhbmdlOmk9Wy0uMSwuMV0sYXV0b0ludmFsaWRhdGU6cz0hMSwuLi5sfSxjKT0+e2NvbnN0IHU9Qy51c2VSZWYobnVsbCk7Qy51c2VJbXBlcmF0aXZlSGFuZGxlKGMsKCgpPT51LmN1cnJlbnQpLFtdKTtjb25zdCBkPUMudXNlUmVmKDFlNCpNYXRoLnJhbmRvbSgpKTtyZXR1cm4gYS51c2VGcmFtZSgoZT0+e3ZhciBhLGw7aWYoIXR8fDA9PT1yKXJldHVybjtzJiZlLmludmFsaWRhdGUoKTtjb25zdCBjPWQuY3VycmVudCtlLmNsb2NrLmVsYXBzZWRUaW1lO3UuY3VycmVudC5yb3RhdGlvbi54PU1hdGguY29zKGMvNCpyKS84Km4sdS5jdXJyZW50LnJvdGF0aW9uLnk9TWF0aC5zaW4oYy80KnIpLzgqbix1LmN1cnJlbnQucm90YXRpb24uej1NYXRoLnNpbihjLzQqcikvMjAqbjtsZXQgbT1NYXRoLnNpbihjLzQqcikvMTA7bT1SLk1hdGhVdGlscy5tYXBMaW5lYXIobSwtLjEsLjEsbnVsbCE9PShhPW51bGw9PWk/dm9pZCAwOmlbMF0pJiZ2b2lkIDAhPT1hP2E6LS4xLG51bGwhPT0obD1udWxsPT1pP3ZvaWQgMDppWzFdKSYmdm9pZCAwIT09bD9sOi4xKSx1LmN1cnJlbnQucG9zaXRpb24ueT1tKm8sdS5jdXJyZW50LnVwZGF0ZU1hdHJpeCgpfSkpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsbCxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6dSxtYXRyaXhBdXRvVXBkYXRlOiExfSxlKSl9KSksam49e2FwYXJ0bWVudDpcImxlYm9tYm9fMWsuaGRyXCIsY2l0eTpcInBvdHNkYW1lcl9wbGF0el8xay5oZHJcIixkYXduOlwia2lhcmFfMV9kYXduXzFrLmhkclwiLGZvcmVzdDpcImZvcmVzdF9zbG9wZV8xay5oZHJcIixsb2JieTpcInN0X2ZhZ2Fuc19pbnRlcmlvcl8xay5oZHJcIixuaWdodDpcImRpa2hvbG9sb19uaWdodF8xay5oZHJcIixwYXJrOlwicm9vaXRvdV9wYXJrXzFrLmhkclwiLHN0dWRpbzpcInN0dWRpb19zbWFsbF8wM18xay5oZHJcIixzdW5zZXQ6XCJ2ZW5pY2Vfc3Vuc2V0XzFrLmhkclwiLHdhcmVob3VzZTpcImVtcHR5X3dhcmVob3VzZV8wMV8xay5oZHJcIn0sV249XCJodHRwczovL3Jhdy5naXRoYWNrLmNvbS9wbW5kcnMvZHJlaS1hc3NldHMvNDU2MDYwYTI2YmJlYjhmZGY3OTMyNmYyMjRiNmQ5OWI4YmNjZTczNi9oZHJpL1wiLEduPWU9PkFycmF5LmlzQXJyYXkoZSksSG49W1wiL3B4LnBuZ1wiLFwiL254LnBuZ1wiLFwiL3B5LnBuZ1wiLFwiL255LnBuZ1wiLFwiL3B6LnBuZ1wiLFwiL256LnBuZ1wiXTtmdW5jdGlvbiAkbih7ZmlsZXM6ZT1IbixwYXRoOnI9XCJcIixwcmVzZXQ6byxlbmNvZGluZzppLGV4dGVuc2lvbnM6c309e30pe2xldCBsPW51bGwsYz0hMTtvJiYoWm4obyksZT1qbltvXSxyPVduKSxjPUduKGUpO2NvbnN0e2V4dGVuc2lvbjp1LGlzQ3ViZW1hcDpkfT1ZbihlKTtpZihsPVFuKHUpLCFsKXRocm93IG5ldyBFcnJvcihcInVzZUVudmlyb25tZW50OiBVbnJlY29nbml6ZWQgZmlsZSBleHRlbnNpb246IFwiK2UpO2NvbnN0IG09YS51c2VUaHJlZSgoZT0+ZS5nbCkpO3QudXNlTGF5b3V0RWZmZWN0KCgoKT0+e1wid2VicFwiIT09dSYmXCJqcGdcIiE9PXUmJlwianBlZ1wiIT09dXx8bS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsKGZ1bmN0aW9uKCl7YS51c2VMb2FkZXIuY2xlYXIobCxjP1tlXTplKX0pLHtvbmNlOiEwfSl9KSxbZSxtLmRvbUVsZW1lbnRdKTtjb25zdCBmPWEudXNlTG9hZGVyKGwsYz9bZV06ZSwoZT0+e1wid2VicFwiIT09dSYmXCJqcGdcIiE9PXUmJlwianBlZ1wiIT09dXx8ZS5zZXRSZW5kZXJlcihtKSxudWxsPT1lLnNldFBhdGh8fGUuc2V0UGF0aChyKSxzJiZzKGUpfSkpO2xldCBwPWM/ZlswXTpmO3ZhciBoO1wianBnXCIhPT11JiZcImpwZWdcIiE9PXUmJlwid2VicFwiIT09dXx8KHA9bnVsbD09KGg9cC5yZW5kZXJUYXJnZXQpP3ZvaWQgMDpoLnRleHR1cmUpO3JldHVybiBwLm1hcHBpbmc9ZD9uLkN1YmVSZWZsZWN0aW9uTWFwcGluZzpuLkVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nLFwiY29sb3JTcGFjZVwiaW4gcD9wLmNvbG9yU3BhY2U9KG51bGwhPWk/aTpkKT9cInNyZ2JcIjpcInNyZ2ItbGluZWFyXCI6cC5lbmNvZGluZz0obnVsbCE9aT9pOmQpPzMwMDE6M2UzLHB9Y29uc3QgcW49e2ZpbGVzOkhuLHBhdGg6XCJcIixwcmVzZXQ6dm9pZCAwLGV4dGVuc2lvbnM6dm9pZCAwfTskbi5wcmVsb2FkPWU9Pntjb25zdCB0PXsuLi5xbiwuLi5lfTtsZXR7ZmlsZXM6cixwYXRoOm49XCJcIn09dDtjb25zdHtwcmVzZXQ6byxleHRlbnNpb25zOml9PXQ7byYmKFpuKG8pLHI9am5bb10sbj1Xbik7Y29uc3R7ZXh0ZW5zaW9uOnN9PVluKHIpO2lmKFwid2VicFwiPT09c3x8XCJqcGdcIj09PXN8fFwianBlZ1wiPT09cyl0aHJvdyBuZXcgRXJyb3IoXCJ1c2VFbnZpcm9ubWVudDogUHJlbG9hZGluZyBnYWlubWFwcyBpcyBub3Qgc3VwcG9ydGVkXCIpO2NvbnN0IGw9UW4ocyk7aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwidXNlRW52aXJvbm1lbnQ6IFVucmVjb2duaXplZCBmaWxlIGV4dGVuc2lvbjogXCIrcik7YS51c2VMb2FkZXIucHJlbG9hZChsLEduKHIpP1tyXTpyLChlPT57bnVsbD09ZS5zZXRQYXRofHxlLnNldFBhdGgobiksaSYmaShlKX0pKX07Y29uc3QgWG49e2ZpbGVzOkhuLHByZXNldDp2b2lkIDB9O2Z1bmN0aW9uIFpuKGUpe2lmKCEoZSBpbiBqbikpdGhyb3cgbmV3IEVycm9yKFwiUHJlc2V0IG11c3QgYmUgb25lIG9mOiBcIitPYmplY3Qua2V5cyhqbikuam9pbihcIiwgXCIpKX1mdW5jdGlvbiBZbihlKXt2YXIgdDtjb25zdCByPUduKGUpJiY2PT09ZS5sZW5ndGgsbj1HbihlKSYmMz09PWUubGVuZ3RoJiZlLnNvbWUoKGU9PmUuZW5kc1dpdGgoXCJqc29uXCIpKSksYT1HbihlKT9lWzBdOmU7cmV0dXJue2V4dGVuc2lvbjpyP1wiY3ViZVwiOm4/XCJ3ZWJwXCI6YS5zdGFydHNXaXRoKFwiZGF0YTphcHBsaWNhdGlvbi9leHJcIik/XCJleHJcIjphLnN0YXJ0c1dpdGgoXCJkYXRhOmFwcGxpY2F0aW9uL2hkclwiKT9cImhkclwiOmEuc3RhcnRzV2l0aChcImRhdGE6aW1hZ2UvanBlZ1wiKT9cImpwZ1wiOm51bGw9PSh0PWEuc3BsaXQoXCIuXCIpLnBvcCgpKXx8bnVsbD09KHQ9dC5zcGxpdChcIj9cIikpfHxudWxsPT0odD10LnNoaWZ0KCkpP3ZvaWQgMDp0LnRvTG93ZXJDYXNlKCksaXNDdWJlbWFwOnIsaXNHYWlubWFwOm59fWZ1bmN0aW9uIFFuKGUpe3JldHVyblwiY3ViZVwiPT09ZT9uLkN1YmVUZXh0dXJlTG9hZGVyOlwiaGRyXCI9PT1lP3UuUkdCRUxvYWRlcjpcImV4clwiPT09ZT91LkVYUkxvYWRlcjpcImpwZ1wiPT09ZXx8XCJqcGVnXCI9PT1lP2IuSERSSlBHTG9hZGVyOlwid2VicFwiPT09ZT9iLkdhaW5NYXBMb2FkZXI6bnVsbH0kbi5jbGVhcj1lPT57Y29uc3QgdD17Li4uWG4sLi4uZX07bGV0e2ZpbGVzOnJ9PXQ7Y29uc3R7cHJlc2V0Om59PXQ7biYmKFpuKG4pLHI9am5bbl0pO2NvbnN0e2V4dGVuc2lvbjpvfT1ZbihyKSxpPVFuKG8pO2lmKCFpKXRocm93IG5ldyBFcnJvcihcInVzZUVudmlyb25tZW50OiBVbnJlY29nbml6ZWQgZmlsZSBleHRlbnNpb246IFwiK3IpO2EudXNlTG9hZGVyLmNsZWFyKGksR24ocik/W3JdOnIpfTtmdW5jdGlvbiBLbihlLHQscixuLG89e30pe3ZhciBpLHMsbCxjO289e2JhY2tncm91bmRCbHVycmluZXNzOjAsYmFja2dyb3VuZEludGVuc2l0eToxLGJhY2tncm91bmRSb3RhdGlvbjpbMCwwLDBdLGVudmlyb25tZW50SW50ZW5zaXR5OjEsZW52aXJvbm1lbnRSb3RhdGlvbjpbMCwwLDBdLC4uLm99O2NvbnN0IHU9KGU9PntyZXR1cm4odD1lKS5jdXJyZW50JiZ0LmN1cnJlbnQuaXNTY2VuZT9lLmN1cnJlbnQ6ZTt2YXIgdH0pKHR8fHIpLGQ9dS5iYWNrZ3JvdW5kLG09dS5lbnZpcm9ubWVudCxmPXtiYWNrZ3JvdW5kQmx1cnJpbmVzczp1LmJhY2tncm91bmRCbHVycmluZXNzLGJhY2tncm91bmRJbnRlbnNpdHk6dS5iYWNrZ3JvdW5kSW50ZW5zaXR5LGJhY2tncm91bmRSb3RhdGlvbjpudWxsIT09KGk9bnVsbD09KHM9dS5iYWNrZ3JvdW5kUm90YXRpb24pfHxudWxsPT1zLmNsb25lP3ZvaWQgMDpzLmNsb25lKCkpJiZ2b2lkIDAhPT1pP2k6WzAsMCwwXSxlbnZpcm9ubWVudEludGVuc2l0eTp1LmVudmlyb25tZW50SW50ZW5zaXR5LGVudmlyb25tZW50Um90YXRpb246bnVsbCE9PShsPW51bGw9PShjPXUuZW52aXJvbm1lbnRSb3RhdGlvbil8fG51bGw9PWMuY2xvbmU/dm9pZCAwOmMuY2xvbmUoKSkmJnZvaWQgMCE9PWw/bDpbMCwwLDBdfTtyZXR1cm5cIm9ubHlcIiE9PWUmJih1LmVudmlyb25tZW50PW4pLGUmJih1LmJhY2tncm91bmQ9biksYS5hcHBseVByb3BzKHUsbyksKCk9PntcIm9ubHlcIiE9PWUmJih1LmVudmlyb25tZW50PW0pLGUmJih1LmJhY2tncm91bmQ9ZCksYS5hcHBseVByb3BzKHUsZil9fWZ1bmN0aW9uIEpuKHtzY2VuZTplLGJhY2tncm91bmQ6dD0hMSxtYXA6ciwuLi5ufSl7Y29uc3Qgbz1hLnVzZVRocmVlKChlPT5lLnNjZW5lKSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2lmKHIpcmV0dXJuIEtuKHQsZSxvLHIsbil9KSksbnVsbH1mdW5jdGlvbiBlYSh7YmFja2dyb3VuZDplPSExLHNjZW5lOnQsYmx1cjpyLGJhY2tncm91bmRCbHVycmluZXNzOm4sYmFja2dyb3VuZEludGVuc2l0eTpvLGJhY2tncm91bmRSb3RhdGlvbjppLGVudmlyb25tZW50SW50ZW5zaXR5OnMsZW52aXJvbm1lbnRSb3RhdGlvbjpsLC4uLmN9KXtjb25zdCB1PSRuKGMpLGQ9YS51c2VUaHJlZSgoZT0+ZS5zY2VuZSkpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PktuKGUsdCxkLHUse2JhY2tncm91bmRCbHVycmluZXNzOm51bGwhPXI/cjpuLGJhY2tncm91bmRJbnRlbnNpdHk6byxiYWNrZ3JvdW5kUm90YXRpb246aSxlbnZpcm9ubWVudEludGVuc2l0eTpzLGVudmlyb25tZW50Um90YXRpb246bH0pKSksQy51c2VFZmZlY3QoKCgpPT4oKT0+e3UuZGlzcG9zZSgpfSksW3VdKSxudWxsfWZ1bmN0aW9uIHRhKHtjaGlsZHJlbjplLG5lYXI6dD0uMSxmYXI6cj0xZTMscmVzb2x1dGlvbjpvPTI1NixmcmFtZXM6aT0xLG1hcDpzLGJhY2tncm91bmQ6bD0hMSxibHVyOmMsYmFja2dyb3VuZEJsdXJyaW5lc3M6dSxiYWNrZ3JvdW5kSW50ZW5zaXR5OmQsYmFja2dyb3VuZFJvdGF0aW9uOm0sZW52aXJvbm1lbnRJbnRlbnNpdHk6ZixlbnZpcm9ubWVudFJvdGF0aW9uOnAsc2NlbmU6aCxmaWxlczp4LHBhdGg6eSxwcmVzZXQ6dixleHRlbnNpb25zOmd9KXtjb25zdCB3PWEudXNlVGhyZWUoKGU9PmUuZ2wpKSx6PWEudXNlVGhyZWUoKGU9PmUuc2NlbmUpKSxiPUMudXNlUmVmKG51bGwpLFtFXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uU2NlbmUpKSxNPUMudXNlTWVtbygoKCk9Pntjb25zdCBlPW5ldyBuLldlYkdMQ3ViZVJlbmRlclRhcmdldChvKTtyZXR1cm4gZS50ZXh0dXJlLnR5cGU9bi5IYWxmRmxvYXRUeXBlLGV9KSxbb10pO0MudXNlRWZmZWN0KCgoKT0+KCk9PntNLmRpc3Bvc2UoKX0pLFtNXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57aWYoMT09PWkpe2NvbnN0IGU9dy5hdXRvQ2xlYXI7dy5hdXRvQ2xlYXI9ITAsYi5jdXJyZW50LnVwZGF0ZSh3LEUpLHcuYXV0b0NsZWFyPWV9cmV0dXJuIEtuKGwsaCx6LE0udGV4dHVyZSx7YmFja2dyb3VuZEJsdXJyaW5lc3M6bnVsbCE9Yz9jOnUsYmFja2dyb3VuZEludGVuc2l0eTpkLGJhY2tncm91bmRSb3RhdGlvbjptLGVudmlyb25tZW50SW50ZW5zaXR5OmYsZW52aXJvbm1lbnRSb3RhdGlvbjpwfSl9KSxbZSxFLE0udGV4dHVyZSxoLHosbCxpLHddKTtsZXQgUz0xO3JldHVybiBhLnVzZUZyYW1lKCgoKT0+e2lmKGk9PT0xLzB8fFM8aSl7Y29uc3QgZT13LmF1dG9DbGVhcjt3LmF1dG9DbGVhcj0hMCxiLmN1cnJlbnQudXBkYXRlKHcsRSksdy5hdXRvQ2xlYXI9ZSxTKyt9fSkpLEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsYS5jcmVhdGVQb3J0YWwoQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxlLEMuY3JlYXRlRWxlbWVudChcImN1YmVDYW1lcmFcIix7cmVmOmIsYXJnczpbdCxyLE1dfSkseHx8dj9DLmNyZWF0ZUVsZW1lbnQoZWEse2JhY2tncm91bmQ6ITAsZmlsZXM6eCxwcmVzZXQ6dixwYXRoOnksZXh0ZW5zaW9uczpnfSk6cz9DLmNyZWF0ZUVsZW1lbnQoSm4se2JhY2tncm91bmQ6ITAsbWFwOnMsZXh0ZW5zaW9uczpnfSk6bnVsbCksRSkpfWZ1bmN0aW9uIHJhKGUpe3ZhciB0LHIsbixvO2NvbnN0IGk9JG4oZSkscz1lLm1hcHx8aTtDLnVzZU1lbW8oKCgpPT5hLmV4dGVuZCh7R3JvdW5kUHJvamVjdGVkRW52SW1wbDp1Lkdyb3VuZFByb2plY3RlZEVudn0pKSxbXSksQy51c2VFZmZlY3QoKCgpPT4oKT0+e2kuZGlzcG9zZSgpfSksW2ldKTtjb25zdCBsPUMudXNlTWVtbygoKCk9PltzXSksW3NdKSxjPW51bGw9PSh0PWUuZ3JvdW5kKT92b2lkIDA6dC5oZWlnaHQsZD1udWxsPT0ocj1lLmdyb3VuZCk/dm9pZCAwOnIucmFkaXVzLG09bnVsbCE9PShuPW51bGw9PShvPWUuZ3JvdW5kKT92b2lkIDA6by5zY2FsZSkmJnZvaWQgMCE9PW4/bjoxZTM7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsQy5jcmVhdGVFbGVtZW50KEpuLFQuZGVmYXVsdCh7fSxlLHttYXA6c30pKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91bmRQcm9qZWN0ZWRFbnZJbXBsXCIse2FyZ3M6bCxzY2FsZTptLGhlaWdodDpjLHJhZGl1czpkfSkpfWZ1bmN0aW9uIG5hKGUpe3JldHVybiBlLmdyb3VuZD9DLmNyZWF0ZUVsZW1lbnQocmEsZSk6ZS5tYXA/Qy5jcmVhdGVFbGVtZW50KEpuLGUpOmUuY2hpbGRyZW4/Qy5jcmVhdGVFbGVtZW50KHRhLGUpOkMuY3JlYXRlRWxlbWVudChlYSxlKX1jb25zdCBhYT1DLmZvcndhcmRSZWYoKCh7c2NhbGU6ZT0xMCxmcmFtZXM6dD0xLzAsb3BhY2l0eTpyPTEsd2lkdGg6bj0xLGhlaWdodDpvPTEsYmx1cjppPTEsbmVhcjpzPTAsZmFyOmw9MTAscmVzb2x1dGlvbjpjPTUxMixzbW9vdGg6ZD0hMCxjb2xvcjptPVwiIzAwMDAwMFwiLGRlcHRoV3JpdGU6Zj0hMSxyZW5kZXJPcmRlcjpwLC4uLmh9LHgpPT57Y29uc3QgeT1DLnVzZVJlZihudWxsKSx2PWEudXNlVGhyZWUoKGU9PmUuc2NlbmUpKSxnPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSx3PUMudXNlUmVmKG51bGwpO24qPUFycmF5LmlzQXJyYXkoZSk/ZVswXTplfHwxLG8qPUFycmF5LmlzQXJyYXkoZSk/ZVsxXTplfHwxO2NvbnN0W3osYixFLE0sUyxQLERdPUMudXNlTWVtbygoKCk9Pntjb25zdCBlPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KGMsYyksdD1uZXcgUi5XZWJHTFJlbmRlclRhcmdldChjLGMpO3QudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZS50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz0hMTtjb25zdCByPW5ldyBSLlBsYW5lR2VvbWV0cnkobixvKS5yb3RhdGVYKE1hdGguUEkvMiksYT1uZXcgUi5NZXNoKHIpLGk9bmV3IFIuTWVzaERlcHRoTWF0ZXJpYWw7aS5kZXB0aFRlc3Q9aS5kZXB0aFdyaXRlPSExLGkub25CZWZvcmVDb21waWxlPWU9PntlLnVuaWZvcm1zPXsuLi5lLnVuaWZvcm1zLHVjb2xvcjp7dmFsdWU6bmV3IFIuQ29sb3IobSl9fSxlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcInZvaWQgbWFpbigpIHtcIixcInVuaWZvcm0gdmVjMyB1Y29sb3I7XFxuICAgICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIFwiKSxlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcInZlYzQoIHZlYzMoIDEuMCAtIGZyYWdDb29yZFogKSwgb3BhY2l0eSApO1wiLFwidmVjNCggdWNvbG9yICogZnJhZ0Nvb3JkWiAqIDIuMCwgKCAxLjAgLSBmcmFnQ29vcmRaICkgKiAxLjAgKTtcIil9O2NvbnN0IHM9bmV3IFIuU2hhZGVyTWF0ZXJpYWwodS5Ib3Jpem9udGFsQmx1clNoYWRlciksbD1uZXcgUi5TaGFkZXJNYXRlcmlhbCh1LlZlcnRpY2FsQmx1clNoYWRlcik7cmV0dXJuIGwuZGVwdGhUZXN0PXMuZGVwdGhUZXN0PSExLFtlLHIsaSxhLHMsbCx0XX0pLFtjLG4sbyxlLG1dKSxGPWU9PntNLnZpc2libGU9ITAsTS5tYXRlcmlhbD1TLFMudW5pZm9ybXMudERpZmZ1c2UudmFsdWU9ei50ZXh0dXJlLFMudW5pZm9ybXMuaC52YWx1ZT0xKmUvMjU2LGcuc2V0UmVuZGVyVGFyZ2V0KEQpLGcucmVuZGVyKE0sdy5jdXJyZW50KSxNLm1hdGVyaWFsPVAsUC51bmlmb3Jtcy50RGlmZnVzZS52YWx1ZT1ELnRleHR1cmUsUC51bmlmb3Jtcy52LnZhbHVlPTEqZS8yNTYsZy5zZXRSZW5kZXJUYXJnZXQoeiksZy5yZW5kZXIoTSx3LmN1cnJlbnQpLE0udmlzaWJsZT0hMX07bGV0IGssXyxBPTA7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57dy5jdXJyZW50JiYodD09PTEvMHx8QTx0KSYmKEErKyxrPXYuYmFja2dyb3VuZCxfPXYub3ZlcnJpZGVNYXRlcmlhbCx5LmN1cnJlbnQudmlzaWJsZT0hMSx2LmJhY2tncm91bmQ9bnVsbCx2Lm92ZXJyaWRlTWF0ZXJpYWw9RSxnLnNldFJlbmRlclRhcmdldCh6KSxnLnJlbmRlcih2LHcuY3VycmVudCksRihpKSxkJiZGKC40KmkpLGcuc2V0UmVuZGVyVGFyZ2V0KG51bGwpLHkuY3VycmVudC52aXNpYmxlPSEwLHYub3ZlcnJpZGVNYXRlcmlhbD1fLHYuYmFja2dyb3VuZD1rKX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUoeCwoKCk9PnkuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtcInJvdGF0aW9uLXhcIjpNYXRoLlBJLzJ9LGgse3JlZjp5fSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLHtyZW5kZXJPcmRlcjpwLGdlb21ldHJ5OmIsc2NhbGU6WzEsLTEsMV0scm90YXRpb246Wy1NYXRoLlBJLzIsMCwwXX0sQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7dHJhbnNwYXJlbnQ6ITAsbWFwOnoudGV4dHVyZSxvcGFjaXR5OnIsZGVwdGhXcml0ZTpmfSkpLEMuY3JlYXRlRWxlbWVudChcIm9ydGhvZ3JhcGhpY0NhbWVyYVwiLHtyZWY6dyxhcmdzOlstbi8yLG4vMixvLzIsLW8vMixzLGxdfSkpfSkpO2NvbnN0IG9hPUMuY3JlYXRlQ29udGV4dChudWxsKSxpYT1UZSh7Y29sb3I6bmV3IFIuQ29sb3IsYmxlbmQ6MixhbHBoYVRlc3Q6Ljc1LG9wYWNpdHk6MCxtYXA6bnVsbH0sXCJ2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgIHZvaWQgbWFpbigpIHtcXG4gICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuKTtcXG4gICAgIHZVdiA9IHV2O1xcbiAgIH1cIixgdmFyeWluZyB2ZWMyIHZVdjtcXG4gICB1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XFxuICAgdW5pZm9ybSB2ZWMzIGNvbG9yO1xcbiAgIHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG4gICB1bmlmb3JtIGZsb2F0IGFscGhhVGVzdDtcXG4gICB1bmlmb3JtIGZsb2F0IGJsZW5kO1xcbiAgIHZvaWQgbWFpbigpIHtcXG4gICAgIHZlYzQgc2FtcGxlZERpZmZ1c2VDb2xvciA9IHRleHR1cmUyRChtYXAsIHZVdik7XFxuICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yICogc2FtcGxlZERpZmZ1c2VDb2xvci5yICogYmxlbmQsIG1heCgwLjAsICgxLjAgLSAoc2FtcGxlZERpZmZ1c2VDb2xvci5yICsgc2FtcGxlZERpZmZ1c2VDb2xvci5nICsgc2FtcGxlZERpZmZ1c2VDb2xvci5iKSAvIGFscGhhVGVzdCkpICogb3BhY2l0eSk7XFxuICAgICAjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuICAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgIH1gKSxzYT1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSx0ZW1wb3JhbDp0LGZyYW1lczpyPTQwLGxpbWl0Om49MS8wLGJsZW5kOm89MjAsc2NhbGU6aT0xMCxvcGFjaXR5OnM9MSxhbHBoYVRlc3Q6bD0uNzUsY29sb3I6Yz1cImJsYWNrXCIsY29sb3JCbGVuZDp1PTIscmVzb2x1dGlvbjpkPTEwMjQsdG9uZU1hcHBlZDptPSEwLC4uLmZ9LHApPT57YS5leHRlbmQoe1NvZnRTaGFkb3dNYXRlcmlhbDppYX0pO2NvbnN0IGg9YS51c2VUaHJlZSgoZT0+ZS5nbCkpLHg9YS51c2VUaHJlZSgoZT0+ZS5zY2VuZSkpLHk9YS51c2VUaHJlZSgoZT0+ZS5jYW1lcmEpKSx2PWEudXNlVGhyZWUoKGU9PmUuaW52YWxpZGF0ZSkpLGc9Qy51c2VSZWYobnVsbCksdz1DLnVzZVJlZihudWxsKSxbel09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBjYShoLHgsZCkpKTtDLnVzZUxheW91dEVmZmVjdCgoKCk9Pnt6LmNvbmZpZ3VyZShnLmN1cnJlbnQpfSksW10pO2NvbnN0IGI9Qy51c2VNZW1vKCgoKT0+KHtsaWdodHM6bmV3IE1hcCx0ZW1wb3JhbDohIXQsZnJhbWVzOk1hdGgubWF4KDIsciksYmxlbmQ6TWF0aC5tYXgoMixyPT09MS8wP286ciksY291bnQ6MCxnZXRNZXNoOigpPT5nLmN1cnJlbnQscmVzZXQ6KCk9Pnt6LmNsZWFyKCk7Y29uc3QgZT1nLmN1cnJlbnQubWF0ZXJpYWw7ZS5vcGFjaXR5PTAsZS5hbHBoYVRlc3Q9MCxiLmNvdW50PTB9LHVwZGF0ZTooZT0xKT0+e2NvbnN0IHQ9Zy5jdXJyZW50Lm1hdGVyaWFsO2IudGVtcG9yYWw/KHQub3BhY2l0eT1NYXRoLm1pbihzLHQub3BhY2l0eStzL2IuYmxlbmQpLHQuYWxwaGFUZXN0PU1hdGgubWluKGwsdC5hbHBoYVRlc3QrbC9iLmJsZW5kKSk6KHQub3BhY2l0eT1zLHQuYWxwaGFUZXN0PWwpLHcuY3VycmVudC52aXNpYmxlPSEwLHoucHJlcGFyZSgpO2ZvcihsZXQgdD0wO3Q8ZTt0KyspYi5saWdodHMuZm9yRWFjaCgoZT0+ZS51cGRhdGUoKSkpLHoudXBkYXRlKHksYi5ibGVuZCk7dy5jdXJyZW50LnZpc2libGU9ITEsei5maW5pc2goKX19KSksW3oseSx4LHQscixvLHMsbF0pO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntiLnJlc2V0KCksYi50ZW1wb3JhbHx8Yi5mcmFtZXM9PT0xLzB8fGIudXBkYXRlKGIuYmxlbmQpfSkpLEMudXNlSW1wZXJhdGl2ZUhhbmRsZShwLCgoKT0+YiksW2JdKSxhLnVzZUZyYW1lKCgoKT0+eyhiLnRlbXBvcmFsfHxiLmZyYW1lcz09PTEvMCkmJmIuY291bnQ8Yi5mcmFtZXMmJmIuY291bnQ8biYmKHYoKSxiLnVwZGF0ZSgpLGIuY291bnQrKyl9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixmLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3RyYXZlcnNlOigpPT5udWxsLHJlZjp3fSxDLmNyZWF0ZUVsZW1lbnQob2EuUHJvdmlkZXIse3ZhbHVlOmJ9LGUpKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlY2VpdmVTaGFkb3c6ITAscmVmOmcsc2NhbGU6aSxyb3RhdGlvbjpbLU1hdGguUEkvMiwwLDBdfSxDLmNyZWF0ZUVsZW1lbnQoXCJwbGFuZUdlb21ldHJ5XCIsbnVsbCksQy5jcmVhdGVFbGVtZW50KFwic29mdFNoYWRvd01hdGVyaWFsXCIse3RyYW5zcGFyZW50OiEwLGRlcHRoV3JpdGU6ITEsdG9uZU1hcHBlZDptLGNvbG9yOmMsYmxlbmQ6dSxtYXA6ei5wcm9ncmVzc2l2ZUxpZ2h0TWFwMi50ZXh0dXJlfSkpKX0pKSxsYT1DLmZvcndhcmRSZWYoKCh7Y2FzdFNoYWRvdzplPSEwLGJpYXM6dD0uMDAxLG1hcFNpemU6cj01MTIsc2l6ZTpuPTUsbmVhcjphPS41LGZhcjpvPTUwMCxmcmFtZXM6aT0xLHBvc2l0aW9uOnM9WzAsMCwwXSxyYWRpdXM6bD0xLGFtb3VudDpjPTgsaW50ZW5zaXR5OnU9KFJlPj0xNTU/TWF0aC5QSToxKSxhbWJpZW50OmQ9LjUsLi4ubX0sZik9Pntjb25zdCBwPUMudXNlUmVmKG51bGwpLGg9bmV3IFIuVmVjdG9yMyguLi5zKS5sZW5ndGgoKSx4PUMudXNlQ29udGV4dChvYSkseT1DLnVzZUNhbGxiYWNrKCgoKT0+e2xldCBlO2lmKHAuY3VycmVudClmb3IobGV0IHQ9MDt0PHAuY3VycmVudC5jaGlsZHJlbi5sZW5ndGg7dCsrKWlmKGU9cC5jdXJyZW50LmNoaWxkcmVuW3RdLE1hdGgucmFuZG9tKCk+ZCllLnBvc2l0aW9uLnNldChzWzBdK1IuTWF0aFV0aWxzLnJhbmRGbG9hdFNwcmVhZChsKSxzWzFdK1IuTWF0aFV0aWxzLnJhbmRGbG9hdFNwcmVhZChsKSxzWzJdK1IuTWF0aFV0aWxzLnJhbmRGbG9hdFNwcmVhZChsKSk7ZWxzZXtsZXQgdD1NYXRoLmFjb3MoMipNYXRoLnJhbmRvbSgpLTEpLU1hdGguUEkvMixyPTIqTWF0aC5QSSpNYXRoLnJhbmRvbSgpO2UucG9zaXRpb24uc2V0KE1hdGguY29zKHQpKk1hdGguY29zKHIpKmgsTWF0aC5hYnMoTWF0aC5jb3ModCkqTWF0aC5zaW4ocikqaCksTWF0aC5zaW4odCkqaCl9fSksW2wsZCxoLC4uLnNdKSx2PUMudXNlTWVtbygoKCk9Pih7dXBkYXRlOnl9KSksW3ldKTtyZXR1cm4gQy51c2VJbXBlcmF0aXZlSGFuZGxlKGYsKCgpPT52KSxbdl0pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3ZhciBlO2NvbnN0IHQ9cC5jdXJyZW50O3JldHVybiB4JiYobnVsbD09KGU9eC5saWdodHMpfHxlLnNldCh0LnV1aWQsdikpLCgpPT57dmFyIGU7bnVsbD09eHx8bnVsbD09KGU9eC5saWdodHMpfHxlLmRlbGV0ZSh0LnV1aWQpfX0pLFt4LHZdKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOnB9LG0pLEFycmF5LmZyb20oe2xlbmd0aDpjfSwoKGkscyk9PkMuY3JlYXRlRWxlbWVudChcImRpcmVjdGlvbmFsTGlnaHRcIix7a2V5OnMsY2FzdFNoYWRvdzplLFwic2hhZG93LWJpYXNcIjp0LFwic2hhZG93LW1hcFNpemVcIjpbcixyXSxpbnRlbnNpdHk6dS9jfSxDLmNyZWF0ZUVsZW1lbnQoXCJvcnRob2dyYXBoaWNDYW1lcmFcIix7YXR0YWNoOlwic2hhZG93LWNhbWVyYVwiLGFyZ3M6Wy1uLG4sbiwtbixhLG9dfSkpKSkpfSkpO2NsYXNzIGNhe2NvbnN0cnVjdG9yKGUsdCxyPTEwMjQpe3RoaXMucmVuZGVyZXI9ZSx0aGlzLnJlcz1yLHRoaXMuc2NlbmU9dCx0aGlzLmJ1ZmZlcjFBY3RpdmU9ITEsdGhpcy5saWdodHM9W10sdGhpcy5tZXNoZXM9W10sdGhpcy5vYmplY3Q9bnVsbCx0aGlzLmNsZWFyQ29sb3I9bmV3IFIuQ29sb3IsdGhpcy5jbGVhckFscGhhPTA7Y29uc3Qgbj17dHlwZTpSLkhhbGZGbG9hdFR5cGUsbWFnRmlsdGVyOlIuTmVhcmVzdEZpbHRlcixtaW5GaWx0ZXI6Ui5OZWFyZXN0RmlsdGVyfTt0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KHRoaXMucmVzLHRoaXMucmVzLG4pLHRoaXMucHJvZ3Jlc3NpdmVMaWdodE1hcDI9bmV3IFIuV2ViR0xSZW5kZXJUYXJnZXQodGhpcy5yZXMsdGhpcy5yZXMsbiksdGhpcy5kaXNjYXJkTWF0PW5ldyBlbix0aGlzLnRhcmdldE1hdD1uZXcgUi5NZXNoTGFtYmVydE1hdGVyaWFsKHtmb2c6ITF9KSx0aGlzLnByZXZpb3VzU2hhZG93TWFwPXt2YWx1ZTp0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxLnRleHR1cmV9LHRoaXMuYXZlcmFnaW5nV2luZG93PXt2YWx1ZToxMDB9LHRoaXMudGFyZ2V0TWF0Lm9uQmVmb3JlQ29tcGlsZT1lPT57ZS52ZXJ0ZXhTaGFkZXI9XCJ2YXJ5aW5nIHZlYzIgdlV2O1xcblwiK2UudmVydGV4U2hhZGVyLnNsaWNlKDAsLTEpK1widlV2ID0gdXY7IGdsX1Bvc2l0aW9uID0gdmVjNCgodXYgLSAwLjUpICogMi4wLCAxLjAsIDEuMCk7IH1cIjtjb25zdCB0PWUuZnJhZ21lbnRTaGFkZXIuaW5kZXhPZihcInZvaWQgbWFpbigpIHtcIik7ZS5mcmFnbWVudFNoYWRlcj1cInZhcnlpbmcgdmVjMiB2VXY7XFxuXCIrZS5mcmFnbWVudFNoYWRlci5zbGljZSgwLHQpK1widW5pZm9ybSBzYW1wbGVyMkQgcHJldmlvdXNTaGFkb3dNYXA7XFxuXFx0dW5pZm9ybSBmbG9hdCBhdmVyYWdpbmdXaW5kb3c7XFxuXCIrZS5mcmFnbWVudFNoYWRlci5zbGljZSh0LTEsLTEpK1wiXFxudmVjMyB0ZXhlbE9sZCA9IHRleHR1cmUyRChwcmV2aW91c1NoYWRvd01hcCwgdlV2KS5yZ2I7XFxuICAgICAgICBnbF9GcmFnQ29sb3IucmdiID0gbWl4KHRleGVsT2xkLCBnbF9GcmFnQ29sb3IucmdiLCAxLjAvIGF2ZXJhZ2luZ1dpbmRvdyk7XFxuICAgICAgfVwiLGUudW5pZm9ybXMucHJldmlvdXNTaGFkb3dNYXA9dGhpcy5wcmV2aW91c1NoYWRvd01hcCxlLnVuaWZvcm1zLmF2ZXJhZ2luZ1dpbmRvdz10aGlzLmF2ZXJhZ2luZ1dpbmRvd319Y2xlYXIoKXt0aGlzLnJlbmRlcmVyLmdldENsZWFyQ29sb3IodGhpcy5jbGVhckNvbG9yKSx0aGlzLmNsZWFyQWxwaGE9dGhpcy5yZW5kZXJlci5nZXRDbGVhckFscGhhKCksdGhpcy5yZW5kZXJlci5zZXRDbGVhckNvbG9yKFwiYmxhY2tcIiwxKSx0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRhcmdldCh0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxKSx0aGlzLnJlbmRlcmVyLmNsZWFyKCksdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQodGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMiksdGhpcy5yZW5kZXJlci5jbGVhcigpLHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpLHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcih0aGlzLmNsZWFyQ29sb3IsdGhpcy5jbGVhckFscGhhKSx0aGlzLmxpZ2h0cz1bXSx0aGlzLm1lc2hlcz1bXSx0aGlzLnNjZW5lLnRyYXZlcnNlKChlPT57IWZ1bmN0aW9uKGUpe3JldHVybiEhZS5nZW9tZXRyeX0oZSk/ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNMaWdodH0oZSkmJnRoaXMubGlnaHRzLnB1c2goe29iamVjdDplLGludGVuc2l0eTplLmludGVuc2l0eX0pOnRoaXMubWVzaGVzLnB1c2goe29iamVjdDplLG1hdGVyaWFsOmUubWF0ZXJpYWx9KX0pKX1wcmVwYXJlKCl7dGhpcy5saWdodHMuZm9yRWFjaCgoZT0+ZS5vYmplY3QuaW50ZW5zaXR5PTApKSx0aGlzLm1lc2hlcy5mb3JFYWNoKChlPT5lLm9iamVjdC5tYXRlcmlhbD10aGlzLmRpc2NhcmRNYXQpKX1maW5pc2goKXt0aGlzLmxpZ2h0cy5mb3JFYWNoKChlPT5lLm9iamVjdC5pbnRlbnNpdHk9ZS5pbnRlbnNpdHkpKSx0aGlzLm1lc2hlcy5mb3JFYWNoKChlPT5lLm9iamVjdC5tYXRlcmlhbD1lLm1hdGVyaWFsKSl9Y29uZmlndXJlKGUpe3RoaXMub2JqZWN0PWV9dXBkYXRlKGUsdD0xMDApe2lmKCF0aGlzLm9iamVjdClyZXR1cm47dGhpcy5hdmVyYWdpbmdXaW5kb3cudmFsdWU9dCx0aGlzLm9iamVjdC5tYXRlcmlhbD10aGlzLnRhcmdldE1hdDtjb25zdCByPXRoaXMuYnVmZmVyMUFjdGl2ZT90aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxOnRoaXMucHJvZ3Jlc3NpdmVMaWdodE1hcDIsbj10aGlzLmJ1ZmZlcjFBY3RpdmU/dGhpcy5wcm9ncmVzc2l2ZUxpZ2h0TWFwMjp0aGlzLnByb2dyZXNzaXZlTGlnaHRNYXAxLGE9dGhpcy5zY2VuZS5iYWNrZ3JvdW5kO3RoaXMuc2NlbmUuYmFja2dyb3VuZD1udWxsLHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHIpLHRoaXMucHJldmlvdXNTaGFkb3dNYXAudmFsdWU9bi50ZXh0dXJlLHRoaXMuYnVmZmVyMUFjdGl2ZT0hdGhpcy5idWZmZXIxQWN0aXZlLHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsZSksdGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCksdGhpcy5zY2VuZS5iYWNrZ3JvdW5kPWF9fWNvbnN0IHVhPXtyZW1icmFuZHQ6e21haW46WzEsMiwxXSxmaWxsOlstMiwtLjUsLTJdfSxwb3J0cmFpdDp7bWFpbjpbLTEsMiwuNV0sZmlsbDpbLTEsLjUsLTEuNV19LHVwZnJvbnQ6e21haW46WzAsMiwxXSxmaWxsOlstMSwuNSwtMS41XX0sc29mdDp7bWFpbjpbLTIsNCw0XSxmaWxsOlstMSwuNSwtMS41XX19O2Z1bmN0aW9uIGRhKHtyYWRpdXM6ZSxhZGp1c3RDYW1lcmE6dH0pe2NvbnN0IHI9VW4oKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57dCYmci5yZWZyZXNoKCkuY2xpcCgpLmZpdCgpfSksW2UsdF0pLG51bGx9Y29uc3QgbWE9ZT0+MD09PWU/MDpNYXRoLnBvdygyLDEwKmUtMTApO2NvbnN0IGZhPUMuZm9yd2FyZFJlZigoKHtmb2c6ZT0hMSxyZW5kZXJPcmRlcjp0LGRlcHRoV3JpdGU6cj0hMSxjb2xvclN0b3A6YT0wLGNvbG9yOm89XCJibGFja1wiLG9wYWNpdHk6aT0uNSwuLi5zfSxsKT0+e2NvbnN0IGM9Qy51c2VNZW1vKCgoKT0+e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPTEyOCxlLmhlaWdodD0xMjg7Y29uc3QgdD1lLmdldENvbnRleHQoXCIyZFwiKSxyPXQuY3JlYXRlUmFkaWFsR3JhZGllbnQoZS53aWR0aC8yLGUuaGVpZ2h0LzIsMCxlLndpZHRoLzIsZS5oZWlnaHQvMixlLndpZHRoLzIpO3JldHVybiByLmFkZENvbG9yU3RvcChhLG5ldyBuLkNvbG9yKG8pLmdldFN0eWxlKCkpLHIuYWRkQ29sb3JTdG9wKDEsXCJyZ2JhKDAsMCwwLDApXCIpLHQuZmlsbFN0eWxlPXIsdC5maWxsUmVjdCgwLDAsZS53aWR0aCxlLmhlaWdodCksZX0pLFtvLGFdKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVuZGVyT3JkZXI6dCxyZWY6bCxcInJvdGF0aW9uLXhcIjotTWF0aC5QSS8yfSxzKSxDLmNyZWF0ZUVsZW1lbnQoXCJwbGFuZUdlb21ldHJ5XCIsbnVsbCksQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7dHJhbnNwYXJlbnQ6ITAsb3BhY2l0eTppLGZvZzplLGRlcHRoV3JpdGU6cixzaWRlOm4uRG91YmxlU2lkZX0sQy5jcmVhdGVFbGVtZW50KFwiY2FudmFzVGV4dHVyZVwiLHthdHRhY2g6XCJtYXBcIixhcmdzOltjXX0pKSl9KSk7ZnVuY3Rpb24gcGEoZT1SLkZyb250U2lkZSl7Y29uc3QgdD17dmFsdWU6bmV3IFIuTWF0cml4NH07cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFIuTWVzaE5vcm1hbE1hdGVyaWFsKHtzaWRlOmV9KSx7dmlld01hdHJpeDp0LG9uQmVmb3JlQ29tcGlsZTplPT57ZS51bmlmb3Jtcy52aWV3TWF0cml4PXQsZS5mcmFnbWVudFNoYWRlcj1cInZlYzMgaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xcbiAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZSggKCB2ZWM0KCBkaXIsIDAuMCApICogbWF0cml4ICkueHl6ICk7XFxuICAgICAgICAgfVxcblwiK2UuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIiNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cIixcIiNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cXG4gICAgICAgICAgIG5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIG5vcm1hbCwgdmlld01hdHJpeCApO1xcblwiKX19KX1jb25zdCBoYT1UZSh7Y2F1c3RpY3NUZXh0dXJlOm51bGwsY2F1c3RpY3NUZXh0dXJlQjpudWxsLGNvbG9yOm5ldyBSLkNvbG9yLGxpZ2h0UHJvak1hdHJpeDpuZXcgUi5NYXRyaXg0LGxpZ2h0Vmlld01hdHJpeDpuZXcgUi5NYXRyaXg0fSxcInZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcXG4gICB2b2lkIG1haW4oKSB7XFxuICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiB2aWV3TWF0cml4ICogbW9kZWxNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLik7XFxuICAgICB2ZWM0IHdvcmxkUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuKTtcXG4gICAgIHZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7XFxuICAgfVwiLGB2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuICB1bmlmb3JtIHZlYzMgY29sb3I7XFxuICB1bmlmb3JtIHNhbXBsZXIyRCBjYXVzdGljc1RleHR1cmU7XFxuICB1bmlmb3JtIHNhbXBsZXIyRCBjYXVzdGljc1RleHR1cmVCO1xcbiAgdW5pZm9ybSBtYXQ0IGxpZ2h0UHJvak1hdHJpeDtcXG4gIHVuaWZvcm0gbWF0NCBsaWdodFZpZXdNYXRyaXg7XFxuICAgdm9pZCBtYWluKCkge1xcbiAgICAvLyBBcHBseSBjYXVzdGljc1xcbiAgICB2ZWM0IGxpZ2h0U3BhY2VQb3MgPSBsaWdodFByb2pNYXRyaXggKiBsaWdodFZpZXdNYXRyaXggKiB2ZWM0KHZXb3JsZFBvc2l0aW9uLCAxLjApO1xcbiAgICBsaWdodFNwYWNlUG9zLnh5eiAvPSBsaWdodFNwYWNlUG9zLnc7XFxuICAgIGxpZ2h0U3BhY2VQb3MueHl6ID0gbGlnaHRTcGFjZVBvcy54eXogKiAwLjUgKyAwLjU7XFxuICAgIHZlYzMgZnJvbnQgPSB0ZXh0dXJlMkQoY2F1c3RpY3NUZXh0dXJlLCBsaWdodFNwYWNlUG9zLnh5KS5yZ2I7XFxuICAgIHZlYzMgYmFjayA9IHRleHR1cmUyRChjYXVzdGljc1RleHR1cmVCLCBsaWdodFNwYWNlUG9zLnh5KS5yZ2I7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoKGZyb250ICsgYmFjaykgKiBjb2xvciwgMS4wKTtcXG4gICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcbiAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgIH1gKSx4YT1UZSh7Y2FtZXJhTWF0cml4V29ybGQ6bmV3IFIuTWF0cml4NCxjYW1lcmFQcm9qZWN0aW9uTWF0cml4SW52Om5ldyBSLk1hdHJpeDQsbm9ybWFsVGV4dHVyZTpudWxsLGRlcHRoVGV4dHVyZTpudWxsLGxpZ2h0RGlyOm5ldyBSLlZlY3RvcjMoMCwxLDApLGxpZ2h0UGxhbmVOb3JtYWw6bmV3IFIuVmVjdG9yMygwLDEsMCksbGlnaHRQbGFuZUNvbnN0YW50OjAsbmVhcjouMSxmYXI6MTAwLG1vZGVsTWF0cml4Om5ldyBSLk1hdHJpeDQsd29ybGRSYWRpdXM6MS80MCxpb3I6MS4xLGJvdW5jZXM6MCxyZXNvbHV0aW9uOjEwMjQsc2l6ZToxMCxpbnRlbnNpdHk6LjV9LFwiXFxuICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgdm9pZCBtYWluKCkge1xcbiAgICAgIHZVdiA9IHV2O1xcbiAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuICB9XCIsXCJcXG4gIHVuaWZvcm0gbWF0NCBjYW1lcmFNYXRyaXhXb3JsZDtcXG4gIHVuaWZvcm0gbWF0NCBjYW1lcmFQcm9qZWN0aW9uTWF0cml4SW52O1xcbiAgdW5pZm9ybSB2ZWMzIGxpZ2h0RGlyO1xcbiAgdW5pZm9ybSB2ZWMzIGxpZ2h0UGxhbmVOb3JtYWw7XFxuICB1bmlmb3JtIGZsb2F0IGxpZ2h0UGxhbmVDb25zdGFudDtcXG4gIHVuaWZvcm0gZmxvYXQgbmVhcjtcXG4gIHVuaWZvcm0gZmxvYXQgZmFyO1xcbiAgdW5pZm9ybSBmbG9hdCB0aW1lO1xcbiAgdW5pZm9ybSBmbG9hdCB3b3JsZFJhZGl1cztcXG4gIHVuaWZvcm0gZmxvYXQgcmVzb2x1dGlvbjtcXG4gIHVuaWZvcm0gZmxvYXQgc2l6ZTtcXG4gIHVuaWZvcm0gZmxvYXQgaW50ZW5zaXR5O1xcbiAgdW5pZm9ybSBmbG9hdCBpb3I7XFxuICBwcmVjaXNpb24gaGlnaHAgaXNhbXBsZXIyRDtcXG4gIHByZWNpc2lvbiBoaWdocCB1c2FtcGxlcjJEO1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgbm9ybWFsVGV4dHVyZTtcXG4gIHVuaWZvcm0gc2FtcGxlcjJEIGRlcHRoVGV4dHVyZTtcXG4gIHVuaWZvcm0gZmxvYXQgYm91bmNlcztcXG4gIHZhcnlpbmcgdmVjMiB2VXY7XFxuICB2ZWMzIFdvcmxkUG9zRnJvbURlcHRoKGZsb2F0IGRlcHRoLCB2ZWMyIGNvb3JkKSB7XFxuICAgIGZsb2F0IHogPSBkZXB0aCAqIDIuMCAtIDEuMDtcXG4gICAgdmVjNCBjbGlwU3BhY2VQb3NpdGlvbiA9IHZlYzQoY29vcmQgKiAyLjAgLSAxLjAsIHosIDEuMCk7XFxuICAgIHZlYzQgdmlld1NwYWNlUG9zaXRpb24gPSBjYW1lcmFQcm9qZWN0aW9uTWF0cml4SW52ICogY2xpcFNwYWNlUG9zaXRpb247XFxuICAgIC8vIFBlcnNwZWN0aXZlIGRpdmlzaW9uXFxuICAgIHZpZXdTcGFjZVBvc2l0aW9uIC89IHZpZXdTcGFjZVBvc2l0aW9uLnc7XFxuICAgIHZlYzQgd29ybGRTcGFjZVBvc2l0aW9uID0gY2FtZXJhTWF0cml4V29ybGQgKiB2aWV3U3BhY2VQb3NpdGlvbjtcXG4gICAgcmV0dXJuIHdvcmxkU3BhY2VQb3NpdGlvbi54eXo7XFxuICB9XFxuICBmbG9hdCBzZFBsYW5lKCB2ZWMzIHAsIHZlYzMgbiwgZmxvYXQgaCApIHtcXG4gICAgLy8gbiBtdXN0IGJlIG5vcm1hbGl6ZWRcXG4gICAgcmV0dXJuIGRvdChwLG4pICsgaDtcXG4gIH1cXG4gIGZsb2F0IHBsYW5lSW50ZXJzZWN0KCB2ZWMzIHJvLCB2ZWMzIHJkLCB2ZWM0IHAgKSB7XFxuICAgIHJldHVybiAtKGRvdChybyxwLnh5eikrcC53KS9kb3QocmQscC54eXopO1xcbiAgfVxcbiAgdmVjMyB0b3RhbEludGVybmFsUmVmbGVjdGlvbih2ZWMzIHJvLCB2ZWMzIHJkLCB2ZWMzIHBvcywgdmVjMyBub3JtYWwsIGZsb2F0IGlvciwgb3V0IHZlYzMgcmF5T3JpZ2luLCBvdXQgdmVjMyByYXlEaXJlY3Rpb24pIHtcXG4gICAgcmF5T3JpZ2luID0gcm87XFxuICAgIHJheURpcmVjdGlvbiA9IHJkO1xcbiAgICByYXlEaXJlY3Rpb24gPSByZWZyYWN0KHJheURpcmVjdGlvbiwgbm9ybWFsLCAxLjAgLyBpb3IpO1xcbiAgICByYXlPcmlnaW4gPSBwb3MgKyByYXlEaXJlY3Rpb24gKiAwLjE7XFxuICAgIHJldHVybiByYXlEaXJlY3Rpb247XFxuICB9XFxuICB2b2lkIG1haW4oKSB7XFxuICAgIC8vIEVhY2ggc2FtcGxlIGNvbnNpc3RzIG9mIHJhbmRvbSBvZmZzZXQgaW4gdGhlIHggYW5kIHkgZGlyZWN0aW9uXFxuICAgIGZsb2F0IGNhdXN0aWMgPSAwLjA7XFxuICAgIGZsb2F0IGNhdXN0aWNUZXhlbFNpemUgPSAoMS4wIC8gcmVzb2x1dGlvbikgKiBzaXplICogMi4wO1xcbiAgICBmbG9hdCB0ZXhlbHNOZWVkZWQgPSB3b3JsZFJhZGl1cyAvIGNhdXN0aWNUZXhlbFNpemU7XFxuICAgIGZsb2F0IHNhbXBsZVJhZGl1cyA9IHRleGVsc05lZWRlZCAvIHJlc29sdXRpb247XFxuICAgIGZsb2F0IHN1bSA9IDAuMDtcXG4gICAgaWYgKHRleHR1cmUyRChkZXB0aFRleHR1cmUsIHZVdikueCA9PSAxLjApIHtcXG4gICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XFxuICAgICAgcmV0dXJuO1xcbiAgICB9XFxuICAgIHZlYzIgb2Zmc2V0MSA9IHZlYzIoLTAuNSwgLTAuNSk7Ly92ZWMyKHJhbmQoKSAtIDAuNSwgcmFuZCgpIC0gMC41KTtcXG4gICAgdmVjMiBvZmZzZXQyID0gdmVjMigtMC41LCAwLjUpOy8vdmVjMihyYW5kKCkgLSAwLjUsIHJhbmQoKSAtIDAuNSk7XFxuICAgIHZlYzIgb2Zmc2V0MyA9IHZlYzIoMC41LCAwLjUpOy8vdmVjMihyYW5kKCkgLSAwLjUsIHJhbmQoKSAtIDAuNSk7XFxuICAgIHZlYzIgb2Zmc2V0NCA9IHZlYzIoMC41LCAtMC41KTsvL3ZlYzIocmFuZCgpIC0gMC41LCByYW5kKCkgLSAwLjUpO1xcbiAgICB2ZWMyIHV2MSA9IHZVdiArIG9mZnNldDEgKiBzYW1wbGVSYWRpdXM7XFxuICAgIHZlYzIgdXYyID0gdlV2ICsgb2Zmc2V0MiAqIHNhbXBsZVJhZGl1cztcXG4gICAgdmVjMiB1djMgPSB2VXYgKyBvZmZzZXQzICogc2FtcGxlUmFkaXVzO1xcbiAgICB2ZWMyIHV2NCA9IHZVdiArIG9mZnNldDQgKiBzYW1wbGVSYWRpdXM7XFxuICAgIHZlYzMgbm9ybWFsMSA9IHRleHR1cmUyRChub3JtYWxUZXh0dXJlLCB1djEsIC0xMC4wKS5yZ2IgKiAyLjAgLSAxLjA7XFxuICAgIHZlYzMgbm9ybWFsMiA9IHRleHR1cmUyRChub3JtYWxUZXh0dXJlLCB1djIsIC0xMC4wKS5yZ2IgKiAyLjAgLSAxLjA7XFxuICAgIHZlYzMgbm9ybWFsMyA9IHRleHR1cmUyRChub3JtYWxUZXh0dXJlLCB1djMsIC0xMC4wKS5yZ2IgKiAyLjAgLSAxLjA7XFxuICAgIHZlYzMgbm9ybWFsNCA9IHRleHR1cmUyRChub3JtYWxUZXh0dXJlLCB1djQsIC0xMC4wKS5yZ2IgKiAyLjAgLSAxLjA7XFxuICAgIGZsb2F0IGRlcHRoMSA9IHRleHR1cmUyRChkZXB0aFRleHR1cmUsIHV2MSwgLTEwLjApLng7XFxuICAgIGZsb2F0IGRlcHRoMiA9IHRleHR1cmUyRChkZXB0aFRleHR1cmUsIHV2MiwgLTEwLjApLng7XFxuICAgIGZsb2F0IGRlcHRoMyA9IHRleHR1cmUyRChkZXB0aFRleHR1cmUsIHV2MywgLTEwLjApLng7XFxuICAgIGZsb2F0IGRlcHRoNCA9IHRleHR1cmUyRChkZXB0aFRleHR1cmUsIHV2NCwgLTEwLjApLng7XFxuICAgIC8vIFNhbml0eSBjaGVjayB0aGUgZGVwdGhzXFxuICAgIGlmIChkZXB0aDEgPT0gMS4wIHx8IGRlcHRoMiA9PSAxLjAgfHwgZGVwdGgzID09IDEuMCB8fCBkZXB0aDQgPT0gMS4wKSB7XFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1xcbiAgICAgIHJldHVybjtcXG4gICAgfVxcbiAgICB2ZWMzIHBvczEgPSBXb3JsZFBvc0Zyb21EZXB0aChkZXB0aDEsIHV2MSk7XFxuICAgIHZlYzMgcG9zMiA9IFdvcmxkUG9zRnJvbURlcHRoKGRlcHRoMiwgdXYyKTtcXG4gICAgdmVjMyBwb3MzID0gV29ybGRQb3NGcm9tRGVwdGgoZGVwdGgzLCB1djMpO1xcbiAgICB2ZWMzIHBvczQgPSBXb3JsZFBvc0Zyb21EZXB0aChkZXB0aDQsIHV2NCk7XFxuICAgIHZlYzMgb3JpZ2luUG9zMSA9IFdvcmxkUG9zRnJvbURlcHRoKDAuMCwgdXYxKTtcXG4gICAgdmVjMyBvcmlnaW5Qb3MyID0gV29ybGRQb3NGcm9tRGVwdGgoMC4wLCB1djIpO1xcbiAgICB2ZWMzIG9yaWdpblBvczMgPSBXb3JsZFBvc0Zyb21EZXB0aCgwLjAsIHV2Myk7XFxuICAgIHZlYzMgb3JpZ2luUG9zNCA9IFdvcmxkUG9zRnJvbURlcHRoKDAuMCwgdXY0KTtcXG4gICAgdmVjMyBlbmRQb3MxLCBlbmRQb3MyLCBlbmRQb3MzLCBlbmRQb3M0O1xcbiAgICB2ZWMzIGVuZERpcjEsIGVuZERpcjIsIGVuZERpcjMsIGVuZERpcjQ7XFxuICAgIHRvdGFsSW50ZXJuYWxSZWZsZWN0aW9uKG9yaWdpblBvczEsIGxpZ2h0RGlyLCBwb3MxLCBub3JtYWwxLCBpb3IsIGVuZFBvczEsIGVuZERpcjEpO1xcbiAgICB0b3RhbEludGVybmFsUmVmbGVjdGlvbihvcmlnaW5Qb3MyLCBsaWdodERpciwgcG9zMiwgbm9ybWFsMiwgaW9yLCBlbmRQb3MyLCBlbmREaXIyKTtcXG4gICAgdG90YWxJbnRlcm5hbFJlZmxlY3Rpb24ob3JpZ2luUG9zMywgbGlnaHREaXIsIHBvczMsIG5vcm1hbDMsIGlvciwgZW5kUG9zMywgZW5kRGlyMyk7XFxuICAgIHRvdGFsSW50ZXJuYWxSZWZsZWN0aW9uKG9yaWdpblBvczQsIGxpZ2h0RGlyLCBwb3M0LCBub3JtYWw0LCBpb3IsIGVuZFBvczQsIGVuZERpcjQpO1xcbiAgICBmbG9hdCBsaWdodFBvc0FyZWEgPSBsZW5ndGgoY3Jvc3Mob3JpZ2luUG9zMiAtIG9yaWdpblBvczEsIG9yaWdpblBvczMgLSBvcmlnaW5Qb3MxKSkgKyBsZW5ndGgoY3Jvc3Mob3JpZ2luUG9zMyAtIG9yaWdpblBvczEsIG9yaWdpblBvczQgLSBvcmlnaW5Qb3MxKSk7XFxuICAgIGZsb2F0IHQxID0gcGxhbmVJbnRlcnNlY3QoZW5kUG9zMSwgZW5kRGlyMSwgdmVjNChsaWdodFBsYW5lTm9ybWFsLCBsaWdodFBsYW5lQ29uc3RhbnQpKTtcXG4gICAgZmxvYXQgdDIgPSBwbGFuZUludGVyc2VjdChlbmRQb3MyLCBlbmREaXIyLCB2ZWM0KGxpZ2h0UGxhbmVOb3JtYWwsIGxpZ2h0UGxhbmVDb25zdGFudCkpO1xcbiAgICBmbG9hdCB0MyA9IHBsYW5lSW50ZXJzZWN0KGVuZFBvczMsIGVuZERpcjMsIHZlYzQobGlnaHRQbGFuZU5vcm1hbCwgbGlnaHRQbGFuZUNvbnN0YW50KSk7XFxuICAgIGZsb2F0IHQ0ID0gcGxhbmVJbnRlcnNlY3QoZW5kUG9zNCwgZW5kRGlyNCwgdmVjNChsaWdodFBsYW5lTm9ybWFsLCBsaWdodFBsYW5lQ29uc3RhbnQpKTtcXG4gICAgdmVjMyBmaW5hbFBvczEgPSBlbmRQb3MxICsgZW5kRGlyMSAqIHQxO1xcbiAgICB2ZWMzIGZpbmFsUG9zMiA9IGVuZFBvczIgKyBlbmREaXIyICogdDI7XFxuICAgIHZlYzMgZmluYWxQb3MzID0gZW5kUG9zMyArIGVuZERpcjMgKiB0MztcXG4gICAgdmVjMyBmaW5hbFBvczQgPSBlbmRQb3M0ICsgZW5kRGlyNCAqIHQ0O1xcbiAgICBmbG9hdCBmaW5hbEFyZWEgPSBsZW5ndGgoY3Jvc3MoZmluYWxQb3MyIC0gZmluYWxQb3MxLCBmaW5hbFBvczMgLSBmaW5hbFBvczEpKSArIGxlbmd0aChjcm9zcyhmaW5hbFBvczMgLSBmaW5hbFBvczEsIGZpbmFsUG9zNCAtIGZpbmFsUG9zMSkpO1xcbiAgICBjYXVzdGljICs9IGludGVuc2l0eSAqIChsaWdodFBvc0FyZWEgLyBmaW5hbEFyZWEpO1xcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGFyZWEgb2YgdGhlIHRyaWFuZ2xlIGluIGxpZ2h0IHNwYWNlc1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZlYzMobWF4KGNhdXN0aWMsIDAuMCkpLCAxLjApO1xcbiAgfVwiKSx5YT17ZGVwdGg6ITAsbWluRmlsdGVyOlIuTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpSLkxpbmVhckZpbHRlcix0eXBlOlIuVW5zaWduZWRCeXRlVHlwZX0sdmE9e21pbkZpbHRlcjpSLkxpbmVhck1pcG1hcExpbmVhckZpbHRlcixtYWdGaWx0ZXI6Ui5MaW5lYXJGaWx0ZXIsdHlwZTpSLkZsb2F0VHlwZSxnZW5lcmF0ZU1pcG1hcHM6ITB9LGdhPUMuZm9yd2FyZFJlZigoKHtkZWJ1ZzplLGNoaWxkcmVuOnQsZnJhbWVzOnI9MSxpb3I6bj0xLjEsY29sb3I6bz1cIndoaXRlXCIsY2F1c3RpY3NPbmx5Omk9ITEsYmFja3NpZGU6cz0hMSxiYWNrc2lkZUlPUjpsPTEuMSx3b3JsZFJhZGl1czpjPS4zMTI1LGludGVuc2l0eTpkPS4wNSxyZXNvbHV0aW9uOm09MjAyNCxsaWdodFNvdXJjZTpmPVs1LDUsNV0sLi4ucH0saCk9PnthLmV4dGVuZCh7Q2F1c3RpY3NQcm9qZWN0aW9uTWF0ZXJpYWw6aGF9KTtjb25zdCB4PUMudXNlUmVmKG51bGwpLHk9Qy51c2VSZWYobnVsbCksdj1DLnVzZVJlZihudWxsKSxnPUMudXNlUmVmKG51bGwpLHc9YS51c2VUaHJlZSgoZT0+ZS5nbCkpLHo9dXIoZSYmeSxSLkNhbWVyYUhlbHBlciksYj1vdChtLG0seWEpLEU9b3QobSxtLHlhKSxNPW90KG0sbSx2YSksUz1vdChtLG0sdmEpLFtQXT1DLnVzZVN0YXRlKCgoKT0+cGEoKSkpLFtEXT1DLnVzZVN0YXRlKCgoKT0+cGEoUi5CYWNrU2lkZSkpKSxbRl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyB4YSkpLFtrXT1DLnVzZVN0YXRlKCgoKT0+bmV3IHUuRnVsbFNjcmVlblF1YWQoRikpKTtDLnVzZUxheW91dEVmZmVjdCgoKCk9Pnt4LmN1cnJlbnQudXBkYXRlV29ybGRNYXRyaXgoITEsITApfSkpO2xldCBfPTA7Y29uc3QgQT1uZXcgUi5WZWN0b3IzLEw9bmV3IFIuRnJ1c3R1bSxJPW5ldyBSLk1hdHJpeDQsQj1uZXcgUi5QbGFuZSxWPW5ldyBSLlZlY3RvcjMsVT1uZXcgUi5WZWN0b3IzLE89bmV3IFIuQm94MyxOPW5ldyBSLlZlY3RvcjMsaj1bXSxXPVtdLEc9W10sSD1bXSwkPW5ldyBSLlZlY3RvcjM7Zm9yKGxldCBlPTA7ZTw4O2UrKylqLnB1c2gobmV3IFIuVmVjdG9yMyksVy5wdXNoKG5ldyBSLlZlY3RvcjMpLEcucHVzaChuZXcgUi5WZWN0b3IzKSxILnB1c2gobmV3IFIuVmVjdG9yMyk7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57aWYocj09PTEvMHx8XysrPHIpe3ZhciB0LGE7QXJyYXkuaXNBcnJheShmKT9WLmZyb21BcnJheShmKS5ub3JtYWxpemUoKTpWLmNvcHkoeC5jdXJyZW50LndvcmxkVG9Mb2NhbChmLmN1cnJlbnQuZ2V0V29ybGRQb3NpdGlvbihBKSkubm9ybWFsaXplKCkpLFUuY29weShWKS5tdWx0aXBseVNjYWxhcigtMSksbnVsbD09KHQ9di5jdXJyZW50LnBhcmVudCl8fHQubWF0cml4V29ybGQuaWRlbnRpdHkoKSxPLnNldEZyb21PYmplY3Qodi5jdXJyZW50LCEwKSxqWzBdLnNldChPLm1pbi54LE8ubWluLnksTy5taW4ueiksalsxXS5zZXQoTy5taW4ueCxPLm1pbi55LE8ubWF4LnopLGpbMl0uc2V0KE8ubWluLngsTy5tYXgueSxPLm1pbi56KSxqWzNdLnNldChPLm1pbi54LE8ubWF4LnksTy5tYXgueiksals0XS5zZXQoTy5tYXgueCxPLm1pbi55LE8ubWluLnopLGpbNV0uc2V0KE8ubWF4LngsTy5taW4ueSxPLm1heC56KSxqWzZdLnNldChPLm1heC54LE8ubWF4LnksTy5taW4ueiksals3XS5zZXQoTy5tYXgueCxPLm1heC55LE8ubWF4LnopO2ZvcihsZXQgZT0wO2U8ODtlKyspV1tlXS5jb3B5KGpbZV0pO08uZ2V0Q2VudGVyKE4pLGoubWFwKChlPT5lLnN1YihOKSkpO2NvbnN0IHI9Qi5zZXQoVSwwKTtqLm1hcCgoKGUsdCk9PnIucHJvamVjdFBvaW50KGUsR1t0XSkpKTtjb25zdCBvPUcucmVkdWNlKCgoZSx0KT0+ZS5hZGQodCkpLEEuc2V0KDAsMCwwKSkuZGl2aWRlU2NhbGFyKEcubGVuZ3RoKSx1PUcubWFwKChlPT5lLmRpc3RhbmNlVG8obykpKS5yZWR1Y2UoKChlLHQpPT5NYXRoLm1heChlLHQpKSkscD1qLm1hcCgoZT0+ZS5kb3QoVikpKS5yZWR1Y2UoKChlLHQpPT5NYXRoLm1heChlLHQpKSk7eS5jdXJyZW50LnBvc2l0aW9uLmNvcHkoJC5jb3B5KFYpLm11bHRpcGx5U2NhbGFyKHApLmFkZChOKSkseS5jdXJyZW50Lmxvb2tBdCh2LmN1cnJlbnQubG9jYWxUb1dvcmxkKE4pKTtjb25zdCBoPUkubG9va0F0KHkuY3VycmVudC5wb3NpdGlvbixOLEEuc2V0KDAsMSwwKSk7eS5jdXJyZW50LmxlZnQ9LXUseS5jdXJyZW50LnJpZ2h0PXUseS5jdXJyZW50LnRvcD11LHkuY3VycmVudC5ib3R0b209LXU7Y29uc3QgVD1BLnNldCgwLHUsMCkuYXBwbHlNYXRyaXg0KGgpLEM9KHkuY3VycmVudC5wb3NpdGlvbi55K1QueSkvVi55O3kuY3VycmVudC5uZWFyPS4xLHkuY3VycmVudC5mYXI9Qyx5LmN1cnJlbnQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpLHkuY3VycmVudC51cGRhdGVNYXRyaXhXb3JsZCgpO2NvbnN0IFI9Vy5tYXAoKChlLHQpPT5lLmFkZChIW3RdLmNvcHkoVikubXVsdGlwbHlTY2FsYXIoLWUueS9WLnkpKSkpLF89Ui5yZWR1Y2UoKChlLHQpPT5lLmFkZCh0KSksQS5zZXQoMCwwLDApKS5kaXZpZGVTY2FsYXIoUi5sZW5ndGgpLHE9MipSLm1hcCgoZT0+TWF0aC5oeXBvdChlLngtXy54LGUuei1fLnopKSkucmVkdWNlKCgoZSx0KT0+TWF0aC5tYXgoZSx0KSkpO2cuY3VycmVudC5zY2FsZS5zZXRTY2FsYXIocSksZy5jdXJyZW50LnBvc2l0aW9uLmNvcHkoXyksZSYmKG51bGw9PShhPXouY3VycmVudCl8fGEudXBkYXRlKCkpLEQudmlld01hdHJpeC52YWx1ZT1QLnZpZXdNYXRyaXgudmFsdWU9eS5jdXJyZW50Lm1hdHJpeFdvcmxkSW52ZXJzZTtjb25zdCBYPUwuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoSS5tdWx0aXBseU1hdHJpY2VzKHkuY3VycmVudC5wcm9qZWN0aW9uTWF0cml4LHkuY3VycmVudC5tYXRyaXhXb3JsZEludmVyc2UpKS5wbGFuZXNbNF07Ri5jYW1lcmFNYXRyaXhXb3JsZD15LmN1cnJlbnQubWF0cml4V29ybGQsRi5jYW1lcmFQcm9qZWN0aW9uTWF0cml4SW52PXkuY3VycmVudC5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSxGLmxpZ2h0RGlyPVUsRi5saWdodFBsYW5lTm9ybWFsPVgubm9ybWFsLEYubGlnaHRQbGFuZUNvbnN0YW50PVguY29uc3RhbnQsRi5uZWFyPXkuY3VycmVudC5uZWFyLEYuZmFyPXkuY3VycmVudC5mYXIsRi5yZXNvbHV0aW9uPW0sRi5zaXplPXUsRi5pbnRlbnNpdHk9ZCxGLndvcmxkUmFkaXVzPWMsdi5jdXJyZW50LnZpc2libGU9ITAsdy5zZXRSZW5kZXJUYXJnZXQoYiksdy5jbGVhcigpLHYuY3VycmVudC5vdmVycmlkZU1hdGVyaWFsPVAsdy5yZW5kZXIodi5jdXJyZW50LHkuY3VycmVudCksdy5zZXRSZW5kZXJUYXJnZXQoRSksdy5jbGVhcigpLHMmJih2LmN1cnJlbnQub3ZlcnJpZGVNYXRlcmlhbD1ELHcucmVuZGVyKHYuY3VycmVudCx5LmN1cnJlbnQpKSx2LmN1cnJlbnQub3ZlcnJpZGVNYXRlcmlhbD1udWxsLEYuaW9yPW4sZy5jdXJyZW50Lm1hdGVyaWFsLmxpZ2h0UHJvak1hdHJpeD15LmN1cnJlbnQucHJvamVjdGlvbk1hdHJpeCxnLmN1cnJlbnQubWF0ZXJpYWwubGlnaHRWaWV3TWF0cml4PXkuY3VycmVudC5tYXRyaXhXb3JsZEludmVyc2UsRi5ub3JtYWxUZXh0dXJlPWIudGV4dHVyZSxGLmRlcHRoVGV4dHVyZT1iLmRlcHRoVGV4dHVyZSx3LnNldFJlbmRlclRhcmdldChNKSx3LmNsZWFyKCksay5yZW5kZXIodyksRi5pb3I9bCxGLm5vcm1hbFRleHR1cmU9RS50ZXh0dXJlLEYuZGVwdGhUZXh0dXJlPUUuZGVwdGhUZXh0dXJlLHcuc2V0UmVuZGVyVGFyZ2V0KFMpLHcuY2xlYXIoKSxzJiZrLnJlbmRlcih3KSx3LnNldFJlbmRlclRhcmdldChudWxsKSxpJiYodi5jdXJyZW50LnZpc2libGU9ITEpfX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUoaCwoKCk9PnguY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6eH0scCksQy5jcmVhdGVFbGVtZW50KFwic2NlbmVcIix7cmVmOnZ9LEMuY3JlYXRlRWxlbWVudChcIm9ydGhvZ3JhcGhpY0NhbWVyYVwiLHtyZWY6eSx1cDpbMCwxLDBdfSksdCksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLHtyZW5kZXJPcmRlcjoyLHJlZjpnLFwicm90YXRpb24teFwiOi1NYXRoLlBJLzJ9LEMuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIixudWxsKSxDLmNyZWF0ZUVsZW1lbnQoXCJjYXVzdGljc1Byb2plY3Rpb25NYXRlcmlhbFwiLHt0cmFuc3BhcmVudDohMCxjb2xvcjpvLGNhdXN0aWNzVGV4dHVyZTpNLnRleHR1cmUsY2F1c3RpY3NUZXh0dXJlQjpTLnRleHR1cmUsYmxlbmRpbmc6Ui5DdXN0b21CbGVuZGluZyxibGVuZFNyYzpSLk9uZUZhY3RvcixibGVuZERzdDpSLlNyY0FscGhhRmFjdG9yLGRlcHRoV3JpdGU6ITF9KSxlJiZDLmNyZWF0ZUVsZW1lbnQoTGUsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJsaW5lQmFzaWNNYXRlcmlhbFwiLHtjb2xvcjpcIiNmZmZmMDBcIix0b25lTWFwcGVkOiExfSkpKSl9KSksd2E9Qy5mb3J3YXJkUmVmKCgoe21peEJsdXI6ZT0wLG1peFN0cmVuZ3RoOnQ9LjUscmVzb2x1dGlvbjpyPTI1NixibHVyOm89WzAsMF0sYXJnczppPVsxLDFdLG1pbkRlcHRoVGhyZXNob2xkOnM9LjksbWF4RGVwdGhUaHJlc2hvbGQ6bD0xLGRlcHRoU2NhbGU6Yz0wLGRlcHRoVG9CbHVyUmF0aW9CaWFzOnU9LjI1LG1pcnJvcjpkPTAsY2hpbGRyZW46bSxkZWJ1ZzpmPTAsZGlzdG9ydGlvbjpwPTEsbWl4Q29udHJhc3Q6aD0xLGRpc3RvcnRpb25NYXA6eCwuLi55fSx2KT0+e2EuZXh0ZW5kKHtNZXNoUmVmbGVjdG9yTWF0ZXJpYWw6UXJ9KSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zb2xlLndhcm4oXCJSZWZsZWN0b3IgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIG5leHQgbWFqb3IuIFJlcGxhY2UgaXQgd2l0aCA8TWVzaFJlZmxlY3Rvck1hdGVyaWFsIC8+IVwiKX0pLFtdKTtjb25zdCBnPWEudXNlVGhyZWUoKCh7Z2w6ZX0pPT5lKSksdz1hLnVzZVRocmVlKCgoe2NhbWVyYTplfSk9PmUpKSx6PWEudXNlVGhyZWUoKCh7c2NlbmU6ZX0pPT5lKSksYj0obz1BcnJheS5pc0FycmF5KG8pP286W28sb10pWzBdK29bMV0+MCxFPUMudXNlUmVmKG51bGwpO0MudXNlSW1wZXJhdGl2ZUhhbmRsZSh2LCgoKT0+RS5jdXJyZW50KSxbXSk7Y29uc3RbTV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlBsYW5lKSksW1NdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKSksW1BdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKSksW1JdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKSksW0RdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5NYXRyaXg0KSksW0ZdPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5WZWN0b3IzKDAsMCwtMSkpKSxba109Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlZlY3RvcjQpKSxbX109Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlZlY3RvcjMpKSxbQV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlZlY3RvcjMpKSxbTF09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlZlY3RvcjQpKSxbSV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLk1hdHJpeDQpKSxbQl09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBuLlBlcnNwZWN0aXZlQ2FtZXJhKSksVj1DLnVzZUNhbGxiYWNrKCgoKT0+e2lmKFAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKEUuY3VycmVudC5tYXRyaXhXb3JsZCksUi5zZXRGcm9tTWF0cml4UG9zaXRpb24ody5tYXRyaXhXb3JsZCksRC5leHRyYWN0Um90YXRpb24oRS5jdXJyZW50Lm1hdHJpeFdvcmxkKSxTLnNldCgwLDAsMSksUy5hcHBseU1hdHJpeDQoRCksXy5zdWJWZWN0b3JzKFAsUiksXy5kb3QoUyk+MClyZXR1cm47Xy5yZWZsZWN0KFMpLm5lZ2F0ZSgpLF8uYWRkKFApLEQuZXh0cmFjdFJvdGF0aW9uKHcubWF0cml4V29ybGQpLEYuc2V0KDAsMCwtMSksRi5hcHBseU1hdHJpeDQoRCksRi5hZGQoUiksQS5zdWJWZWN0b3JzKFAsRiksQS5yZWZsZWN0KFMpLm5lZ2F0ZSgpLEEuYWRkKFApLEIucG9zaXRpb24uY29weShfKSxCLnVwLnNldCgwLDEsMCksQi51cC5hcHBseU1hdHJpeDQoRCksQi51cC5yZWZsZWN0KFMpLEIubG9va0F0KEEpLEIuZmFyPXcuZmFyLEIudXBkYXRlTWF0cml4V29ybGQoKSxCLnByb2plY3Rpb25NYXRyaXguY29weSh3LnByb2plY3Rpb25NYXRyaXgpLEkuc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpLEkubXVsdGlwbHkoQi5wcm9qZWN0aW9uTWF0cml4KSxJLm11bHRpcGx5KEIubWF0cml4V29ybGRJbnZlcnNlKSxJLm11bHRpcGx5KEUuY3VycmVudC5tYXRyaXhXb3JsZCksTS5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludChTLFApLE0uYXBwbHlNYXRyaXg0KEIubWF0cml4V29ybGRJbnZlcnNlKSxrLnNldChNLm5vcm1hbC54LE0ubm9ybWFsLnksTS5ub3JtYWwueixNLmNvbnN0YW50KTtjb25zdCBlPUIucHJvamVjdGlvbk1hdHJpeDtMLng9KE1hdGguc2lnbihrLngpK2UuZWxlbWVudHNbOF0pL2UuZWxlbWVudHNbMF0sTC55PShNYXRoLnNpZ24oay55KStlLmVsZW1lbnRzWzldKS9lLmVsZW1lbnRzWzVdLEwuej0tMSxMLnc9KDErZS5lbGVtZW50c1sxMF0pL2UuZWxlbWVudHNbMTRdLGsubXVsdGlwbHlTY2FsYXIoMi9rLmRvdChMKSksZS5lbGVtZW50c1syXT1rLngsZS5lbGVtZW50c1s2XT1rLnksZS5lbGVtZW50c1sxMF09ay56KzEsZS5lbGVtZW50c1sxNF09ay53fSksW10pLFtVLE8sTixqXT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgYT17dHlwZTpuLkhhbGZGbG9hdFR5cGUsbWluRmlsdGVyOm4uTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpuLkxpbmVhckZpbHRlcn0saT1uZXcgbi5XZWJHTFJlbmRlclRhcmdldChyLHIsYSk7aS5kZXB0aEJ1ZmZlcj0hMCxpLmRlcHRoVGV4dHVyZT1uZXcgbi5EZXB0aFRleHR1cmUocixyKSxpLmRlcHRoVGV4dHVyZS5mb3JtYXQ9bi5EZXB0aEZvcm1hdCxpLmRlcHRoVGV4dHVyZS50eXBlPW4uVW5zaWduZWRTaG9ydFR5cGU7Y29uc3QgbT1uZXcgbi5XZWJHTFJlbmRlclRhcmdldChyLHIsYSk7cmV0dXJuW2ksbSxuZXcgWXIoe2dsOmcscmVzb2x1dGlvbjpyLHdpZHRoOm9bMF0saGVpZ2h0Om9bMV0sbWluRGVwdGhUaHJlc2hvbGQ6cyxtYXhEZXB0aFRocmVzaG9sZDpsLGRlcHRoU2NhbGU6YyxkZXB0aFRvQmx1clJhdGlvQmlhczp1fSkse21pcnJvcjpkLHRleHR1cmVNYXRyaXg6SSxtaXhCbHVyOmUsdERpZmZ1c2U6aS50ZXh0dXJlLHREZXB0aDppLmRlcHRoVGV4dHVyZSx0RGlmZnVzZUJsdXI6bS50ZXh0dXJlLGhhc0JsdXI6YixtaXhTdHJlbmd0aDp0LG1pbkRlcHRoVGhyZXNob2xkOnMsbWF4RGVwdGhUaHJlc2hvbGQ6bCxkZXB0aFNjYWxlOmMsZGVwdGhUb0JsdXJSYXRpb0JpYXM6dSx0cmFuc3BhcmVudDohMCxkZWJ1ZzpmLGRpc3RvcnRpb246cCxkaXN0b3J0aW9uTWFwOngsbWl4Q29udHJhc3Q6aCxcImRlZmluZXMtVVNFX0JMVVJcIjpiP1wiXCI6dm9pZCAwLFwiZGVmaW5lcy1VU0VfREVQVEhcIjpjPjA/XCJcIjp2b2lkIDAsXCJkZWZpbmVzLVVTRV9ESVNUT1JUSU9OXCI6eD9cIlwiOnZvaWQgMH1dfSksW2csbyxJLHIsZCxiLGUsdCxzLGwsYyx1LGYscCx4LGhdKTtyZXR1cm4gYS51c2VGcmFtZSgoKCk9PntpZihudWxsPT1FfHwhRS5jdXJyZW50KXJldHVybjtFLmN1cnJlbnQudmlzaWJsZT0hMTtjb25zdCBlPWcueHIuZW5hYmxlZCx0PWcuc2hhZG93TWFwLmF1dG9VcGRhdGU7VigpLGcueHIuZW5hYmxlZD0hMSxnLnNoYWRvd01hcC5hdXRvVXBkYXRlPSExLGcuc2V0UmVuZGVyVGFyZ2V0KFUpLGcuc3RhdGUuYnVmZmVycy5kZXB0aC5zZXRNYXNrKCEwKSxnLmF1dG9DbGVhcnx8Zy5jbGVhcigpLGcucmVuZGVyKHosQiksYiYmTi5yZW5kZXIoZyxVLE8pLGcueHIuZW5hYmxlZD1lLGcuc2hhZG93TWFwLmF1dG9VcGRhdGU9dCxFLmN1cnJlbnQudmlzaWJsZT0hMCxnLnNldFJlbmRlclRhcmdldChudWxsKX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtyZWY6RX0seSksQy5jcmVhdGVFbGVtZW50KFwicGxhbmVHZW9tZXRyeVwiLHthcmdzOml9KSxtP20oXCJtZXNoUmVmbGVjdG9yTWF0ZXJpYWxcIixqKTpDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoUmVmbGVjdG9yTWF0ZXJpYWxcIixqKSl9KSk7Y2xhc3MgemEgZXh0ZW5kcyBSLlNoYWRlck1hdGVyaWFse2NvbnN0cnVjdG9yKCl7c3VwZXIoe3VuaWZvcm1zOntkZXB0aDp7dmFsdWU6bnVsbH0sb3BhY2l0eTp7dmFsdWU6MX0sYXR0ZW51YXRpb246e3ZhbHVlOjIuNX0sYW5nbGVQb3dlcjp7dmFsdWU6MTJ9LHNwb3RQb3NpdGlvbjp7dmFsdWU6bmV3IFIuVmVjdG9yMygwLDAsMCl9LGxpZ2h0Q29sb3I6e3ZhbHVlOm5ldyBSLkNvbG9yKFwid2hpdGVcIil9LGNhbWVyYU5lYXI6e3ZhbHVlOjB9LGNhbWVyYUZhcjp7dmFsdWU6MX0scmVzb2x1dGlvbjp7dmFsdWU6bmV3IFIuVmVjdG9yMigwLDApfX0sdHJhbnNwYXJlbnQ6ITAsZGVwdGhXcml0ZTohMSx2ZXJ0ZXhTaGFkZXI6XCJcXG4gICAgICAgIHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiAgICAgICAgdmFyeWluZyBmbG9hdCB2Vmlld1o7XFxuICAgICAgICB2YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHk7XFxuICAgICAgICB1bmlmb3JtIHZlYzMgc3BvdFBvc2l0aW9uO1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBhdHRlbnVhdGlvbjtcXG5cXG4gICAgICAgICNpbmNsdWRlIDxjb21tb24+XFxuICAgICAgICAjaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIC8vIGNvbXB1dGUgaW50ZW5zaXR5XFxuICAgICAgICAgIHZOb3JtYWwgPSBub3JtYWxpemUobm9ybWFsTWF0cml4ICogbm9ybWFsKTtcXG4gICAgICAgICAgdmVjNCB3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxKTtcXG4gICAgICAgICAgdmVjNCB2aWV3UG9zaXRpb24gPSB2aWV3TWF0cml4ICogd29ybGRQb3NpdGlvbjtcXG4gICAgICAgICAgdlZpZXdaID0gdmlld1Bvc2l0aW9uLno7XFxuXFxuICAgICAgICAgIHZJbnRlbnNpdHkgPSAxLjAgLSBzYXR1cmF0ZShkaXN0YW5jZSh3b3JsZFBvc2l0aW9uLnh5eiwgc3BvdFBvc2l0aW9uKSAvIGF0dGVudWF0aW9uKTtcXG5cXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld1Bvc2l0aW9uO1xcblxcbiAgICAgICAgICAjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxcbiAgICAgICAgfVxcbiAgICAgIFwiLGZyYWdtZW50U2hhZGVyOmBcXG4gICAgICAgIHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiAgICAgICAgdmFyeWluZyBmbG9hdCB2Vmlld1o7XFxuICAgICAgICB2YXJ5aW5nIGZsb2F0IHZJbnRlbnNpdHk7XFxuXFxuICAgICAgICB1bmlmb3JtIHZlYzMgbGlnaHRDb2xvcjtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgYW5nbGVQb3dlcjtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIGRlcHRoO1xcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGNhbWVyYU5lYXI7XFxuICAgICAgICB1bmlmb3JtIGZsb2F0IGNhbWVyYUZhcjtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG5cXG4gICAgICAgICNpbmNsdWRlIDxwYWNraW5nPlxcbiAgICAgICAgI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XFxuXFxuICAgICAgICBmbG9hdCByZWFkRGVwdGgoc2FtcGxlcjJEIGRlcHRoU2FtcGxlciwgdmVjMiB1dikge1xcbiAgICAgICAgICBmbG9hdCBmcmFnQ29vcmRaID0gdGV4dHVyZShkZXB0aFNhbXBsZXIsIHV2KS5yO1xcblxcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMzA3MlxcbiAgICAgICAgICAjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXFxuICAgICAgICAgICAgZmxvYXQgdmlld1ogPSAxLjAgLSBleHAyKGZyYWdDb29yZFogKiBsb2coY2FtZXJhRmFyICsgMS4wKSAvIGxvZygyLjApKTtcXG4gICAgICAgICAgI2Vsc2VcXG4gICAgICAgICAgICBmbG9hdCB2aWV3WiA9IHBlcnNwZWN0aXZlRGVwdGhUb1ZpZXdaKGZyYWdDb29yZFosIGNhbWVyYU5lYXIsIGNhbWVyYUZhcik7XFxuICAgICAgICAgICNlbmRpZlxcblxcbiAgICAgICAgICByZXR1cm4gdmlld1o7XFxuICAgICAgICB9XFxuXFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgICNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cXG5cXG4gICAgICAgICAgdmVjMyBub3JtYWwgPSB2ZWMzKHZOb3JtYWwueCwgdk5vcm1hbC55LCBhYnModk5vcm1hbC56KSk7XFxuICAgICAgICAgIGZsb2F0IGFuZ2xlSW50ZW5zaXR5ID0gcG93KGRvdChub3JtYWwsIHZlYzMoMCwgMCwgMSkpLCBhbmdsZVBvd2VyKTtcXG4gICAgICAgICAgZmxvYXQgaW50ZW5zaXR5ID0gdkludGVuc2l0eSAqIGFuZ2xlSW50ZW5zaXR5O1xcblxcbiAgICAgICAgICAvLyBmYWRlcyB3aGVuIHogaXMgY2xvc2UgdG8gc2FtcGxlZCBkZXB0aCwgbWVhbmluZyB0aGUgY29uZSBpcyBpbnRlcnNlY3RpbmcgZXhpc3RpbmcgZ2VvbWV0cnlcXG4gICAgICAgICAgYm9vbCBpc1NvZnQgPSByZXNvbHV0aW9uWzBdID4gMC4wICYmIHJlc29sdXRpb25bMV0gPiAwLjA7XFxuICAgICAgICAgIGlmIChpc1NvZnQpIHtcXG4gICAgICAgICAgICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbjtcXG4gICAgICAgICAgICBpbnRlbnNpdHkgKj0gc21vb3Roc3RlcCgwLjAsIDEuMCwgdlZpZXdaIC0gcmVhZERlcHRoKGRlcHRoLCB1dikpO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobGlnaHRDb2xvciwgaW50ZW5zaXR5ICogb3BhY2l0eSk7XFxuXFxuICAgICAgICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgICAgICAgI2luY2x1ZGUgPCR7UmU+PTE1ND9cImNvbG9yc3BhY2VfZnJhZ21lbnRcIjpcImVuY29kaW5nc19mcmFnbWVudFwifT5cXG4gICAgICAgIH1cXG4gICAgICBgfSl9fWZ1bmN0aW9uIGJhKHtvcGFjaXR5OmU9MSxyYWRpdXNUb3A6dCxyYWRpdXNCb3R0b206cixkZXB0aEJ1ZmZlcjpvLGNvbG9yOmk9XCJ3aGl0ZVwiLGRpc3RhbmNlOnM9NSxhbmdsZTpsPS4xNSxhdHRlbnVhdGlvbjpjPTUsYW5nbGVQb3dlcjp1PTV9KXtjb25zdCBkPUMudXNlUmVmKG51bGwpLG09YS51c2VUaHJlZSgoZT0+ZS5zaXplKSksZj1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLHA9YS51c2VUaHJlZSgoZT0+ZS52aWV3cG9ydC5kcHIpKSxbaF09Qy51c2VTdGF0ZSgoKCk9Pm5ldyB6YSkpLFt4XT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uVmVjdG9yMykpO3Q9dm9pZCAwPT09dD8uMTp0LHI9dm9pZCAwPT09cj83Kmw6cixhLnVzZUZyYW1lKCgoKT0+e2gudW5pZm9ybXMuc3BvdFBvc2l0aW9uLnZhbHVlLmNvcHkoZC5jdXJyZW50LmdldFdvcmxkUG9zaXRpb24oeCkpLGQuY3VycmVudC5sb29rQXQoZC5jdXJyZW50LnBhcmVudC50YXJnZXQuZ2V0V29ybGRQb3NpdGlvbih4KSl9KSk7Y29uc3QgeT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT1uZXcgbi5DeWxpbmRlckdlb21ldHJ5KHQscixzLDEyOCw2NCwhMCk7cmV0dXJuIGUuYXBwbHlNYXRyaXg0KChuZXcgbi5NYXRyaXg0KS5tYWtlVHJhbnNsYXRpb24oMCwtcy8yLDApKSxlLmFwcGx5TWF0cml4NCgobmV3IG4uTWF0cml4NCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSS8yKSksZX0pLFtzLHQscl0pO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLEMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7cmVmOmQsZ2VvbWV0cnk6eSxyYXljYXN0OigpPT5udWxsfSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIix7b2JqZWN0OmgsYXR0YWNoOlwibWF0ZXJpYWxcIixcInVuaWZvcm1zLW9wYWNpdHktdmFsdWVcIjplLFwidW5pZm9ybXMtbGlnaHRDb2xvci12YWx1ZVwiOmksXCJ1bmlmb3Jtcy1hdHRlbnVhdGlvbi12YWx1ZVwiOmMsXCJ1bmlmb3Jtcy1hbmdsZVBvd2VyLXZhbHVlXCI6dSxcInVuaWZvcm1zLWRlcHRoLXZhbHVlXCI6byxcInVuaWZvcm1zLWNhbWVyYU5lYXItdmFsdWVcIjpmLm5lYXIsXCJ1bmlmb3Jtcy1jYW1lcmFGYXItdmFsdWVcIjpmLmZhcixcInVuaWZvcm1zLXJlc29sdXRpb24tdmFsdWVcIjpvP1ttLndpZHRoKnAsbS5oZWlnaHQqcF06WzAsMF19KSkpfWZ1bmN0aW9uIEVhKGUsdCxyLG8saSl7Y29uc3RbW3MsbF1dPUMudXNlU3RhdGUoKCgpPT5bbmV3IG4uVmVjdG9yMyxuZXcgbi5WZWN0b3IzXSkpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2lmKCEobnVsbD09KHQ9ZS5jdXJyZW50KT92b2lkIDA6dC5pc1Nwb3RMaWdodCkpdGhyb3cgbmV3IEVycm9yKFwiU3BvdGxpZ2h0U2hhZG93IG11c3QgYmUgYSBjaGlsZCBvZiBhIFNwb3RMaWdodFwiKTt2YXIgdDtlLmN1cnJlbnQuc2hhZG93Lm1hcFNpemUuc2V0KHIsbyksZS5jdXJyZW50LnNoYWRvdy5uZWVkc1VwZGF0ZT0hMH0pLFtlLHIsb10pLGEudXNlRnJhbWUoKCgpPT57aWYoIWUuY3VycmVudClyZXR1cm47Y29uc3Qgcj1lLmN1cnJlbnQucG9zaXRpb24sbj1lLmN1cnJlbnQudGFyZ2V0LnBvc2l0aW9uO2wuY29weShuKS5zdWIocik7dmFyIGE9bC5sZW5ndGgoKTtsLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGEqaSkscy5jb3B5KHIpLmFkZChsKSx0LmN1cnJlbnQucG9zaXRpb24uY29weShzKSx0LmN1cnJlbnQubG9va0F0KGUuY3VycmVudC50YXJnZXQucG9zaXRpb24pfSkpfWZ1bmN0aW9uIE1hKHtkaXN0YW5jZTplPS40LGFscGhhVGVzdDp0PS41LG1hcDpyLHNoYWRlcjpvPVwiI2RlZmluZSBHTFNMSUZZIDFcXG52YXJ5aW5nIHZlYzIgdlV2O3VuaWZvcm0gc2FtcGxlcjJEIHVTaGFkb3dNYXA7dW5pZm9ybSBmbG9hdCB1VGltZTt2b2lkIG1haW4oKXt2ZWMzIGNvbG9yPXRleHR1cmUyRCh1U2hhZG93TWFwLHZVdikueHl6O2dsX0ZyYWdDb2xvcj12ZWM0KGNvbG9yLDEuKTt9XCIsd2lkdGg6aT01MTIsaGVpZ2h0OnM9NTEyLHNjYWxlOmw9MSxjaGlsZHJlbjpjLC4uLmR9KXtjb25zdCBtPUMudXNlUmVmKG51bGwpLGY9ZC5zcG90bGlnaHRSZWYscD1kLmRlYnVnO0VhKGYsbSxpLHMsZSk7Y29uc3QgaD1DLnVzZU1lbW8oKCgpPT5uZXcgbi5XZWJHTFJlbmRlclRhcmdldChpLHMse2Zvcm1hdDpuLlJHQkFGb3JtYXQsc3RlbmNpbEJ1ZmZlcjohMX0pKSxbaSxzXSkseD1DLnVzZVJlZih7dVNoYWRvd01hcDp7dmFsdWU6cn0sdVRpbWU6e3ZhbHVlOjB9fSk7Qy51c2VFZmZlY3QoKCgpPT57eC5jdXJyZW50LnVTaGFkb3dNYXAudmFsdWU9cn0pLFtyXSk7Y29uc3QgeT1DLnVzZU1lbW8oKCgpPT5uZXcgdS5GdWxsU2NyZWVuUXVhZChuZXcgbi5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6eC5jdXJyZW50LHZlcnRleFNoYWRlcjpcIlxcbiAgICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcblxcbiAgICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgICAgdlV2ID0gdXY7XFxuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICBcIixmcmFnbWVudFNoYWRlcjpvfSkpKSxbb10pO3JldHVybiBDLnVzZUVmZmVjdCgoKCk9PigpPT57eS5tYXRlcmlhbC5kaXNwb3NlKCkseS5kaXNwb3NlKCl9KSxbeV0pLEMudXNlRWZmZWN0KCgoKT0+KCk9PmguZGlzcG9zZSgpKSxbaF0pLGEudXNlRnJhbWUoKCh7Z2w6ZX0sdCk9Pnt4LmN1cnJlbnQudVRpbWUudmFsdWUrPXQsZS5zZXRSZW5kZXJUYXJnZXQoaCkseS5yZW5kZXIoZSksZS5zZXRSZW5kZXJUYXJnZXQobnVsbCl9KSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlZjptLHNjYWxlOmwsY2FzdFNoYWRvdzohMH0sQy5jcmVhdGVFbGVtZW50KFwicGxhbmVHZW9tZXRyeVwiLG51bGwpLEMuY3JlYXRlRWxlbWVudChcIm1lc2hCYXNpY01hdGVyaWFsXCIse3RyYW5zcGFyZW50OiEwLHNpZGU6bi5Eb3VibGVTaWRlLGFscGhhVGVzdDp0LGFscGhhTWFwOmgudGV4dHVyZSxcImFscGhhTWFwLXdyYXBTXCI6bi5SZXBlYXRXcmFwcGluZyxcImFscGhhTWFwLXdyYXBUXCI6bi5SZXBlYXRXcmFwcGluZyxvcGFjaXR5OnA/MTowfSxjKSkpfWZ1bmN0aW9uIFNhKHtkaXN0YW5jZTplPS40LGFscGhhVGVzdDp0PS41LG1hcDpyLHdpZHRoOmE9NTEyLGhlaWdodDpvPTUxMixzY2FsZTppLGNoaWxkcmVuOnMsLi4ubH0pe2NvbnN0IGM9Qy51c2VSZWYobnVsbCksdT1sLnNwb3RsaWdodFJlZixkPWwuZGVidWc7cmV0dXJuIEVhKHUsYyxhLG8sZSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlZjpjLHNjYWxlOmksY2FzdFNoYWRvdzohMH0sQy5jcmVhdGVFbGVtZW50KFwicGxhbmVHZW9tZXRyeVwiLG51bGwpLEMuY3JlYXRlRWxlbWVudChcIm1lc2hCYXNpY01hdGVyaWFsXCIse3RyYW5zcGFyZW50OiEwLHNpZGU6bi5Eb3VibGVTaWRlLGFscGhhVGVzdDp0LGFscGhhTWFwOnIsXCJhbHBoYU1hcC13cmFwU1wiOm4uUmVwZWF0V3JhcHBpbmcsXCJhbHBoYU1hcC13cmFwVFwiOm4uUmVwZWF0V3JhcHBpbmcsb3BhY2l0eTpkPzE6MH0scykpKX1jb25zdCBUYT1DLmZvcndhcmRSZWYoKCh7b3BhY2l0eTplPTEscmFkaXVzVG9wOnQscmFkaXVzQm90dG9tOnIsZGVwdGhCdWZmZXI6bixjb2xvcjphPVwid2hpdGVcIixkaXN0YW5jZTpvPTUsYW5nbGU6aT0uMTUsYXR0ZW51YXRpb246cz01LGFuZ2xlUG93ZXI6bD01LHZvbHVtZXRyaWM6Yz0hMCxkZWJ1Zzp1PSExLGNoaWxkcmVuOmQsLi4ubX0sZik9Pntjb25zdCBwPUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUltcGVyYXRpdmVIYW5kbGUoZiwoKCk9PnAuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsbnVsbCx1JiZwLmN1cnJlbnQmJkMuY3JlYXRlRWxlbWVudChcInNwb3RMaWdodEhlbHBlclwiLHthcmdzOltwLmN1cnJlbnRdfSksQy5jcmVhdGVFbGVtZW50KFwic3BvdExpZ2h0XCIsVC5kZWZhdWx0KHtyZWY6cCxhbmdsZTppLGNvbG9yOmEsZGlzdGFuY2U6byxjYXN0U2hhZG93OiEwfSxtKSxjJiZDLmNyZWF0ZUVsZW1lbnQoYmEse2RlYnVnOnUsb3BhY2l0eTplLHJhZGl1c1RvcDp0LHJhZGl1c0JvdHRvbTpyLGRlcHRoQnVmZmVyOm4sY29sb3I6YSxkaXN0YW5jZTpvLGFuZ2xlOmksYXR0ZW51YXRpb246cyxhbmdsZVBvd2VyOmx9KSksZCYmQy5jbG9uZUVsZW1lbnQoZCx7c3BvdGxpZ2h0UmVmOnAsZGVidWc6dX0pKX0pKSxDYT1DLmZvcndhcmRSZWYoKCh7bGlnaHQ6ZSxhcmdzOnQsbWFwOnIsdG9uZU1hcHBlZDpuPSExLGNvbG9yOm89XCJ3aGl0ZVwiLGZvcm06aT1cInJlY3RcIixpbnRlbnNpdHk6cz0xLHNjYWxlOmw9MSx0YXJnZXQ6Yz1bMCwwLDBdLGNoaWxkcmVuOnUsLi4uZH0sbSk9Pntjb25zdCBmPUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUltcGVyYXRpdmVIYW5kbGUobSwoKCk9PmYuY3VycmVudCksW10pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3V8fGQubWF0ZXJpYWx8fChhLmFwcGx5UHJvcHMoZi5jdXJyZW50Lm1hdGVyaWFsLHtjb2xvcjpvfSksZi5jdXJyZW50Lm1hdGVyaWFsLmNvbG9yLm11bHRpcGx5U2NhbGFyKHMpKX0pLFtvLHMsdSxkLm1hdGVyaWFsXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57ZC5yb3RhdGlvbnx8Zi5jdXJyZW50LnF1YXRlcm5pb24uaWRlbnRpdHkoKSxjJiYhZC5yb3RhdGlvbiYmKFwiYm9vbGVhblwiPT10eXBlb2YgYz9mLmN1cnJlbnQubG9va0F0KDAsMCwwKTpmLmN1cnJlbnQubG9va0F0KEFycmF5LmlzQXJyYXkoYyk/bmV3IFIuVmVjdG9yMyguLi5jKTpjKSl9KSxbYyxkLnJvdGF0aW9uXSksbD1BcnJheS5pc0FycmF5KGwpJiYyPT09bC5sZW5ndGg/W2xbMF0sbFsxXSwxXTpsLEMuY3JlYXRlRWxlbWVudChcIm1lc2hcIixULmRlZmF1bHQoe3JlZjpmLHNjYWxlOmx9LGQpLFwiY2lyY2xlXCI9PT1pP0MuY3JlYXRlRWxlbWVudChcInJpbmdHZW9tZXRyeVwiLHthcmdzOnR8fFswLC41LDY0XX0pOlwicmluZ1wiPT09aT9DLmNyZWF0ZUVsZW1lbnQoXCJyaW5nR2VvbWV0cnlcIix7YXJnczp0fHxbLjI1LC41LDY0XX0pOlwicmVjdFwiPT09aXx8XCJwbGFuZVwiPT09aT9DLmNyZWF0ZUVsZW1lbnQoXCJwbGFuZUdlb21ldHJ5XCIse2FyZ3M6dHx8WzEsMV19KTpcImJveFwiPT09aT9DLmNyZWF0ZUVsZW1lbnQoXCJib3hHZW9tZXRyeVwiLHthcmdzOnR8fFsxLDEsMV19KTpDLmNyZWF0ZUVsZW1lbnQoaSx7YXJnczp0fSksdXx8Qy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7dG9uZU1hcHBlZDpuLG1hcDpyLHNpZGU6Ui5Eb3VibGVTaWRlfSksZSYmQy5jcmVhdGVFbGVtZW50KFwicG9pbnRMaWdodFwiLFQuZGVmYXVsdCh7Y2FzdFNoYWRvdzohMH0sZSkpKX0pKTtmdW5jdGlvbiBQYShlLHQscj1uZXcgbi5WZWN0b3IzKXtjb25zdCBhPU1hdGguUEkqKGUtLjUpLG89MipNYXRoLlBJKih0LS41KTtyZXR1cm4gci54PU1hdGguY29zKG8pLHIueT1NYXRoLnNpbihhKSxyLno9TWF0aC5zaW4obykscn1jb25zdCBSYT1DLmZvcndhcmRSZWYoKCh7aW5jbGluYXRpb246ZT0uNixhemltdXRoOnQ9LjEsZGlzdGFuY2U6cj0xZTMsbWllQ29lZmZpY2llbnQ6YT0uMDA1LG1pZURpcmVjdGlvbmFsRzpvPS44LHJheWxlaWdoOmk9LjUsdHVyYmlkaXR5OnM9MTAsc3VuUG9zaXRpb246bD1QYShlLHQpLC4uLmN9LGQpPT57Y29uc3QgbT1DLnVzZU1lbW8oKCgpPT4obmV3IG4uVmVjdG9yMykuc2V0U2NhbGFyKHIpKSxbcl0pLFtmXT1DLnVzZVN0YXRlKCgoKT0+bmV3IHUuU2t5KSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLFQuZGVmYXVsdCh7b2JqZWN0OmYscmVmOmQsXCJtYXRlcmlhbC11bmlmb3Jtcy1taWVDb2VmZmljaWVudC12YWx1ZVwiOmEsXCJtYXRlcmlhbC11bmlmb3Jtcy1taWVEaXJlY3Rpb25hbEctdmFsdWVcIjpvLFwibWF0ZXJpYWwtdW5pZm9ybXMtcmF5bGVpZ2gtdmFsdWVcIjppLFwibWF0ZXJpYWwtdW5pZm9ybXMtc3VuUG9zaXRpb24tdmFsdWVcIjpsLFwibWF0ZXJpYWwtdW5pZm9ybXMtdHVyYmlkaXR5LXZhbHVlXCI6cyxzY2FsZTptfSxjKSl9KSk7Y2xhc3MgRGEgZXh0ZW5kcyBuLlNoYWRlck1hdGVyaWFse2NvbnN0cnVjdG9yKCl7c3VwZXIoe3VuaWZvcm1zOnt0aW1lOnt2YWx1ZTowfSxmYWRlOnt2YWx1ZToxfX0sdmVydGV4U2hhZGVyOlwiXFxuICAgICAgdW5pZm9ybSBmbG9hdCB0aW1lO1xcbiAgICAgIGF0dHJpYnV0ZSBmbG9hdCBzaXplO1xcbiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XFxuICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgdkNvbG9yID0gY29sb3I7XFxuICAgICAgICB2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAwLjUpO1xcbiAgICAgICAgZ2xfUG9pbnRTaXplID0gc2l6ZSAqICgzMC4wIC8gLW12UG9zaXRpb24ueikgKiAoMy4wICsgc2luKHRpbWUgKyAxMDAuMCkpO1xcbiAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcXG4gICAgICB9XCIsZnJhZ21lbnRTaGFkZXI6YFxcbiAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHBvaW50VGV4dHVyZTtcXG4gICAgICB1bmlmb3JtIGZsb2F0IGZhZGU7XFxuICAgICAgdmFyeWluZyB2ZWMzIHZDb2xvcjtcXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICBmbG9hdCBvcGFjaXR5ID0gMS4wO1xcbiAgICAgICAgaWYgKGZhZGUgPT0gMS4wKSB7XFxuICAgICAgICAgIGZsb2F0IGQgPSBkaXN0YW5jZShnbF9Qb2ludENvb3JkLCB2ZWMyKDAuNSwgMC41KSk7XFxuICAgICAgICAgIG9wYWNpdHkgPSAxLjAgLyAoMS4wICsgZXhwKDE2LjAgKiAoZCAtIDAuMjUpKSk7XFxuICAgICAgICB9XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZDb2xvciwgb3BhY2l0eSk7XFxuXFxuICAgICAgICAjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XFxuXFx0ICAgICAgI2luY2x1ZGUgPCR7UmU+PTE1ND9cImNvbG9yc3BhY2VfZnJhZ21lbnRcIjpcImVuY29kaW5nc19mcmFnbWVudFwifT5cXG4gICAgICB9YH0pfX1jb25zdCBGYT1lPT4obmV3IG4uVmVjdG9yMykuc2V0RnJvbVNwaGVyaWNhbChuZXcgbi5TcGhlcmljYWwoZSxNYXRoLmFjb3MoMS0yKk1hdGgucmFuZG9tKCkpLDIqTWF0aC5yYW5kb20oKSpNYXRoLlBJKSksa2E9Qy5mb3J3YXJkUmVmKCgoe3JhZGl1czplPTEwMCxkZXB0aDp0PTUwLGNvdW50OnI9NWUzLHNhdHVyYXRpb246bz0wLGZhY3RvcjppPTQsZmFkZTpzPSExLHNwZWVkOmw9MX0sYyk9Pntjb25zdCB1PUMudXNlUmVmKCksW2QsbSxmXT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgYT1bXSxzPVtdLGw9QXJyYXkuZnJvbSh7bGVuZ3RoOnJ9LCgoKT0+KC41Ky41Kk1hdGgucmFuZG9tKCkpKmkpKSxjPW5ldyBuLkNvbG9yO2xldCB1PWUrdDtjb25zdCBkPXQvcjtmb3IobGV0IGU9MDtlPHI7ZSsrKXUtPWQqTWF0aC5yYW5kb20oKSxhLnB1c2goLi4uRmEodSkudG9BcnJheSgpKSxjLnNldEhTTChlL3IsbywuOSkscy5wdXNoKGMucixjLmcsYy5iKTtyZXR1cm5bbmV3IEZsb2F0MzJBcnJheShhKSxuZXcgRmxvYXQzMkFycmF5KHMpLG5ldyBGbG9hdDMyQXJyYXkobCldfSksW3IsdCxpLGUsb10pO2EudXNlRnJhbWUoKGU9PnUuY3VycmVudCYmKHUuY3VycmVudC51bmlmb3Jtcy50aW1lLnZhbHVlPWUuY2xvY2suZWxhcHNlZFRpbWUqbCkpKTtjb25zdFtwXT1DLnVzZVN0YXRlKCgoKT0+bmV3IERhKSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcInBvaW50c1wiLHtyZWY6Y30sQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyR2VvbWV0cnlcIixudWxsLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLXBvc2l0aW9uXCIsYXJnczpbZCwzXX0pLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLWNvbG9yXCIsYXJnczpbbSwzXX0pLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLXNpemVcIixhcmdzOltmLDFdfSkpLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLHtyZWY6dSxvYmplY3Q6cCxhdHRhY2g6XCJtYXRlcmlhbFwiLGJsZW5kaW5nOm4uQWRkaXRpdmVCbGVuZGluZyxcInVuaWZvcm1zLWZhZGUtdmFsdWVcIjpzLGRlcHRoV3JpdGU6ITEsdHJhbnNwYXJlbnQ6ITAsdmVydGV4Q29sb3JzOiEwfSkpfSkpLF9hPW5ldyBuLk1hdHJpeDQsQWE9bmV3IG4uVmVjdG9yMyxMYT1uZXcgbi5RdWF0ZXJuaW9uLElhPW5ldyBuLlZlY3RvcjMsQmE9bmV3IG4uUXVhdGVybmlvbixWYT1uZXcgbi5WZWN0b3IzLFVhPUMuY3JlYXRlQ29udGV4dChudWxsKSxPYT1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSxtYXRlcmlhbDp0PW4uTWVzaExhbWJlcnRNYXRlcmlhbCx0ZXh0dXJlOnI9XCJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9wbW5kcnMvZHJlaS1hc3NldHMvOTIyNWE5ZjFmYmQ0NDlkOTQxMTEyNWMyZjQxOWI4NDNkMDMwOGM5Zi9jbG91ZC5wbmdcIixyYW5nZTpvLGxpbWl0Omk9MjAwLGZydXN0dW1DdWxsZWQ6cywuLi5sfSxjKT0+e3ZhciB1LGQ7Y29uc3QgbT1DLnVzZU1lbW8oKCgpPT5jbGFzcyBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlcigpO2NvbnN0IGU9cGFyc2VJbnQobi5SRVZJU0lPTi5yZXBsYWNlKC9cXEQrL2csXCJcIikpPj0xNTQ/XCJvcGFxdWVfZnJhZ21lbnRcIjpcIm91dHB1dF9mcmFnbWVudFwiO3RoaXMub25CZWZvcmVDb21waWxlPXQ9Pnt0LnZlcnRleFNoYWRlcj1cImF0dHJpYnV0ZSBmbG9hdCBjbG91ZE9wYWNpdHk7XFxuICAgICAgICAgICAgICAgdmFyeWluZyBmbG9hdCB2T3BhY2l0eTtcXG4gICAgICAgICAgICAgIFwiK3QudmVydGV4U2hhZGVyLnJlcGxhY2UoXCIjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cIixcIiNpbmNsdWRlIDxmb2dfdmVydGV4PlxcbiAgICAgICAgICAgICAgICAgdk9wYWNpdHkgPSBjbG91ZE9wYWNpdHk7XFxuICAgICAgICAgICAgICAgIFwiKSx0LmZyYWdtZW50U2hhZGVyPVwidmFyeWluZyBmbG9hdCB2T3BhY2l0eTtcXG4gICAgICAgICAgICAgIFwiK3QuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShgI2luY2x1ZGUgPCR7ZX0+YCxgI2luY2x1ZGUgPCR7ZX0+XFxuICAgICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICogdk9wYWNpdHkpO1xcbiAgICAgICAgICAgICAgICBgKX19fSksW3RdKTthLmV4dGVuZCh7Q2xvdWRNYXRlcmlhbDptfSk7Y29uc3QgZj1DLnVzZVJlZihudWxsKSxwPUMudXNlUmVmKFtdKSxoPUMudXNlTWVtbygoKCk9Pm5ldyBGbG9hdDMyQXJyYXkoQXJyYXkuZnJvbSh7bGVuZ3RoOml9LCgoKT0+MSkpKSksW2ldKSx4PUMudXNlTWVtbygoKCk9Pm5ldyBGbG9hdDMyQXJyYXkoQXJyYXkuZnJvbSh7bGVuZ3RoOml9LCgoKT0+WzEsMSwxXSkpLmZsYXQoKSkpLFtpXSkseT1QZShyKTtsZXQgdixnPTAsdz0wO2NvbnN0IHo9bmV3IG4uUXVhdGVybmlvbixiPW5ldyBuLlZlY3RvcjMoMCwwLDEpLEU9bmV3IG4uVmVjdG9yMzthLnVzZUZyYW1lKCgoZSx0KT0+e2ZvcihnPWUuY2xvY2suZWxhcHNlZFRpbWUsX2EuY29weShmLmN1cnJlbnQubWF0cml4V29ybGQpLmludmVydCgpLGUuY2FtZXJhLm1hdHJpeFdvcmxkLmRlY29tcG9zZShJYSxCYSxWYSksdz0wO3c8cC5jdXJyZW50Lmxlbmd0aDt3Kyspdj1wLmN1cnJlbnRbd10sdi5yZWYuY3VycmVudC5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoQWEsTGEsVmEpLEFhLmFkZChFLmNvcHkodi5wb3NpdGlvbikuYXBwbHlRdWF0ZXJuaW9uKExhKS5tdWx0aXBseShWYSkpLExhLmNvcHkoQmEpLm11bHRpcGx5KHouc2V0RnJvbUF4aXNBbmdsZShiLHYucm90YXRpb24rPXQqdi5yb3RhdGlvbkZhY3RvcikpLFZhLm11bHRpcGx5U2NhbGFyKHYudm9sdW1lKygxK01hdGguc2luKGcqdi5kZW5zaXR5KnYuc3BlZWQpKS8yKnYuZ3Jvd3RoKSx2Lm1hdHJpeC5jb21wb3NlKEFhLExhLFZhKS5wcmVtdWx0aXBseShfYSksdi5kaXN0PUFhLmRpc3RhbmNlVG8oSWEpO2ZvcihwLmN1cnJlbnQuc29ydCgoKGUsdCk9PnQuZGlzdC1lLmRpc3QpKSx3PTA7dzxwLmN1cnJlbnQubGVuZ3RoO3crKyl2PXAuY3VycmVudFt3XSxoW3ddPXYub3BhY2l0eSoodi5kaXN0PHYuZmFkZS0xP3YuZGlzdC92LmZhZGU6MSksZi5jdXJyZW50LnNldE1hdHJpeEF0KHcsdi5tYXRyaXgpLGYuY3VycmVudC5zZXRDb2xvckF0KHcsdi5jb2xvcik7Zi5jdXJyZW50Lmdlb21ldHJ5LmF0dHJpYnV0ZXMuY2xvdWRPcGFjaXR5Lm5lZWRzVXBkYXRlPSEwLGYuY3VycmVudC5pbnN0YW5jZU1hdHJpeC5uZWVkc1VwZGF0ZT0hMCxmLmN1cnJlbnQuaW5zdGFuY2VDb2xvciYmKGYuY3VycmVudC5pbnN0YW5jZUNvbG9yLm5lZWRzVXBkYXRlPSEwKX0pKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9Pntjb25zdCBlPU1hdGgubWluKGksdm9pZCAwIT09bz9vOmkscC5jdXJyZW50Lmxlbmd0aCk7Zi5jdXJyZW50LmNvdW50PWUsTXIoZi5jdXJyZW50Lmluc3RhbmNlTWF0cml4LHtvZmZzZXQ6MCxjb3VudDoxNiplfSksZi5jdXJyZW50Lmluc3RhbmNlQ29sb3ImJk1yKGYuY3VycmVudC5pbnN0YW5jZUNvbG9yLHtvZmZzZXQ6MCxjb3VudDozKmV9KSxNcihmLmN1cnJlbnQuZ2VvbWV0cnkuYXR0cmlidXRlcy5jbG91ZE9wYWNpdHkse29mZnNldDowLGNvdW50OmV9KX0pKTtsZXQgTT1bbnVsbCE9PSh1PXkuaW1hZ2Uud2lkdGgpJiZ2b2lkIDAhPT11P3U6MSxudWxsIT09KGQ9eS5pbWFnZS5oZWlnaHQpJiZ2b2lkIDAhPT1kP2Q6MV07Y29uc3QgUz1NYXRoLm1heChNWzBdLE1bMV0pO3JldHVybiBNPVtNWzBdL1MsTVsxXS9TXSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOmN9LGwpLEMuY3JlYXRlRWxlbWVudChVYS5Qcm92aWRlcix7dmFsdWU6cH0sZSxDLmNyZWF0ZUVsZW1lbnQoXCJpbnN0YW5jZWRNZXNoXCIse21hdHJpeEF1dG9VcGRhdGU6ITEscmVmOmYsYXJnczpbbnVsbCxudWxsLGldLGZydXN0dW1DdWxsZWQ6c30sQy5jcmVhdGVFbGVtZW50KFwiaW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlXCIse3VzYWdlOm4uRHluYW1pY0RyYXdVc2FnZSxhdHRhY2g6XCJpbnN0YW5jZUNvbG9yXCIsYXJnczpbeCwzXX0pLEMuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIix7YXJnczpbLi4uTV19LEMuY3JlYXRlRWxlbWVudChcImluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZVwiLHt1c2FnZTpuLkR5bmFtaWNEcmF3VXNhZ2UsYXR0YWNoOlwiYXR0cmlidXRlcy1jbG91ZE9wYWNpdHlcIixhcmdzOltoLDFdfSkpLEMuY3JlYXRlRWxlbWVudChcImNsb3VkTWF0ZXJpYWxcIix7a2V5OnQubmFtZSxtYXA6eSx0cmFuc3BhcmVudDohMCxkZXB0aFdyaXRlOiExfSkpKSl9KSksTmE9Qy5mb3J3YXJkUmVmKCgoe29wYWNpdHk6ZT0xLHNwZWVkOnQ9MCxib3VuZHM6cj1bNSwxLDFdLHNlZ21lbnRzOm89MjAsY29sb3I6aT1cIiNmZmZmZmZcIixmYWRlOnM9MTAsdm9sdW1lOmw9NixzbWFsbGVzdFZvbHVtZTpjPS4yNSxkaXN0cmlidXRlOnU9bnVsbCxncm93dGg6ZD00LGNvbmNlbnRyYXRlOm09XCJpbnNpZGVcIixzZWVkOmY9TWF0aC5yYW5kb20oKSwuLi5wfSxoKT0+e2Z1bmN0aW9uIHgoKXtjb25zdCBlPTFlNCpNYXRoLnNpbihmKyspO3JldHVybiBlLU1hdGguZmxvb3IoZSl9Y29uc3QgeT1DLnVzZUNvbnRleHQoVWEpLHY9Qy51c2VSZWYobnVsbCksZz1DLnVzZUlkKCksdz1DLnVzZU1lbW8oKCgpPT5bLi4ubmV3IEFycmF5KG8pXS5tYXAoKChlLHQpPT4oe3NlZ21lbnRzOm8sYm91bmRzOm5ldyBuLlZlY3RvcjMoMSwxLDEpLHBvc2l0aW9uOm5ldyBuLlZlY3RvcjMsdXVpZDpnLGluZGV4OnQscmVmOnYsZGlzdDowLG1hdHJpeDpuZXcgbi5NYXRyaXg0LGNvbG9yOm5ldyBuLkNvbG9yLHJvdGF0aW9uOnQqKE1hdGguUEkvbyl9KSkpKSxbbyxnXSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3cuZm9yRWFjaCgoKG4sZik9PnthLmFwcGx5UHJvcHMobix7dm9sdW1lOmwsY29sb3I6aSxzcGVlZDp0LGdyb3d0aDpkLG9wYWNpdHk6ZSxmYWRlOnMsYm91bmRzOnIsZGVuc2l0eTpNYXRoLm1heCguNSx4KCkpLHJvdGF0aW9uRmFjdG9yOk1hdGgubWF4KC4yLC41KngoKSkqdH0pO2NvbnN0IHA9bnVsbD09dT92b2lkIDA6dShuLGYpO3ZhciBoOyhwfHxvPjEpJiZuLnBvc2l0aW9uLmNvcHkobi5ib3VuZHMpLm11bHRpcGx5KG51bGwhPT0oaD1udWxsPT1wP3ZvaWQgMDpwLnBvaW50KSYmdm9pZCAwIT09aD9oOnt4OjIqeCgpLTEseToyKngoKS0xLHo6Mip4KCktMX0pO2NvbnN0IHk9TWF0aC5hYnMobi5wb3NpdGlvbi54KSx2PU1hdGguYWJzKG4ucG9zaXRpb24ueSksZz1NYXRoLmFicyhuLnBvc2l0aW9uLnopLHc9TWF0aC5tYXgoeSx2LGcpO24ubGVuZ3RoPTEseT09PXcmJihuLmxlbmd0aC09eS9uLmJvdW5kcy54KSx2PT09dyYmKG4ubGVuZ3RoLT12L24uYm91bmRzLnkpLGc9PT13JiYobi5sZW5ndGgtPWcvbi5ib3VuZHMueiksbi52b2x1bWU9KHZvaWQgMCE9PShudWxsPT1wP3ZvaWQgMDpwLnZvbHVtZSk/cC52b2x1bWU6TWF0aC5tYXgoTWF0aC5tYXgoMCxjKSxcInJhbmRvbVwiPT09bT94KCk6XCJpbnNpZGVcIj09PW0/bi5sZW5ndGg6MS1uLmxlbmd0aCkpKmx9KSl9KSxbbSxyLHMsaSxlLGQsbCxmLG8sdF0pLEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IGU9dztyZXR1cm4geS5jdXJyZW50PVsuLi55LmN1cnJlbnQsLi4uZV0sKCk9Pnt5LmN1cnJlbnQ9eS5jdXJyZW50LmZpbHRlcigoZT0+ZS51dWlkIT09ZykpfX0pLFt3XSksQy51c2VJbXBlcmF0aXZlSGFuZGxlKGgsKCgpPT52LmN1cnJlbnQpLFtdKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOnZ9LHApKX0pKSxqYT1DLmZvcndhcmRSZWYoKChlLHQpPT5DLnVzZUNvbnRleHQoVWEpP0MuY3JlYXRlRWxlbWVudChOYSxULmRlZmF1bHQoe3JlZjp0fSxlKSk6Qy5jcmVhdGVFbGVtZW50KE9hLG51bGwsQy5jcmVhdGVFbGVtZW50KE5hLFQuZGVmYXVsdCh7cmVmOnR9LGUpKSkpKTtjbGFzcyBXYSBleHRlbmRzIFIuU2hhZGVyTWF0ZXJpYWx7Y29uc3RydWN0b3IoKXtzdXBlcih7dW5pZm9ybXM6e3RpbWU6e3ZhbHVlOjB9LHBpeGVsUmF0aW86e3ZhbHVlOjF9fSx2ZXJ0ZXhTaGFkZXI6XCJcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgcGl4ZWxSYXRpbztcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdGltZTtcXG4gICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBzaXplOyAgXFxuICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgc3BlZWQ7ICBcXG4gICAgICAgIGF0dHJpYnV0ZSBmbG9hdCBvcGFjaXR5O1xcbiAgICAgICAgYXR0cmlidXRlIHZlYzMgbm9pc2U7XFxuICAgICAgICBhdHRyaWJ1dGUgdmVjMyBjb2xvcjtcXG4gICAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7XFxuICAgICAgICB2YXJ5aW5nIGZsb2F0IHZPcGFjaXR5O1xcblxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICB2ZWM0IG1vZGVsUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuICAgICAgICAgIG1vZGVsUG9zaXRpb24ueSArPSBzaW4odGltZSAqIHNwZWVkICsgbW9kZWxQb3NpdGlvbi54ICogbm9pc2UueCAqIDEwMC4wKSAqIDAuMjtcXG4gICAgICAgICAgbW9kZWxQb3NpdGlvbi56ICs9IGNvcyh0aW1lICogc3BlZWQgKyBtb2RlbFBvc2l0aW9uLnggKiBub2lzZS55ICogMTAwLjApICogMC4yO1xcbiAgICAgICAgICBtb2RlbFBvc2l0aW9uLnggKz0gY29zKHRpbWUgKiBzcGVlZCArIG1vZGVsUG9zaXRpb24ueCAqIG5vaXNlLnogKiAxMDAuMCkgKiAwLjI7XFxuICAgICAgICAgIHZlYzQgdmlld1Bvc2l0aW9uID0gdmlld01hdHJpeCAqIG1vZGVsUG9zaXRpb247XFxuICAgICAgICAgIHZlYzQgcHJvamVjdGlvblBvc3Rpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogdmlld1Bvc2l0aW9uO1xcbiAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25Qb3N0aW9uO1xcbiAgICAgICAgICBnbF9Qb2ludFNpemUgPSBzaXplICogMjUuICogcGl4ZWxSYXRpbztcXG4gICAgICAgICAgZ2xfUG9pbnRTaXplICo9ICgxLjAgLyAtIHZpZXdQb3NpdGlvbi56KTtcXG4gICAgICAgICAgdkNvbG9yID0gY29sb3I7XFxuICAgICAgICAgIHZPcGFjaXR5ID0gb3BhY2l0eTtcXG4gICAgICAgIH1cXG4gICAgICBcIixmcmFnbWVudFNoYWRlcjpgXFxuICAgICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yO1xcbiAgICAgICAgdmFyeWluZyBmbG9hdCB2T3BhY2l0eTtcXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgZmxvYXQgZGlzdGFuY2VUb0NlbnRlciA9IGRpc3RhbmNlKGdsX1BvaW50Q29vcmQsIHZlYzIoMC41KSk7XFxuICAgICAgICAgIGZsb2F0IHN0cmVuZ3RoID0gMC4wNSAvIGRpc3RhbmNlVG9DZW50ZXIgLSAwLjE7XFxuICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodkNvbG9yLCBzdHJlbmd0aCAqIHZPcGFjaXR5KTtcXG4gICAgICAgICAgI2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxcbiAgICAgICAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgICAgICAgfVxcbiAgICAgIGB9KX1nZXQgdGltZSgpe3JldHVybiB0aGlzLnVuaWZvcm1zLnRpbWUudmFsdWV9c2V0IHRpbWUoZSl7dGhpcy51bmlmb3Jtcy50aW1lLnZhbHVlPWV9Z2V0IHBpeGVsUmF0aW8oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5waXhlbFJhdGlvLnZhbHVlfXNldCBwaXhlbFJhdGlvKGUpe3RoaXMudW5pZm9ybXMucGl4ZWxSYXRpby52YWx1ZT1lfX1jb25zdCBHYT1lPT5lJiZlLmNvbnN0cnVjdG9yPT09RmxvYXQzMkFycmF5LEhhPWU9PmUgaW5zdGFuY2VvZiBSLlZlY3RvcjJ8fGUgaW5zdGFuY2VvZiBSLlZlY3RvcjN8fGUgaW5zdGFuY2VvZiBSLlZlY3RvcjQsJGE9ZT0+QXJyYXkuaXNBcnJheShlKT9lOkhhKGUpP2UudG9BcnJheSgpOltlLGUsZV07ZnVuY3Rpb24gcWEoZSx0LHIpe3JldHVybiBDLnVzZU1lbW8oKCgpPT57aWYodm9pZCAwIT09dCl7aWYoR2EodCkpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIFIuQ29sb3Ipe2NvbnN0IHI9QXJyYXkuZnJvbSh7bGVuZ3RoOjMqZX0sKCgpPT4oZT0+W2UucixlLmcsZS5iXSkodCkpKS5mbGF0KCk7cmV0dXJuIEZsb2F0MzJBcnJheS5mcm9tKHIpfWlmKEhhKHQpfHxBcnJheS5pc0FycmF5KHQpKXtjb25zdCByPUFycmF5LmZyb20oe2xlbmd0aDozKmV9LCgoKT0+JGEodCkpKS5mbGF0KCk7cmV0dXJuIEZsb2F0MzJBcnJheS5mcm9tKHIpfXJldHVybiBGbG9hdDMyQXJyYXkuZnJvbSh7bGVuZ3RoOmV9LCgoKT0+dCkpfXJldHVybiBGbG9hdDMyQXJyYXkuZnJvbSh7bGVuZ3RoOmV9LHIpfSksW3RdKX1jb25zdCBYYT1DLmZvcndhcmRSZWYoKCh7bm9pc2U6ZT0xLGNvdW50OnQ9MTAwLHNwZWVkOnI9MSxvcGFjaXR5Om49MSxzY2FsZTpvPTEsc2l6ZTppLGNvbG9yOnMsY2hpbGRyZW46bCwuLi5jfSx1KT0+e0MudXNlTWVtbygoKCk9PmEuZXh0ZW5kKHtTcGFya2xlc0ltcGxNYXRlcmlhbDpXYX0pKSxbXSk7Y29uc3QgZD1DLnVzZVJlZihudWxsKSxtPWEudXNlVGhyZWUoKGU9PmUudmlld3BvcnQuZHByKSksZj0kYShvKSxwPUMudXNlTWVtbygoKCk9PkZsb2F0MzJBcnJheS5mcm9tKEFycmF5LmZyb20oe2xlbmd0aDp0fSwoKCk9PmYubWFwKFIuTWF0aFV0aWxzLnJhbmRGbG9hdFNwcmVhZCkpKS5mbGF0KCkpKSxbdCwuLi5mXSksaD1xYSh0LGksTWF0aC5yYW5kb20pLHg9cWEodCxuKSx5PXFhKHQsciksdj1xYSgzKnQsZSksZz1xYSh2b2lkIDA9PT1zPzMqdDp0LEdhKHMpP3M6bmV3IFIuQ29sb3IocyksKCgpPT4xKSk7cmV0dXJuIGEudXNlRnJhbWUoKGU9PntkLmN1cnJlbnQmJmQuY3VycmVudC5tYXRlcmlhbCYmKGQuY3VycmVudC5tYXRlcmlhbC50aW1lPWUuY2xvY2suZWxhcHNlZFRpbWUpfSkpLEMudXNlSW1wZXJhdGl2ZUhhbmRsZSh1LCgoKT0+ZC5jdXJyZW50KSxbXSksQy5jcmVhdGVFbGVtZW50KFwicG9pbnRzXCIsVC5kZWZhdWx0KHtrZXk6YHBhcnRpY2xlLSR7dH0tJHtKU09OLnN0cmluZ2lmeShvKX1gfSxjLHtyZWY6ZH0pLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckdlb21ldHJ5XCIsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJidWZmZXJBdHRyaWJ1dGVcIix7YXR0YWNoOlwiYXR0cmlidXRlcy1wb3NpdGlvblwiLGFyZ3M6W3AsM119KSxDLmNyZWF0ZUVsZW1lbnQoXCJidWZmZXJBdHRyaWJ1dGVcIix7YXR0YWNoOlwiYXR0cmlidXRlcy1zaXplXCIsYXJnczpbaCwxXX0pLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLW9wYWNpdHlcIixhcmdzOlt4LDFdfSksQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImF0dHJpYnV0ZXMtc3BlZWRcIixhcmdzOlt5LDFdfSksQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImF0dHJpYnV0ZXMtY29sb3JcIixhcmdzOltnLDNdfSksQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImF0dHJpYnV0ZXMtbm9pc2VcIixhcmdzOlt2LDNdfSkpLGx8fEMuY3JlYXRlRWxlbWVudChcInNwYXJrbGVzSW1wbE1hdGVyaWFsXCIse3RyYW5zcGFyZW50OiEwLHBpeGVsUmF0aW86bSxkZXB0aFdyaXRlOiExfSkpfSkpO2Z1bmN0aW9uIFphKGU9MCx0PTEwMjQscil7Y29uc3Qgbj1mLnN1c3BlbmQoKCgpPT5mZXRjaChcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9wbW5kcnMvZHJlaS1hc3NldHNAbWFzdGVyL21hdGNhcHMuanNvblwiKS50aGVuKChlPT5lLmpzb24oKSkpKSxbXCJtYXRjYXBMaXN0XCJdKSxhPW5bMF0sbz1DLnVzZU1lbW8oKCgpPT5PYmplY3Qua2V5cyhuKS5sZW5ndGgpLFtdKSxpPWAke0MudXNlTWVtbygoKCk9Plwic3RyaW5nXCI9PXR5cGVvZiBlP2U6XCJudW1iZXJcIj09dHlwZW9mIGU/bltlXTpudWxsKSxbZV0pfHxhfSR7ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgNjQ6cmV0dXJuXCItNjRweFwiO2Nhc2UgMTI4OnJldHVyblwiLTEyOHB4XCI7Y2FzZSAyNTY6cmV0dXJuXCItMjU2cHhcIjtjYXNlIDUxMjpyZXR1cm5cIi01MTJweFwiO2RlZmF1bHQ6cmV0dXJuXCJcIn19KHQpfS5wbmdgLHM9YGh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL2VtbWVsbGVwcGkvbWF0Y2Fwcy85YjM2Y2NhYWYwYTI0ODgxYTM5MDYyZDA1NTY2YzllOTJiZTRhYTBkLyR7dH0vJHtpfWA7cmV0dXJuW1BlKHMscikscyxvXX1mdW5jdGlvbiBZYShlPTAsdD17fSxyKXtjb25zdHtyZXBlYXQ6YT1bMSwxXSxhbmlzb3Ryb3B5Om89MSxvZmZzZXQ6aT1bMCwwXX09dCxzPWYuc3VzcGVuZCgoKCk9PmZldGNoKFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3BtbmRycy9kcmVpLWFzc2V0c0BtYXN0ZXIvbm9ybWFscy9ub3JtYWxzLmpzb25cIikudGhlbigoZT0+ZS5qc29uKCkpKSksW1wibm9ybWFsc0xpc3RcIl0pLGw9Qy51c2VNZW1vKCgoKT0+T2JqZWN0LmtleXMocykubGVuZ3RoKSxbXSksYz1zWzBdLHU9YGh0dHBzOi8vcmF3Y2RuLmdpdGhhY2suY29tL3BtbmRycy9kcmVpLWFzc2V0cy83YTMxMDQ5OTdlMTU3NmY4MzQ3MjgyOTgxNWIwMDg4MGQ4OGIzMmZiL25vcm1hbHMvJHtzW2VdfHxjfWAsZD1QZSh1LHIpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntkJiYoZC53cmFwUz1kLndyYXBUPW4uUmVwZWF0V3JhcHBpbmcsZC5yZXBlYXQ9bmV3IG4uVmVjdG9yMihhWzBdLGFbMV0pLGQub2Zmc2V0PW5ldyBuLlZlY3RvcjIoaVswXSxpWzFdKSxkLmFuaXNvdHJvcHk9byl9KSxbZCxvLGEsaV0pLFtkLHUsbF19Y29uc3QgUWE9e3VuaWZvcm1zOntzdHJva2VPcGFjaXR5OjEsZmlsbE9wYWNpdHk6LjI1LGZpbGxNaXg6MCx0aGlja25lc3M6LjA1LGNvbG9yQmFja2ZhY2VzOiExLGRhc2hJbnZlcnQ6ITAsZGFzaDohMSxkYXNoUmVwZWF0czo0LGRhc2hMZW5ndGg6LjUsc3F1ZWV6ZTohMSxzcXVlZXplTWluOi4yLHNxdWVlemVNYXg6MSxzdHJva2U6bmV3IFIuQ29sb3IoXCIjZmYwMDAwXCIpLGJhY2tmYWNlU3Ryb2tlOm5ldyBSLkNvbG9yKFwiIzAwMDBmZlwiKSxmaWxsOm5ldyBSLkNvbG9yKFwiIzAwZmYwMFwiKX0sdmVydGV4OlwiXFxuXFx0ICBhdHRyaWJ1dGUgdmVjMyBiYXJ5Y2VudHJpYztcXG5cXHRcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdl9lZGdlc19CYXJ5Y2VudHJpYztcXG5cXHRcXHR2YXJ5aW5nIHZlYzMgdl9lZGdlc19Qb3NpdGlvbjtcXG5cXG5cXHRcXHR2b2lkIGluaXRXaXJlZnJhbWUoKSB7XFxuXFx0XFx0XFx0dl9lZGdlc19CYXJ5Y2VudHJpYyA9IGJhcnljZW50cmljO1xcblxcdFxcdFxcdHZfZWRnZXNfUG9zaXRpb24gPSBwb3NpdGlvbi54eXo7XFxuXFx0XFx0fVxcblxcdCAgXCIsZnJhZ21lbnQ6XCJcXG5cXHRcXHQjaWZuZGVmIFBJXFxuXFx0ICBcXHQjZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYyNjQzMzgzMjc5NVxcblxcdFxcdCNlbmRpZlxcbiAgXFxuXFx0ICB2YXJ5aW5nIHZlYzMgdl9lZGdlc19CYXJ5Y2VudHJpYztcXG5cXHQgIHZhcnlpbmcgdmVjMyB2X2VkZ2VzX1Bvc2l0aW9uO1xcbiAgXFxuXFx0ICB1bmlmb3JtIGZsb2F0IHN0cm9rZU9wYWNpdHk7XFxuXFx0ICB1bmlmb3JtIGZsb2F0IGZpbGxPcGFjaXR5O1xcblxcdCAgdW5pZm9ybSBmbG9hdCBmaWxsTWl4O1xcblxcdCAgdW5pZm9ybSBmbG9hdCB0aGlja25lc3M7XFxuXFx0ICB1bmlmb3JtIGJvb2wgY29sb3JCYWNrZmFjZXM7XFxuICBcXG5cXHQgIC8vIERhc2hcXG5cXHQgIHVuaWZvcm0gYm9vbCBkYXNoSW52ZXJ0O1xcblxcdCAgdW5pZm9ybSBib29sIGRhc2g7XFxuXFx0ICB1bmlmb3JtIGJvb2wgZGFzaE9ubHk7XFxuXFx0ICB1bmlmb3JtIGZsb2F0IGRhc2hSZXBlYXRzO1xcblxcdCAgdW5pZm9ybSBmbG9hdCBkYXNoTGVuZ3RoO1xcbiAgXFxuXFx0ICAvLyBTcXVlZXplXFxuXFx0ICB1bmlmb3JtIGJvb2wgc3F1ZWV6ZTtcXG5cXHQgIHVuaWZvcm0gZmxvYXQgc3F1ZWV6ZU1pbjtcXG5cXHQgIHVuaWZvcm0gZmxvYXQgc3F1ZWV6ZU1heDtcXG4gIFxcblxcdCAgLy8gQ29sb3JzXFxuXFx0ICB1bmlmb3JtIHZlYzMgc3Ryb2tlO1xcblxcdCAgdW5pZm9ybSB2ZWMzIGJhY2tmYWNlU3Ryb2tlO1xcblxcdCAgdW5pZm9ybSB2ZWMzIGZpbGw7XFxuICBcXG5cXHQgIC8vIFRoaXMgaXMgbGlrZVxcblxcdCAgZmxvYXQgd2lyZWZyYW1lX2Fhc3RlcChmbG9hdCB0aHJlc2hvbGQsIGZsb2F0IGRpc3QpIHtcXG5cXHRcXHQgIGZsb2F0IGFmd2lkdGggPSBmd2lkdGgoZGlzdCkgKiAwLjU7XFxuXFx0XFx0ICByZXR1cm4gc21vb3Roc3RlcCh0aHJlc2hvbGQgLSBhZndpZHRoLCB0aHJlc2hvbGQgKyBhZndpZHRoLCBkaXN0KTtcXG5cXHQgIH1cXG4gIFxcblxcdCAgZmxvYXQgd2lyZWZyYW1lX21hcChmbG9hdCB2YWx1ZSwgZmxvYXQgbWluMSwgZmxvYXQgbWF4MSwgZmxvYXQgbWluMiwgZmxvYXQgbWF4Mikge1xcblxcdFxcdCAgcmV0dXJuIG1pbjIgKyAodmFsdWUgLSBtaW4xKSAqIChtYXgyIC0gbWluMikgLyAobWF4MSAtIG1pbjEpO1xcblxcdCAgfVxcbiAgXFxuXFx0ICBmbG9hdCBnZXRXaXJlZnJhbWUoKSB7XFxuXFx0XFx0XFx0dmVjMyBiYXJ5Y2VudHJpYyA9IHZfZWRnZXNfQmFyeWNlbnRyaWM7XFxuXFx0XFx0XFxuXFx0XFx0XFx0Ly8gRGlzdGFuY2UgZnJvbSBjZW50ZXIgb2YgZWFjaCB0cmlhbmdsZSB0byBpdHMgZWRnZXMuXFxuXFx0XFx0XFx0ZmxvYXQgZCA9IG1pbihtaW4oYmFyeWNlbnRyaWMueCwgYmFyeWNlbnRyaWMueSksIGJhcnljZW50cmljLnopO1xcblxcblxcdFxcdFxcdC8vIGZvciBkYXNoZWQgcmVuZGVyaW5nLCB3ZSBjYW4gdXNlIHRoaXMgdG8gZ2V0IHRoZSAwIC4uIDEgdmFsdWUgb2YgdGhlIGxpbmUgbGVuZ3RoXFxuXFx0XFx0XFx0ZmxvYXQgcG9zaXRpb25BbG9uZyA9IG1heChiYXJ5Y2VudHJpYy54LCBiYXJ5Y2VudHJpYy55KTtcXG5cXHRcXHRcXHRpZiAoYmFyeWNlbnRyaWMueSA8IGJhcnljZW50cmljLnggJiYgYmFyeWNlbnRyaWMueSA8IGJhcnljZW50cmljLnopIHtcXG5cXHRcXHRcXHRcXHRwb3NpdGlvbkFsb25nID0gMS4wIC0gcG9zaXRpb25BbG9uZztcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlXFxuXFx0XFx0XFx0ZmxvYXQgY29tcHV0ZWRUaGlja25lc3MgPSB3aXJlZnJhbWVfbWFwKHRoaWNrbmVzcywgMC4wLCAxLjAsIDAuMCwgMC4zNCk7XFxuXFxuXFx0XFx0XFx0Ly8gaWYgd2Ugd2FudCB0byBzaHJpbmsgdGhlIHRoaWNrbmVzcyB0b3dhcmQgdGhlIGNlbnRlciBvZiB0aGUgbGluZSBzZWdtZW50XFxuXFx0XFx0XFx0aWYgKHNxdWVlemUpIHtcXG5cXHRcXHRcXHRcXHRjb21wdXRlZFRoaWNrbmVzcyAqPSBtaXgoc3F1ZWV6ZU1pbiwgc3F1ZWV6ZU1heCwgKDEuMCAtIHNpbihwb3NpdGlvbkFsb25nICogUEkpKSk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIENyZWF0ZSBkYXNoIHBhdHRlcm5cXG5cXHRcXHRcXHRpZiAoZGFzaCkge1xcblxcdFxcdFxcdFxcdC8vIGhlcmUgd2Ugb2Zmc2V0IHRoZSBzdHJva2UgcG9zaXRpb24gZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXRcXG5cXHRcXHRcXHRcXHQvLyBzaG91bGQgb3ZlcmxhcCBvciBub3RcXG5cXHRcXHRcXHRcXHRmbG9hdCBvZmZzZXQgPSAxLjAgLyBkYXNoUmVwZWF0cyAqIGRhc2hMZW5ndGggLyAyLjA7XFxuXFx0XFx0XFx0XFx0aWYgKCFkYXNoSW52ZXJ0KSB7XFxuXFx0XFx0XFx0XFx0XFx0b2Zmc2V0ICs9IDEuMCAvIGRhc2hSZXBlYXRzIC8gMi4wO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBpZiB3ZSBzaG91bGQgYW5pbWF0ZSB0aGUgZGFzaCBvciBub3RcXG5cXHRcXHRcXHRcXHQvLyBpZiAoZGFzaEFuaW1hdGUpIHtcXG5cXHRcXHRcXHRcXHQvLyBcXHRvZmZzZXQgKz0gdGltZSAqIDAuMjI7XFxuXFx0XFx0XFx0XFx0Ly8gfVxcblxcblxcdFxcdFxcdFxcdC8vIGNyZWF0ZSB0aGUgcmVwZWF0aW5nIGRhc2ggcGF0dGVyblxcblxcdFxcdFxcdFxcdGZsb2F0IHBhdHRlcm4gPSBmcmFjdCgocG9zaXRpb25BbG9uZyArIG9mZnNldCkgKiBkYXNoUmVwZWF0cyk7XFxuXFx0XFx0XFx0XFx0Y29tcHV0ZWRUaGlja25lc3MgKj0gMS4wIC0gd2lyZWZyYW1lX2Fhc3RlcChkYXNoTGVuZ3RoLCBwYXR0ZXJuKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gY29tcHV0ZSB0aGUgYW50aS1hbGlhc2VkIHN0cm9rZSBlZGdlICBcXG5cXHRcXHRcXHRmbG9hdCBlZGdlID0gMS4wIC0gd2lyZWZyYW1lX2Fhc3RlcChjb21wdXRlZFRoaWNrbmVzcywgZCk7XFxuXFxuXFx0XFx0XFx0cmV0dXJuIGVkZ2U7XFxuXFx0ICB9XFxuXFx0ICBcIn0sS2E9VGUoUWEudW5pZm9ybXMsUWEudmVydGV4K1wiXFxuICBcXHR2b2lkIG1haW4oKSB7XFxuXFx0XFx0aW5pdFdpcmVmcmFtZSgpO1xcblxcdFxcdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuXFx0fVxcbiAgXCIsUWEuZnJhZ21lbnQrXCJcXG4gIHZvaWQgbWFpbiAoKSB7XFxuXFx0XFx0Ly8gQ29tcHV0ZSBjb2xvclxcblxcblxcdFxcdGZsb2F0IGVkZ2UgPSBnZXRXaXJlZnJhbWUoKTtcXG5cXHRcXHR2ZWM0IGNvbG9yU3Ryb2tlID0gdmVjNChzdHJva2UsIGVkZ2UpO1xcblxcblxcdFxcdCNpZmRlZiBGTElQX1NJREVEXFxuXFx0XFx0XFx0Y29sb3JTdHJva2UucmdiID0gYmFja2ZhY2VTdHJva2U7XFxuXFx0XFx0I2VuZGlmXFxuICAgIFxcblxcdFxcdHZlYzQgY29sb3JGaWxsID0gdmVjNChmaWxsLCBmaWxsT3BhY2l0eSk7XFxuXFx0XFx0dmVjNCBvdXRDb2xvciA9IG1peChjb2xvckZpbGwsIGNvbG9yU3Ryb2tlLCBlZGdlICogc3Ryb2tlT3BhY2l0eSk7XFxuXFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gb3V0Q29sb3I7XFxuXFx0fVxcbiAgXCIpO2Z1bmN0aW9uIEphKGUpe3JldHVybiB2b2lkIDAhPT0obnVsbD09ZT92b2lkIDA6ZS5jdXJyZW50KX1mdW5jdGlvbiBlbyhlKXtyZXR1cm5cIldpcmVmcmFtZUdlb21ldHJ5XCI9PT1lLnR5cGV9ZnVuY3Rpb24gdG8oZSl7Y29uc3QgdD1udWxsIT0ocj1lKSYmci5jdXJyZW50P2UuY3VycmVudDplO3ZhciByO2lmKGZ1bmN0aW9uKGUpe3JldHVybiEobnVsbD09ZXx8IWUuaXNCdWZmZXJHZW9tZXRyeSl9KHQpKXJldHVybiB0O3tpZihlbyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJXaXJlZnJhbWU6IFdpcmVmcmFtZUdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO2NvbnN0IGU9dC5wYXJlbnQ7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhZS5nZW9tZXRyeSl9KGUpKXtpZihlbyhlLmdlb21ldHJ5KSl0aHJvdyBuZXcgRXJyb3IoXCJXaXJlZnJhbWU6IFdpcmVmcmFtZUdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuXCIpO3JldHVybiBlLmdlb21ldHJ5fX19ZnVuY3Rpb24gcm8oZSx0KXtpZihlLmluZGV4KXtjb25zb2xlLndhcm4oXCJXaXJlZnJhbWU6IFJlcXVpcmVzIG5vbi1pbmRleGVkIGdlb21ldHJ5LCBjb252ZXJ0aW5nIHRvIG5vbi1pbmRleGVkIGdlb21ldHJ5LlwiKTtjb25zdCB0PWUudG9Ob25JbmRleGVkKCk7ZS5jb3B5KHQpLGUuc2V0SW5kZXgobnVsbCl9Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0IHI9ZS5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKS5jb3VudCxuPVtdO2ZvcihsZXQgZT0wO2U8cjtlKyspe2NvbnN0IHI9dD8xOjA7ZSUyPT0wP24ucHVzaCgwLDAsMSwwLDEsMCwxLDAscik6bi5wdXNoKDAsMSwwLDAsMCwxLDEsMCxyKX1yZXR1cm4gbmV3IFIuQnVmZmVyQXR0cmlidXRlKEZsb2F0MzJBcnJheS5mcm9tKG4pLDMpfShlLHQpO2Uuc2V0QXR0cmlidXRlKFwiYmFyeWNlbnRyaWNcIixyKX1mdW5jdGlvbiBubyh7Z2VvbWV0cnk6ZSxzaW1wbGlmeTp0PSExLC4uLnJ9KXthLmV4dGVuZCh7TWVzaFdpcmVmcmFtZU1hdGVyaWFsOkthfSk7Y29uc3RbbixvXT1DLnVzZVN0YXRlKG51bGwpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IHI9dG8oZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiV2lyZWZyYW1lOiBnZW9tZXRyeSBwcm9wIG11c3QgYmUgYSBCdWZmZXJHZW9tZXRyeSBvciBhIHJlZiB0byBhIEJ1ZmZlckdlb21ldHJ5LlwiKTtybyhyLHQpLEphKGUpJiZvKHIpfSksW3QsZV0pO2NvbnN0IGk9SmEoZSk/bjplO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLGkmJkMuY3JlYXRlRWxlbWVudChcIm1lc2hcIix7Z2VvbWV0cnk6aX0sQy5jcmVhdGVFbGVtZW50KFwibWVzaFdpcmVmcmFtZU1hdGVyaWFsXCIsVC5kZWZhdWx0KHthdHRhY2g6XCJtYXRlcmlhbFwiLHRyYW5zcGFyZW50OiEwLHNpZGU6Ui5Eb3VibGVTaWRlLHBvbHlnb25PZmZzZXQ6ITAscG9seWdvbk9mZnNldEZhY3RvcjotNH0scix7ZXh0ZW5zaW9uczp7ZGVyaXZhdGl2ZXM6ITAsZnJhZ0RlcHRoOiExLGRyYXdCdWZmZXJzOiExLHNoYWRlclRleHR1cmVMT0Q6ITF9fSkpKSl9ZnVuY3Rpb24gYW8oe3NpbXBsaWZ5OmU9ITEsLi4udH0pe2NvbnN0IHI9Qy51c2VSZWYobnVsbCksbj1DLnVzZU1lbW8oKCgpPT5mdW5jdGlvbigpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgaW4gUWEudW5pZm9ybXMpZVt0XT17dmFsdWU6UWEudW5pZm9ybXNbdF19O3JldHVybiBlfSgpKSxbUWEudW5pZm9ybXNdKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgcjtlLmZpbGxPcGFjaXR5LnZhbHVlPW51bGwhPT0ocj10LmZpbGxPcGFjaXR5KSYmdm9pZCAwIT09cj9yOmUuZmlsbE9wYWNpdHkudmFsdWV9KSxbdC5maWxsT3BhY2l0eV0pLEMudXNlRWZmZWN0KCgoKT0+e3ZhciByO2UuZmlsbE1peC52YWx1ZT1udWxsIT09KHI9dC5maWxsTWl4KSYmdm9pZCAwIT09cj9yOmUuZmlsbE1peC52YWx1ZX0pLFt0LmZpbGxNaXhdKSxDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgcjtlLnN0cm9rZU9wYWNpdHkudmFsdWU9bnVsbCE9PShyPXQuc3Ryb2tlT3BhY2l0eSkmJnZvaWQgMCE9PXI/cjplLnN0cm9rZU9wYWNpdHkudmFsdWV9KSxbdC5zdHJva2VPcGFjaXR5XSksQy51c2VFZmZlY3QoKCgpPT57dmFyIHI7ZS50aGlja25lc3MudmFsdWU9bnVsbCE9PShyPXQudGhpY2tuZXNzKSYmdm9pZCAwIT09cj9yOmUudGhpY2tuZXNzLnZhbHVlfSksW3QudGhpY2tuZXNzXSksQy51c2VFZmZlY3QoKCgpPT57ZS5jb2xvckJhY2tmYWNlcy52YWx1ZT0hIXQuY29sb3JCYWNrZmFjZXN9KSxbdC5jb2xvckJhY2tmYWNlc10pLEMudXNlRWZmZWN0KCgoKT0+e2UuZGFzaC52YWx1ZT0hIXQuZGFzaH0pLFt0LmRhc2hdKSxDLnVzZUVmZmVjdCgoKCk9PntlLmRhc2hJbnZlcnQudmFsdWU9ISF0LmRhc2hJbnZlcnR9KSxbdC5kYXNoSW52ZXJ0XSksQy51c2VFZmZlY3QoKCgpPT57dmFyIHI7ZS5kYXNoUmVwZWF0cy52YWx1ZT1udWxsIT09KHI9dC5kYXNoUmVwZWF0cykmJnZvaWQgMCE9PXI/cjplLmRhc2hSZXBlYXRzLnZhbHVlfSksW3QuZGFzaFJlcGVhdHNdKSxDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgcjtlLmRhc2hMZW5ndGgudmFsdWU9bnVsbCE9PShyPXQuZGFzaExlbmd0aCkmJnZvaWQgMCE9PXI/cjplLmRhc2hMZW5ndGgudmFsdWV9KSxbdC5kYXNoTGVuZ3RoXSksQy51c2VFZmZlY3QoKCgpPT57ZS5zcXVlZXplLnZhbHVlPSEhdC5zcXVlZXplfSksW3Quc3F1ZWV6ZV0pLEMudXNlRWZmZWN0KCgoKT0+e3ZhciByO2Uuc3F1ZWV6ZU1pbi52YWx1ZT1udWxsIT09KHI9dC5zcXVlZXplTWluKSYmdm9pZCAwIT09cj9yOmUuc3F1ZWV6ZU1pbi52YWx1ZX0pLFt0LnNxdWVlemVNaW5dKSxDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgcjtlLnNxdWVlemVNYXgudmFsdWU9bnVsbCE9PShyPXQuc3F1ZWV6ZU1heCkmJnZvaWQgMCE9PXI/cjplLnNxdWVlemVNYXgudmFsdWV9KSxbdC5zcXVlZXplTWF4XSksQy51c2VFZmZlY3QoKCgpPT57ZS5zdHJva2UudmFsdWU9dC5zdHJva2U/bmV3IFIuQ29sb3IodC5zdHJva2UpOmUuc3Ryb2tlLnZhbHVlfSksW3Quc3Ryb2tlXSksQy51c2VFZmZlY3QoKCgpPT57ZS5maWxsLnZhbHVlPXQuZmlsbD9uZXcgUi5Db2xvcih0LmZpbGwpOmUuZmlsbC52YWx1ZX0pLFt0LmZpbGxdKSxDLnVzZUVmZmVjdCgoKCk9PntlLmJhY2tmYWNlU3Ryb2tlLnZhbHVlPXQuYmFja2ZhY2VTdHJva2U/bmV3IFIuQ29sb3IodC5iYWNrZmFjZVN0cm9rZSk6ZS5iYWNrZmFjZVN0cm9rZS52YWx1ZX0pLFt0LmJhY2tmYWNlU3Ryb2tlXSl9KG4sdCksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57Y29uc3QgdD10byhyKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJXaXJlZnJhbWU6IE11c3QgYmUgYSBjaGlsZCBvZiBhIE1lc2gsIExpbmUgb3IgUG9pbnRzIG9iamVjdCBvciBzcGVjaWZ5IGEgZ2VvbWV0cnkgcHJvcC5cIik7Y29uc3Qgbj10LmNsb25lKCk7cmV0dXJuIHJvKHQsZSksKCk9Pnt0LmNvcHkobiksbi5kaXNwb3NlKCl9fSksW2VdKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9Pntjb25zdCBlPXIuY3VycmVudC5wYXJlbnQsdD1lLm1hdGVyaWFsLmNsb25lKCk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZS5vbkJlZm9yZUNvbXBpbGU9ZT0+e2UudW5pZm9ybXM9ey4uLmUudW5pZm9ybXMsLi4udH0sZS52ZXJ0ZXhTaGFkZXI9ZS52ZXJ0ZXhTaGFkZXIucmVwbGFjZShcInZvaWQgbWFpbigpIHtcIixgXFxuXFx0XFx0ICAke1FhLnZlcnRleH1cXG5cXHRcXHQgIHZvaWQgbWFpbigpIHtcXG5cXHRcXHRcXHRpbml0V2lyZWZyYW1lKCk7XFxuXFx0XFx0YCksZS5mcmFnbWVudFNoYWRlcj1lLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCJ2b2lkIG1haW4oKSB7XCIsYFxcblxcdFxcdCAgJHtRYS5mcmFnbWVudH1cXG5cXHRcXHQgIHZvaWQgbWFpbigpIHtcXG5cXHRcXHRgKSxlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShcIiNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cIixcIlxcblxcdFxcdCAgI2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxcblxcdFxcdFxcdCAgZmxvYXQgZWRnZSA9IGdldFdpcmVmcmFtZSgpO1xcblxcdFxcdCAgdmVjNCBjb2xvclN0cm9rZSA9IHZlYzQoc3Ryb2tlLCBlZGdlKTtcXG5cXHRcXHQgICNpZmRlZiBGTElQX1NJREVEXFxuXFx0XFx0XFx0Y29sb3JTdHJva2UucmdiID0gYmFja2ZhY2VTdHJva2U7XFxuXFx0XFx0ICAjZW5kaWZcXG5cXHRcXHQgIHZlYzQgY29sb3JGaWxsID0gdmVjNChtaXgoZGlmZnVzZUNvbG9yLnJnYiwgZmlsbCwgZmlsbE1peCksIG1peChkaWZmdXNlQ29sb3IuYSwgZmlsbE9wYWNpdHksIGZpbGxNaXgpKTtcXG5cXHRcXHQgIHZlYzQgb3V0Q29sb3IgPSBtaXgoY29sb3JGaWxsLCBjb2xvclN0cm9rZSwgZWRnZSAqIHN0cm9rZU9wYWNpdHkpO1xcblxcblxcdFxcdCAgZGlmZnVzZUNvbG9yLnJnYiA9IG91dENvbG9yLnJnYjtcXG5cXHRcXHQgIGRpZmZ1c2VDb2xvci5hICo9IG91dENvbG9yLmE7XFxuXFx0XFx0XCIpfSxlLnNpZGU9Ui5Eb3VibGVTaWRlLGUudHJhbnNwYXJlbnQ9ITB9KGUubWF0ZXJpYWwsbiksKCk9PntlLm1hdGVyaWFsLmRpc3Bvc2UoKSxlLm1hdGVyaWFsPXR9fSksW10pLEMuY3JlYXRlRWxlbWVudChcIm9iamVjdDNEXCIse3JlZjpyfSl9Y29uc3Qgb289bmV3IFIuTWF0cml4NCxpbz1uZXcgUi5SYXksc289bmV3IFIuU3BoZXJlLGxvPW5ldyBSLlZlY3RvcjM7Y2xhc3MgY28gZXh0ZW5kcyBSLkdyb3Vwe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnNpemU9MCx0aGlzLmNvbG9yPW5ldyBSLkNvbG9yKFwid2hpdGVcIiksdGhpcy5pbnN0YW5jZT17Y3VycmVudDp2b2lkIDB9LHRoaXMuaW5zdGFuY2VLZXk9e2N1cnJlbnQ6dm9pZCAwfX1nZXQgZ2VvbWV0cnkoKXt2YXIgZTtyZXR1cm4gbnVsbD09KGU9dGhpcy5pbnN0YW5jZS5jdXJyZW50KT92b2lkIDA6ZS5nZW9tZXRyeX1yYXljYXN0KGUsdCl7dmFyIHIsbjtjb25zdCBhPXRoaXMuaW5zdGFuY2UuY3VycmVudDtpZighYXx8IWEuZ2VvbWV0cnkpcmV0dXJuO2NvbnN0IG89YS51c2VyRGF0YS5pbnN0YW5jZXMuaW5kZXhPZih0aGlzLmluc3RhbmNlS2V5KTtpZigtMT09PW98fG8+YS5nZW9tZXRyeS5kcmF3UmFuZ2UuY291bnQpcmV0dXJuO2NvbnN0IGk9bnVsbCE9PShyPW51bGw9PShuPWUucGFyYW1zLlBvaW50cyk/dm9pZCAwOm4udGhyZXNob2xkKSYmdm9pZCAwIT09cj9yOjE7aWYoc28uc2V0KHRoaXMuZ2V0V29ybGRQb3NpdGlvbihsbyksaSksITE9PT1lLnJheS5pbnRlcnNlY3RzU3BoZXJlKHNvKSlyZXR1cm47b28uY29weShhLm1hdHJpeFdvcmxkKS5pbnZlcnQoKSxpby5jb3B5KGUucmF5KS5hcHBseU1hdHJpeDQob28pO2NvbnN0IHM9aS8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKSxsPXMqcyxjPWlvLmRpc3RhbmNlU3FUb1BvaW50KHRoaXMucG9zaXRpb24pO2lmKGM8bCl7Y29uc3Qgcj1uZXcgUi5WZWN0b3IzO2lvLmNsb3Nlc3RQb2ludFRvUG9pbnQodGhpcy5wb3NpdGlvbixyKSxyLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtjb25zdCBuPWUucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHIpO2lmKG48ZS5uZWFyfHxuPmUuZmFyKXJldHVybjt0LnB1c2goe2Rpc3RhbmNlOm4sZGlzdGFuY2VUb1JheTpNYXRoLnNxcnQoYykscG9pbnQ6cixpbmRleDpvLGZhY2U6bnVsbCxvYmplY3Q6dGhpc30pfX19bGV0IHVvLG1vO2NvbnN0IGZvPUMuY3JlYXRlQ29udGV4dChudWxsKSxwbz1uZXcgUi5NYXRyaXg0LGhvPW5ldyBSLlZlY3RvcjMseG89Qy5mb3J3YXJkUmVmKCgoe2NoaWxkcmVuOmUscmFuZ2U6dCxsaW1pdDpyPTFlMywuLi5ufSxvKT0+e2NvbnN0IGk9Qy51c2VSZWYobnVsbCk7Qy51c2VJbXBlcmF0aXZlSGFuZGxlKG8sKCgpPT5pLmN1cnJlbnQpLFtdKTtjb25zdFtzLGxdPUMudXNlU3RhdGUoW10pLFtbYyx1LGRdXT1DLnVzZVN0YXRlKCgoKT0+W25ldyBGbG9hdDMyQXJyYXkoMypyKSxGbG9hdDMyQXJyYXkuZnJvbSh7bGVuZ3RoOjMqcn0sKCgpPT4xKSksRmxvYXQzMkFycmF5LmZyb20oe2xlbmd0aDpyfSwoKCk9PjEpKV0pKTtDLnVzZUVmZmVjdCgoKCk9PntpLmN1cnJlbnQuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZT0hMH0pKSxhLnVzZUZyYW1lKCgoKT0+e2ZvcihpLmN1cnJlbnQudXBkYXRlTWF0cml4KCksaS5jdXJyZW50LnVwZGF0ZU1hdHJpeFdvcmxkKCkscG8uY29weShpLmN1cnJlbnQubWF0cml4V29ybGQpLmludmVydCgpLGkuY3VycmVudC5nZW9tZXRyeS5kcmF3UmFuZ2UuY291bnQ9TWF0aC5taW4ocix2b2lkIDAhPT10P3Q6cixzLmxlbmd0aCksdW89MDt1bzxzLmxlbmd0aDt1bysrKW1vPXNbdW9dLmN1cnJlbnQsbW8uZ2V0V29ybGRQb3NpdGlvbihobykuYXBwbHlNYXRyaXg0KHBvKSxoby50b0FycmF5KGMsMyp1byksaS5jdXJyZW50Lmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24ubmVlZHNVcGRhdGU9ITAsbW8ubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMCxtby5jb2xvci50b0FycmF5KHUsMyp1byksaS5jdXJyZW50Lmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IubmVlZHNVcGRhdGU9ITAsZC5zZXQoW21vLnNpemVdLHVvKSxpLmN1cnJlbnQuZ2VvbWV0cnkuYXR0cmlidXRlcy5zaXplLm5lZWRzVXBkYXRlPSEwfSkpO2NvbnN0IG09Qy51c2VNZW1vKCgoKT0+KHtnZXRQYXJlbnQ6KCk9Pmksc3Vic2NyaWJlOmU9PihsKCh0PT5bLi4udCxlXSkpLCgpPT5sKCh0PT50LmZpbHRlcigodD0+dC5jdXJyZW50IT09ZS5jdXJyZW50KSkpKSl9KSksW10pO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJwb2ludHNcIixULmRlZmF1bHQoe3VzZXJEYXRhOntpbnN0YW5jZXM6c30sbWF0cml4QXV0b1VwZGF0ZTohMSxyZWY6aSxyYXljYXN0OigpPT5udWxsfSxuKSxDLmNyZWF0ZUVsZW1lbnQoXCJidWZmZXJHZW9tZXRyeVwiLG51bGwsQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImF0dHJpYnV0ZXMtcG9zaXRpb25cIixjb3VudDpjLmxlbmd0aC8zLGFycmF5OmMsaXRlbVNpemU6Myx1c2FnZTpSLkR5bmFtaWNEcmF3VXNhZ2V9KSxDLmNyZWF0ZUVsZW1lbnQoXCJidWZmZXJBdHRyaWJ1dGVcIix7YXR0YWNoOlwiYXR0cmlidXRlcy1jb2xvclwiLGNvdW50OnUubGVuZ3RoLzMsYXJyYXk6dSxpdGVtU2l6ZTozLHVzYWdlOlIuRHluYW1pY0RyYXdVc2FnZX0pLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLXNpemVcIixjb3VudDpkLmxlbmd0aCxhcnJheTpkLGl0ZW1TaXplOjEsdXNhZ2U6Ui5EeW5hbWljRHJhd1VzYWdlfSkpLEMuY3JlYXRlRWxlbWVudChmby5Qcm92aWRlcix7dmFsdWU6bX0sZSkpfSkpLHlvPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLC4uLnR9LHIpPT57Qy51c2VNZW1vKCgoKT0+YS5leHRlbmQoe1Bvc2l0aW9uUG9pbnQ6Y299KSksW10pO2NvbnN0IG49Qy51c2VSZWYobnVsbCk7Qy51c2VJbXBlcmF0aXZlSGFuZGxlKHIsKCgpPT5uLmN1cnJlbnQpLFtdKTtjb25zdHtzdWJzY3JpYmU6byxnZXRQYXJlbnQ6aX09Qy51c2VDb250ZXh0KGZvKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT5vKG4pKSxbXSksQy5jcmVhdGVFbGVtZW50KFwicG9zaXRpb25Qb2ludFwiLFQuZGVmYXVsdCh7aW5zdGFuY2U6aSgpLGluc3RhbmNlS2V5Om4scmVmOm59LHQpLGUpfSkpLHZvPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLHBvc2l0aW9uczp0LGNvbG9yczpyLHNpemVzOm4sc3RyaWRlOm89MywuLi5pfSxzKT0+e2NvbnN0IGw9Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShzLCgoKT0+bC5jdXJyZW50KSxbXSksYS51c2VGcmFtZSgoKCk9Pntjb25zdCBlPWwuY3VycmVudC5nZW9tZXRyeS5hdHRyaWJ1dGVzO2UucG9zaXRpb24ubmVlZHNVcGRhdGU9ITAsciYmKGUuY29sb3IubmVlZHNVcGRhdGU9ITApLG4mJihlLnNpemUubmVlZHNVcGRhdGU9ITApfSkpLEMuY3JlYXRlRWxlbWVudChcInBvaW50c1wiLFQuZGVmYXVsdCh7cmVmOmx9LGkpLEMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckdlb21ldHJ5XCIsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJidWZmZXJBdHRyaWJ1dGVcIix7YXR0YWNoOlwiYXR0cmlidXRlcy1wb3NpdGlvblwiLGNvdW50OnQubGVuZ3RoL28sYXJyYXk6dCxpdGVtU2l6ZTpvLHVzYWdlOlIuRHluYW1pY0RyYXdVc2FnZX0pLHImJkMuY3JlYXRlRWxlbWVudChcImJ1ZmZlckF0dHJpYnV0ZVwiLHthdHRhY2g6XCJhdHRyaWJ1dGVzLWNvbG9yXCIsY291bnQ6ci5sZW5ndGgvbyxhcnJheTpyLGl0ZW1TaXplOjMsdXNhZ2U6Ui5EeW5hbWljRHJhd1VzYWdlfSksbiYmQy5jcmVhdGVFbGVtZW50KFwiYnVmZmVyQXR0cmlidXRlXCIse2F0dGFjaDpcImF0dHJpYnV0ZXMtc2l6ZVwiLGNvdW50Om4ubGVuZ3RoL28sYXJyYXk6bixpdGVtU2l6ZToxLHVzYWdlOlIuRHluYW1pY0RyYXdVc2FnZX0pKSxlKX0pKSxnbz1DLmZvcndhcmRSZWYoKChlLHQpPT5lLnBvc2l0aW9ucyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT9DLmNyZWF0ZUVsZW1lbnQodm8sVC5kZWZhdWx0KHt9LGUse3JlZjp0fSkpOkMuY3JlYXRlRWxlbWVudCh4byxULmRlZmF1bHQoe30sZSx7cmVmOnR9KSkpKSx3bz1DLmNyZWF0ZUNvbnRleHQobnVsbCksem89Qy5mb3J3YXJkUmVmKCgoZSx0KT0+e0MudXNlTWVtbygoKCk9PmEuZXh0ZW5kKHtTZWdtZW50T2JqZWN0OmJvfSkpLFtdKTtjb25zdHtsaW1pdDpyPTFlMyxsaW5lV2lkdGg6bj0xLGNoaWxkcmVuOm8sLi4uaX09ZSxbcyxsXT1DLnVzZVN0YXRlKFtdKSxbY109Qy51c2VTdGF0ZSgoKCk9Pm5ldyB1LkxpbmUyKSksW2RdPUMudXNlU3RhdGUoKCgpPT5uZXcgdS5MaW5lTWF0ZXJpYWwpKSxbbV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyB1LkxpbmVTZWdtZW50c0dlb21ldHJ5KSksW2ZdPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5WZWN0b3IyKDUxMiw1MTIpKSksW3BdPUMudXNlU3RhdGUoKCgpPT5BcnJheSg2KnIpLmZpbGwoMCkpKSxbaF09Qy51c2VTdGF0ZSgoKCk9PkFycmF5KDYqcikuZmlsbCgwKSkpLHg9Qy51c2VNZW1vKCgoKT0+KHtzdWJzY3JpYmU6ZT0+KGwoKHQ9PlsuLi50LGVdKSksKCk9PmwoKHQ9PnQuZmlsdGVyKCh0PT50LmN1cnJlbnQhPT1lLmN1cnJlbnQpKSkpKX0pKSxbXSk7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57Zm9yKGxldCB0PTA7dDxyO3QrKyl7dmFyIGU7Y29uc3Qgcj1udWxsPT0oZT1zW3RdKT92b2lkIDA6ZS5jdXJyZW50O3ImJihwWzYqdCswXT1yLnN0YXJ0LngscFs2KnQrMV09ci5zdGFydC55LHBbNip0KzJdPXIuc3RhcnQueixwWzYqdCszXT1yLmVuZC54LHBbNip0KzRdPXIuZW5kLnkscFs2KnQrNV09ci5lbmQueixoWzYqdCswXT1yLmNvbG9yLnIsaFs2KnQrMV09ci5jb2xvci5nLGhbNip0KzJdPXIuY29sb3IuYixoWzYqdCszXT1yLmNvbG9yLnIsaFs2KnQrNF09ci5jb2xvci5nLGhbNip0KzVdPXIuY29sb3IuYil9bS5zZXRDb2xvcnMoaCksbS5zZXRQb3NpdGlvbnMocCksYy5jb21wdXRlTGluZURpc3RhbmNlcygpfSkpLEMuY3JlYXRlRWxlbWVudChcInByaW1pdGl2ZVwiLHtvYmplY3Q6YyxyZWY6dH0sQy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIse29iamVjdDptLGF0dGFjaDpcImdlb21ldHJ5XCJ9KSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe29iamVjdDpkLGF0dGFjaDpcIm1hdGVyaWFsXCIsdmVydGV4Q29sb3JzOiEwLHJlc29sdXRpb246ZixsaW5ld2lkdGg6bn0saSkpLEMuY3JlYXRlRWxlbWVudCh3by5Qcm92aWRlcix7dmFsdWU6eH0sbykpfSkpO2NsYXNzIGJve2NvbnN0cnVjdG9yKCl7dGhpcy5jb2xvcj1uZXcgUi5Db2xvcihcIndoaXRlXCIpLHRoaXMuc3RhcnQ9bmV3IFIuVmVjdG9yMygwLDAsMCksdGhpcy5lbmQ9bmV3IFIuVmVjdG9yMygwLDAsMCl9fWNvbnN0IEVvPWU9PmUgaW5zdGFuY2VvZiBSLlZlY3RvcjM/ZTpuZXcgUi5WZWN0b3IzKC4uLlwibnVtYmVyXCI9PXR5cGVvZiBlP1tlLGUsZV06ZSksTW89Qy5mb3J3YXJkUmVmKCgoe2NvbG9yOmUsc3RhcnQ6dCxlbmQ6cn0sbik9Pntjb25zdCBhPUMudXNlQ29udGV4dCh3byk7aWYoIWEpdGhyb3dcIlNlZ21lbnQgbXVzdCB1c2VkIGluc2lkZSBTZWdtZW50cyBjb21wb25lbnQuXCI7Y29uc3Qgbz1DLnVzZVJlZihudWxsKTtyZXR1cm4gQy51c2VJbXBlcmF0aXZlSGFuZGxlKG4sKCgpPT5vLmN1cnJlbnQpLFtdKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9PmEuc3Vic2NyaWJlKG8pKSxbXSksQy5jcmVhdGVFbGVtZW50KFwic2VnbWVudE9iamVjdFwiLHtyZWY6byxjb2xvcjplLHN0YXJ0OkVvKHQpLGVuZDpFbyhyKX0pfSkpLFNvPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGh5c3RlcmVzaXM6dD0wLGRpc3RhbmNlczpyLC4uLm59LG8pPT57Y29uc3QgaT1DLnVzZVJlZihudWxsKTtyZXR1cm4gQy51c2VJbXBlcmF0aXZlSGFuZGxlKG8sKCgpPT5pLmN1cnJlbnQpLFtdKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9Pntjb25zdHtjdXJyZW50OmV9PWk7ZS5sZXZlbHMubGVuZ3RoPTAsZS5jaGlsZHJlbi5mb3JFYWNoKCgobixhKT0+ZS5sZXZlbHMucHVzaCh7b2JqZWN0Om4saHlzdGVyZXNpczp0LGRpc3RhbmNlOnJbYV19KSkpfSkpLGEudXNlRnJhbWUoKGU9Pnt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9aS5jdXJyZW50KT92b2lkIDA6dC51cGRhdGUoZS5jYW1lcmEpfSkpLEMuY3JlYXRlRWxlbWVudChcImxPRFwiLFQuZGVmYXVsdCh7cmVmOml9LG4pLGUpfSkpO2NvbnN0IFRvPW5ldyBuLk1hdHJpeDQsQ289bmV3IG4uUmF5LFBvPW5ldyBuLlNwaGVyZSxSbz1uZXcgbi5WZWN0b3IzO2NvbnN0IERvPXQuY3JlYXRlQ29udGV4dChudWxsKTtjb25zdCBGbz1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSxjb21wdXRlOnQsd2lkdGg6cixoZWlnaHQ6bixzYW1wbGVzOm89OCxyZW5kZXJQcmlvcml0eTppPTAsZXZlbnRQcmlvcml0eTpzPTAsZnJhbWVzOmw9MS8wLHN0ZW5jaWxCdWZmZXI6Yz0hMSxkZXB0aEJ1ZmZlcjp1PSEwLGdlbmVyYXRlTWlwbWFwczpkPSExLC4uLm19LGYpPT57Y29uc3R7c2l6ZTpwLHZpZXdwb3J0Omh9PWEudXNlVGhyZWUoKSx4PW90KChyfHxwLndpZHRoKSpoLmRwciwobnx8cC5oZWlnaHQpKmguZHByLHtzYW1wbGVzOm8sc3RlbmNpbEJ1ZmZlcjpjLGRlcHRoQnVmZmVyOnUsZ2VuZXJhdGVNaXBtYXBzOmR9KSxbeV09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBSLlNjZW5lKSksdj1DLnVzZUNhbGxiYWNrKCgoZSx0LHIpPT57dmFyIG4sYTtsZXQgbz1udWxsPT0obj14LnRleHR1cmUpP3ZvaWQgMDpuLl9fcjNmLnBhcmVudDtmb3IoO28mJiEobyBpbnN0YW5jZW9mIFIuT2JqZWN0M0QpOylvPW8uX19yM2YucGFyZW50O2lmKCFvKXJldHVybiExO3IucmF5Y2FzdGVyLmNhbWVyYXx8ci5ldmVudHMuY29tcHV0ZShlLHIsbnVsbD09KGE9ci5wcmV2aW91c1Jvb3QpP3ZvaWQgMDphLmdldFN0YXRlKCkpO2NvbnN0W2ldPXIucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdChvKTtpZighaSlyZXR1cm4hMTtjb25zdCBzPWkudXY7aWYoIXMpcmV0dXJuITE7dC5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYSh0LnBvaW50ZXIuc2V0KDIqcy54LTEsMipzLnktMSksdC5jYW1lcmEpfSksW10pO3JldHVybiBDLnVzZUltcGVyYXRpdmVIYW5kbGUoZiwoKCk9PngudGV4dHVyZSksW3hdKSxDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLGEuY3JlYXRlUG9ydGFsKEMuY3JlYXRlRWxlbWVudChrbyx7cmVuZGVyUHJpb3JpdHk6aSxmcmFtZXM6bCxmYm86eH0sZSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtvblBvaW50ZXJPdmVyOigpPT5udWxsfSkpLHkse2V2ZW50czp7Y29tcHV0ZTp0fHx2LHByaW9yaXR5OnN9fSksQy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsVC5kZWZhdWx0KHtvYmplY3Q6eC50ZXh0dXJlfSxtKSkpfSkpO2Z1bmN0aW9uIGtvKHtmcmFtZXM6ZSxyZW5kZXJQcmlvcml0eTp0LGNoaWxkcmVuOnIsZmJvOm59KXtsZXQgbyxpLHMsbCxjPTA7cmV0dXJuIGEudXNlRnJhbWUoKHQ9PnsoZT09PTEvMHx8YzxlKSYmKG89dC5nbC5hdXRvQ2xlYXIsaT10LmdsLnhyLmVuYWJsZWQscz10LmdsLmdldFJlbmRlclRhcmdldCgpLGw9dC5nbC54ci5pc1ByZXNlbnRpbmcsdC5nbC5hdXRvQ2xlYXI9ITAsdC5nbC54ci5lbmFibGVkPSExLHQuZ2wueHIuaXNQcmVzZW50aW5nPSExLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KG4pLHQuZ2wucmVuZGVyKHQuc2NlbmUsdC5jYW1lcmEpLHQuZ2wuc2V0UmVuZGVyVGFyZ2V0KHMpLHQuZ2wuYXV0b0NsZWFyPW8sdC5nbC54ci5lbmFibGVkPWksdC5nbC54ci5pc1ByZXNlbnRpbmc9bCxjKyspfSksdCksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxyKX1jb25zdCBfbz1DLmZvcndhcmRSZWYoKCh7Y2hpbGRyZW46ZSxjb21wdXRlOnQscmVuZGVyUHJpb3JpdHk6cj0tMSxldmVudFByaW9yaXR5Om49MCxmcmFtZXM6bz0xLzAsc3RlbmNpbEJ1ZmZlcjppPSExLGRlcHRoQnVmZmVyOnM9ITAsZ2VuZXJhdGVNaXBtYXBzOmw9ITEscmVzb2x1dGlvbjpjPTg5NixuZWFyOnU9LjEsZmFyOmQ9MWUzLGZsaXA6bT0hMSxwb3NpdGlvbjpmLHJvdGF0aW9uOnAsc2NhbGU6aCxxdWF0ZXJuaW9uOngsbWF0cml4OnksbWF0cml4QXV0b1VwZGF0ZTp2LC4uLmd9LHcpPT57Y29uc3R7c2l6ZTp6LHZpZXdwb3J0OmJ9PWEudXNlVGhyZWUoKSxFPUMudXNlUmVmKG51bGwpLE09Qy51c2VNZW1vKCgoKT0+e2NvbnN0IGU9bmV3IFIuV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KE1hdGgubWF4KChjfHx6LndpZHRoKSpiLmRwciwoY3x8ei5oZWlnaHQpKmIuZHByKSx7c3RlbmNpbEJ1ZmZlcjppLGRlcHRoQnVmZmVyOnMsZ2VuZXJhdGVNaXBtYXBzOmx9KTtyZXR1cm4gZS50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT0hbSxlLnRleHR1cmUuZmxpcFk9ITAsZS50ZXh0dXJlLnR5cGU9Ui5IYWxmRmxvYXRUeXBlLGV9KSxbYyxtXSk7Qy51c2VFZmZlY3QoKCgpPT4oKT0+TS5kaXNwb3NlKCkpLFtNXSk7Y29uc3RbU109Qy51c2VTdGF0ZSgoKCk9Pm5ldyBSLlNjZW5lKSk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZSh3LCgoKT0+KHtzY2VuZTpTLGZibzpNLGNhbWVyYTpFLmN1cnJlbnR9KSksW01dKSxDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLGEuY3JlYXRlUG9ydGFsKEMuY3JlYXRlRWxlbWVudChBbyx7cmVuZGVyUHJpb3JpdHk6cixmcmFtZXM6byxjYW1lcmE6RX0sZSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtvblBvaW50ZXJPdmVyOigpPT5udWxsfSkpLFMse2V2ZW50czp7Y29tcHV0ZTp0LHByaW9yaXR5Om59fSksQy5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsVC5kZWZhdWx0KHtvYmplY3Q6TS50ZXh0dXJlfSxnKSksQy5jcmVhdGVFbGVtZW50KFwiY3ViZUNhbWVyYVwiLHtyZWY6RSxhcmdzOlt1LGQsTV0scG9zaXRpb246Zixyb3RhdGlvbjpwLHNjYWxlOmgscXVhdGVybmlvbjp4LG1hdHJpeDp5LG1hdHJpeEF1dG9VcGRhdGU6dn0pKX0pKTtmdW5jdGlvbiBBbyh7ZnJhbWVzOmUscmVuZGVyUHJpb3JpdHk6dCxjaGlsZHJlbjpyLGNhbWVyYTpufSl7bGV0IG89MDtyZXR1cm4gYS51c2VGcmFtZSgodD0+eyhlPT09MS8wfHxvPGUpJiYobi5jdXJyZW50LnVwZGF0ZSh0LmdsLHQuc2NlbmUpLG8rKyl9KSx0KSxDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLHIpfWNvbnN0IExvPUMuZm9yd2FyZFJlZigoKHtpZDplPTEsY29sb3JXcml0ZTp0PSExLGRlcHRoV3JpdGU6cj0hMSwuLi5ufSxhKT0+e2NvbnN0IG89Qy51c2VSZWYobnVsbCksaT1DLnVzZU1lbW8oKCgpPT4oe2NvbG9yV3JpdGU6dCxkZXB0aFdyaXRlOnIsc3RlbmNpbFdyaXRlOiEwLHN0ZW5jaWxSZWY6ZSxzdGVuY2lsRnVuYzpSLkFsd2F5c1N0ZW5jaWxGdW5jLHN0ZW5jaWxGYWlsOlIuUmVwbGFjZVN0ZW5jaWxPcCxzdGVuY2lsWkZhaWw6Ui5SZXBsYWNlU3RlbmNpbE9wLHN0ZW5jaWxaUGFzczpSLlJlcGxhY2VTdGVuY2lsT3B9KSksW2UsdCxyXSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e09iamVjdC5hc3NpZ24oby5jdXJyZW50Lm1hdGVyaWFsLGkpfSkpLEMudXNlSW1wZXJhdGl2ZUhhbmRsZShhLCgoKT0+by5jdXJyZW50KSxbXSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVmOm8scmVuZGVyT3JkZXI6LWV9LG4pKX0pKTtmdW5jdGlvbiBJbyh7YXBpOmV9KXtjb25zdCB0PW5ldyBSLlZlY3RvcjMscj1uZXcgUi5RdWF0ZXJuaW9uLG49bmV3IFIuVmVjdG9yMyxvPW5ldyBSLkV1bGVyKDAsTWF0aC5QSSwwKTtyZXR1cm4gYS51c2VGcmFtZSgoYT0+e2EuY2FtZXJhLm1hdHJpeFdvcmxkLmRlY29tcG9zZSh0LHIsbiksZS5jdXJyZW50LmNhbWVyYS5wb3NpdGlvbi5jb3B5KHQpLGUuY3VycmVudC5jYW1lcmEucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIobykucHJlbXVsdGlwbHkocil9KSksbnVsbH1jb25zdCBCbz1UZSh7Ymx1cjowLG1hcDpudWxsLHNkZjpudWxsLGJsZW5kOjAsc2l6ZTowLHJlc29sdXRpb246bmV3IFIuVmVjdG9yMn0sXCJ2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgIHZvaWQgbWFpbigpIHtcXG4gICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxuICAgICB2VXYgPSB1djtcXG4gICB9XCIsYHVuaWZvcm0gc2FtcGxlcjJEIHNkZjtcXG4gICB1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XFxuICAgdW5pZm9ybSBmbG9hdCBibHVyO1xcbiAgIHVuaWZvcm0gZmxvYXQgc2l6ZTtcXG4gICB1bmlmb3JtIGZsb2F0IHRpbWU7XFxuICAgdW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XFxuICAgdmFyeWluZyB2ZWMyIHZVdjtcXG4gICAjaW5jbHVkZSA8cGFja2luZz5cXG4gICB2b2lkIG1haW4oKSB7XFxuICAgICB2ZWMyIHV2ID0gZ2xfRnJhZ0Nvb3JkLnh5IC8gcmVzb2x1dGlvbi54eTtcXG4gICAgIHZlYzQgdCA9IHRleHR1cmUyRChtYXAsIHV2KTtcXG4gICAgIGZsb2F0IGsgPSBibHVyO1xcbiAgICAgZmxvYXQgZCA9IHRleHR1cmUyRChzZGYsIHZVdikuci9zaXplO1xcbiAgICAgZmxvYXQgYWxwaGEgPSAxLjAgLSBzbW9vdGhzdGVwKDAuMCwgMS4wLCBjbGFtcChkL2sgKyAxLjAsIDAuMCwgMS4wKSk7XFxuICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHQucmdiLCBibHVyID09IDAuMCA/IHQuYSA6IHQuYSAqIGFscGhhKTtcXG4gICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgICNpbmNsdWRlIDwke1JlPj0xNTQ/XCJjb2xvcnNwYWNlX2ZyYWdtZW50XCI6XCJlbmNvZGluZ3NfZnJhZ21lbnRcIn0+XFxuICAgfWApLFZvPUMuZm9yd2FyZFJlZigoKHtjaGlsZHJlbjplLGV2ZW50czp0LGJsdXI6cj0wLGV2ZW50UHJpb3JpdHk6bj0wLHJlbmRlclByaW9yaXR5Om89MCx3b3JsZFVuaXRzOmk9ITEscmVzb2x1dGlvbjpzPTUxMiwuLi5sfSxjKT0+e2EuZXh0ZW5kKHtQb3J0YWxNYXRlcmlhbEltcGw6Qm99KTtjb25zdCB1PUMudXNlUmVmKG51bGwpLHtzY2VuZTpkLGdsOm0sc2l6ZTpmLHZpZXdwb3J0OnAsc2V0RXZlbnRzOmh9PWEudXNlVGhyZWUoKSx4PW90KHMscyksW3ksdl09Qy51c2VTdGF0ZSgwKTthLnVzZUZyYW1lKCgoKT0+e2NvbnN0IGU9dS5jdXJyZW50LmJsZW5kPjA/TWF0aC5tYXgoMSxvKTowO3khPT1lJiZ2KGUpfSkpLEMudXNlRWZmZWN0KCgoKT0+e3ZvaWQgMCE9PXQmJmgoe2VuYWJsZWQ6IXR9KX0pLFt0XSk7Y29uc3RbZyx3XT1DLnVzZVN0YXRlKCEwKSx6PXhyKHcpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3ZhciBlO3ouY3VycmVudD1udWxsPT0oZT11LmN1cnJlbnQpP3ZvaWQgMDplLl9fcjNmLnBhcmVudH0pLFtdKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9PntpZih6LmN1cnJlbnQmJnImJm51bGw9PT11LmN1cnJlbnQuc2RmKXtjb25zdCBlPW5ldyBSLk1lc2goei5jdXJyZW50Lmdlb21ldHJ5LG5ldyBSLk1lc2hCYXNpY01hdGVyaWFsKSx0PShuZXcgUi5Cb3gzKS5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKGUuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbikscj1uZXcgUi5PcnRob2dyYXBoaWNDYW1lcmEodC5taW4ueCooMSsyL3MpLHQubWF4LngqKDErMi9zKSx0Lm1heC55KigxKzIvcyksdC5taW4ueSooMSsyL3MpLC4xLDFlMyk7ci5wb3NpdGlvbi5zZXQoMCwwLDEpLHIubG9va0F0KDAsMCwwKSxtLnNldFJlbmRlclRhcmdldCh4KSxtLnJlbmRlcihlLHIpO2NvbnN0IG49T28ocyxzLG0pKHgudGV4dHVyZSksYT1uZXcgRmxvYXQzMkFycmF5KHMqcyk7bS5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzKG4sMCwwLHMscyxhKTtsZXQgbz0xLzA7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspYVtlXTxvJiYobz1hW2VdKTtvPS1vLHUuY3VycmVudC5zaXplPW8sdS5jdXJyZW50LnNkZj1uLnRleHR1cmUsbS5zZXRSZW5kZXJUYXJnZXQobnVsbCl9fSksW3Mscl0pLEMudXNlSW1wZXJhdGl2ZUhhbmRsZShjLCgoKT0+dS5jdXJyZW50KSk7Y29uc3QgYj1DLnVzZUNhbGxiYWNrKCgoZSx0LHIpPT57dmFyIG47aWYoIXouY3VycmVudClyZXR1cm4hMTtpZih0LnBvaW50ZXIuc2V0KGUub2Zmc2V0WC90LnNpemUud2lkdGgqMi0xLC1lLm9mZnNldFkvdC5zaXplLmhlaWdodCoyKzEpLHQucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodC5wb2ludGVyLHQuY2FtZXJhKSwwPT09KG51bGw9PShuPXUuY3VycmVudCk/dm9pZCAwOm4uYmxlbmQpKXtjb25zdFtlXT10LnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3Qoei5jdXJyZW50KTtpZighZSlyZXR1cm4gdC5yYXljYXN0ZXIuY2FtZXJhPXZvaWQgMCwhMX19KSxbXSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcInBvcnRhbE1hdGVyaWFsSW1wbFwiLFQuZGVmYXVsdCh7cmVmOnUsYmx1cjpyLGJsZW5kOjAscmVzb2x1dGlvbjpbZi53aWR0aCpwLmRwcixmLmhlaWdodCpwLmRwcl0sYXR0YWNoOlwibWF0ZXJpYWxcIn0sbCksQy5jcmVhdGVFbGVtZW50KEZvLHthdHRhY2g6XCJtYXBcIixmcmFtZXM6Zz8xLzA6MCxldmVudFByaW9yaXR5Om4scmVuZGVyUHJpb3JpdHk6byxjb21wdXRlOmJ9LGUsQy5jcmVhdGVFbGVtZW50KFVvLHtldmVudHM6dCxyb290U2NlbmU6ZCxwcmlvcml0eTp5LG1hdGVyaWFsOnUsd29ybGRVbml0czppfSkpKX0pKTtmdW5jdGlvbiBVbyh7ZXZlbnRzOmUscm9vdFNjZW5lOnQsbWF0ZXJpYWw6cixwcmlvcml0eTpuLHdvcmxkVW5pdHM6b30pe2NvbnN0IGk9YS51c2VUaHJlZSgoZT0+ZS5zY2VuZSkpLHM9YS51c2VUaHJlZSgoZT0+ZS5zZXRFdmVudHMpKSxsPW90KCksYz1vdCgpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2kubWF0cml4QXV0b1VwZGF0ZT0hMX0pLFtdKSxDLnVzZUVmZmVjdCgoKCk9Pnt2b2lkIDAhPT1lJiZzKHtlbmFibGVkOmV9KX0pLFtlXSk7Y29uc3RbZCxtXT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT17dmFsdWU6MH07cmV0dXJuW25ldyB1LkZ1bGxTY3JlZW5RdWFkKG5ldyBSLlNoYWRlck1hdGVyaWFsKHt1bmlmb3Jtczp7YTp7dmFsdWU6bC50ZXh0dXJlfSxiOnt2YWx1ZTpjLnRleHR1cmV9LGJsZW5kOmV9LHZlcnRleFNoYWRlcjpcIlxcbiAgICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgICAgdlV2ID0gdXY7XFxuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbiAgICAgICAgICB9XCIsZnJhZ21lbnRTaGFkZXI6YFxcbiAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCBhO1xcbiAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCBiO1xcbiAgICAgICAgICB1bmlmb3JtIGZsb2F0IGJsZW5kO1xcbiAgICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgICAjaW5jbHVkZSA8cGFja2luZz5cXG4gICAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICAgIHZlYzQgdGEgPSB0ZXh0dXJlMkQoYSwgdlV2KTtcXG4gICAgICAgICAgICB2ZWM0IHRiID0gdGV4dHVyZTJEKGIsIHZVdik7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gbWl4KHRiLCB0YSwgYmxlbmQpO1xcbiAgICAgICAgICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cXG4gICAgICAgICAgICAjaW5jbHVkZSA8JHtSZT49MTU0P1wiY29sb3JzcGFjZV9mcmFnbWVudFwiOlwiZW5jb2RpbmdzX2ZyYWdtZW50XCJ9PlxcbiAgICAgICAgICB9YH0pKSxlXX0pLFtdKTtyZXR1cm4gYS51c2VGcmFtZSgoZT0+e3ZhciBhO2xldCBzPW51bGw9PXJ8fG51bGw9PShhPXIuY3VycmVudCk/dm9pZCAwOmEuX19yM2YucGFyZW50O2lmKHMpe3ZhciB1LGYscCxoO2lmKG8paS5tYXRyaXhXb3JsZC5pZGVudGl0eSgpO2Vsc2UgbiYmMT09PShudWxsPT0odT1yLmN1cnJlbnQpP3ZvaWQgMDp1LmJsZW5kKSYmcy51cGRhdGVXb3JsZE1hdHJpeCghMCwhMSksaS5tYXRyaXhXb3JsZC5jb3B5KHMubWF0cml4V29ybGQpO2lmKG4pKG51bGw9PShmPXIuY3VycmVudCk/dm9pZCAwOmYuYmxlbmQpPjAmJihudWxsPT0ocD1yLmN1cnJlbnQpP3ZvaWQgMDpwLmJsZW5kKTwxPyhtLnZhbHVlPXIuY3VycmVudC5ibGVuZCxlLmdsLnNldFJlbmRlclRhcmdldChsKSxlLmdsLnJlbmRlcihpLGUuY2FtZXJhKSxlLmdsLnNldFJlbmRlclRhcmdldChjKSxlLmdsLnJlbmRlcih0LGUuY2FtZXJhKSxlLmdsLnNldFJlbmRlclRhcmdldChudWxsKSxkLnJlbmRlcihlLmdsKSk6MT09PShudWxsPT0oaD1yLmN1cnJlbnQpP3ZvaWQgMDpoLmJsZW5kKSYmZS5nbC5yZW5kZXIoaSxlLmNhbWVyYSl9fSksbiksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCl9Y29uc3QgT289KGUsdCxyKT0+e2xldCBuPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KGUsdCx7bWluRmlsdGVyOlIuTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpSLkxpbmVhckZpbHRlcix0eXBlOlIuRmxvYXRUeXBlLGZvcm1hdDpSLlJlZEZvcm1hdCxnZW5lcmF0ZU1pcG1hcHM6ITB9KSxhPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KGUsdCx7bWluRmlsdGVyOlIuTmVhcmVzdEZpbHRlcixtYWdGaWx0ZXI6Ui5OZWFyZXN0RmlsdGVyfSksbz1uZXcgUi5XZWJHTFJlbmRlclRhcmdldChlLHQse21pbkZpbHRlcjpSLk5lYXJlc3RGaWx0ZXIsbWFnRmlsdGVyOlIuTmVhcmVzdEZpbHRlcn0pLGk9bmV3IFIuV2ViR0xSZW5kZXJUYXJnZXQoZSx0LHttaW5GaWx0ZXI6Ui5OZWFyZXN0RmlsdGVyLG1hZ0ZpbHRlcjpSLk5lYXJlc3RGaWx0ZXJ9KSxzPW5ldyBSLldlYkdMUmVuZGVyVGFyZ2V0KGUsdCx7bWluRmlsdGVyOlIuTmVhcmVzdEZpbHRlcixtYWdGaWx0ZXI6Ui5OZWFyZXN0RmlsdGVyfSksbD1uZXcgUi5XZWJHTFJlbmRlclRhcmdldChlLHQse21pbkZpbHRlcjpSLk5lYXJlc3RGaWx0ZXIsbWFnRmlsdGVyOlIuTmVhcmVzdEZpbHRlcix0eXBlOlIuRmxvYXRUeXBlLGZvcm1hdDpSLlJlZEZvcm1hdH0pLGM9bmV3IFIuV2ViR0xSZW5kZXJUYXJnZXQoZSx0LHttaW5GaWx0ZXI6Ui5OZWFyZXN0RmlsdGVyLG1hZ0ZpbHRlcjpSLk5lYXJlc3RGaWx0ZXIsdHlwZTpSLkZsb2F0VHlwZSxmb3JtYXQ6Ui5SZWRGb3JtYXR9KTtjb25zdCBkPW5ldyB1LkZ1bGxTY3JlZW5RdWFkKG5ldyBSLlNoYWRlck1hdGVyaWFsKHt1bmlmb3Jtczp7dGV4Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOlwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICB2VXYgPSB1djtcXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbiAgICAgICAgfVwiLGZyYWdtZW50U2hhZGVyOlwiXFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB0ZXg7XFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgI2luY2x1ZGUgPHBhY2tpbmc+XFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHBhY2sySGFsZlRvUkdCQSh2VXYgKiAocm91bmQodGV4dHVyZTJEKHRleCwgdlV2KS54KSkpO1xcbiAgICAgICAgfVwifSkpLG09bmV3IHUuRnVsbFNjcmVlblF1YWQobmV3IFIuU2hhZGVyTWF0ZXJpYWwoe3VuaWZvcm1zOnt0ZXg6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6XCJcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIHZVdiA9IHV2O1xcbiAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuICAgICAgICB9XCIsZnJhZ21lbnRTaGFkZXI6XCJcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHRleDtcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XFxuICAgICAgICAjaW5jbHVkZSA8cGFja2luZz5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gcGFjazJIYWxmVG9SR0JBKHZVdiAqICgxLjAgLSByb3VuZCh0ZXh0dXJlMkQodGV4LCB2VXYpLngpKSk7XFxuICAgICAgICB9XCJ9KSksZj1uZXcgdS5GdWxsU2NyZWVuUXVhZChuZXcgUi5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6e3RleDp7dmFsdWU6bnVsbH0sb2Zmc2V0Ont2YWx1ZTowfSxsZXZlbDp7dmFsdWU6MH0sbWF4U3RlcHM6e3ZhbHVlOjB9fSx2ZXJ0ZXhTaGFkZXI6XCJcXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2VXY7XFxuICAgICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICAgIHZVdiA9IHV2O1xcbiAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuICAgICAgICB9XCIsZnJhZ21lbnRTaGFkZXI6YFxcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHRleDtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgb2Zmc2V0O1xcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBsZXZlbDtcXG4gICAgICAgIHVuaWZvcm0gZmxvYXQgbWF4U3RlcHM7XFxuICAgICAgICAjaW5jbHVkZSA8cGFja2luZz5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgZmxvYXQgY2xvc2VzdERpc3QgPSA5OTk5OTk5Ljk7XFxuICAgICAgICAgIHZlYzIgY2xvc2VzdFBvcyA9IHZlYzIoMC4wKTtcXG4gICAgICAgICAgZm9yIChmbG9hdCB4ID0gLTEuMDsgeCA8PSAxLjA7IHggKz0gMS4wKSB7XFxuICAgICAgICAgICAgZm9yIChmbG9hdCB5ID0gLTEuMDsgeSA8PSAxLjA7IHkgKz0gMS4wKSB7XFxuICAgICAgICAgICAgICB2ZWMyIHZvZmZzZXQgPSB2VXY7XFxuICAgICAgICAgICAgICB2b2Zmc2V0ICs9IHZlYzIoeCwgeSkgKiB2ZWMyKCR7MS9lfSwgJHsxL3R9KSAqIG9mZnNldDtcXG4gICAgICAgICAgICAgIHZlYzIgcG9zID0gdW5wYWNrUkdCQVRvMkhhbGYodGV4dHVyZTJEKHRleCwgdm9mZnNldCkpO1xcbiAgICAgICAgICAgICAgZmxvYXQgZGlzdCA9IGRpc3RhbmNlKHBvcy54eSwgdlV2KTtcXG4gICAgICAgICAgICAgIGlmKHBvcy54ICE9IDAuMCAmJiBwb3MueSAhPSAwLjAgJiYgZGlzdCA8IGNsb3Nlc3REaXN0KSB7XFxuICAgICAgICAgICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDtcXG4gICAgICAgICAgICAgICAgY2xvc2VzdFBvcyA9IHBvcztcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gcGFjazJIYWxmVG9SR0JBKGNsb3Nlc3RQb3MpO1xcbiAgICAgICAgfWB9KSkscD1uZXcgdS5GdWxsU2NyZWVuUXVhZChuZXcgUi5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6e3RleDp7dmFsdWU6bnVsbH0sc2l6ZTp7dmFsdWU6bmV3IFIuVmVjdG9yMihlLHQpfX0sdmVydGV4U2hhZGVyOlwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICB2VXYgPSB1djtcXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbiAgICAgICAgfVwiLGZyYWdtZW50U2hhZGVyOlwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdGV4O1xcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHNpemU7XFxuICAgICAgICAjaW5jbHVkZSA8cGFja2luZz5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChkaXN0YW5jZShzaXplICogdW5wYWNrUkdCQVRvMkhhbGYodGV4dHVyZTJEKHRleCwgdlV2KSksIHNpemUgKiB2VXYpLCAwLjAsIDAuMCwgMC4wKTtcXG4gICAgICAgIH1cIn0pKSxoPW5ldyB1LkZ1bGxTY3JlZW5RdWFkKG5ldyBSLlNoYWRlck1hdGVyaWFsKHt1bmlmb3Jtczp7aW5zaWRlOnt2YWx1ZTpjLnRleHR1cmV9LG91dHNpZGU6e3ZhbHVlOmwudGV4dHVyZX0sdGV4Ont2YWx1ZTpudWxsfX0sdmVydGV4U2hhZGVyOlwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICB2VXYgPSB1djtcXG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbiAgICAgICAgfVwiLGZyYWdtZW50U2hhZGVyOlwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgdlV2O1xcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgaW5zaWRlO1xcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgb3V0c2lkZTtcXG4gICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHRleDtcXG4gICAgICAgICNpbmNsdWRlIDxwYWNraW5nPlxcbiAgICAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgICAgICBmbG9hdCBpID0gdGV4dHVyZTJEKGluc2lkZSwgdlV2KS54O1xcbiAgICAgICAgICBmbG9hdCBvID10ZXh0dXJlMkQob3V0c2lkZSwgdlV2KS54O1xcbiAgICAgICAgICBpZiAodGV4dHVyZTJEKHRleCwgdlV2KS54ID09IDAuMCkge1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobywgMC4wLCAwLjAsIDAuMCk7XFxuICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgtaSwgMC4wLCAwLjAsIDAuMCk7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cIn0pKTtyZXR1cm4gdT0+e2xldCB4PW47dS5taW5GaWx0ZXI9Ui5OZWFyZXN0RmlsdGVyLHUubWFnRmlsdGVyPVIuTmVhcmVzdEZpbHRlcixkLm1hdGVyaWFsLnVuaWZvcm1zLnRleC52YWx1ZT11LHIuc2V0UmVuZGVyVGFyZ2V0KGEpLGQucmVuZGVyKHIpO2NvbnN0IHk9TWF0aC5jZWlsKE1hdGgubG9nKE1hdGgubWF4KGUsdCkpL01hdGgubG9nKDIpKTtsZXQgdj1hLGc9bnVsbDtmb3IobGV0IGU9MDtlPHk7ZSsrKXtjb25zdCB0PU1hdGgucG93KDIseS1lLTEpO2c9dj09PWE/aTphLGYubWF0ZXJpYWwudW5pZm9ybXMubGV2ZWwudmFsdWU9ZSxmLm1hdGVyaWFsLnVuaWZvcm1zLm1heFN0ZXBzLnZhbHVlPXksZi5tYXRlcmlhbC51bmlmb3Jtcy5vZmZzZXQudmFsdWU9dCxmLm1hdGVyaWFsLnVuaWZvcm1zLnRleC52YWx1ZT12LnRleHR1cmUsci5zZXRSZW5kZXJUYXJnZXQoZyksZi5yZW5kZXIociksdj1nfXIuc2V0UmVuZGVyVGFyZ2V0KGwpLHAubWF0ZXJpYWwudW5pZm9ybXMudGV4LnZhbHVlPWcudGV4dHVyZSxwLnJlbmRlcihyKSxtLm1hdGVyaWFsLnVuaWZvcm1zLnRleC52YWx1ZT11LHIuc2V0UmVuZGVyVGFyZ2V0KG8pLG0ucmVuZGVyKHIpLHY9bztmb3IobGV0IGU9MDtlPHk7ZSsrKXtjb25zdCB0PU1hdGgucG93KDIseS1lLTEpO2c9dj09PW8/czpvLGYubWF0ZXJpYWwudW5pZm9ybXMubGV2ZWwudmFsdWU9ZSxmLm1hdGVyaWFsLnVuaWZvcm1zLm1heFN0ZXBzLnZhbHVlPXksZi5tYXRlcmlhbC51bmlmb3Jtcy5vZmZzZXQudmFsdWU9dCxmLm1hdGVyaWFsLnVuaWZvcm1zLnRleC52YWx1ZT12LnRleHR1cmUsci5zZXRSZW5kZXJUYXJnZXQoZyksZi5yZW5kZXIociksdj1nfXJldHVybiByLnNldFJlbmRlclRhcmdldChjKSxwLm1hdGVyaWFsLnVuaWZvcm1zLnRleC52YWx1ZT1nLnRleHR1cmUscC5yZW5kZXIociksci5zZXRSZW5kZXJUYXJnZXQoeCksaC5tYXRlcmlhbC51bmlmb3Jtcy50ZXgudmFsdWU9dSxoLnJlbmRlcihyKSxyLnNldFJlbmRlclRhcmdldChudWxsKSx4fX0sTm89bmV3IFIuQ29sb3Isam89QS5kZWZhdWx0KCk7ZnVuY3Rpb24gV28oZSl7cmV0dXJuXCJ0b3BcImluIGV9ZnVuY3Rpb24gR28oZSx0KXtjb25zdHtyaWdodDpyLHRvcDpuLGxlZnQ6YSxib3R0b206byx3aWR0aDppLGhlaWdodDpzfT10LGw9dC5ib3R0b208MHx8bj5lLmhlaWdodHx8cjwwfHx0LmxlZnQ+ZS53aWR0aDtpZihXbyhlKSl7Y29uc3QgdD1lLnRvcCtlLmhlaWdodC1vO3JldHVybntwb3NpdGlvbjp7d2lkdGg6aSxoZWlnaHQ6cyxsZWZ0OmEtZS5sZWZ0LHRvcDpuLGJvdHRvbTp0LHJpZ2h0OnJ9LGlzT2Zmc2NyZWVuOmx9fXJldHVybntwb3NpdGlvbjp7d2lkdGg6aSxoZWlnaHQ6cyx0b3A6bixsZWZ0OmEsYm90dG9tOmUuaGVpZ2h0LW8scmlnaHQ6cn0saXNPZmZzY3JlZW46bH19ZnVuY3Rpb24gSG8oZSx7bGVmdDp0LGJvdHRvbTpyLHdpZHRoOm4saGVpZ2h0OmF9KXtsZXQgbztjb25zdCBpPW4vYTt2YXIgcztyZXR1cm4ocz1lLmNhbWVyYSkmJnMuaXNPcnRob2dyYXBoaWNDYW1lcmE/ZS5jYW1lcmEubWFudWFsP2UuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTplLmNhbWVyYS5sZWZ0PT09bi8tMiYmZS5jYW1lcmEucmlnaHQ9PT1uLzImJmUuY2FtZXJhLnRvcD09PWEvMiYmZS5jYW1lcmEuYm90dG9tPT09YS8tMnx8KE9iamVjdC5hc3NpZ24oZS5jYW1lcmEse2xlZnQ6bi8tMixyaWdodDpuLzIsdG9wOmEvMixib3R0b206YS8tMn0pLGUuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSk6ZS5jYW1lcmEuYXNwZWN0IT09aSYmKGUuY2FtZXJhLmFzcGVjdD1pLGUuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSksbz1lLmdsLmF1dG9DbGVhcixlLmdsLmF1dG9DbGVhcj0hMSxlLmdsLnNldFZpZXdwb3J0KHQscixuLGEpLGUuZ2wuc2V0U2Npc3Nvcih0LHIsbixhKSxlLmdsLnNldFNjaXNzb3JUZXN0KCEwKSxvfWZ1bmN0aW9uICRvKGUsdCl7ZS5nbC5zZXRTY2lzc29yVGVzdCghMSksZS5nbC5hdXRvQ2xlYXI9dH1mdW5jdGlvbiBxbyhlKXtlLmdsLmdldENsZWFyQ29sb3IoTm8pLGUuZ2wuc2V0Q2xlYXJDb2xvcihObyxlLmdsLmdldENsZWFyQWxwaGEoKSksZS5nbC5jbGVhcighMCwhMCl9ZnVuY3Rpb24gWG8oe3Zpc2libGU6ZT0hMCxjYW52YXNTaXplOnQsc2NlbmU6cixpbmRleDpuLGNoaWxkcmVuOm8sZnJhbWVzOmkscmVjdDpzLHRyYWNrOmx9KXtjb25zdCBjPWEudXNlVGhyZWUoKSxbdSxkXT1DLnVzZVN0YXRlKCExKTtsZXQgbT0wO3JldHVybiBhLnVzZUZyYW1lKChuPT57dmFyIGE7KGk9PT0xLzB8fG08PWkpJiYobCYmKHMuY3VycmVudD1udWxsPT0oYT1sLmN1cnJlbnQpP3ZvaWQgMDphLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxtKyspO2lmKHMuY3VycmVudCl7Y29uc3R7cG9zaXRpb246YSxpc09mZnNjcmVlbjppfT1Hbyh0LHMuY3VycmVudCk7aWYodSE9PWkmJmQoaSksZSYmIXUmJnMuY3VycmVudCl7Y29uc3QgZT1IbyhuLGEpO24uZ2wucmVuZGVyKG8/bi5zY2VuZTpyLG4uY2FtZXJhKSwkbyhuLGUpfX19KSxuKSxDLnVzZUxheW91dEVmZmVjdCgoKCk9Pntjb25zdCByPXMuY3VycmVudDtpZihyJiYoIWV8fCF1KSl7Y29uc3R7cG9zaXRpb246ZX09R28odCxyKSxuPUhvKGMsZSk7cW8oYyksJG8oYyxuKX19KSxbZSx1XSksQy51c2VFZmZlY3QoKCgpPT57aWYoIWwpcmV0dXJuO2NvbnN0IGU9cy5jdXJyZW50LHI9Yy5nZXQoKS5ldmVudHMuY29ubmVjdGVkO3JldHVybiBjLnNldEV2ZW50cyh7Y29ubmVjdGVkOmwuY3VycmVudH0pLCgpPT57aWYoZSl7Y29uc3R7cG9zaXRpb246cn09R28odCxlKSxuPUhvKGMscik7cW8oYyksJG8oYyxuKX1jLnNldEV2ZW50cyh7Y29ubmVjdGVkOnJ9KX19KSxbbF0pLEMudXNlRWZmZWN0KCgoKT0+e1dvKHQpfHxjb25zb2xlLndhcm4oXCJEZXRlY3RlZCBAcmVhY3QtdGhyZWUvZmliZXIgY2FudmFzIHNpemUgZG9lcyBub3QgaW5jbHVkZSBwb3NpdGlvbiBpbmZvcm1hdGlvbi4gPFZpZXcgLz4gbWF5IG5vdCB3b3JrIGFzIGV4cGVjdGVkLiBVcGdyYWRlIHRvIEByZWFjdC10aHJlZS9maWJlciBeOC4xLjAgZm9yIHN1cHBvcnQuXFxuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL2RyZWkvaXNzdWVzLzk0NFwiKX0pLFtdKSxDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLG8sQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7b25Qb2ludGVyT3ZlcjooKT0+bnVsbH0pKX1jb25zdCBabz1DLmZvcndhcmRSZWYoKCh7dHJhY2s6ZSx2aXNpYmxlOnQ9ITAsaW5kZXg6cj0xLGlkOm4sc3R5bGU6byxjbGFzc05hbWU6aSxmcmFtZXM6cz0xLzAsY2hpbGRyZW46bCwuLi5jfSx1KT0+e3ZhciBkLG0sZixwO2NvbnN0IGg9Qy51c2VSZWYobnVsbCkse3NpemU6eCxzY2VuZTp5fT1hLnVzZVRocmVlKCksW3ZdPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5TY2VuZSkpLFtnLHddPUMudXNlUmVkdWNlcigoKCk9PiEwKSwhMSksej1DLnVzZUNhbGxiYWNrKCgodCxyKT0+e2lmKGguY3VycmVudCYmZSYmZS5jdXJyZW50JiZ0LnRhcmdldD09PWUuY3VycmVudCl7Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6bixsZWZ0OmEsdG9wOm99PWguY3VycmVudCxpPXQuY2xpZW50WC1hLHM9dC5jbGllbnRZLW87ci5wb2ludGVyLnNldChpL2UqMi0xLC1zL24qMisxKSxyLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHIucG9pbnRlcixyLmNhbWVyYSl9fSksW2gsZV0pO3JldHVybiBDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgdDtlJiYoaC5jdXJyZW50PW51bGw9PSh0PWUuY3VycmVudCk/dm9pZCAwOnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHcoKX0pLFtlXSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe3JlZjp1fSxjKSxnJiZhLmNyZWF0ZVBvcnRhbChDLmNyZWF0ZUVsZW1lbnQoWG8se3Zpc2libGU6dCxjYW52YXNTaXplOngsZnJhbWVzOnMsc2NlbmU6eSx0cmFjazplLHJlY3Q6aCxpbmRleDpyfSxsKSx2LHtldmVudHM6e2NvbXB1dGU6eixwcmlvcml0eTpyfSxzaXplOnt3aWR0aDpudWxsPT0oZD1oLmN1cnJlbnQpP3ZvaWQgMDpkLndpZHRoLGhlaWdodDpudWxsPT0obT1oLmN1cnJlbnQpP3ZvaWQgMDptLmhlaWdodCx0b3A6bnVsbD09KGY9aC5jdXJyZW50KT92b2lkIDA6Zi50b3AsbGVmdDpudWxsPT0ocD1oLmN1cnJlbnQpP3ZvaWQgMDpwLmxlZnR9fSkpfSkpLFlvPUMuZm9yd2FyZFJlZigoKHthczplPVwiZGl2XCIsaWQ6dCx2aXNpYmxlOnIsY2xhc3NOYW1lOm4sc3R5bGU6YSxpbmRleDpvPTEsdHJhY2s6aSxmcmFtZXM6cz0xLzAsY2hpbGRyZW46bCwuLi5jfSx1KT0+e2NvbnN0IGQ9Qy51c2VJZCgpLG09Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZSh1LCgoKT0+bS5jdXJyZW50KSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoZSxULmRlZmF1bHQoe3JlZjptLGlkOnQsY2xhc3NOYW1lOm4sc3R5bGU6YX0sYykpLEMuY3JlYXRlRWxlbWVudChqby5JbixudWxsLEMuY3JlYXRlRWxlbWVudChabyx7dmlzaWJsZTpyLGtleTpkLHRyYWNrOm0sZnJhbWVzOnMsaW5kZXg6b30sbCkpKX0pKSxRbz0oKCk9Pntjb25zdCBlPUMuZm9yd2FyZFJlZigoKGUsdCk9PkMudXNlQ29udGV4dChhLmNvbnRleHQpP0MuY3JlYXRlRWxlbWVudChabyxULmRlZmF1bHQoe3JlZjp0fSxlKSk6Qy5jcmVhdGVFbGVtZW50KFlvLFQuZGVmYXVsdCh7cmVmOnR9LGUpKSkpO3JldHVybiBlLlBvcnQ9KCk9PkMuY3JlYXRlRWxlbWVudChqby5PdXQsbnVsbCksZX0pKCksS289Qy5jcmVhdGVDb250ZXh0KG51bGwpLEpvPW5ldyBSLlZlY3RvcjMsZWk9bmV3IFIuVmVjdG9yMyx0aT1uZXcgUi5WZWN0b3IzKDAsMSwwKSxyaT1uZXcgUi5NYXRyaXg0LG5pPSh7ZGlyZWN0aW9uOmUsYXhpczp0fSk9Pntjb25zdHt0cmFuc2xhdGlvbjpyLHRyYW5zbGF0aW9uTGltaXRzOm4sYW5ub3RhdGlvbnM6byxhbm5vdGF0aW9uc0NsYXNzOmksZGVwdGhUZXN0OnMsc2NhbGU6bCxsaW5lV2lkdGg6YyxmaXhlZDp1LGF4aXNDb2xvcnM6ZCxob3ZlcmVkQ29sb3I6bSxvcGFjaXR5OmYsb25EcmFnU3RhcnQ6cCxvbkRyYWc6aCxvbkRyYWdFbmQ6eCx1c2VyRGF0YTp5fT1DLnVzZUNvbnRleHQoS28pLHY9YS51c2VUaHJlZSgoZT0+ZS5jb250cm9scykpLGc9Qy51c2VSZWYobnVsbCksdz1DLnVzZVJlZihudWxsKSx6PUMudXNlUmVmKG51bGwpLGI9Qy51c2VSZWYoMCksW0UsTV09Qy51c2VTdGF0ZSghMSksUz1DLnVzZUNhbGxiYWNrKChuPT57byYmKGcuY3VycmVudC5pbm5lclRleHQ9YCR7ci5jdXJyZW50W3RdLnRvRml4ZWQoMil9YCxnLmN1cnJlbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLG4uc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3QgYT0obmV3IFIuTWF0cml4NCkuZXh0cmFjdFJvdGF0aW9uKHcuY3VycmVudC5tYXRyaXhXb3JsZCksaT1uLnBvaW50LmNsb25lKCkscz0obmV3IFIuVmVjdG9yMykuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcuY3VycmVudC5tYXRyaXhXb3JsZCksbD1lLmNsb25lKCkuYXBwbHlNYXRyaXg0KGEpLm5vcm1hbGl6ZSgpO3ouY3VycmVudD17Y2xpY2tQb2ludDppLGRpcjpsfSxiLmN1cnJlbnQ9ci5jdXJyZW50W3RdLHAoe2NvbXBvbmVudDpcIkFycm93XCIsYXhpczp0LG9yaWdpbjpzLGRpcmVjdGlvbnM6W2xdfSksdiYmKHYuZW5hYmxlZD0hMSksbi50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUobi5wb2ludGVySWQpfSksW28sZSx2LHAscix0XSksVD1DLnVzZUNhbGxiYWNrKChlPT57aWYoZS5zdG9wUHJvcGFnYXRpb24oKSxFfHxNKCEwKSx6LmN1cnJlbnQpe2NvbnN0e2NsaWNrUG9pbnQ6YSxkaXI6aX09ei5jdXJyZW50LFtzLGxdPShudWxsPT1uP3ZvaWQgMDpuW3RdKXx8W3ZvaWQgMCx2b2lkIDBdO2xldCBjPSgoZSx0LHIsbik9Pntjb25zdCBhPXQuZG90KHQpLG89dC5kb3QoZSktdC5kb3QociksaT10LmRvdChuKTtyZXR1cm4gMD09PWk/LW8vYTooSm8uY29weShuKS5tdWx0aXBseVNjYWxhcihhL2kpLnN1Yih0KSxlaS5jb3B5KG4pLm11bHRpcGx5U2NhbGFyKG8vaSkuYWRkKHIpLnN1YihlKSwtSm8uZG90KGVpKS9Kby5kb3QoSm8pKX0pKGEsaSxlLnJheS5vcmlnaW4sZS5yYXkuZGlyZWN0aW9uKTt2b2lkIDAhPT1zJiYoYz1NYXRoLm1heChjLHMtYi5jdXJyZW50KSksdm9pZCAwIT09bCYmKGM9TWF0aC5taW4oYyxsLWIuY3VycmVudCkpLHIuY3VycmVudFt0XT1iLmN1cnJlbnQrYyxvJiYoZy5jdXJyZW50LmlubmVyVGV4dD1gJHtyLmN1cnJlbnRbdF0udG9GaXhlZCgyKX1gKSxyaS5tYWtlVHJhbnNsYXRpb24oaS54KmMsaS55KmMsaS56KmMpLGgocmkpfX0pLFtvLGgsRSxyLG4sdF0pLFA9Qy51c2VDYWxsYmFjaygoZT0+e28mJihnLmN1cnJlbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZS5zdG9wUHJvcGFnYXRpb24oKSx6LmN1cnJlbnQ9bnVsbCx4KCksdiYmKHYuZW5hYmxlZD0hMCksZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKX0pLFtvLHYseF0pLEQ9Qy51c2VDYWxsYmFjaygoZT0+e2Uuc3RvcFByb3BhZ2F0aW9uKCksTSghMSl9KSxbXSkse2N5bGluZGVyTGVuZ3RoOkYsY29uZVdpZHRoOmssY29uZUxlbmd0aDpfLG1hdHJpeEw6QX09Qy51c2VNZW1vKCgoKT0+e2NvbnN0IHQ9dT9jL2wqMS42OmwvMjAscj11Py4yOmwvNSxuPXU/MS1yOmwtcixhPShuZXcgUi5RdWF0ZXJuaW9uKS5zZXRGcm9tVW5pdFZlY3RvcnModGksZS5jbG9uZSgpLm5vcm1hbGl6ZSgpKTtyZXR1cm57Y3lsaW5kZXJMZW5ndGg6bixjb25lV2lkdGg6dCxjb25lTGVuZ3RoOnIsbWF0cml4TDoobmV3IFIuTWF0cml4NCkubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oYSl9fSksW2UsbCxjLHVdKSxMPUU/bTpkW3RdO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6d30sQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7bWF0cml4OkEsbWF0cml4QXV0b1VwZGF0ZTohMSxvblBvaW50ZXJEb3duOlMsb25Qb2ludGVyTW92ZTpULG9uUG9pbnRlclVwOlAsb25Qb2ludGVyT3V0OkR9LG8mJkMuY3JlYXRlRWxlbWVudChILHtwb3NpdGlvbjpbMCwtXywwXX0sQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOntkaXNwbGF5Olwibm9uZVwiLGJhY2tncm91bmQ6XCIjMTUxNTIwXCIsY29sb3I6XCJ3aGl0ZVwiLHBhZGRpbmc6XCI2cHggOHB4XCIsYm9yZGVyUmFkaXVzOjcsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxjbGFzc05hbWU6aSxyZWY6Z30pKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3Zpc2libGU6ITEscG9zaXRpb246WzAsKEYrXykvMiwwXSx1c2VyRGF0YTp5fSxDLmNyZWF0ZUVsZW1lbnQoXCJjeWxpbmRlckdlb21ldHJ5XCIse2FyZ3M6WzEuNCprLDEuNCprLEYrXyw4LDFdfSkpLEMuY3JlYXRlRWxlbWVudChtZSx7dHJhbnNwYXJlbnQ6ITAscmF5Y2FzdDooKT0+bnVsbCxkZXB0aFRlc3Q6cyxwb2ludHM6WzAsMCwwLDAsRiwwXSxsaW5lV2lkdGg6YyxzaWRlOlIuRG91YmxlU2lkZSxjb2xvcjpMLG9wYWNpdHk6Zixwb2x5Z29uT2Zmc2V0OiEwLHJlbmRlck9yZGVyOjEscG9seWdvbk9mZnNldEZhY3RvcjotMTAsZm9nOiExfSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLHtyYXljYXN0OigpPT5udWxsLHBvc2l0aW9uOlswLEYrXy8yLDBdLHJlbmRlck9yZGVyOjUwMH0sQy5jcmVhdGVFbGVtZW50KFwiY29uZUdlb21ldHJ5XCIse2FyZ3M6W2ssXywyNCwxXX0pLEMuY3JlYXRlRWxlbWVudChcIm1lc2hCYXNpY01hdGVyaWFsXCIse3RyYW5zcGFyZW50OiEwLGRlcHRoVGVzdDpzLGNvbG9yOkwsb3BhY2l0eTpmLHBvbHlnb25PZmZzZXQ6ITAscG9seWdvbk9mZnNldEZhY3RvcjotMTAsZm9nOiExfSkpKSl9LGFpPW5ldyBSLlZlY3RvcjMsb2k9bmV3IFIuVmVjdG9yMyxpaT1lPT4xODAqZS9NYXRoLlBJLHNpPWU9PntsZXQgdD0oKGUsdCk9PntsZXQgcj1NYXRoLmZsb29yKGUvdCk7cmV0dXJuIHI9cjwwP3IrMTpyLGUtcip0fSkoZSwyKk1hdGguUEkpO3JldHVybiBNYXRoLmFicyh0KTwxZS02PzA6KHQ8MCYmKHQrPTIqTWF0aC5QSSksdCl9LGxpPW5ldyBSLk1hdHJpeDQsY2k9bmV3IFIuVmVjdG9yMyx1aT1uZXcgUi5SYXksZGk9bmV3IFIuVmVjdG9yMyxtaT0oe2RpcjE6ZSxkaXIyOnQsYXhpczpyfSk9Pntjb25zdHtyb3RhdGlvbkxpbWl0czpuLGFubm90YXRpb25zOm8sYW5ub3RhdGlvbnNDbGFzczppLGRlcHRoVGVzdDpzLHNjYWxlOmwsbGluZVdpZHRoOmMsZml4ZWQ6dSxheGlzQ29sb3JzOmQsaG92ZXJlZENvbG9yOm0sb3BhY2l0eTpmLG9uRHJhZ1N0YXJ0OnAsb25EcmFnOmgsb25EcmFnRW5kOngsdXNlckRhdGE6eX09Qy51c2VDb250ZXh0KEtvKSx2PWEudXNlVGhyZWUoKGU9PmUuY29udHJvbHMpKSxnPUMudXNlUmVmKG51bGwpLHc9Qy51c2VSZWYobnVsbCksej1DLnVzZVJlZigwKSxiPUMudXNlUmVmKDApLEU9Qy51c2VSZWYobnVsbCksW00sU109Qy51c2VTdGF0ZSghMSksVD1DLnVzZUNhbGxiYWNrKChlPT57byYmKGcuY3VycmVudC5pbm5lclRleHQ9YCR7aWkoYi5jdXJyZW50KS50b0ZpeGVkKDApfcK6YCxnLmN1cnJlbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLGUuc3RvcFByb3BhZ2F0aW9uKCk7Y29uc3QgdD1lLnBvaW50LmNsb25lKCksbj0obmV3IFIuVmVjdG9yMykuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHcuY3VycmVudC5tYXRyaXhXb3JsZCksYT0obmV3IFIuVmVjdG9yMykuc2V0RnJvbU1hdHJpeENvbHVtbih3LmN1cnJlbnQubWF0cml4V29ybGQsMCkubm9ybWFsaXplKCksaT0obmV3IFIuVmVjdG9yMykuc2V0RnJvbU1hdHJpeENvbHVtbih3LmN1cnJlbnQubWF0cml4V29ybGQsMSkubm9ybWFsaXplKCkscz0obmV3IFIuVmVjdG9yMykuc2V0RnJvbU1hdHJpeENvbHVtbih3LmN1cnJlbnQubWF0cml4V29ybGQsMikubm9ybWFsaXplKCksbD0obmV3IFIuUGxhbmUpLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KHMsbik7RS5jdXJyZW50PXtjbGlja1BvaW50OnQsb3JpZ2luOm4sZTE6YSxlMjppLG5vcm1hbDpzLHBsYW5lOmx9LHAoe2NvbXBvbmVudDpcIlJvdGF0b3JcIixheGlzOnIsb3JpZ2luOm4sZGlyZWN0aW9uczpbYSxpLHNdfSksdiYmKHYuZW5hYmxlZD0hMSksZS50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpfSksW28sdixwLHJdKSxQPUMudXNlQ2FsbGJhY2soKGU9PntpZihlLnN0b3BQcm9wYWdhdGlvbigpLE18fFMoITApLEUuY3VycmVudCl7Y29uc3R7Y2xpY2tQb2ludDp0LG9yaWdpbjphLGUxOmksZTI6cyxub3JtYWw6bCxwbGFuZTpjfT1FLmN1cnJlbnQsW3UsZF09KG51bGw9PW4/dm9pZCAwOm5bcl0pfHxbdm9pZCAwLHZvaWQgMF07dWkuY29weShlLnJheSksdWkuaW50ZXJzZWN0UGxhbmUoYyxkaSksdWkuZGlyZWN0aW9uLm5lZ2F0ZSgpLHVpLmludGVyc2VjdFBsYW5lKGMsZGkpO2xldCBtPSgoZSx0LHIsbixhKT0+e2FpLmNvcHkoZSkuc3ViKHIpLG9pLmNvcHkodCkuc3ViKHIpO2NvbnN0IG89bi5kb3QobiksaT1hLmRvdChhKSxzPWFpLmRvdChuKS9vLGw9YWkuZG90KGEpL2ksYz1vaS5kb3Qobikvbyx1PW9pLmRvdChhKS9pLGQ9TWF0aC5hdGFuMihsLHMpO3JldHVybiBNYXRoLmF0YW4yKHUsYyktZH0pKHQsZGksYSxpLHMpLGY9aWkobSk7ZS5zaGlmdEtleSYmKGY9MTAqTWF0aC5yb3VuZChmLzEwKSxtPShlPT5lKk1hdGguUEkvMTgwKShmKSksdm9pZCAwIT09dSYmdm9pZCAwIT09ZCYmZC11PDIqTWF0aC5QST8obT1zaShtKSxtPW0+TWF0aC5QST9tLTIqTWF0aC5QSTptLG09Ui5NYXRoVXRpbHMuY2xhbXAobSx1LXouY3VycmVudCxkLXouY3VycmVudCksYi5jdXJyZW50PXouY3VycmVudCttKTooYi5jdXJyZW50PXNpKHouY3VycmVudCttKSxiLmN1cnJlbnQ9Yi5jdXJyZW50Pk1hdGguUEk/Yi5jdXJyZW50LTIqTWF0aC5QSTpiLmN1cnJlbnQpLG8mJihmPWlpKGIuY3VycmVudCksZy5jdXJyZW50LmlubmVyVGV4dD1gJHtmLnRvRml4ZWQoMCl9wrpgKSxsaS5tYWtlUm90YXRpb25BeGlzKGwsbSksY2kuY29weShhKS5hcHBseU1hdHJpeDQobGkpLnN1YihhKS5uZWdhdGUoKSxsaS5zZXRQb3NpdGlvbihjaSksaChsaSl9fSksW28saCxNLG4scl0pLEQ9Qy51c2VDYWxsYmFjaygoZT0+e28mJihnLmN1cnJlbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZS5zdG9wUHJvcGFnYXRpb24oKSx6LmN1cnJlbnQ9Yi5jdXJyZW50LEUuY3VycmVudD1udWxsLHgoKSx2JiYodi5lbmFibGVkPSEwKSxlLnRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpfSksW28sdix4XSksRj1DLnVzZUNhbGxiYWNrKChlPT57ZS5zdG9wUHJvcGFnYXRpb24oKSxTKCExKX0pLFtdKSxrPUMudXNlTWVtbygoKCk9Pntjb25zdCByPWUuY2xvbmUoKS5ub3JtYWxpemUoKSxuPXQuY2xvbmUoKS5ub3JtYWxpemUoKTtyZXR1cm4obmV3IFIuTWF0cml4NCkubWFrZUJhc2lzKHIsbixyLmNsb25lKCkuY3Jvc3MobikpfSksW2UsdF0pLF89dT8uNjU6LjY1KmwsQT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT1bXTtmb3IobGV0IHQ9MDt0PD0zMjt0Kyspe2NvbnN0IHI9dCooTWF0aC5QSS8yKS8zMjtlLnB1c2gobmV3IFIuVmVjdG9yMyhNYXRoLmNvcyhyKSpfLE1hdGguc2luKHIpKl8sMCkpfXJldHVybiBlfSksW19dKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOncsb25Qb2ludGVyRG93bjpULG9uUG9pbnRlck1vdmU6UCxvblBvaW50ZXJVcDpELG9uUG9pbnRlck91dDpGLG1hdHJpeDprLG1hdHJpeEF1dG9VcGRhdGU6ITF9LG8mJkMuY3JlYXRlRWxlbWVudChILHtwb3NpdGlvbjpbXyxfLDBdfSxDLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6e2Rpc3BsYXk6XCJub25lXCIsYmFja2dyb3VuZDpcIiMxNTE1MjBcIixjb2xvcjpcIndoaXRlXCIscGFkZGluZzpcIjZweCA4cHhcIixib3JkZXJSYWRpdXM6Nyx3aGl0ZVNwYWNlOlwibm93cmFwXCJ9LGNsYXNzTmFtZTppLHJlZjpnfSkpLEMuY3JlYXRlRWxlbWVudChtZSx7cG9pbnRzOkEsbGluZVdpZHRoOjQqYyx2aXNpYmxlOiExLHVzZXJEYXRhOnl9KSxDLmNyZWF0ZUVsZW1lbnQobWUse3RyYW5zcGFyZW50OiEwLHJheWNhc3Q6KCk9Pm51bGwsZGVwdGhUZXN0OnMscG9pbnRzOkEsbGluZVdpZHRoOmMsc2lkZTpSLkRvdWJsZVNpZGUsY29sb3I6TT9tOmRbcl0sb3BhY2l0eTpmLHBvbHlnb25PZmZzZXQ6ITAscG9seWdvbk9mZnNldEZhY3RvcjotMTAsZm9nOiExfSkpfSxmaT1uZXcgUi5SYXkscGk9bmV3IFIuVmVjdG9yMyxoaT1uZXcgUi5NYXRyaXg0LHhpPSh7ZGlyMTplLGRpcjI6dCxheGlzOnJ9KT0+e2NvbnN0e3RyYW5zbGF0aW9uOm4sdHJhbnNsYXRpb25MaW1pdHM6byxhbm5vdGF0aW9uczppLGFubm90YXRpb25zQ2xhc3M6cyxkZXB0aFRlc3Q6bCxzY2FsZTpjLGxpbmVXaWR0aDp1LGZpeGVkOmQsYXhpc0NvbG9yczptLGhvdmVyZWRDb2xvcjpmLG9wYWNpdHk6cCxvbkRyYWdTdGFydDpoLG9uRHJhZzp4LG9uRHJhZ0VuZDp5LHVzZXJEYXRhOnZ9PUMudXNlQ29udGV4dChLbyksZz1hLnVzZVRocmVlKChlPT5lLmNvbnRyb2xzKSksdz1DLnVzZVJlZihudWxsKSx6PUMudXNlUmVmKG51bGwpLGI9Qy51c2VSZWYobnVsbCksRT1DLnVzZVJlZigwKSxNPUMudXNlUmVmKDApLFtTLFRdPUMudXNlU3RhdGUoITEpLFA9Qy51c2VDYWxsYmFjaygoZT0+e2kmJih3LmN1cnJlbnQuaW5uZXJUZXh0PWAke24uY3VycmVudFsocisxKSUzXS50b0ZpeGVkKDIpfSwgJHtuLmN1cnJlbnRbKHIrMiklM10udG9GaXhlZCgyKX1gLHcuY3VycmVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIiksZS5zdG9wUHJvcGFnYXRpb24oKTtjb25zdCB0PWUucG9pbnQuY2xvbmUoKSxhPShuZXcgUi5WZWN0b3IzKS5zZXRGcm9tTWF0cml4UG9zaXRpb24oei5jdXJyZW50Lm1hdHJpeFdvcmxkKSxvPShuZXcgUi5WZWN0b3IzKS5zZXRGcm9tTWF0cml4Q29sdW1uKHouY3VycmVudC5tYXRyaXhXb3JsZCwwKS5ub3JtYWxpemUoKSxzPShuZXcgUi5WZWN0b3IzKS5zZXRGcm9tTWF0cml4Q29sdW1uKHouY3VycmVudC5tYXRyaXhXb3JsZCwxKS5ub3JtYWxpemUoKSxsPShuZXcgUi5WZWN0b3IzKS5zZXRGcm9tTWF0cml4Q29sdW1uKHouY3VycmVudC5tYXRyaXhXb3JsZCwyKS5ub3JtYWxpemUoKSxjPShuZXcgUi5QbGFuZSkuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQobCxhKTtiLmN1cnJlbnQ9e2NsaWNrUG9pbnQ6dCxlMTpvLGUyOnMscGxhbmU6Y30sRS5jdXJyZW50PW4uY3VycmVudFsocisxKSUzXSxNLmN1cnJlbnQ9bi5jdXJyZW50WyhyKzIpJTNdLGgoe2NvbXBvbmVudDpcIlNsaWRlclwiLGF4aXM6cixvcmlnaW46YSxkaXJlY3Rpb25zOltvLHMsbF19KSxnJiYoZy5lbmFibGVkPSExKSxlLnRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCl9KSxbaSxnLGgscl0pLEQ9Qy51c2VDYWxsYmFjaygoZT0+e2lmKGUuc3RvcFByb3BhZ2F0aW9uKCksU3x8VCghMCksYi5jdXJyZW50KXtjb25zdHtjbGlja1BvaW50OnQsZTE6YSxlMjpzLHBsYW5lOmx9PWIuY3VycmVudCxbYyx1XT0obnVsbD09bz92b2lkIDA6b1socisxKSUzXSl8fFt2b2lkIDAsdm9pZCAwXSxbZCxtXT0obnVsbD09bz92b2lkIDA6b1socisyKSUzXSl8fFt2b2lkIDAsdm9pZCAwXTtmaS5jb3B5KGUucmF5KSxmaS5pbnRlcnNlY3RQbGFuZShsLHBpKSxmaS5kaXJlY3Rpb24ubmVnYXRlKCksZmkuaW50ZXJzZWN0UGxhbmUobCxwaSkscGkuc3ViKHQpO2xldFtmLHBdPSgoZSx0LHIpPT57Y29uc3Qgbj1NYXRoLmFicyhlLngpPj1NYXRoLmFicyhlLnkpJiZNYXRoLmFicyhlLngpPj1NYXRoLmFicyhlLnopPzA6TWF0aC5hYnMoZS55KT49TWF0aC5hYnMoZS54KSYmTWF0aC5hYnMoZS55KT49TWF0aC5hYnMoZS56KT8xOjIsYT1bMCwxLDJdLnNvcnQoKChlLHIpPT5NYXRoLmFicyh0LmdldENvbXBvbmVudChyKSktTWF0aC5hYnModC5nZXRDb21wb25lbnQoZSkpKSksbz1uPT09YVswXT9hWzFdOmFbMF0saT1lLmdldENvbXBvbmVudChuKSxzPWUuZ2V0Q29tcG9uZW50KG8pLGw9dC5nZXRDb21wb25lbnQobiksYz10LmdldENvbXBvbmVudChvKSx1PXIuZ2V0Q29tcG9uZW50KG4pLGQ9KHIuZ2V0Q29tcG9uZW50KG8pLXUqKHMvaSkpLyhjLWwqKHMvaSkpO3JldHVyblsodS1kKmwpL2ksZF19KShhLHMscGkpO3ZvaWQgMCE9PWMmJihmPU1hdGgubWF4KGYsYy1FLmN1cnJlbnQpKSx2b2lkIDAhPT11JiYoZj1NYXRoLm1pbihmLHUtRS5jdXJyZW50KSksdm9pZCAwIT09ZCYmKHA9TWF0aC5tYXgocCxkLU0uY3VycmVudCkpLHZvaWQgMCE9PW0mJihwPU1hdGgubWluKHAsbS1NLmN1cnJlbnQpKSxuLmN1cnJlbnRbKHIrMSklM109RS5jdXJyZW50K2Ysbi5jdXJyZW50WyhyKzIpJTNdPU0uY3VycmVudCtwLGkmJih3LmN1cnJlbnQuaW5uZXJUZXh0PWAke24uY3VycmVudFsocisxKSUzXS50b0ZpeGVkKDIpfSwgJHtuLmN1cnJlbnRbKHIrMiklM10udG9GaXhlZCgyKX1gKSxoaS5tYWtlVHJhbnNsYXRpb24oZiphLngrcCpzLngsZiphLnkrcCpzLnksZiphLnorcCpzLnopLHgoaGkpfX0pLFtpLHgsUyxuLG8scl0pLEY9Qy51c2VDYWxsYmFjaygoZT0+e2kmJih3LmN1cnJlbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZS5zdG9wUHJvcGFnYXRpb24oKSxiLmN1cnJlbnQ9bnVsbCx5KCksZyYmKGcuZW5hYmxlZD0hMCksZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKX0pLFtpLGcseV0pLGs9Qy51c2VDYWxsYmFjaygoZT0+e2Uuc3RvcFByb3BhZ2F0aW9uKCksVCghMSl9KSxbXSksXz1DLnVzZU1lbW8oKCgpPT57Y29uc3Qgcj1lLmNsb25lKCkubm9ybWFsaXplKCksbj10LmNsb25lKCkubm9ybWFsaXplKCk7cmV0dXJuKG5ldyBSLk1hdHJpeDQpLm1ha2VCYXNpcyhyLG4sci5jbG9uZSgpLmNyb3NzKG4pKX0pLFtlLHRdKSxBPWQ/MS83OmMvNyxMPWQ/LjIyNTouMjI1KmMsST1TP2Y6bVtyXSxCPUMudXNlTWVtbygoKCk9PltuZXcgUi5WZWN0b3IzKDAsMCwwKSxuZXcgUi5WZWN0b3IzKDAsTCwwKSxuZXcgUi5WZWN0b3IzKEwsTCwwKSxuZXcgUi5WZWN0b3IzKEwsMCwwKSxuZXcgUi5WZWN0b3IzKDAsMCwwKV0pLFtMXSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjp6LG1hdHJpeDpfLG1hdHJpeEF1dG9VcGRhdGU6ITF9LGkmJkMuY3JlYXRlRWxlbWVudChILHtwb3NpdGlvbjpbMCwwLDBdfSxDLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6e2Rpc3BsYXk6XCJub25lXCIsYmFja2dyb3VuZDpcIiMxNTE1MjBcIixjb2xvcjpcIndoaXRlXCIscGFkZGluZzpcIjZweCA4cHhcIixib3JkZXJSYWRpdXM6Nyx3aGl0ZVNwYWNlOlwibm93cmFwXCJ9LGNsYXNzTmFtZTpzLHJlZjp3fSkpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3Bvc2l0aW9uOlsxLjcqQSwxLjcqQSwwXX0sQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLHt2aXNpYmxlOiEwLG9uUG9pbnRlckRvd246UCxvblBvaW50ZXJNb3ZlOkQsb25Qb2ludGVyVXA6RixvblBvaW50ZXJPdXQ6ayxzY2FsZTpMLHVzZXJEYXRhOnZ9LEMuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIixudWxsKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoQmFzaWNNYXRlcmlhbFwiLHt0cmFuc3BhcmVudDohMCxkZXB0aFRlc3Q6bCxjb2xvcjpJLHBvbHlnb25PZmZzZXQ6ITAscG9seWdvbk9mZnNldEZhY3RvcjotMTAsc2lkZTpSLkRvdWJsZVNpZGUsZm9nOiExfSkpLEMuY3JlYXRlRWxlbWVudChtZSx7cG9zaXRpb246Wy1MLzIsLUwvMiwwXSx0cmFuc3BhcmVudDohMCxkZXB0aFRlc3Q6bCxwb2ludHM6QixsaW5lV2lkdGg6dSxjb2xvcjpJLG9wYWNpdHk6cCxwb2x5Z29uT2Zmc2V0OiEwLHBvbHlnb25PZmZzZXRGYWN0b3I6LTEwLHVzZXJEYXRhOnYsZm9nOiExfSkpKX0seWk9bmV3IFIuVmVjdG9yMyx2aT1uZXcgUi5WZWN0b3IzLGdpPW5ldyBSLlZlY3RvcjMoMCwxLDApLHdpPW5ldyBSLlZlY3RvcjMsemk9bmV3IFIuTWF0cml4NCxiaT0oe2RpcmVjdGlvbjplLGF4aXM6dH0pPT57Y29uc3R7c2NhbGVMaW1pdHM6cixhbm5vdGF0aW9uczpuLGFubm90YXRpb25zQ2xhc3M6byxkZXB0aFRlc3Q6aSxzY2FsZTpzLGxpbmVXaWR0aDpsLGZpeGVkOmMsYXhpc0NvbG9yczp1LGhvdmVyZWRDb2xvcjpkLG9wYWNpdHk6bSxvbkRyYWdTdGFydDpmLG9uRHJhZzpwLG9uRHJhZ0VuZDpoLHVzZXJEYXRhOnh9PUMudXNlQ29udGV4dChLbykseT1hLnVzZVRocmVlKChlPT5lLnNpemUpKSx2PWEudXNlVGhyZWUoKGU9PmUuY29udHJvbHMpKSxnPUMudXNlUmVmKG51bGwpLHc9Qy51c2VSZWYobnVsbCksej1DLnVzZVJlZihudWxsKSxiPUMudXNlUmVmKDEpLEU9Qy51c2VSZWYoMSksTT1DLnVzZVJlZihudWxsKSxbUyxUXT1DLnVzZVN0YXRlKCExKSxQPWM/MS4yOjEuMipzLEQ9Qy51c2VDYWxsYmFjaygocj0+e24mJihnLmN1cnJlbnQuaW5uZXJUZXh0PWAke0UuY3VycmVudC50b0ZpeGVkKDIpfWAsZy5jdXJyZW50LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiKSxyLnN0b3BQcm9wYWdhdGlvbigpO2NvbnN0IGE9KG5ldyBSLk1hdHJpeDQpLmV4dHJhY3RSb3RhdGlvbih3LmN1cnJlbnQubWF0cml4V29ybGQpLG89ci5wb2ludC5jbG9uZSgpLGk9KG5ldyBSLlZlY3RvcjMpLnNldEZyb21NYXRyaXhQb3NpdGlvbih3LmN1cnJlbnQubWF0cml4V29ybGQpLGw9ZS5jbG9uZSgpLmFwcGx5TWF0cml4NChhKS5ub3JtYWxpemUoKSx1PXcuY3VycmVudC5tYXRyaXhXb3JsZC5jbG9uZSgpLGQ9dS5jbG9uZSgpLmludmVydCgpLG09Yz8xL2NlKHcuY3VycmVudC5nZXRXb3JsZFBvc2l0aW9uKHlpKSxzLHIuY2FtZXJhLHkpOjE7TS5jdXJyZW50PXtjbGlja1BvaW50Om8sZGlyOmwsbVBMRzp1LG1QTEdJbnY6ZCxvZmZzZXRNdWx0aXBsaWVyOm19LGYoe2NvbXBvbmVudDpcIlNwaGVyZVwiLGF4aXM6dCxvcmlnaW46aSxkaXJlY3Rpb25zOltsXX0pLHYmJih2LmVuYWJsZWQ9ITEpLHIudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKHIucG9pbnRlcklkKX0pLFtuLHYsZSxmLHQsYyxzLHldKSxGPUMudXNlQ2FsbGJhY2soKGU9PntpZihlLnN0b3BQcm9wYWdhdGlvbigpLFN8fFQoITApLE0uY3VycmVudCl7Y29uc3R7Y2xpY2tQb2ludDphLGRpcjpvLG1QTEc6aSxtUExHSW52Omwsb2Zmc2V0TXVsdGlwbGllcjp1fT1NLmN1cnJlbnQsW2QsbV09KG51bGw9PXI/dm9pZCAwOnJbdF0pfHxbMWUtNSx2b2lkIDBdLGY9KChlLHQscixuKT0+e2NvbnN0IGE9dC5kb3QodCksbz10LmRvdChlKS10LmRvdChyKSxpPXQuZG90KG4pO3JldHVybiAwPT09aT8tby9hOih5aS5jb3B5KG4pLm11bHRpcGx5U2NhbGFyKGEvaSkuc3ViKHQpLHZpLmNvcHkobikubXVsdGlwbHlTY2FsYXIoby9pKS5hZGQocikuc3ViKGUpLC15aS5kb3QodmkpL3lpLmRvdCh5aSkpfSkoYSxvLGUucmF5Lm9yaWdpbixlLnJheS5kaXJlY3Rpb24pLGg9Zip1LHg9Yz9oOmgvcztsZXQgeT1NYXRoLnBvdygyLC4yKngpO2Uuc2hpZnRLZXkmJih5PU1hdGgucm91bmQoMTAqeSkvMTApLHk9TWF0aC5tYXgoeSxkL2IuY3VycmVudCksdm9pZCAwIT09bSYmKHk9TWF0aC5taW4oeSxtL2IuY3VycmVudCkpLEUuY3VycmVudD1iLmN1cnJlbnQqeSx6LmN1cnJlbnQucG9zaXRpb24uc2V0KDAsUCtoLDApLG4mJihnLmN1cnJlbnQuaW5uZXJUZXh0PWAke0UuY3VycmVudC50b0ZpeGVkKDIpfWApLHdpLnNldCgxLDEsMSksd2kuc2V0Q29tcG9uZW50KHQseSksemkubWFrZVNjYWxlKHdpLngsd2kueSx3aS56KS5wcmVtdWx0aXBseShpKS5tdWx0aXBseShsKSxwKHppKX19KSxbbixQLHAsUyxyLHRdKSxrPUMudXNlQ2FsbGJhY2soKGU9PntuJiYoZy5jdXJyZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLGUuc3RvcFByb3BhZ2F0aW9uKCksYi5jdXJyZW50PUUuY3VycmVudCxNLmN1cnJlbnQ9bnVsbCx6LmN1cnJlbnQucG9zaXRpb24uc2V0KDAsUCwwKSxoKCksdiYmKHYuZW5hYmxlZD0hMCksZS50YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKX0pLFtuLHYsaCxQXSksXz1DLnVzZUNhbGxiYWNrKChlPT57ZS5zdG9wUHJvcGFnYXRpb24oKSxUKCExKX0pLFtdKSx7cmFkaXVzOkEsbWF0cml4TDpMfT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgdD1jP2wvcyoxLjg6cy8yMi41LHI9KG5ldyBSLlF1YXRlcm5pb24pLnNldEZyb21Vbml0VmVjdG9ycyhnaSxlLmNsb25lKCkubm9ybWFsaXplKCkpO3JldHVybntyYWRpdXM6dCxtYXRyaXhMOihuZXcgUi5NYXRyaXg0KS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihyKX19KSxbZSxzLGwsY10pLEk9Uz9kOnVbdF07cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjp3fSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHttYXRyaXg6TCxtYXRyaXhBdXRvVXBkYXRlOiExLG9uUG9pbnRlckRvd246RCxvblBvaW50ZXJNb3ZlOkYsb25Qb2ludGVyVXA6ayxvblBvaW50ZXJPdXQ6X30sbiYmQy5jcmVhdGVFbGVtZW50KEgse3Bvc2l0aW9uOlswLFAvMiwwXX0sQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOntkaXNwbGF5Olwibm9uZVwiLGJhY2tncm91bmQ6XCIjMTUxNTIwXCIsY29sb3I6XCJ3aGl0ZVwiLHBhZGRpbmc6XCI2cHggOHB4XCIsYm9yZGVyUmFkaXVzOjcsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxjbGFzc05hbWU6byxyZWY6Z30pKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlZjp6LHBvc2l0aW9uOlswLFAsMF0scmVuZGVyT3JkZXI6NTAwLHVzZXJEYXRhOnh9LEMuY3JlYXRlRWxlbWVudChcInNwaGVyZUdlb21ldHJ5XCIse2FyZ3M6W0EsMTIsMTJdfSksQy5jcmVhdGVFbGVtZW50KFwibWVzaEJhc2ljTWF0ZXJpYWxcIix7dHJhbnNwYXJlbnQ6ITAsZGVwdGhUZXN0OmksY29sb3I6SSxvcGFjaXR5Om0scG9seWdvbk9mZnNldDohMCxwb2x5Z29uT2Zmc2V0RmFjdG9yOi0xMH0pKSkpfSxFaT1uZXcgUi5NYXRyaXg0LE1pPW5ldyBSLk1hdHJpeDQsU2k9bmV3IFIuTWF0cml4NCxUaT1uZXcgUi5NYXRyaXg0LENpPW5ldyBSLk1hdHJpeDQsUGk9bmV3IFIuTWF0cml4NCxSaT1uZXcgUi5NYXRyaXg0LERpPW5ldyBSLk1hdHJpeDQsRmk9bmV3IFIuTWF0cml4NCxraT1uZXcgUi5Cb3gzLF9pPW5ldyBSLkJveDMsQWk9bmV3IFIuVmVjdG9yMyxMaT1uZXcgUi5WZWN0b3IzLElpPW5ldyBSLlZlY3RvcjMsQmk9bmV3IFIuVmVjdG9yMyxWaT1uZXcgUi5WZWN0b3IzLFVpPW5ldyBSLlZlY3RvcjMoMSwwLDApLE9pPW5ldyBSLlZlY3RvcjMoMCwxLDApLE5pPW5ldyBSLlZlY3RvcjMoMCwwLDEpLGppPUMuZm9yd2FyZFJlZigoKHtlbmFibGVkOmU9ITAsbWF0cml4OnQsb25EcmFnU3RhcnQ6cixvbkRyYWc6bixvbkRyYWdFbmQ6byxhdXRvVHJhbnNmb3JtOmk9ITAsYW5jaG9yOnMsZGlzYWJsZUF4ZXM6bD0hMSxkaXNhYmxlU2xpZGVyczpjPSExLGRpc2FibGVSb3RhdGlvbnM6dT0hMSxkaXNhYmxlU2NhbGluZzpkPSExLGFjdGl2ZUF4ZXM6bT1bITAsITAsITBdLG9mZnNldDpmPVswLDAsMF0scm90YXRpb246cD1bMCwwLDBdLHNjYWxlOmg9MSxsaW5lV2lkdGg6eD00LGZpeGVkOnk9ITEsdHJhbnNsYXRpb25MaW1pdHM6dixyb3RhdGlvbkxpbWl0czpnLHNjYWxlTGltaXRzOncsZGVwdGhUZXN0Ono9ITAsYXhpc0NvbG9yczpiPVtcIiNmZjIwNjBcIixcIiMyMGRmODBcIixcIiMyMDgwZmZcIl0saG92ZXJlZENvbG9yOkU9XCIjZmZmZjQwXCIsYW5ub3RhdGlvbnM6TT0hMSxhbm5vdGF0aW9uc0NsYXNzOlMsb3BhY2l0eTpQPTEsdmlzaWJsZTpEPSEwLHVzZXJEYXRhOkYsY2hpbGRyZW46aywuLi5ffSxBKT0+e2NvbnN0IEw9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSksST1DLnVzZVJlZihudWxsKSxCPUMudXNlUmVmKG51bGwpLFY9Qy51c2VSZWYobnVsbCksVT1DLnVzZVJlZihudWxsKSxPPUMudXNlUmVmKFswLDAsMF0pLE49Qy51c2VSZWYobmV3IFIuVmVjdG9yMygxLDEsMSkpLGo9Qy51c2VSZWYobmV3IFIuVmVjdG9yMygxLDEsMSkpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3MmJihVLmN1cnJlbnQudXBkYXRlV29ybGRNYXRyaXgoITAsITApLFRpLmNvcHkoVS5jdXJyZW50Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKSxraS5tYWtlRW1wdHkoKSxVLmN1cnJlbnQudHJhdmVyc2UoKGU9PntlLmdlb21ldHJ5JiYoZS5nZW9tZXRyeS5ib3VuZGluZ0JveHx8ZS5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKSxQaS5jb3B5KGUubWF0cml4V29ybGQpLnByZW11bHRpcGx5KFRpKSxfaS5jb3B5KGUuZ2VvbWV0cnkuYm91bmRpbmdCb3gpLF9pLmFwcGx5TWF0cml4NChQaSksa2kudW5pb24oX2kpKX0pKSxBaS5jb3B5KGtpLm1heCkuYWRkKGtpLm1pbikubXVsdGlwbHlTY2FsYXIoLjUpLExpLmNvcHkoa2kubWF4KS5zdWIoa2kubWluKS5tdWx0aXBseVNjYWxhciguNSksSWkuY29weShMaSkubXVsdGlwbHkobmV3IFIuVmVjdG9yMyguLi5zKSkuYWRkKEFpKSxCaS5zZXQoLi4uZikuYWRkKElpKSxWLmN1cnJlbnQucG9zaXRpb24uY29weShCaSksTCgpKX0pKTtjb25zdCBXPUMudXNlTWVtbygoKCk9Pih7b25EcmFnU3RhcnQ6ZT0+e0VpLmNvcHkoQi5jdXJyZW50Lm1hdHJpeCksTWkuY29weShCLmN1cnJlbnQubWF0cml4V29ybGQpLHImJnIoZSksTCgpfSxvbkRyYWc6ZT0+e1NpLmNvcHkoSS5jdXJyZW50Lm1hdHJpeFdvcmxkKSxUaS5jb3B5KFNpKS5pbnZlcnQoKSxDaS5jb3B5KE1pKS5wcmVtdWx0aXBseShlKSxQaS5jb3B5KENpKS5wcmVtdWx0aXBseShUaSksUmkuY29weShFaSkuaW52ZXJ0KCksRGkuY29weShQaSkubXVsdGlwbHkoUmkpLGkmJkIuY3VycmVudC5tYXRyaXguY29weShQaSksbiYmbihQaSxEaSxDaSxlKSxMKCl9LG9uRHJhZ0VuZDooKT0+e28mJm8oKSxMKCl9LHRyYW5zbGF0aW9uOk8sdHJhbnNsYXRpb25MaW1pdHM6dixyb3RhdGlvbkxpbWl0czpnLGF4aXNDb2xvcnM6Yixob3ZlcmVkQ29sb3I6RSxvcGFjaXR5OlAsc2NhbGU6aCxsaW5lV2lkdGg6eCxmaXhlZDp5LGRlcHRoVGVzdDp6LHVzZXJEYXRhOkYsYW5ub3RhdGlvbnM6TSxhbm5vdGF0aW9uc0NsYXNzOlN9KSksW3IsbixvLE8sdixnLHcseixoLHgseSwuLi5iLEUsUCxGLGksTSxTXSksRz1uZXcgUi5WZWN0b3IzO3JldHVybiBhLnVzZUZyYW1lKChlPT57aWYoeSl7Y29uc3QgdD1jZShWLmN1cnJlbnQuZ2V0V29ybGRQb3NpdGlvbihHKSxoLGUuY2FtZXJhLGUuc2l6ZSk7Ti5jdXJyZW50LnNldFNjYWxhcih0KX10JiZ0IGluc3RhbmNlb2YgUi5NYXRyaXg0JiYoQi5jdXJyZW50Lm1hdHJpeD10KSxCLmN1cnJlbnQudXBkYXRlV29ybGRNYXRyaXgoITAsITApLEZpLm1ha2VSb3RhdGlvbkZyb21FdWxlcihWLmN1cnJlbnQucm90YXRpb24pLnNldFBvc2l0aW9uKFYuY3VycmVudC5wb3NpdGlvbikucHJlbXVsdGlwbHkoQi5jdXJyZW50Lm1hdHJpeFdvcmxkKSxqLmN1cnJlbnQuc2V0RnJvbU1hdHJpeFNjYWxlKEZpKSxWaS5jb3B5KE4uY3VycmVudCkuZGl2aWRlKGouY3VycmVudCksKE1hdGguYWJzKFYuY3VycmVudC5zY2FsZS54LVZpLngpPjFlLTR8fE1hdGguYWJzKFYuY3VycmVudC5zY2FsZS55LVZpLnkpPjFlLTR8fE1hdGguYWJzKFYuY3VycmVudC5zY2FsZS56LVZpLnopPjFlLTQpJiYoVi5jdXJyZW50LnNjYWxlLmNvcHkoVmkpLGUuaW52YWxpZGF0ZSgpKX0pKSxDLnVzZUltcGVyYXRpdmVIYW5kbGUoQSwoKCk9PkIuY3VycmVudCksW10pLEMuY3JlYXRlRWxlbWVudChLby5Qcm92aWRlcix7dmFsdWU6V30sQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOkl9LEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6QixtYXRyaXg6dCxtYXRyaXhBdXRvVXBkYXRlOiExfSxfKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHt2aXNpYmxlOkQscmVmOlYscG9zaXRpb246Zixyb3RhdGlvbjpwfSxlJiZDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLCFsJiZtWzBdJiZDLmNyZWF0ZUVsZW1lbnQobmkse2F4aXM6MCxkaXJlY3Rpb246VWl9KSwhbCYmbVsxXSYmQy5jcmVhdGVFbGVtZW50KG5pLHtheGlzOjEsZGlyZWN0aW9uOk9pfSksIWwmJm1bMl0mJkMuY3JlYXRlRWxlbWVudChuaSx7YXhpczoyLGRpcmVjdGlvbjpOaX0pLCFjJiZtWzBdJiZtWzFdJiZDLmNyZWF0ZUVsZW1lbnQoeGkse2F4aXM6MixkaXIxOlVpLGRpcjI6T2l9KSwhYyYmbVswXSYmbVsyXSYmQy5jcmVhdGVFbGVtZW50KHhpLHtheGlzOjEsZGlyMTpOaSxkaXIyOlVpfSksIWMmJm1bMl0mJm1bMV0mJkMuY3JlYXRlRWxlbWVudCh4aSx7YXhpczowLGRpcjE6T2ksZGlyMjpOaX0pLCF1JiZtWzBdJiZtWzFdJiZDLmNyZWF0ZUVsZW1lbnQobWkse2F4aXM6MixkaXIxOlVpLGRpcjI6T2l9KSwhdSYmbVswXSYmbVsyXSYmQy5jcmVhdGVFbGVtZW50KG1pLHtheGlzOjEsZGlyMTpOaSxkaXIyOlVpfSksIXUmJm1bMl0mJm1bMV0mJkMuY3JlYXRlRWxlbWVudChtaSx7YXhpczowLGRpcjE6T2ksZGlyMjpOaX0pLCFkJiZtWzBdJiZDLmNyZWF0ZUVsZW1lbnQoYmkse2F4aXM6MCxkaXJlY3Rpb246VWl9KSwhZCYmbVsxXSYmQy5jcmVhdGVFbGVtZW50KGJpLHtheGlzOjEsZGlyZWN0aW9uOk9pfSksIWQmJm1bMl0mJkMuY3JlYXRlRWxlbWVudChiaSx7YXhpczoyLGRpcmVjdGlvbjpOaX0pKSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOlV9LGspKSkpfSkpLFdpPXQuZm9yd2FyZFJlZigoKHtvcHRpb25zOmU9e3ZpZGVvOiEwfSwuLi5yfSxuKT0+e2NvbnN0IGE9Zi5zdXNwZW5kKCgoKT0+bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoZSkpLFtdKTtyZXR1cm4gdC51c2VFZmZlY3QoKCgpPT4oKT0+e251bGw9PWF8fGEuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxmLmNsZWFyKFtdKX0pLFthXSksQy5jcmVhdGVFbGVtZW50KG9yLFQuZGVmYXVsdCh7cmVmOm59LHIse3NyYzphfSkpfSkpLEdpPXQuZm9yd2FyZFJlZigoKHtjb25zdHJhaW50czplPXthdWRpbzohMSx2aWRlbzp7ZmFjaW5nTW9kZTpcInVzZXJcIn19LC4uLnJ9LG4pPT57Y29uc3QgYT1mLnN1c3BlbmQoKCgpPT5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShlKSksW10pO3JldHVybiB0LnVzZUVmZmVjdCgoKCk9PigpPT57bnVsbD09YXx8YS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGYuY2xlYXIoW10pfSksW2FdKSxDLmNyZWF0ZUVsZW1lbnQob3IsVC5kZWZhdWx0KHtyZWY6bn0scix7c3JjOmF9KSl9KSksSGk9bmV3IFIuVmVjdG9yMygwLDAsLTEpLCRpPWZ1bmN0aW9uKCl7Y29uc3QgZT1uZXcgUi5WZWN0b3IzLHQ9bmV3IFIuVmVjdG9yMyxyPW5ldyBSLlZlY3RvcjMsbj1uZXcgUi5WZWN0b3IzLGE9bmV3IFIuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24obyxpLHMsbCl7cmV0dXJuIGUuY29weShvKSx0LmNvcHkoaSksci5jb3B5KHMpLG4uY29weSh0KS5zdWIoZSksYS5jb3B5KHIpLnN1YihlKSxsLmNyb3NzVmVjdG9ycyhhLG4pLm5vcm1hbGl6ZSgpfX0oKTtjb25zdCBxaT1DLmZvcndhcmRSZWYoKCh7cG9pbnRzOmU9WWkuU0FNUExFX0ZBQ0VMQU5ETUFSS0VSX1JFU1VMVC5mYWNlTGFuZG1hcmtzWzBdLGZhY2U6dCxmYWNpYWxUcmFuc2Zvcm1hdGlvbk1hdHJpeDpyLGZhY2VCbGVuZHNoYXBlczpuLG9mZnNldDpvLG9mZnNldFNjYWxhcjppPTgwLHdpZHRoOnMsaGVpZ2h0OmwsZGVwdGg6Yz0xLHZlcnRpY2FsVHJpOnU9WzE1OSwzODYsMTUyXSxvcmlnaW46ZCxleWVzOm09ITAsZXllc0FzT3JpZ2luOmY9ITEsZGVidWc6cD0hMSxjaGlsZHJlbjpoLC4uLnh9LHkpPT57dmFyIHY7dCYmKGU9dC5rZXlwb2ludHMsY29uc29sZS53YXJuKFwiRmFjZW1lc2ggYGZhY2VgIHByb3AgaXMgZGVwcmVjYXRlZDogdXNlIGBwb2ludHNgIGluc3RlYWRcIikpO2NvbnN0IGc9Qy51c2VSZWYobnVsbCksdz1DLnVzZVJlZihudWxsKSx6PUMudXNlUmVmKG51bGwpLGI9Qy51c2VSZWYobnVsbCksRT1DLnVzZVJlZihudWxsKSxNPUMudXNlUmVmKG51bGwpLFM9Qy51c2VSZWYobnVsbCksW1RdPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5WZWN0b3IzKSksW1BdPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5PYmplY3QzRCkpLFtEXT1DLnVzZVN0YXRlKCgoKT0+bmV3IFIuUXVhdGVybmlvbikpLFtGXT1DLnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLHtpbnZhbGlkYXRlOmt9PWEudXNlVGhyZWUoKTtDLnVzZUVmZmVjdCgoKCk9Pnt2YXIgZTtudWxsPT0oZT1FLmN1cnJlbnQpfHxlLmdlb21ldHJ5LnNldEluZGV4KFlpLlRSSUFOR1VMQVRJT04pfSksW10pO2NvbnN0W19dPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5WZWN0b3IzKSk7Qy51c2VFZmZlY3QoKCgpPT57dmFyIHQsYTtjb25zdCBoPW51bGw9PSh0PUUuY3VycmVudCk/dm9pZCAwOnQuZ2VvbWV0cnk7aWYoIWgpcmV0dXJuO3ZhciB4LHk7KGguc2V0RnJvbVBvaW50cyhlKSxoLnNldERyYXdSYW5nZSgwLFlpLlRSSUFOR1VMQVRJT04ubGVuZ3RoKSxyKT8oUC5tYXRyaXguZnJvbUFycmF5KHIuZGF0YSksUC5tYXRyaXguZGVjb21wb3NlKFAucG9zaXRpb24sUC5xdWF0ZXJuaW9uLFAuc2NhbGUpLFAucm90YXRpb24ueSo9LTEsUC5yb3RhdGlvbi56Kj0tMSxELnNldEZyb21FdWxlcihQLnJvdGF0aW9uKSxvPyhQLnBvc2l0aW9uLnkqPS0xLFAucG9zaXRpb24ueio9LTEsbnVsbD09KHg9Zy5jdXJyZW50KXx8eC5wb3NpdGlvbi5jb3B5KFAucG9zaXRpb24uZGl2aWRlU2NhbGFyKGkpKSk6bnVsbD09KHk9Zy5jdXJyZW50KXx8eS5wb3NpdGlvbi5zZXQoMCwwLDApKTooJGkoZVt1WzBdXSxlW3VbMV1dLGVbdVsyXV0sVCksRC5zZXRGcm9tVW5pdFZlY3RvcnMoSGksVCkpO2NvbnN0IHY9RC5jbG9uZSgpLmludmVydCgpO2lmKGguY29tcHV0ZUJvdW5kaW5nQm94KCkscCYmaygpLGguY2VudGVyKCksaC5hcHBseVF1YXRlcm5pb24odiksbnVsbD09KGE9Yi5jdXJyZW50KXx8YS5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKEQpLG0paWYobil7aWYoTS5jdXJyZW50JiZTLmN1cnJlbnQmJnouY3VycmVudClpZihmKXtjb25zdCBlPU0uY3VycmVudC5fY29tcHV0ZVNwaGVyZShoKSx0PVMuY3VycmVudC5fY29tcHV0ZVNwaGVyZShoKSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2xvbmUoKS5hZGQodCkubXVsdGlwbHlTY2FsYXIoLjUpfShlLmNlbnRlcix0LmNlbnRlcik7ZD1yLm5lZ2F0ZSgpLE0uY3VycmVudC5fdXBkYXRlKGgsbixlKSxTLmN1cnJlbnQuX3VwZGF0ZShoLG4sdCl9ZWxzZSBNLmN1cnJlbnQuX3VwZGF0ZShoLG4pLFMuY3VycmVudC5fdXBkYXRlKGgsbil9ZWxzZSBjb25zb2xlLndhcm4oXCJGYWNlbWVzaCBgZXllc2Agb3B0aW9uIG9ubHkgd29ya3MgaWYgYGZhY2VCbGVuZHNoYXBlc2AgaXMgcHJvdmlkZWQ6IHNraXBwaW5nLlwiKTtpZih6LmN1cnJlbnQpe2lmKHZvaWQgMCE9PWQpaWYoXCJudW1iZXJcIj09dHlwZW9mIGQpe2NvbnN0IGU9aC5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKTtGLnNldCgtZS5nZXRYKGQpLC1lLmdldFkoZCksLWUuZ2V0WihkKSl9ZWxzZSBkLmlzVmVjdG9yMyYmRi5jb3B5KGQpO2Vsc2UgRi5zZXRTY2FsYXIoMCk7ei5jdXJyZW50LnBvc2l0aW9uLmNvcHkoRil9aWYody5jdXJyZW50KXtsZXQgZT0xOyhzfHxsfHxjKSYmKGguYm91bmRpbmdCb3guZ2V0U2l6ZShfKSxzJiYoZT1zL18ueCksbCYmKGU9bC9fLnkpLGMmJihlPWMvXy56KSksdy5jdXJyZW50LnNjYWxlLnNldFNjYWxhcigxIT09ZT9lOjEpfWguY29tcHV0ZVZlcnRleE5vcm1hbHMoKSxoLmF0dHJpYnV0ZXMucG9zaXRpb24ubmVlZHNVcGRhdGU9ITB9KSxbZSxyLG4sUCxvLGkscyxsLGMsdSxkLG0scCxrLFQsRCxfLEZdKTtjb25zdCBBPUMudXNlTWVtbygoKCk9Pih7b3V0ZXJSZWY6YixtZXNoUmVmOkUsZXllUmlnaHRSZWY6TSxleWVMZWZ0UmVmOlN9KSksW10pO0MudXNlSW1wZXJhdGl2ZUhhbmRsZSh5LCgoKT0+QSksW0FdKTtjb25zdFtMXT1DLnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLEk9bnVsbD09KHY9RS5jdXJyZW50KT92b2lkIDA6di5nZW9tZXRyeS5ib3VuZGluZ0JveCxCPShudWxsPT1JP3ZvaWQgMDpJLmdldFNpemUoTCkueil8fDE7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIseCxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6Z30sQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOmJ9LEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjp3fSxwP0MuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsQy5jcmVhdGVFbGVtZW50KFwiYXhlc0hlbHBlclwiLHthcmdzOltCXX0pLEMuY3JlYXRlRWxlbWVudChtZSx7cG9pbnRzOltbMCwwLDBdLFswLDAsLUJdXSxjb2xvcjo2NTUzNX0pKTpudWxsLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIse3JlZjp6fSxtJiZuJiZDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtuYW1lOlwiZXllc1wifSxDLmNyZWF0ZUVsZW1lbnQoWmkse3NpZGU6XCJsZWZ0XCIscmVmOk0sZGVidWc6cH0pLEMuY3JlYXRlRWxlbWVudChaaSx7c2lkZTpcInJpZ2h0XCIscmVmOlMsZGVidWc6cH0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlZjpFLG5hbWU6XCJmYWNlXCJ9LGgscD9DLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLEkmJkMuY3JlYXRlRWxlbWVudChcImJveDNIZWxwZXJcIix7YXJnczpbSV19KSk6bnVsbCkpKSkpKX0pKSxYaT17Y29udG91ckxhbmRtYXJrczp7cmlnaHQ6WzMzLDEzMywxNTksMTQ1LDE1M10sbGVmdDpbMjYzLDM2MiwzODYsMzc0LDM4MF19LGJsZW5kc2hhcGVzOntyaWdodDpbMTQsMTYsMTgsMTJdLGxlZnQ6WzEzLDE1LDE3LDExXX0sY29sb3I6e3JpZ2h0OlwicmVkXCIsbGVmdDpcIiMwMGZmMDBcIn0sZm92Ontob3Jpem9udGFsOjEwMCx2ZXJ0aWNhbDo5MH19LFppPUMuZm9yd2FyZFJlZigoKHtzaWRlOmUsZGVidWc6dD0hMH0scik9Pntjb25zdCBuPUMudXNlUmVmKG51bGwpLGE9Qy51c2VSZWYobnVsbCksW29dPUMudXNlU3RhdGUoKCgpPT5uZXcgUi5TcGhlcmUpKSxpPUMudXNlQ2FsbGJhY2soKHQ9Pntjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIiksbj1YaS5jb250b3VyTGFuZG1hcmtzW2VdLm1hcCgoZT0+bmV3IFIuVmVjdG9yMyhyLmdldFgoZSksci5nZXRZKGUpLHIuZ2V0WihlKSkpKTtyZXR1cm4gby5jZW50ZXIuc2V0KDAsMCwwKSxuLmZvckVhY2goKGU9Pm8uY2VudGVyLmFkZChlKSkpLG8uY2VudGVyLmRpdmlkZVNjYWxhcihuLmxlbmd0aCksby5yYWRpdXM9blswXS5zdWIoblsxXSkubGVuZ3RoKCkvMixvfSksW28sZV0pLFtzXT1DLnVzZVN0YXRlKCgoKT0+bmV3IFIuRXVsZXIpKSxsPUMudXNlQ2FsbGJhY2soKCh0LHIsbyk9Pnt2YXIgbDtuLmN1cnJlbnQmJihudWxsIT09KGw9bykmJnZvaWQgMCE9PWx8fChvPWkodCkpLG4uY3VycmVudC5wb3NpdGlvbi5jb3B5KG8uY2VudGVyKSxuLmN1cnJlbnQuc2NhbGUuc2V0U2NhbGFyKG8ucmFkaXVzKSk7aWYociYmYS5jdXJyZW50KXtjb25zdCB0PVhpLmJsZW5kc2hhcGVzW2VdLG49ci5jYXRlZ29yaWVzW3RbMF1dLnNjb3JlLG89ci5jYXRlZ29yaWVzW3RbMV1dLnNjb3JlLGk9ci5jYXRlZ29yaWVzW3RbMl1dLnNjb3JlLGw9ci5jYXRlZ29yaWVzW3RbM11dLnNjb3JlLGM9LjUqKFhpLmZvdi5ob3Jpem9udGFsKlIuTWF0aFV0aWxzLkRFRzJSQUQpKihsLWkpLHU9LjUqKFhpLmZvdi52ZXJ0aWNhbCpSLk1hdGhVdGlscy5ERUcyUkFEKSoobi1vKSooXCJsZWZ0XCI9PT1lPzE6LTEpO3Muc2V0KGMsdSwwKSxhLmN1cnJlbnQuc2V0Um90YXRpb25Gcm9tRXVsZXIocyl9fSksW2ksZSxzXSksYz1DLnVzZU1lbW8oKCgpPT4oe2V5ZU1lc2hSZWY6bixpcmlzRGlyUmVmOmEsX2NvbXB1dGVTcGhlcmU6aSxfdXBkYXRlOmx9KSksW2ksbF0pO0MudXNlSW1wZXJhdGl2ZUhhbmRsZShyLCgoKT0+YyksW2NdKTtjb25zdCB1PVhpLmNvbG9yW2VdO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLG51bGwsQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cmVmOm59LHQmJkMuY3JlYXRlRWxlbWVudChcImF4ZXNIZWxwZXJcIixudWxsKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6YX0sQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCx0JiZDLmNyZWF0ZUVsZW1lbnQobWUse3BvaW50czpbWzAsMCwwXSxbMCwwLC0yXV0sbGluZVdpZHRoOjEsY29sb3I6dX0pKSkpKX0pKSxZaT17VFJJQU5HVUxBVElPTjpbMTI3LDM0LDEzOSwxMSwwLDM3LDIzMiwyMzEsMTIwLDcyLDM3LDM5LDEyOCwxMjEsNDcsMjMyLDEyMSwxMjgsMTA0LDY5LDY3LDE3NSwxNzEsMTQ4LDE1NywxNTQsMTU1LDExOCw1MCwxMDEsNzMsMzksNDAsOSwxNTEsMTA4LDQ4LDExNSwxMzEsMTk0LDIwNCwyMTEsNzQsNDAsMTg1LDgwLDQyLDE4Myw0MCw5MiwxODYsMjMwLDIyOSwxMTgsMjAyLDIxMiwyMTQsODMsMTgsMTcsNzYsNjEsMTQ2LDE2MCwyOSwzMCw1NiwxNTcsMTczLDEwNiwyMDQsMTk0LDEzNSwyMTQsMTkyLDIwMywxNjUsOTgsMjEsNzEsNjgsNTEsNDUsNCwxNDQsMjQsMjMsNzcsMTQ2LDkxLDIwNSw1MCwxODcsMjAxLDIwMCwxOCw5MSwxMDYsMTgyLDkwLDkxLDE4MSw4NSw4NCwxNywyMDYsMjAzLDM2LDE0OCwxNzEsMTQwLDkyLDQwLDM5LDE5MywxODksMjQ0LDE1OSwxNTgsMjgsMjQ3LDI0NiwxNjEsMjM2LDMsMTk2LDU0LDY4LDEwNCwxOTMsMTY4LDgsMTE3LDIyOCwzMSwxODksMTkzLDU1LDk4LDk3LDk5LDEyNiw0NywxMDAsMTY2LDc5LDIxOCwxNTUsMTU0LDI2LDIwOSw0OSwxMzEsMTM1LDEzNiwxNTAsNDcsMTI2LDIxNywyMjMsNTIsNTMsNDUsNTEsMTM0LDIxMSwxNzAsMTQwLDY3LDY5LDEwOCw0MywxMDYsOTEsMjMwLDExOSwxMjAsMjI2LDEzMCwyNDcsNjMsNTMsNTIsMjM4LDIwLDI0Miw0Niw3MCwxNTYsNzgsNjIsOTYsNDYsNTMsNjMsMTQzLDM0LDIyNywxNzMsMTU1LDEzMywxMjMsMTE3LDExMSw0NCwxMjUsMTksMjM2LDEzNCw1MSwyMTYsMjA2LDIwNSwxNTQsMTUzLDIyLDM5LDM3LDE2NywyMDAsMjAxLDIwOCwzNiwxNDIsMTAwLDU3LDIxMiwyMDIsMjAsNjAsOTksMjgsMTU4LDE1NywzNSwyMjYsMTEzLDE2MCwxNTksMjcsMjA0LDIwMiwyMTAsMTEzLDIyNSw0Niw0MywyMDIsMjA0LDYyLDc2LDc3LDEzNywxMjMsMTE2LDQxLDM4LDcyLDIwMywxMjksMTQyLDY0LDk4LDI0MCw0OSwxMDIsNjQsNDEsNzMsNzQsMjEyLDIxNiwyMDcsNDIsNzQsMTg0LDE2OSwxNzAsMjExLDE3MCwxNDksMTc2LDEwNSw2Niw2OSwxMjIsNiwxNjgsMTIzLDE0NywxODcsOTYsNzcsOTAsNjUsNTUsMTA3LDg5LDkwLDE4MCwxMDEsMTAwLDEyMCw2MywxMDUsMTA0LDkzLDEzNywyMjcsMTUsODYsODUsMTI5LDEwMiw0OSwxNCw4Nyw4Niw1NSw4LDksMTAwLDQ3LDEyMSwxNDUsMjMsMjIsODgsODksMTc5LDYsMTIyLDE5Niw4OCw5NSw5NiwxMzgsMTcyLDEzNiwyMTUsNTgsMTcyLDExNSw0OCwyMTksNDIsODAsODEsMTk1LDMsNTEsNDMsMTQ2LDYxLDE3MSwxNzUsMTk5LDgxLDgyLDM4LDUzLDQ2LDIyNSwxNDQsMTYzLDExMCwyNDYsMzMsNyw1Miw2NSw2NiwyMjksMjI4LDExNywzNCwxMjcsMjM0LDEwNywxMDgsNjksMTA5LDEwOCwxNTEsNDgsNjQsMjM1LDYyLDc4LDE5MSwxMjksMjA5LDEyNiwxMTEsMzUsMTQzLDE2MywxNjEsMjQ2LDExNywxMjMsNTAsMjIyLDY1LDUyLDE5LDEyNSwxNDEsMjIxLDU1LDY1LDMsMTk1LDE5NywyNSw3LDMzLDIyMCwyMzcsNDQsNzAsNzEsMTM5LDEyMiwxOTMsMjQ1LDI0NywxMzAsMzMsNzEsMjEsMTYyLDE1MywxNTgsMTU5LDE3MCwxNjksMTUwLDE4OCwxNzQsMTk2LDIxNiwxODYsOTIsMTQ0LDE2MCwxNjEsMiw5NywxNjcsMTQxLDEyNSwyNDEsMTY0LDE2NywzNyw3MiwzOCwxMiwxNDUsMTU5LDE2MCwzOCw4MiwxMyw2Myw2OCw3MSwyMjYsMzUsMTExLDE1OCwxNTMsMTU0LDEwMSw1MCwyMDUsMjA2LDkyLDE2NSwyMDksMTk4LDIxNywxNjUsMTY3LDk3LDIyMCwxMTUsMjE4LDEzMywxMTIsMjQzLDIzOSwyMzgsMjQxLDIxNCwxMzUsMTY5LDE5MCwxNzMsMTMzLDE3MSwyMDgsMzIsMTI1LDQ0LDIzNyw4Niw4NywxNzgsODUsODYsMTc5LDg0LDg1LDE4MCw4Myw4NCwxODEsMjAxLDgzLDE4MiwxMzcsOTMsMTMyLDc2LDYyLDE4Myw2MSw3NiwxODQsNTcsNjEsMTg1LDIxMiw1NywxODYsMjE0LDIwNywxODcsMzQsMTQzLDE1Niw3OSwyMzksMjM3LDEyMywxMzcsMTc3LDQ0LDEsNCwyMDEsMTk0LDMyLDY0LDEwMiwxMjksMjEzLDIxNSwxMzgsNTksMTY2LDIxOSwyNDIsOTksOTcsMiw5NCwxNDEsNzUsNTksMjM1LDI0LDExMCwyMjgsMjUsMTMwLDIyNiwyMywyNCwyMjksMjIsMjMsMjMwLDI2LDIyLDIzMSwxMTIsMjYsMjMyLDE4OSwxOTAsMjQzLDIyMSw1NiwxOTAsMjgsNTYsMjIxLDI3LDI4LDIyMiwyOSwyNywyMjMsMzAsMjksMjI0LDI0NywzMCwyMjUsMjM4LDc5LDIwLDE2Niw1OSw3NSw2MCw3NSwyNDAsMTQ3LDE3NywyMTUsMjAsNzksMTY2LDE4NywxNDcsMjEzLDExMiwyMzMsMjQ0LDIzMywxMjgsMjQ1LDEyOCwxMTQsMTg4LDExNCwyMTcsMTc0LDEzMSwxMTUsMjIwLDIxNywxOTgsMjM2LDE5OCwxMzEsMTM0LDE3NywxMzIsNTgsMTQzLDM1LDEyNCwxMTAsMTYzLDcsMjI4LDExMCwyNSwzNTYsMzg5LDM2OCwxMSwzMDIsMjY3LDQ1MiwzNTAsMzQ5LDMwMiwzMDMsMjY5LDM1NywzNDMsMjc3LDQ1Miw0NTMsMzU3LDMzMywzMzIsMjk3LDE3NSwxNTIsMzc3LDM4NCwzOTgsMzgyLDM0NywzNDgsMzMwLDMwMywzMDQsMjcwLDksMzM2LDMzNywyNzgsMjc5LDM2MCw0MTgsMjYyLDQzMSwzMDQsNDA4LDQwOSwzMTAsNDE1LDQwNywyNzAsNDA5LDQxMCw0NTAsMzQ4LDM0Nyw0MjIsNDMwLDQzNCwzMTMsMzE0LDE3LDMwNiwzMDcsMzc1LDM4NywzODgsMjYwLDI4Niw0MTQsMzk4LDMzNSw0MDYsNDE4LDM2NCwzNjcsNDE2LDQyMywzNTgsMzI3LDI1MSwyODQsMjk4LDI4MSw1LDQsMzczLDM3NCwyNTMsMzA3LDMyMCwzMjEsNDI1LDQyNyw0MTEsNDIxLDMxMywxOCwzMjEsNDA1LDQwNiwzMjAsNDA0LDQwNSwzMTUsMTYsMTcsNDI2LDQyNSwyNjYsMzc3LDQwMCwzNjksMzIyLDM5MSwyNjksNDE3LDQ2NSw0NjQsMzg2LDI1NywyNTgsNDY2LDI2MCwzODgsNDU2LDM5OSw0MTksMjg0LDMzMiwzMzMsNDE3LDI4NSw4LDM0NiwzNDAsMjYxLDQxMyw0NDEsMjg1LDMyNyw0NjAsMzI4LDM1NSwzNzEsMzI5LDM5Miw0MzksNDM4LDM4MiwzNDEsMjU2LDQyOSw0MjAsMzYwLDM2NCwzOTQsMzc5LDI3NywzNDMsNDM3LDQ0Myw0NDQsMjgzLDI3NSw0NDAsMzYzLDQzMSwyNjIsMzY5LDI5NywzMzgsMzM3LDI3MywzNzUsMzIxLDQ1MCw0NTEsMzQ5LDQ0NiwzNDIsNDY3LDI5MywzMzQsMjgyLDQ1OCw0NjEsNDYyLDI3NiwzNTMsMzgzLDMwOCwzMjQsMzI1LDI3NiwzMDAsMjkzLDM3MiwzNDUsNDQ3LDM4MiwzOTgsMzYyLDM1MiwzNDUsMzQwLDI3NCwxLDE5LDQ1NiwyNDgsMjgxLDQzNiw0MjcsNDI1LDM4MSwyNTYsMjUyLDI2OSwzOTEsMzkzLDIwMCwxOTksNDI4LDI2NiwzMzAsMzI5LDI4NywyNzMsNDIyLDI1MCw0NjIsMzI4LDI1OCwyODYsMzg0LDI2NSwzNTMsMzQyLDM4NywyNTksMjU3LDQyNCw0MzEsNDMwLDM0MiwzNTMsMjc2LDI3MywzMzUsNDI0LDI5MiwzMjUsMzA3LDM2Niw0NDcsMzQ1LDI3MSwzMDMsMzAyLDQyMywyNjYsMzcxLDI5NCw0NTUsNDYwLDI3OSwyNzgsMjk0LDI3MSwyNzIsMzA0LDQzMiw0MzQsNDI3LDI3Miw0MDcsNDA4LDM5NCw0MzAsNDMxLDM5NSwzNjksNDAwLDMzNCwzMzMsMjk5LDM1MSw0MTcsMTY4LDM1MiwyODAsNDExLDMyNSwzMTksMzIwLDI5NSwyOTYsMzM2LDMxOSw0MDMsNDA0LDMzMCwzNDgsMzQ5LDI5MywyOTgsMzMzLDMyMyw0NTQsNDQ3LDE1LDE2LDMxNSwzNTgsNDI5LDI3OSwxNCwxNSwzMTYsMjg1LDMzNiw5LDMyOSwzNDksMzUwLDM3NCwzODAsMjUyLDMxOCw0MDIsNDAzLDYsMTk3LDQxOSwzMTgsMzE5LDMyNSwzNjcsMzY0LDM2NSw0MzUsMzY3LDM5NywzNDQsNDM4LDQzOSwyNzIsMjcxLDMxMSwxOTUsNSwyODEsMjczLDI4NywyOTEsMzk2LDQyOCwxOTksMzExLDI3MSwyNjgsMjgzLDQ0NCw0NDUsMzczLDI1NCwzMzksMjYzLDQ2NiwyNDksMjgyLDMzNCwyOTYsNDQ5LDM0NywzNDYsMjY0LDQ0Nyw0NTQsMzM2LDI5NiwyOTksMzM4LDEwLDE1MSwyNzgsNDM5LDQ1NSwyOTIsNDA3LDQxNSwzNTgsMzcxLDM1NSwzNDAsMzQ1LDM3MiwzOTAsMjQ5LDQ2NiwzNDYsMzQ3LDI4MCw0NDIsNDQzLDI4MiwxOSw5NCwzNzAsNDQxLDQ0MiwyOTUsMjQ4LDQxOSwxOTcsMjYzLDI1NSwzNTksNDQwLDI3NSwyNzQsMzAwLDM4MywzNjgsMzUxLDQxMiw0NjUsMjYzLDQ2Nyw0NjYsMzAxLDM2OCwzODksMzgwLDM3NCwzODYsMzk1LDM3OCwzNzksNDEyLDM1MSw0MTksNDM2LDQyNiwzMjIsMzczLDM5MCwzODgsMiwxNjQsMzkzLDM3MCw0NjIsNDYxLDE2NCwwLDI2NywzMDIsMTEsMTIsMzc0LDM3MywzODcsMjY4LDEyLDEzLDI5MywzMDAsMzAxLDQ0NiwyNjEsMzQwLDM4NSwzODQsMzgxLDMzMCwyNjYsNDI1LDQyNiw0MjMsMzkxLDQyOSwzNTUsNDM3LDM5MSwzMjcsMzI2LDQ0MCw0NTcsNDM4LDM0MSwzODIsMzYyLDQ1OSw0NTcsNDYxLDQzNCw0MzAsMzk0LDQxNCw0NjMsMzYyLDM5NiwzNjksMjYyLDM1NCw0NjEsNDU3LDMxNiw0MDMsNDAyLDMxNSw0MDQsNDAzLDMxNCw0MDUsNDA0LDMxMyw0MDYsNDA1LDQyMSw0MTgsNDA2LDM2Niw0MDEsMzYxLDMwNiw0MDgsNDA3LDI5MSw0MDksNDA4LDI4Nyw0MTAsNDA5LDQzMiw0MzYsNDEwLDQzNCw0MTYsNDExLDI2NCwzNjgsMzgzLDMwOSw0MzgsNDU3LDM1MiwzNzYsNDAxLDI3NCwyNzUsNCw0MjEsNDI4LDI2MiwyOTQsMzI3LDM1OCw0MzMsNDE2LDM2NywyODksNDU1LDQzOSw0NjIsMzcwLDMyNiwyLDMyNiwzNzAsMzA1LDQ2MCw0NTUsMjU0LDQ0OSw0NDgsMjU1LDI2MSw0NDYsMjUzLDQ1MCw0NDksMjUyLDQ1MSw0NTAsMjU2LDQ1Miw0NTEsMzQxLDQ1Myw0NTIsNDEzLDQ2NCw0NjMsNDQxLDQxMyw0MTQsMjU4LDQ0Miw0NDEsMjU3LDQ0Myw0NDIsMjU5LDQ0NCw0NDMsMjYwLDQ0NSw0NDQsNDY3LDM0Miw0NDUsNDU5LDQ1OCwyNTAsMjg5LDM5MiwyOTAsMjkwLDMyOCw0NjAsMzc2LDQzMyw0MzUsMjUwLDI5MCwzOTIsNDExLDQxNiw0MzMsMzQxLDQ2Myw0NjQsNDUzLDQ2NCw0NjUsMzU3LDQ2NSw0MTIsMzQzLDQxMiwzOTksMzYwLDM2Myw0NDAsNDM3LDM5OSw0NTYsNDIwLDQ1NiwzNjMsNDAxLDQzNSwyODgsMzcyLDM4MywzNTMsMzM5LDI1NSwyNDksNDQ4LDI2MSwyNTUsMTMzLDI0MywxOTAsMTMzLDE1NSwxMTIsMzMsMjQ2LDI0NywzMywxMzAsMjUsMzk4LDM4NCwyODYsMzYyLDM5OCw0MTQsMzYyLDQ2MywzNDEsMjYzLDM1OSw0NjcsMjYzLDI0OSwyNTUsNDY2LDQ2NywyNjAsNzUsNjAsMTY2LDIzOCwyMzksNzksMTYyLDEyNywxMzksNzIsMTEsMzcsMTIxLDIzMiwxMjAsNzMsNzIsMzksMTE0LDEyOCw0NywyMzMsMjMyLDEyOCwxMDMsMTA0LDY3LDE1MiwxNzUsMTQ4LDE3MywxNTcsMTU1LDExOSwxMTgsMTAxLDc0LDczLDQwLDEwNyw5LDEwOCw0OSw0OCwxMzEsMzIsMTk0LDIxMSwxODQsNzQsMTg1LDE5MSw4MCwxODMsMTg1LDQwLDE4NiwxMTksMjMwLDExOCwyMTAsMjAyLDIxNCw4NCw4MywxNyw3Nyw3NiwxNDYsMTYxLDE2MCwzMCwxOTAsNTYsMTczLDE4MiwxMDYsMTk0LDEzOCwxMzUsMTkyLDEyOSwyMDMsOTgsNTQsMjEsNjgsNSw1MSw0LDE0NSwxNDQsMjMsOTAsNzcsOTEsMjA3LDIwNSwxODcsODMsMjAxLDE4LDE4MSw5MSwxODIsMTgwLDkwLDE4MSwxNiw4NSwxNywyMDUsMjA2LDM2LDE3NiwxNDgsMTQwLDE2NSw5MiwzOSwyNDUsMTkzLDI0NCwyNywxNTksMjgsMzAsMjQ3LDE2MSwxNzQsMjM2LDE5NiwxMDMsNTQsMTA0LDU1LDE5Myw4LDExMSwxMTcsMzEsMjIxLDE4OSw1NSwyNDAsOTgsOTksMTQyLDEyNiwxMDAsMjE5LDE2NiwyMTgsMTEyLDE1NSwyNiwxOTgsMjA5LDEzMSwxNjksMTM1LDE1MCwxMTQsNDcsMjE3LDIyNCwyMjMsNTMsMjIwLDQ1LDEzNCwzMiwyMTEsMTQwLDEwOSw2NywxMDgsMTQ2LDQzLDkxLDIzMSwyMzAsMTIwLDExMywyMjYsMjQ3LDEwNSw2Myw1MiwyNDEsMjM4LDI0MiwxMjQsNDYsMTU2LDk1LDc4LDk2LDcwLDQ2LDYzLDExNiwxNDMsMjI3LDExNiwxMjMsMTExLDEsNDQsMTksMywyMzYsNTEsMjA3LDIxNiwyMDUsMjYsMTU0LDIyLDE2NSwzOSwxNjcsMTk5LDIwMCwyMDgsMTAxLDM2LDEwMCw0Myw1NywyMDIsMjQyLDIwLDk5LDU2LDI4LDE1NywxMjQsMzUsMTEzLDI5LDE2MCwyNywyMTEsMjA0LDIxMCwxMjQsMTEzLDQ2LDEwNiw0MywyMDQsOTYsNjIsNzcsMjI3LDEzNywxMTYsNzMsNDEsNzIsMzYsMjAzLDE0MiwyMzUsNjQsMjQwLDQ4LDQ5LDY0LDQyLDQxLDc0LDIxNCwyMTIsMjA3LDE4Myw0MiwxODQsMjEwLDE2OSwyMTEsMTQwLDE3MCwxNzYsMTA0LDEwNSw2OSwxOTMsMTIyLDE2OCw1MCwxMjMsMTg3LDg5LDk2LDkwLDY2LDY1LDEwNywxNzksODksMTgwLDExOSwxMDEsMTIwLDY4LDYzLDEwNCwyMzQsOTMsMjI3LDE2LDE1LDg1LDIwOSwxMjksNDksMTUsMTQsODYsMTA3LDU1LDksMTIwLDEwMCwxMjEsMTUzLDE0NSwyMiwxNzgsODgsMTc5LDE5Nyw2LDE5Niw4OSw4OCw5NiwxMzUsMTM4LDEzNiwxMzgsMjE1LDE3MiwyMTgsMTE1LDIxOSw0MSw0Miw4MSw1LDE5NSw1MSw1Nyw0Myw2MSwyMDgsMTcxLDE5OSw0MSw4MSwzOCwyMjQsNTMsMjI1LDI0LDE0NCwxMTAsMTA1LDUyLDY2LDExOCwyMjksMTE3LDIyNywzNCwyMzQsNjYsMTA3LDY5LDEwLDEwOSwxNTEsMjE5LDQ4LDIzNSwxODMsNjIsMTkxLDE0MiwxMjksMTI2LDExNiwxMTEsMTQzLDcsMTYzLDI0NiwxMTgsMTE3LDUwLDIyMywyMjIsNTIsOTQsMTksMTQxLDIyMiwyMjEsNjUsMTk2LDMsMTk3LDQ1LDIyMCw0NCwxNTYsNzAsMTM5LDE4OCwxMjIsMjQ1LDEzOSw3MSwxNjIsMTQ1LDE1MywxNTksMTQ5LDE3MCwxNTAsMTIyLDE4OCwxOTYsMjA2LDIxNiw5MiwxNjMsMTQ0LDE2MSwxNjQsMiwxNjcsMjQyLDE0MSwyNDEsMCwxNjQsMzcsMTEsNzIsMTIsMTQ0LDE0NSwxNjAsMTIsMzgsMTMsNzAsNjMsNzEsMzEsMjI2LDExMSwxNTcsMTU4LDE1NCwzNiwxMDEsMjA1LDIwMywyMDYsMTY1LDEyNiwyMDksMjE3LDk4LDE2NSw5NywyMzcsMjIwLDIxOCwyMzcsMjM5LDI0MSwyMTAsMjE0LDE2OSwxNDAsMTcxLDMyLDI0MSwxMjUsMjM3LDE3OSw4NiwxNzgsMTgwLDg1LDE3OSwxODEsODQsMTgwLDE4Miw4MywxODEsMTk0LDIwMSwxODIsMTc3LDEzNywxMzIsMTg0LDc2LDE4MywxODUsNjEsMTg0LDE4Niw1NywxODUsMjE2LDIxMiwxODYsMTkyLDIxNCwxODcsMTM5LDM0LDE1NiwyMTgsNzksMjM3LDE0NywxMjMsMTc3LDQ1LDQ0LDQsMjA4LDIwMSwzMiw5OCw2NCwxMjksMTkyLDIxMywxMzgsMjM1LDU5LDIxOSwxNDEsMjQyLDk3LDk3LDIsMTQxLDI0MCw3NSwyMzUsMjI5LDI0LDIyOCwzMSwyNSwyMjYsMjMwLDIzLDIyOSwyMzEsMjIsMjMwLDIzMiwyNiwyMzEsMjMzLDExMiwyMzIsMjQ0LDE4OSwyNDMsMTg5LDIyMSwxOTAsMjIyLDI4LDIyMSwyMjMsMjcsMjIyLDIyNCwyOSwyMjMsMjI1LDMwLDIyNCwxMTMsMjQ3LDIyNSw5OSw2MCwyNDAsMjEzLDE0NywyMTUsNjAsMjAsMTY2LDE5MiwxODcsMjEzLDI0MywxMTIsMjQ0LDI0NCwyMzMsMjQ1LDI0NSwxMjgsMTg4LDE4OCwxMTQsMTc0LDEzNCwxMzEsMjIwLDE3NCwyMTcsMjM2LDIzNiwxOTgsMTM0LDIxNSwxNzcsNTgsMTU2LDE0MywxMjQsMjUsMTEwLDcsMzEsMjI4LDI1LDI2NCwzNTYsMzY4LDAsMTEsMjY3LDQ1MSw0NTIsMzQ5LDI2NywzMDIsMjY5LDM1MCwzNTcsMjc3LDM1MCw0NTIsMzU3LDI5OSwzMzMsMjk3LDM5NiwxNzUsMzc3LDM4MSwzODQsMzgyLDI4MCwzNDcsMzMwLDI2OSwzMDMsMjcwLDE1MSw5LDMzNywzNDQsMjc4LDM2MCw0MjQsNDE4LDQzMSwyNzAsMzA0LDQwOSwyNzIsMzEwLDQwNywzMjIsMjcwLDQxMCw0NDksNDUwLDM0Nyw0MzIsNDIyLDQzNCwxOCwzMTMsMTcsMjkxLDMwNiwzNzUsMjU5LDM4NywyNjAsNDI0LDMzNSw0MTgsNDM0LDM2NCw0MTYsMzkxLDQyMywzMjcsMzAxLDI1MSwyOTgsMjc1LDI4MSw0LDI1NCwzNzMsMjUzLDM3NSwzMDcsMzIxLDI4MCw0MjUsNDExLDIwMCw0MjEsMTgsMzM1LDMyMSw0MDYsMzIxLDMyMCw0MDUsMzE0LDMxNSwxNyw0MjMsNDI2LDI2NiwzOTYsMzc3LDM2OSwyNzAsMzIyLDI2OSw0MTMsNDE3LDQ2NCwzODUsMzg2LDI1OCwyNDgsNDU2LDQxOSwyOTgsMjg0LDMzMywxNjgsNDE3LDgsNDQ4LDM0NiwyNjEsNDE3LDQxMywyODUsMzI2LDMyNywzMjgsMjc3LDM1NSwzMjksMzA5LDM5Miw0MzgsMzgxLDM4MiwyNTYsMjc5LDQyOSwzNjAsMzY1LDM2NCwzNzksMzU1LDI3Nyw0MzcsMjgyLDQ0MywyODMsMjgxLDI3NSwzNjMsMzk1LDQzMSwzNjksMjk5LDI5NywzMzcsMzM1LDI3MywzMjEsMzQ4LDQ1MCwzNDksMzU5LDQ0Niw0NjcsMjgzLDI5MywyODIsMjUwLDQ1OCw0NjIsMzAwLDI3NiwzODMsMjkyLDMwOCwzMjUsMjgzLDI3NiwyOTMsMjY0LDM3Miw0NDcsMzQ2LDM1MiwzNDAsMzU0LDI3NCwxOSwzNjMsNDU2LDI4MSw0MjYsNDM2LDQyNSwzODAsMzgxLDI1MiwyNjcsMjY5LDM5Myw0MjEsMjAwLDQyOCwzNzEsMjY2LDMyOSw0MzIsMjg3LDQyMiwyOTAsMjUwLDMyOCwzODUsMjU4LDM4NCw0NDYsMjY1LDM0MiwzODYsMzg3LDI1Nyw0MjIsNDI0LDQzMCw0NDUsMzQyLDI3Niw0MjIsMjczLDQyNCwzMDYsMjkyLDMwNywzNTIsMzY2LDM0NSwyNjgsMjcxLDMwMiwzNTgsNDIzLDM3MSwzMjcsMjk0LDQ2MCwzMzEsMjc5LDI5NCwzMDMsMjcxLDMwNCw0MzYsNDMyLDQyNywzMDQsMjcyLDQwOCwzOTUsMzk0LDQzMSwzNzgsMzk1LDQwMCwyOTYsMzM0LDI5OSw2LDM1MSwxNjgsMzc2LDM1Miw0MTEsMzA3LDMyNSwzMjAsMjg1LDI5NSwzMzYsMzIwLDMxOSw0MDQsMzI5LDMzMCwzNDksMzM0LDI5MywzMzMsMzY2LDMyMyw0NDcsMzE2LDE1LDMxNSwzMzEsMzU4LDI3OSwzMTcsMTQsMzE2LDgsMjg1LDksMjc3LDMyOSwzNTAsMjUzLDM3NCwyNTIsMzE5LDMxOCw0MDMsMzUxLDYsNDE5LDMyNCwzMTgsMzI1LDM5NywzNjcsMzY1LDI4OCw0MzUsMzk3LDI3OCwzNDQsNDM5LDMxMCwyNzIsMzExLDI0OCwxOTUsMjgxLDM3NSwyNzMsMjkxLDE3NSwzOTYsMTk5LDMxMiwzMTEsMjY4LDI3NiwyODMsNDQ1LDM5MCwzNzMsMzM5LDI5NSwyODIsMjk2LDQ0OCw0NDksMzQ2LDM1NiwyNjQsNDU0LDMzNywzMzYsMjk5LDMzNywzMzgsMTUxLDI5NCwyNzgsNDU1LDMwOCwyOTIsNDE1LDQyOSwzNTgsMzU1LDI2NSwzNDAsMzcyLDM4OCwzOTAsNDY2LDM1MiwzNDYsMjgwLDI5NSw0NDIsMjgyLDM1NCwxOSwzNzAsMjg1LDQ0MSwyOTUsMTk1LDI0OCwxOTcsNDU3LDQ0MCwyNzQsMzAxLDMwMCwzNjgsNDE3LDM1MSw0NjUsMjUxLDMwMSwzODksMzg1LDM4MCwzODYsMzk0LDM5NSwzNzksMzk5LDQxMiw0MTksNDEwLDQzNiwzMjIsMzg3LDM3MywzODgsMzI2LDIsMzkzLDM1NCwzNzAsNDYxLDM5MywxNjQsMjY3LDI2OCwzMDIsMTIsMzg2LDM3NCwzODcsMzEyLDI2OCwxMywyOTgsMjkzLDMwMSwyNjUsNDQ2LDM0MCwzODAsMzg1LDM4MSwyODAsMzMwLDQyNSwzMjIsNDI2LDM5MSw0MjAsNDI5LDQzNywzOTMsMzkxLDMyNiwzNDQsNDQwLDQzOCw0NTgsNDU5LDQ2MSwzNjQsNDM0LDM5NCw0MjgsMzk2LDI2MiwyNzQsMzU0LDQ1NywzMTcsMzE2LDQwMiwzMTYsMzE1LDQwMywzMTUsMzE0LDQwNCwzMTQsMzEzLDQwNSwzMTMsNDIxLDQwNiwzMjMsMzY2LDM2MSwyOTIsMzA2LDQwNywzMDYsMjkxLDQwOCwyOTEsMjg3LDQwOSwyODcsNDMyLDQxMCw0MjcsNDM0LDQxMSwzNzIsMjY0LDM4Myw0NTksMzA5LDQ1NywzNjYsMzUyLDQwMSwxLDI3NCw0LDQxOCw0MjEsMjYyLDMzMSwyOTQsMzU4LDQzNSw0MzMsMzY3LDM5MiwyODksNDM5LDMyOCw0NjIsMzI2LDk0LDIsMzcwLDI4OSwzMDUsNDU1LDMzOSwyNTQsNDQ4LDM1OSwyNTUsNDQ2LDI1NCwyNTMsNDQ5LDI1MywyNTIsNDUwLDI1MiwyNTYsNDUxLDI1NiwzNDEsNDUyLDQxNCw0MTMsNDYzLDI4Niw0NDEsNDE0LDI4NiwyNTgsNDQxLDI1OCwyNTcsNDQyLDI1NywyNTksNDQzLDI1OSwyNjAsNDQ0LDI2MCw0NjcsNDQ1LDMwOSw0NTksMjUwLDMwNSwyODksMjkwLDMwNSwyOTAsNDYwLDQwMSwzNzYsNDM1LDMwOSwyNTAsMzkyLDM3Niw0MTEsNDMzLDQ1MywzNDEsNDY0LDM1Nyw0NTMsNDY1LDM0MywzNTcsNDEyLDQzNywzNDMsMzk5LDM0NCwzNjAsNDQwLDQyMCw0MzcsNDU2LDM2MCw0MjAsMzYzLDM2MSw0MDEsMjg4LDI2NSwzNzIsMzUzLDM5MCwzMzksMjQ5LDMzOSw0NDgsMjU1XSxTQU1QTEVfRkFDRTp7a2V5cG9pbnRzOlt7eDozNTYuMjgwNDQxMjg0MTc5Nyx5OjI5NS4xOTYwNTYzNjU5NjY4LHo6LTIzLjc4NjQ0OTQzMjM3MzA0NyxuYW1lOlwibGlwc1wifSx7eDozNTQuODg1OTQwNTUxNzU3OCx5OjI2NC42OTUyMDU2ODg0NzY1Nix6Oi0zNi43MTg0MzUyODc0NzU1ODZ9LHt4OjM1NS4yMTgwODYyNDI2NzU4LHk6Mjc1LjMzNjAzNjY4MjEyODksejotMjEuMTgzNzEyNDgyNDUyMzkzfSx7eDozNDcuMzQ5ODUzNTE1NjI1LHk6MjQyLjQ0MDAyMzQyMjI0MTIsejotMjUuMDkzNjU1NTg2MjQyNjc2fSx7eDozNTQuNDAxMzU5NTU4MTA1NDcseToyNTYuNjc5MzM0NjQwNTAyOTMsejotMzguMjM1NzI2MzU2NTA2MzV9LHt4OjM1My43Njg5OTcxOTIzODI4LHk6MjQ3LjU0ODg2NjI3MTk3MjY2LHo6LTM0LjU0NzU0MzUyNTY5NTh9LHt4OjM1Mi4xMjg4Mjk5NTYwNTQ3LHk6MjI3LjM0MzEyMDU3NDk1MTE3LHo6LTEzLjA5NTM4NjAyODI4OTc5NX0se3g6MzAzLjUwMTMxOTg4NTI1MzkseToyMzQuNjcwMDI4Njg2NTIzNDQsejoxMi41MDAxNDE4NTkwNTQ1NjUsbmFtZTpcInJpZ2h0RXllXCJ9LHt4OjM1MS4wOTM3ODgxNDY5NzI2Nix5OjIxMS44NzU0NzIwNjg3ODY2Mix6Oi02LjQxMzQ3MTY5ODc2MDk4Nn0se3g6MzUwLjcxMTU5MzYyNzkyOTcseToyMDIuMTI1MTYzMDc4MzA4MSx6Oi02LjQxMzQ3MTY5ODc2MDk4Nn0se3g6MzQ4LjMzNjY3NzU1MTI2OTUzLHk6MTY4Ljc3NDE3NTY0MzkyMDksejo2LjQ4MzUwMDAwMzgxNDY5NyxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzU2LjQ4MDYzNjU5NjY3OTcseToyOTkuMjk5NTM1NzUxMzQyOCx6Oi0yMy4xNDQ1MTkzMjkwNzEwNDV9LHt4OjM1Ni41NTExNzAzNDkxMjExLHk6MzAyLjY2MTQ2NjU5ODUxMDc0LHo6LTIxLjAyMDMxMjMwOTI2NTEzN30se3g6MzU2LjYyMzk1NDc3Mjk0OTIseTozMDQuMTUzNjMzMTE3Njc1OCx6Oi0xOC4xMzc0NTk3NTQ5NDM4NDgsbmFtZTpcImxpcHNcIn0se3g6MzU2LjU4MDczNDI1MjkyOTcseTozMDUuMTg0MDU5MTQzMDY2NCx6Oi0xOC43Njc3MTkyNjg3OTg4MjgsbmFtZTpcImxpcHNcIn0se3g6MzU2LjgyNDE1MDA4NTQ0OTIseTozMDguMjU3MTEyNTAzMDUxNzYsejotMjAuMTY4Mjk0OTA2NjE2MjF9LHt4OjM1Ny4xMTMwMzcxMDkzNzUseTozMTIuMjYyNzczNTEzNzkzOTUsejotMjIuMTA1NzU4MTkwMTU1MDN9LHt4OjM1Ny4zNDk2MjQ2MzM3ODkwNix5OjMxNy4xMTIzMjE4NTM2Mzc3LHo6LTIxLjgzNzMxNTU1OTM4NzIwNyxuYW1lOlwibGlwc1wifSx7eDozNTcuNjY1ODYzMDM3MTA5NCx5OjMyNS41MTAzNjgzNDcxNjc5Nyx6Oi0xNi4yNzAwMjQ3NzY0NTg3NH0se3g6MzU1LjAyMDE0MTYwMTU2MjUseToyNjkuMzYyNzkyOTY4NzUsejotMzMuNzMwNTQwMjc1NTczNzN9LHt4OjM0OC41MjM3NTAzMDUxNzU4LHk6MjcwLjMzNDExMDI2MDAwOTc3LHo6LTI0LjkzMDI1MzAyODg2OTYzfSx7eDoyNzkuOTczMzE2MTkyNjI2OTUseToyMTMuMjQxNzY3ODgzMzAwNzgsejo0Ny43NTk2NDI2MDEwMTMxODQsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjMyMi42NjUyOTA4MzI1MTk1Myx5OjIzOC41MDI3MjY1NTQ4NzA2LHo6NS41MzUxOTMwODU2NzA0NzF9LHt4OjMxNi4wOTgzNjU3ODM2OTE0LHk6MjM5Ljk0NDg5NjY5Nzk5ODA1LHo6NS43NzczNzYyOTQxMzYwNDd9LHt4OjMwOS45NDMxNjEwMTA3NDIyLHk6MjQwLjI0NTE4OTY2Njc0ODA1LHo6Ny41MTA1ODkzNjExOTA3OTZ9LHt4OjMwMS4zMTk5NDI0NzQzNjUyMyx5OjIzNy44NjEzODUzNDU0NTg5OCx6OjEzLjExODcyODM5OTI3NjczM30se3g6MzI4LjE0MjY2MjA0ODMzOTg0LHk6MjM1LjgwNDk2Nzg4MDI0OTAyLHo6Ni42NDY5MDAxNzcwMDE5NTN9LHt4OjMxMy43MzI2NDMxMjc0NDE0LHk6MjIyLjExMTYxMTM2NjI3MTk3LHo6My45ODg3MjM3NTQ4ODI4MTI1fSx7eDozMjAuNDUxOTY1MzMyMDMxMjUseToyMjEuODc3MjkzNTg2NzMwOTYsejo0LjYwMTQ3NjE5MjQ3NDM2NX0se3g6MzA3LjM1Njc5NjI2NDY0ODQ0LHk6MjIzLjYzNzkzODQ5OTQ1MDY4LHo6NS45MzIwMjM1MjUyMzgwMzd9LHt4OjMwMy4wMDMxMjA0MjIzNjMzLHk6MjI2LjM3NDM3ODIwNDM0NTcsejo4LjQ3OTMyMTAwMjk2MDIwNX0se3g6Mjk2LjgwMDIzMTkzMzU5Mzc1LHk6MjQyLjk0Mjk5MTI1NjcxMzg3LHo6MTUuOTMxNTUyNjQ4NTQ0MzEyfSx7eDozMzIuMjM1Mjk4MTU2NzM4Myx5OjM0MC43NzM0MTA3OTcxMTkxNCx6Oi0xMC4xNjU4NDg3MzE5OTQ2Mjl9LHt4OjMwMS4zODU4Nzk1MTY2MDE1Nix5OjIzMy40NjQ0Nzk0NDY0MTExMyx6OjE0Ljc2NDQwNTQ4ODk2Nzg5NixuYW1lOlwicmlnaHRFeWVcIn0se3g6Mjc5LjAxNDcwMTg0MzI2MTcseToyNDQuMzcxNTU3MjM1NzE3Nzcsejo0NS43NzU0OTQ1NzU1MDA0OX0se3g6Mjg5LjYwNTQ4NDAwODc4OTA2LHk6MjM5LjE4MDc0NjA3ODQ5MTIsejoyMy4xOTEyMDQwNzEwNDQ5MjJ9LHt4OjMyMC4zMjI1NzA4MDA3ODEyNSx5OjI2Ny4xMjkyNzgxODI5ODM0LHo6LTQuOTU0NTM3NzQ5MjkwNDY2fSx7eDozNDcuNjQ1ODM1ODc2NDY0ODQseToyOTQuNDk1NTA2Mjg2NjIxMSx6Oi0yMy4wNjI4MjA0MzQ1NzAzMTIsbmFtZTpcImxpcHNcIn0se3g6MzQ5LjI4MTM4NzMyOTEwMTU2LHk6MzAzLjEwOTU4ODYyMzA0NjksejotMjAuMjM4MzIzMjExNjY5OTIyfSx7eDozMzguOTQ1MzEyNSx5OjI5OC4xOTE4NjIxMDYzMjMyNCx6Oi0xOS40NTYzMzY0OTgyNjA0OTgsbmFtZTpcImxpcHNcIn0se3g6MzMzLjM2Nzg4MTc3NDkwMjM0LHk6MzAyLjY3MDY3OTA5MjQwNzIsejotMTQuNzc2MDc3MjcwNTA3ODEyLG5hbWU6XCJsaXBzXCJ9LHt4OjM0Mi44OTE4ODM4NTAwOTc2Nix5OjMwNC4zNTYxMzYzMjIwMjE1LHo6LTE3Ljc1MjMwMTY5Mjk2MjY0Nn0se3g6MzM3LjczNzUwMzA1MTc1NzgseTozMDYuMDA5ODM2MTk2ODk5NCx6Oi0xMy40MTA1MTU3ODUyMTcyODV9LHt4OjMyNS42MTU5MjEwMjA1MDc4LHk6MzE2LjIyOTk1Mzc2NTg2OTE0LHo6LTYuNjgxOTE0OTI1NTc1MjU2fSx7eDozNDkuMDEwNDY3NTI5Mjk2OSx5OjI2NC45ODE4NTE1Nzc3NTg4LHo6LTM2LjI3NDkxOTUwOTg4NzY5NX0se3g6MzQ3LjcxMzg5MDA3NTY4MzYseToyNTcuNTY2NDgwNjM2NTk2Nyx6Oi0zNy42NzU0OTUxNDc3MDUwOH0se3g6MjkxLjc5MzU3NTI4Njg2NTIzLHk6MjE4Ljg4MTcxNjcyODIxMDQ1LHo6MTEuNTc4MDk0OTU5MjU5MDMzLG5hbWU6XCJyaWdodEV5ZWJyb3dcIn0se3g6MzMyLjI2ODk0Mzc4NjYyMTEseToyNDcuNTY5NDY1NjM3MjA3MDMsejotMy4zNzMwNTM5Njc5NTI3MjgzfSx7eDozMzIuMDA3NDQ2Mjg5MDYyNSx5OjI2Ny4xMjAxMjI5MDk1NDU5LHo6LTE5Ljk2OTg3OTM4ODgwOTIwNH0se3g6MzMxLjI3OTUyNTc1NjgzNTk0LHk6MjYzLjY5Njc2NTg5OTY1ODIsejotMTcuNDcyMTg2MDg4NTYyMDF9LHt4OjMwMS4wNDM3MzkzMTg4NDc2Nix5OjI2OS41NjU1MjUwNTQ5MzE2NCx6OjMuNjE4MTU0ODIzNzgwMDZ9LHt4OjM0Ny40ODYzODE1MzA3NjE3LHk6MjQ5LjA3MDY0NDM3ODY2MjEsejotMzIuNjMzNDIxNDIxMDUxMDI1fSx7eDozMDcuMjYxMTgwODc3Njg1NTUseToyMDguMjY0Njg5NDQ1NDk1Nix6OjEuMTU5MTIyNjYwNzU2MTExMSxuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjI5Ny45MTkxOTcwODI1MTk1Myx5OjIxMi4yMjYwNDc1MTU4NjkxNCx6OjUuOTE0NTE2NDQ4OTc0NjA5LG5hbWU6XCJyaWdodEV5ZWJyb3dcIn0se3g6Mjg1LjE2NTEzODI0NDYyODkseToxOTcuOTg0NTA0Njk5NzA3MDMsejozNi4zOTE2MzczMjUyODY4NjUsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjMzNy4wNDA5Nzc0NzgwMjczNCx5OjIxMS4yNTIyOTgzNTUxMDI1NCx6Oi00LjU0ODk1NDY2NTY2MDg1OH0se3g6MzI2LjU5MTI2MjgxNzM4MjgseToyMjMuMTY2OTg1NTExNzc5Nzksejo2LjY3MDI0Mzc0MDA4MTc4N30se3g6MzIwLjA1NjY0ODI1NDM5NDUzLHk6MzA5LjU4MzQyNTUyMTg1MDYsejotNC4wNTU4MzUwMDg2MjEyMTZ9LHt4OjI4OS42ODY2MjI2MTk2Mjg5LHk6MzE0LjYxNzM5NTQwMTAwMSx6OjUzLjg3NTQ4OTIzNDkyNDMxNixuYW1lOlwiZmFjZU92YWxcIn0se3g6MzM3LjQyNTY4OTY5NzI2NTYseToyNzAuODc1NTMwMjQyOTE5OSx6Oi0xNy42NzA2MDE2MDYzNjkwMn0se3g6MzQzLjY5OTIyNjM3OTM5NDUzLHk6MjczLjAwMDA0MDA1NDMyMTMsejotMTguNzU2MDQ4Njc5MzUxODA3fSx7eDozMjcuNDI0MjQwMTEyMzA0Nyx5OjMwOS4yMjM5OTUyMDg3NDAyMyx6Oi00LjcwMzYwMTAwMjY5MzE3NixuYW1lOlwibGlwc1wifSx7eDozMzAuMzcyMjAwMDEyMjA3MDMseTozMDguMzMyMzAwMTg2MTU3Mix6Oi02LjQ0MjY0OTk2MDUxNzg4M30se3g6MjkzLjg3MDI3NzQwNDc4NTE2LHk6MjA3Ljc5NjE4MjYzMjQ0NjMsejo5LjgyMTUzOTUyMTIxNzM0NixuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjMzMi4xMTQzNzIyNTM0MTc5Nyx5OjI3MS4yMjgxMjI3MTExODE2NCx6Oi0xNi42NDM1MTIyNDg5OTI5Mn0se3g6MzIwLjExOTc4MTQ5NDE0MDYseToyMDcuNDAzNjY0NTg4OTI4MjIsejotMi40ODE2NDU2NDM3MTEwOSxuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjMxOC41OTU3NTI3MTYwNjQ0NSx5OjIwMS4wNzQ0MzgwOTUwOTI3Nyx6Oi0zLjExMDQ0NjAzNTg2MTk2OSxuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjMxMC43MjMwMzc3MTk3MjY1Nix5OjE3NS43NTA3NTE0OTUzNjEzMyx6OjEzLjMyODgxNTY5ODYyMzY1NyxuYW1lOlwiZmFjZU92YWxcIn0se3g6Mjg5LjY3NTc4ODg3OTM5NDUzLHk6MjAyLjI5ODM1NTEwMjUzOTA2LHo6MjEuMzcwNDU2MjE4NzE5NDgyfSx7eDozMTUuMzA4Nzk5NzQzNjUyMzQseToxODcuMzUyNjAwMDk3NjU2MjUsejo1LjAzMDQwMjU0MTE2MDU4MzV9LHt4OjI4Ny44OTM2NzY3NTc4MTI1LHk6MjE2LjU0NzkzNzM5MzE4ODQ4LHo6MTcuODEwNjU4MjE2NDc2NDQsbmFtZTpcInJpZ2h0RXllYnJvd1wifSx7eDoyODMuOTM5MTg5OTEwODg4Nyx5OjIxNS4wMTE0MjUwMTgzMTA1NSx6OjMyLjA0OTg0OTAzMzM1NTcxfSx7eDozNDguMzUzMzA5NjMxMzQ3NjYseToyOTkuNDE1NTc4ODQyMTYzMSx6Oi0yMi40NzkyNDU2NjI2ODkyMX0se3g6MzQxLjE3OTA0NjYzMDg1OTQseTozMDEuODIyMTg1NTE2MzU3NCx6Oi0xOC45Nzc4MDUzNzYwNTI4NTZ9LHt4OjMzNS42OTcxMzU5MjUyOTI5Nyx5OjMwNC40MjY2ODkxNDc5NDkyLHo6LTE0LjY4MjcwNjU5NDQ2NzE2M30se3g6MzM5LjQ2MTUxNzMzMzk4NDQseToyNzIuMzY1NDM2NTUzOTU1MSx6Oi0xNi4zODY3NDAyMDc2NzIxMn0se3g6MzI4Ljk5NjAwOTgyNjY2MDE2LHk6MzA4Ljg2Njg1MzcxMzk4OTI2LHo6LTUuNjE2ODkzNzY4MzEwNTQ3fSx7eDozMzIuMDAzMTM1NjgxMTUyMzQseTozMDkuMTg3NTc0Mzg2NTk2Nyx6Oi0xMC4zMzUwODQxOTk5MDUzOTZ9LHt4OjMzMS4wMDY4MTMwNDkzMTY0LHk6MzA3LjkyNzQzNjgyODYxMzMsejotNi42ODE5MTQ5MjU1NzUyNTYsbmFtZTpcImxpcHNcIn0se3g6MzQxLjEzNzkyNDE5NDMzNTk0LHk6MjY2LjQ4NzY5Mzc4NjYyMTEsejotMjYuNTY0MjU5NTI5MTEzNzd9LHt4OjMzOS4wMjk1MDI4Njg2NTIzNCx5OjMwNS42NjYzNzAzOTE4NDU3LHo6LTEyLjMzNjc0MTY4NTg2NzMxLG5hbWU6XCJsaXBzXCJ9LHt4OjM0NC4yMjkzNTQ4NTgzOTg0NCx5OjMwNC45NDUyNzgxNjc3MjQ2LHo6LTE1LjE2MTIzNTMzMjQ4OTAxNCxuYW1lOlwibGlwc1wifSx7eDozNTAuMTg0NDAyNDY1ODIwMyx5OjMwNC4zNzQzMDM4MTc3NDksejotMTcuNTMwNTQzODA0MTY4NyxuYW1lOlwibGlwc1wifSx7eDozNDguNTI2MzA2MTUyMzQzNzUseTozMjUuOTU2MjMwMTYzNTc0Mix6Oi0xNi4xNjQ5ODIzMTg4NzgxNzR9LHt4OjM0OC42NTgxODAyMzY4MTY0LHk6MzE3LjE2MjQxODM2NTQ3ODUsejotMjEuNTEwNTEyODI4ODI2OTA0LG5hbWU6XCJsaXBzXCJ9LHt4OjM0OC45NzY2MzExNjQ1NTA4LHk6MzEyLjE5MjMwNjUxODU1NDcsejotMjEuNzA4OTI5NTM4NzI2ODA3fSx7eDozNDkuMjQyNzQ0NDQ1ODAwOCx5OjMwOC4wNjYwODIwMDA3MzI0LHo6LTE5LjY0MzA3OTA0MjQzNDY5Mn0se3g6MzQ5LjY3NDkxMTQ5OTAyMzQ0LHk6MzA1LjQyNzQ3NDk3NTU4NTk0LHo6LTE4LjE2MDgwMzMxODAyMzY4LG5hbWU6XCJsaXBzXCJ9LHt4OjMzNy45NTU4OTQ0NzAyMTQ4NCx5OjMwNi42NTM1OTQ5NzA3MDMxLHo6LTEyLjgwMzU5ODY0MjM0OTI0MyxuYW1lOlwibGlwc1wifSx7eDozMzcuMDY4Nzg2NjIxMDkzNzUseTozMDcuNjMxNjkyODg2MzUyNTQsejotMTQuMjc0MjAzNzc3MzEzMjMyfSx7eDozMzUuNzc0NDk3OTg1ODM5ODQseTozMDkuODQ0OTUxNjI5NjM4Nyx6Oi0xNS42OTgxMjQxNzAzMDMzNDV9LHt4OjMzNC42MDk5MDkwNTc2MTcyLHk6MzEyLjc5OTcwMTY5MDY3MzgsejotMTQuNzY0NDA1NDg4OTY3ODk2LG5hbWU6XCJsaXBzXCJ9LHt4OjMyNy4yMzMwODU2MzIzMjQyLHk6MjkzLjgwODY2MDUwNzIwMjE1LHo6LTExLjg2NDA0NzA1MDQ3NjA3NH0se3g6MjgwLjk3Njc5MTM4MTgzNTk0LHk6Mjc5Ljc5OTI4OTcwMzM2OTE0LHo6NjguOTA4MzQzMzE1MTI0NTEsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjM1NS4xMzg0MzUzNjM3Njk1Myx5OjI3MS43ODc1NjcxMzg2NzE5LHo6LTI1LjM1MDQyNzYyNzU2MzQ3N30se3g6MzM0LjcyMzU4NzAzNjEzMjgseTozMDcuNDY1NjM5MTE0Mzc5OSx6Oi05LjMwMjE1ODk1MTc1OTMzOCxuYW1lOlwibGlwc1wifSx7eDozMzMuNTI5Mzk2MDU3MTI4OSx5OjMwNy44OTc4MjUyNDEwODg4Nyx6Oi0xMC4yMDA4NjI4ODQ1MjE0ODR9LHt4OjM0Ni4yOTY4ODI2MjkzOTQ1Myx5OjI3Ni40MjU2Mjg2NjIxMDk0LHo6LTE5Ljc0ODEyMjY5MjEwODE1NH0se3g6MzM1LjE2MjQ2Nzk1NjU0Mjk3LHk6Mjc2LjIyMDk3OTY5MDU1MTc2LHo6LTEyLjMxMzM5ODEyMjc4NzQ3Nn0se3g6MzQ1LjA5MTMyMzg1MjUzOTA2LHk6Mjc0LjcwODI5OTYzNjg0MDgsejotMTkuMzA0NjA1NzIyNDI3MzY4fSx7eDozMjUuNDI2Nzg4MzMwMDc4MSx5OjI1Mi45NTEzMDcyOTY3NTI5Myx6Oi0xLjY2NjEwMTk2MjMyNzk1NzJ9LHt4OjMxNS4zNDc4NDMxNzAxNjYseToyNTkuMDUyMDA5NTgyNTE5NTMsejotLjI1NjA0MjgxNTc0NDg3Njg2fSx7eDozMzAuNDQ5MzMzMTkwOTE3OTcseToyNjcuNzU3MDE1MjI4MjcxNSx6Oi0xNC4wMTc0MzI5MjgwODUzMjd9LHt4OjI5NC45Njc2ODk1MTQxNjAxNix5OjE4NS4yNjAwMTkzMDIzNjgxNix6OjIzLjkwMzE2NDg2MzU4NjQyNixuYW1lOlwiZmFjZU92YWxcIn0se3g6Mjk5LjYzNTMxNDk0MTQwNjI1LHk6MTkyLjc5MTM3NjExMzg5MTYsejoxMi42NDAxOTg0NjkxNjE5ODd9LHt4OjMwNC41NDUyMTE3OTE5OTIyLHk6MjAyLjQxNDI4Mzc1MjQ0MTQsejozLjI0NDY2NzY0OTI2OTEwNCxuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjMzMS42OTE1NTEyMDg0OTYxLHk6MzIwLjA0Njc4NzI2MTk2MjksejotMTAuNjMyNzA1Njg4NDc2NTYyfSx7eDozMzQuNTkxMTQwNzQ3MDcwMyx5OjIwMS4yNzU2NjgxNDQyMjYwNyx6Oi02LjEzMzM1NjA5NDM2MDM1MixuYW1lOlwicmlnaHRFeWVicm93XCJ9LHt4OjMzMS40ODE1OTAyNzA5OTYxLHk6MTg1LjQ0MTgwODcwMDU2MTUyLHo6LjY2MjcyMDUwMTQyMjg4MjF9LHt4OjMyOC4wNTgxNjY1MDM5MDYyNSx5OjE3MC44Mzg1NDY3NTI5Mjk3LHo6Ny4zNTg4NjAzNzM0OTcwMDksbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjMwNC40OTc2NDI1MTcwODk4NCx5OjIzOS43NjI5Nzg1NTM3NzE5Nyx6OjEwLjM4NzYwNTQyODY5NTY3OX0se3g6MjkwLjYzODIxNzkyNjAyNTQseToyNDguODUyNTc3MjA5NDcyNjYsejoxOS4wMzYxNjQyODM3NTI0NH0se3g6MzMxLjU2ODI2MDE5Mjg3MTEseToyMzMuMjA3MjczNDgzMjc2Mzcsejo3LjgzNzM5MDMwMzYxMTc1NX0se3g6Mjk1LjUxMTU1MDkwMzMyMDMseToyMjguOTgzNDQ1MTY3NTQxNSx6OjE0LjQxNDI2MTU3OTUxMzU1fSx7eDozMzYuOTQzMzIxMjI4MDI3MzQseToyNDEuODI1OTMzNDU2NDIwOSx6Oi01LjI3ODQyMTA0NDM0OTY3fSx7eDozMzYuMjc5MjIwNTgxMDU0Nyx5OjI2Mi43MDQ5OTIyOTQzMTE1LHo6LTI2LjEyMDc0Mzc1MTUyNTg4fSx7eDoyODQuNDEwMjQ3ODAyNzM0NCx5OjI1NS4zMjYyNzEwNTcxMjg5LHo6MjUuNDY3MTQwNjc0NTkxMDY0fSx7eDoyOTUuMTQyMDU5MzI2MTcxOSx5OjI1My4wMjY1NTIyMDAzMTczOCx6OjEyLjQzMDExMjM2MTkwNzk1OX0se3g6MzAzLjUxOTYxMTM1ODY0MjYseToyNTQuMjA3MDM4ODc5Mzk0NTMsejo2LjEzOTE5MTM4OTA4Mzg2Mn0se3g6MzE1LjczNDUwMDg4NTAwOTc3LHk6MjUxLjY0Nzk5NjkwMjQ2NTgyLHo6My4zNzg4ODk4NTg3MjI2ODY4fSx7eDozMjQuNjk2NjE3MTI2NDY0ODQseToyNDcuNTY0OTQ1MjIwOTQ3MjcsejoyLjMzMjgzNDQ1MjM5MDY3MDh9LHt4OjMzMS41Nzk3MDQyODQ2Njc5Nyx5OjI0My4wMjI0MTMyNTM3ODQxOCx6OjEuMTQyMzQ0ODQ3MzIxNTEwM30se3g6MzQ1LjYyMTA3MDg2MTgxNjQseToyMjkuOTk3NjYzNDk3OTI0OCx6Oi0xMC44MjUyODU5MTE1NjAwNTl9LHt4OjI4Ni4yNjY0NDEzNDUyMTQ4NCx5OjI3MC4zNzk5MTUyMzc0MjY3Nix6OjIxLjcwODkyOTUzODcyNjgwN30se3g6MjkwLjI1MjU1MjAzMjQ3MDcseToyMjguNDkyMTM2MDAxNTg2OSx6OjE3LjcxNzI4NzU0MDQzNTc5fSx7eDozNTEuNjUzNjcxMjY0NjQ4NDQseToyNjkuMzQwMDc2NDQ2NTMzMix6Oi0zMy40NTA0MjQ2NzExNzMwOTZ9LHt4OjMzMy4xMzc4OTM2NzY3NTc4LHk6MjUzLjg4Mzg4NjMzNzI4MDI3LHo6LTcuMjMwNDczNzU2NzkwMTYxfSx7eDoyNzcuODMxODk3NzM1NTk1Nyx5OjI0Ni45NTMzMTU3MzQ4NjMyOCx6OjY4LjIwODA1NTQ5NjIxNTgyLG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozMzYuNjY4MDkwODIwMzEyNSx5OjIzOC4xMDAwMzc1NzQ3NjgwNyx6Oi43Njg4NTc4OTYzMjc5NzI0fSx7eDozMjkuOTU4MDAwMTgzMTA1NDcseToyNjkuMTgzMjM1MTY4NDU3MDMsejotNy4yMDcxMzA3ODk3NTY3NzV9LHt4OjI5OS4xNzQ5MTkxMjg0MTc5Nyx5OjIzNC4xMzMyNDM1NjA3OTEwMix6OjE1Ljk1NDg5NTAxOTUzMTI1fSx7eDozMzUuNjE3Mjk0MzExNTIzNDQseToyNTguNzE3NTI3Mzg5NTI2MzcsejotMjMuMDE2MTMzMzA4NDEwNjQ1fSx7eDoyODQuMTA3OTMzMDQ0NDMzNix5OjI5Ny4wMzQzNDk0NDE1MjgzLHo6NjMuMjU5MzQ4ODY5MzIzNzMsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjMzMS40NDU0MjY5NDA5MTc5Nyx5OjIzMC42ODkyNDQyNzAzMjQ3LHo6OS45MjY1ODI1NzQ4NDQzNixuYW1lOlwicmlnaHRFeWVcIn0se3g6MzQxLjQxNTM2NzEyNjQ2NDg0LHk6MjUzLjAxMjY0NzYyODc4NDE4LHo6LTI5LjAzODYxMDQ1ODM3NDAyM30se3g6MzAzLjU0NzI4Njk4NzMwNDcseTozMjcuNTg5NjczOTk1OTcxNyx6OjE2LjcyNTIxMjMzNTU4NjU0OH0se3g6MzA0Ljc3NTY1NzY1MzgwODYseTozMzcuNDM4OTQ1NzcwMjYzNyx6OjI3LjM4MTI2Mjc3OTIzNTg0LG5hbWU6XCJmYWNlT3ZhbFwifSx7eDoyODAuODA1MDE1NTYzOTY0ODQseToyNzUuMzIwNTAxMzI3NTE0NjUsejo0NS4wNzUyMDY3NTY1OTE4fSx7eDoyOTUuNDM1ODI5MTYyNTk3NjYseTozMTguNDUwMTY0Nzk0OTIxOSx6OjI2LjI2MDgwMDM2MTYzMzN9LHt4OjI4MS40MzAzMjA3Mzk3NDYxLHk6MjI4LjczNTU2NjEzOTIyMTIsejo0MC45NDM1MDgxNDgxOTMzNn0se3g6MzMxLjI1NDk1OTEwNjQ0NTMseTozNDkuNDIxNjUzNzQ3NTU4Nix6Oi03LjM3NjM2NzQ0OTc2MDQzN30se3g6MzUyLjQyNDc3NDE2OTkyMTkseToyNzEuNzMzMDA3NDMxMDMwMyx6Oi0yNC45NTM1OTY1OTE5NDk0NjN9LHt4OjMyNy41NjcyOTEyNTk3NjU2LHk6MjYwLjQxOTAwNjM0NzY1NjI1LHo6LTUuNDU2NDEwNjQ2NDM4NTk5fSx7eDoyODQuNTQzMjQ3MjIyOTAwNCx5OjI0MS43NjQ3OTMzOTU5OTYxLHo6MjkuNjY4ODY5OTcyMjI5MDA0fSx7eDozMTAseToyMzUuNjYxNzQ1MDcxNDExMTMsejo4LjUwMjY2Mzk2OTk5MzU5MSxuYW1lOlwicmlnaHRFeWVcIn0se3g6MzE1LjcwNzExMTM1ODY0MjYseToyMzUuNzU3MjYwMzIyNTcwOCx6OjYuOTM4Njg3NTYyOTQyNTA1LG5hbWU6XCJyaWdodEV5ZVwifSx7eDozMzAuNDEwODgxMDQyNDgwNDcseTozMTEuMDQxNDMxNDI3MDAxOTUsejotOS4zMjU1MDI1MTQ4MzkxNzIsbmFtZTpcImxpcHNcIn0se3g6Mjg4LjUzNzc1MDI0NDE0MDYseToyODUuMzE5ODMzNzU1NDkzMTYsejoyMS44MzczMTU1NTkzODcyMDd9LHt4OjM0NC41NTAzOTk3ODAyNzM0NCx5OjM1OS40MzAwODQyMjg1MTU2LHo6LTYuNzA1MjU3ODkyNjA4NjQzLG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozMjMuNDE4ODA3OTgzMzk4NDQseTozNTEuNjczNjIyMTMxMzQ3NjYsejo3LjgwMjM3NTU1NTAzODQ1MixuYW1lOlwiZmFjZU92YWxcIn0se3g6MzE0LjY0MDg4NDM5OTQxNDA2LHk6MzQ2LjExODk0NjA3NTQzOTQ1LHo6MTYuMzYzMzk3ODM2Njg1MTgsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjM0OS40OTQ1NTI2MTIzMDQ3LHk6MTg0Ljg0MzQ4Mjk3MTE5MTQsejotLjIxODQ3NTI3NDc0MTY0OTYzfSx7eDozNTkuMjQ2OTQwNjEyNzkyOTcseTozNTkuODM0ODkwMzY1NjAwNix6Oi04LjQwMzQ1NjIxMTA5MDA4OCxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzIxLjI2MTgyNTU2MTUyMzQ0LHk6MjM0LjY0NDkyMzIxMDE0NDA0LHo6Ni45MDk1MDg3MDUxMzkxNixuYW1lOlwicmlnaHRFeWVcIn0se3g6MzI2LjMxODM1OTM3NSx5OjIzMi45MDI1MDMwMTM2MTA4NCx6OjguMDI5OTY5MzM0NjAyMzU2LG5hbWU6XCJyaWdodEV5ZVwifSx7eDozMjkuNjIxMTYyNDE0NTUwOCx5OjIzMS42MTk1Nzc0MDc4MzY5LHo6OS43MjIzMzE3NjIzMTM4NDMsbmFtZTpcInJpZ2h0RXllXCJ9LHt4OjI4NS45Mzk4MDc4OTE4NDU3LHk6MjI4LjIzNTEzMDMxMDA1ODYsejoyNC42NTAxMzk4MDg2NTQ3ODV9LHt4OjMyNS43OTI4ODQ4MjY2NjAxNix5OjIyNy44ODAwNzczNjIwNjA1NSx6OjcuNDY5NzM4NzIxODQ3NTM0LG5hbWU6XCJyaWdodEV5ZVwifSx7eDozMjAuMTY5OTQ0NzYzMTgzNix5OjIyNy41OTM0ODg2OTMyMzczLHo6Ni4xNjgzNzA4NDI5MzM2NTUsbmFtZTpcInJpZ2h0RXllXCJ9LHt4OjMxNC44NTQwODc4Mjk1ODk4NCx5OjIyNy44NTI4MjYxMTg0NjkyNCx6OjYuMjY3NTc4MDA1NzkwNzEwNCxuYW1lOlwicmlnaHRFeWVcIn0se3g6MzA5LjMwODQ5MDc1MzE3MzgseToyMjkuMTUxNjg3NjIyMDcwMyx6OjcuNzAzMTY4MzkyMTgxMzk2NSxuYW1lOlwicmlnaHRFeWVcIn0se3g6MzA1LjU2MjEzMzc4OTA2MjUseToyMzAuOTIzNjYyMTg1NjY4OTUsejo5LjcyMjMzMTc2MjMxMzg0MyxuYW1lOlwicmlnaHRFeWVcIn0se3g6Mjc3Ljg2ODE5NDU4MDA3ODEseToyMjguNTM1NDIzMjc4ODA4Nix6OjU5LjcxMTIyNzQxNjk5MjE5LG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozMDYuMTQ0NDY2NDAwMTQ2NSx5OjIzNS4xOTU0Njk4NTYyNjIyLHo6MTAuNjAzNTI4MDIyNzY2MTEzLG5hbWU6XCJyaWdodEV5ZVwifSx7eDozNTUuNDQ3ODQ1NDU4OTg0NCx5OjI4MS45NjIxMDg2MTIwNjA1NSx6Oi0yMC41NjUxMjM1NTgwNDQ0MzR9LHt4OjMzMy4wMjY2MTg5NTc1MTk1Myx5OjI4OC4wMTA1NDAwMDg1NDQ5LHo6LTE0LjcyOTM5MTMzNjQ0MTA0fSx7eDozMzcuMTU3Mjg3NTk3NjU2MjUseToyNjkuMjA1OTUxNjkwNjczOCx6Oi0xOS44NDE0OTQ1NjAyNDE3fSx7eDozNDUuOTg5ODM3NjQ2NDg0NCx5OjI4My41NDUzMTI4ODE0Njk3LHo6LTIwLjQ4MzQyNDY2MzU0Mzd9LHt4OjM1MS40ODk2MzkyODIyMjY1Nix5OjIxOS45ODkxNjE0OTEzOTQwNCx6Oi03LjAzNzg5NDcyNTc5OTU2MDV9LHt4OjMxMi4zOTU3NDQzMjM3MzA0Nyx5OjMzNi41MDYyODA4OTkwNDc4NSx6OjguNjcxOTAwMDMzOTUwODA2fSx7eDozMjEuMzIxNTI1NTczNzMwNDcseTozNDMuMTc1NTI1NjY1MjgzMix6Oi45MDY3MjcxNjQ5ODM3NDk0fSx7eDozNDMuNzgzNzk4MjE3NzczNDQseTozNTMuMjk3NTk1OTc3NzgzMix6Oi0xNC4zNTU5MDUwNTU5OTk3NTZ9LHt4OjI5Ni44NzkxMzg5NDY1MzMyLHk6MzI3LjkxNDk3MjMwNTI5Nzg1LHo6NDEuMDEzNTM2NDUzMjQ3MDcsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjMyOS42OTM5NDY4MzgzNzg5LHk6MjI5LjI3ODk3NDUzMzA4MTA1LHo6OC45MzQ1MDg1NjIwODgwMTMsbmFtZTpcInJpZ2h0RXllXCJ9LHt4OjM0MS42OTA1MjEyNDAyMzQ0LHk6MjQxLjQwNzM2NTc5ODk1MDIsejotMTQuNTg5MzMzNTM0MjQwNzIzfSx7eDozNTkuMDMwNzk5ODY1NzIyNjYseTozNTMuNDg4NTk3ODY5ODczMDUsejotMTUuODAzMTY2NjI3ODgzOTExfSx7eDozMzMuMTg2MTg3NzQ0MTQwNix5OjM1Ni40MzIxMzI3MjA5NDcyNyx6Oi0xLjAyMzQ0MTc3NjYzMzI2MjYsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjI4My45NzQ4MzgyNTY4MzU5NCx5OjI5MS40MzE4NjU2OTIxMzg3LHo6NDEuOTQ3MjU1MTM0NTgyNTJ9LHt4OjM0My4zMzc3MDc1MTk1MzEyNSx5OjMwNS44MzAxMzUzNDU0NTksejotMTUuNzU2NDgwNjkzODE3MTM5LG5hbWU6XCJsaXBzXCJ9LHt4OjM0Mi40MDI4Mzk2NjA2NDQ1Myx5OjMwNy43NDUzODk5MzgzNTQ1LHo6LTE3LjQwMjE1Nzc4MzUwODN9LHt4OjM0MS41MzYyMTY3MzU4Mzk4NCx5OjMxMS4wNTk1NzAzMTI1LHo6LTE5LjA0NzgzNDg3MzE5OTQ2M30se3g6MzQwLjkxMDcyMDgyNTE5NTMseTozMTUuNDgzNzcwMzcwNDgzNCx6Oi0xOC41NTc2MzMxNjE1NDQ4LG5hbWU6XCJsaXBzXCJ9LHt4OjMzOS4xNDc4NzI5MjQ4MDQ3LHk6MzIzLjQyMjMzNjU3ODM2OTE0LHo6LTE0LjM2NzU3NjgzNzUzOTY3M30se3g6MzMzLjMyMDE1OTkxMjEwOTQseTozMDcuNDQwNjMzNzczODAzNyx6Oi05LjYxNzI4ODcwODY4NjgyOX0se3g6MzMxLjI0MTExMTc1NTM3MTEseTozMDYuOTgxMTgyMDk4Mzg4Nyx6Oi05LjY2OTgwOTkzNzQ3NzExMn0se3g6MzI5LjIzMjU1OTIwNDEwMTU2LHk6MzA2LjA1MDgzNDY1NTc2MTcsejotOS41ODIyNzM5NjAxMTM1MjUsbmFtZTpcImxpcHNcIn0se3g6MzIyLjQ1ODY0ODY4MTY0MDYseTozMDEuMzMzMjM2Njk0MzM1OTQsejotNy43MjA2NzU0Njg0NDQ4MjR9LHt4OjI5Ny4xNzEyMTEyNDI2NzU4LHk6Mjg2Ljk1NTI4MDMwMzk1NTEsejo4LjI0MDA1NTQ0MTg1NjM4NH0se3g6MzQxLjMwNjA3NjA0OTgwNDcseToyMzUuNDQzMjIwMTM4NTQ5OCx6Oi03LjUwNDc1MzQ3MDQyMDgzN30se3g6MzM2LjkzMTgzODk4OTI1NzgseToyMjQuMzQ1MTk3Njc3NjEyMyx6OjUuODI5ODk4MTE4OTcyNzc4fSx7eDozMzIuNjUzMjM2Mzg5MTYwMTYseToyMjYuNzA0MDM5NTczNjY5NDMsejo4LjEwNTgzNDEyNjQ3MjQ3M30se3g6MzM0LjY3MzU3NjM1NDk4MDQ3LHk6MzA2LjQzOTc2MjExNTQ3ODUsejotOC45ODExOTM5MDAxMDgzMzcsbmFtZTpcImxpcHNcIn0se3g6Mjk3LjQ2MDE5MzYzNDAzMzIseTozMDYuMjkyMTA0NzIxMDY5MzQsejoxNS40NzYzNjUwODk0MTY1MDR9LHt4OjM0Mi45MTE5MTEwMTA3NDIyLHk6MjIyLjM3MDc3NzEzMDEyNjk1LHo6LTIuNzU0NDY2MjM1NjM3NjY1fSx7eDozMzUuNDYyOTg5ODA3MTI4OSx5OjMzMi4yMDI1MDEyOTY5OTcwNyx6Oi0xMS44MjMxOTY0MTExMzI4MTJ9LHt4OjM1My4yNDEyMzM4MjU2ODM2LHk6MjQwLjU2MzM5MjYzOTE2MDE2LHo6LTI3LjE0NzgzMTkxNjgwOTA4Mn0se3g6MzQ2LjMwODA1OTY5MjM4MjgseToyMzYuNDE0NDY1OTA0MjM1ODQsejotMTguNDUyNTg5NTExODcxMzM4fSx7eDozNTIuNjQ3NTE0MzQzMjYxNyx5OjIzNC4xNDIwNTU1MTE0NzQ2LHo6LTE5Ljc0ODEyMjY5MjEwODE1NH0se3g6MzM3LjMyMDk3NjI1NzMyNDIseToyNTMuMzk5MzcyMTAwODMwMDgsejotMTYuMDI0OTI0NTE2Njc3ODU2fSx7eDozNTguNjEyMjEzMTM0NzY1Nix5OjM0NC45MDg2MTg5MjcwMDE5NSx6Oi0xOC41OTI2NDczMTQwNzE2NTV9LHt4OjM1OC4xMTE3MjQ4NTM1MTU2LHk6MzM0LjY0OTkwNjE1ODQ0NzI3LHo6LTE3LjQ5NTUyODQ1OTU0ODk1fSx7eDozNDYuNDQ1MDQ1NDcxMTkxNCx5OjMzNS4wMzIxMTAyMTQyMzM0LHo6LTE2LjMyODM4MjQ5MjA2NTQzfSx7eDozMTkuMTc2NDA2ODYwMzUxNTYseTozMjAuMjgzMzkzODU5ODYzMyx6Oi0zLjI3Njc2NDQ1MjQ1NzQyOH0se3g6MzI1LjI1NDA1ODgzNzg5MDYseToyNzYuMjM2OTcyODA4ODM3OSx6Oi02LjQ2MDE1NzAzNjc4MTMxMX0se3g6MzI2LjcyMTQ1ODQzNTA1ODYseTozMjcuMzkzOTUxNDE2MDE1Nix6Oi03LjQxNzIxNzQ5MzA1NzI1MX0se3g6MzEwLjcxOTAxMzIxNDExMTMseToyNzcuMjI2NTE0ODE2Mjg0Mix6Oi0zLjU0NTIwODI3NTMxODE0NTh9LHt4OjMxOS43ODM1NTQwNzcxNDg0NCx5OjI4NC44MjM4MTgyMDY3ODcxLHo6LTYuNDU0MzIxMTQ2MDExMzUyNX0se3g6MzA1Ljc3Mzk4MzAwMTcwOSx5OjI5MC44MzU4MDAxNzA4OTg0NCx6Oi4wNjkwNzEzODA0MjE1MTkyOH0se3g6MzQ0LjQwMDE3NzAwMTk1MzEseTozNDQuODU0MDg3ODI5NTg5ODQsejotMTYuOTQ2OTcwMjI0MzgwNDkzfSx7eDozMzMuMTg3OTQyNTA0ODgyOCx5OjI1OC43NDI1NjEzNDAzMzIwMyx6Oi0xMS45MDQ4OTY0OTc3MjY0NH0se3g6MzEzLjgwNTk4MDY4MjM3MzA1LHk6MzI3LjA4OTE5NTI1MTQ2NDg0LHo6Mi4yMjc3OTEyNDk3NTIwNDQ3fSx7eDozMjIuOTYzNzkwODkzNTU0Nyx5OjMzNC42ODE5NDk2MTU0Nzg1LHo6LTMuMzY0MzAwNDI5ODIxMDE0NH0se3g6MzEzLjQwNTU1MTkxMDQwMDQseTozMTEuMjE2NjY5MDgyNjQxNix6Oi0xLjExNzU0Mjk4MjEwMTQ0MDR9LHt4OjI5MS4wODY1NzgzNjkxNDA2LHk6Mjk4LjI4MzEwMDEyODE3MzgsejoyMi40Njc1NzUwNzMyNDIxODh9LHt4OjMwNS42NTgwOTI0OTg3NzkzLHk6MzEzLjM3MDc5MDQ4MTU2NzQsejo1LjU2MTQ1MzcwMDA2NTYxM30se3g6Mjg4LjIzNzYwOTg2MzI4MTI1LHk6MzA1Ljk5NDE4NjQwMTM2NzIsejozNi43NjUxMjI0MTM2MzUyNTR9LHt4OjMxNS4xMDY5MjU5NjQzNTU0Nyx5OjI5Ni4yNjk5MTI3MTk3MjY1Nix6Oi00LjYwNDM5MzgzOTgzNjEyMX0se3g6MzM3LjUwNTE4Nzk4ODI4MTI1LHk6MjQ3LjU5NDQ0MjM2NzU1MzcsejotMTAuNTk3NjkxNTM1OTQ5NzA3fSx7eDozMzguODQ1MDYyMjU1ODU5NCx5OjI2NS40Nzc3ODEyOTU3NzYzNyx6Oi0yNy43NzgwOTE0MzA2NjQwNjJ9LHt4OjMzNC4yNTI1NDgyMTc3NzM0NCx5OjI2OS4wNjcxOTIwNzc2MzY3LHo6LTIwLjkzODYxMTAzMDU3ODYxM30se3g6MzQxLjY0NTEyNjM0Mjc3MzQ0LHk6MjU5LjYzODcxOTU1ODcxNTgsejotMzIuMTg5OTA1NjQzNDYzMTM1fSx7eDozMzEuNDQwODExMTU3MjI2NTYseToyMTkuMDk3NjA5NTE5OTU4NSx6OjQuMjA3NTYzNjk4MjkxNzc5fSx7eDozMjAuNTYzMzkyNjM5MTYwMTYseToyMTYuNDk2NTgyMDMxMjUsejoyLjkzMDk5NzMxMjA2ODkzOX0se3g6MzExLjIxOTEyMDAyNTYzNDc3LHk6MjE2LjU3ODUzNjAzMzYzMDM3LHo6Mi45Njc0NzA1ODYyOTk4OTYyfSx7eDozMDMuNDYyNTYyNTYxMDM1MTYseToyMTguNTQ2MTQ3MzQ2NDk2NTgsejo1LjM1NzIwMzQ4MzU4MTU0M30se3g6Mjk3Ljk5OTk5MjM3MDYwNTQ3LHk6MjIyLjUwNTIwMjI5MzM5Nix6OjkuMzI1NTAyNTE0ODM5MTcyfSx7eDoyOTQuOTM4MzkyNjM5MTYwMTYseToyMzYuMzk2NTQxNTk1NDU4OTgsejoxOC41MzQyODk1OTg0NjQ5NjZ9LHt4OjI3OC44NzQ4OTMxODg0NzY1Nix5OjI1OS43MDk1NTg0ODY5Mzg1LHo6NDUuNjgyMTIwMzIzMTgxMTV9LHt4OjMwMC4zNzgyNjUzODA4NTk0LHk6MjQ1LjM4NTkzMjkyMjM2MzI4LHo6MTIuMjc4MzgyNzc4MTY3NzI1fSx7eDozMDcuMDYzNDg0MTkxODk0NTMseToyNDYuMzY4NTc5ODY0NTAxOTUsejo4LjE2NDE5MTI0NjAzMjcxNX0se3g6MzE1LjUyMjkxODcwMTE3MTkseToyNDUuMzk0OTczNzU0ODgyOCx6OjUuNTAzMDk3MTc2NTUxODE5fSx7eDozMjMuNzEzOTUxMTEwODM5ODQseToyNDIuNzUxNzg5MDkzMDE3NTgsejo0LjYzMzU3MjM5OTYxNjI0MTV9LHt4OjMzMC4yNzg1ODczNDEzMDg2LHk6MjM5LjM0NjU4NTI3Mzc0MjY4LHo6NC45MzcwMzA2NzMwMjcwMzl9LHt4OjMzNC42OTgyMTkyOTkzMTY0LHk6MjM2LjA0NjAzNzY3Mzk1MDIsejo0LjgyMzIzMzc4MzI0NTA4N30se3g6Mjc5LjM0MTIyMDg1NTcxMjkseToyNjMuNTE5NjExMzU4NjQyNix6OjcwLjkxNTgzNzI4NzkwMjgzLG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozMzQuNjU5NzI5MDAzOTA2MjUseToyNzEuNjY0ODU3ODY0Mzc5OSx6Oi0xNy43NzU2NDQwNjM5NDk1ODV9LHt4OjM0Mi4wNTY3NzAzMjQ3MDcwMyx5OjI0Ni45OTg0NjI2NzcwMDE5NSx6Oi0yMC44NDUyMzkxNjI0NDUwN30se3g6MzQ0LjAzNTc5NzExOTE0MDYseToyNjQuNTcwMTUwMzc1MzY2Mix6Oi0zMi45MzY4ODA1ODg1MzE0OTR9LHt4OjM0OC4yNTUzMTAwNTg1OTM3NSx5OjI2OC42NjQ1MDMwOTc1MzQyLHo6LTMwLjY5NTk2MDUyMTY5Nzk5OH0se3g6MzQ0LjEyMjI3NjMwNjE1MjM0LHk6MjY2LjM0MjEyNDkzODk2NDg0LHo6LTI5LjgwODkyNjU4MjMzNjQyNn0se3g6MzM3LjEyMzE4NDIwNDEwMTU2LHk6Mjc0LjI1NTY4NTgwNjI3NDQsejotMTUuNzY4MTUyNDc1MzU3MDU2fSx7eDozNDkuNDkwNDcwODg2MjMwNDcseToyNjkuMDcxNjgzODgzNjY3LHo6LTMyLjUxNjcwODM3NDAyMzQ0fSx7eDozNTAuMTY4MzA0NDQzMzU5NCx5OjI3MS40NjkxMzUyODQ0MjM4LHo6LTI0LjkzMDI1MzAyODg2OTYzfSx7eDozMzMuOTYzNDcwNDU4OTg0NCx5OjIzMC41NjYzOTE5NDQ4ODUyNSx6OjguODk5NDkzODEzNTE0NzF9LHt4OjMzOC4yMTQ3OTc5NzM2MzI4LHk6MjMxLjQ4MDc4OTE4NDU3MDMsejo0LjY3MTUwNDc5NTU1MTN9LHt4OjM0MC40NzEyNjc3MDAxOTUzLHk6MjMxLjc0NDYzMjcyMDk0NzI3LHo6LS4zNDk5NjE2NjgyNTI5NDQ5NX0se3g6MzAzLjI4OTc1Njc3NDkwMjM0LHk6MjMyLjI0OTgwMzU0MzA5MDgyLHo6MTEuOTE2NTY4Mjc5MjY2MzU3LG5hbWU6XCJyaWdodEV5ZVwifSx7eDoyOTkuNDY0OTEyNDE0NTUwOCx5OjIyOS41Mzg0MjYzOTkyMzA5Nix6OjEyLjMyNTA2OTkwNDMyNzM5M30se3g6MzU5LjA5NjE4Mzc3Njg1NTQ3LHk6MjQxLjc3MzQ5MDkwNTc2MTcyLHo6LTI0LjY1MDEzOTgwODY1NDc4NX0se3g6Mzk5LjQ2MjE2NTgzMjUxOTUzLHk6MjI5Ljg5NTAzODYwNDczNjMzLHo6MTUuOTE5ODgwODY3MDA0Mzk1LG5hbWU6XCJsZWZ0RXllXCJ9LHt4OjM2MS4zODkxOTgzMDMyMjI2Nix5OjI2OS42MTI5ODk0MjU2NTkyLHo6LTI0LjUxMDA4MDgxNDM2MTU3Mn0se3g6NDE2Ljk5NzMzNzM0MTMwODYseToyMDYuMDg5NTUzODMzMDA3OCx6OjUzLjI2ODU3NTY2ODMzNDk2LG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozODEuMzIxNzkyNjAyNTM5MDYseToyMzUuNTQ3NjQ3NDc2MTk2Myx6OjcuNjIxNDY4MzA1NTg3NzY4Nn0se3g6Mzg3LjgwNjg1NDI0ODA0NjkseToyMzYuMjU5NTg0NDI2ODc5ODgsejo4LjM0NTA5OTA5MTUyOTg0Nn0se3g6MzkzLjk1NzUxOTUzMTI1LHk6MjM1Ljg2NjAzNjQxNTEwMDEsejoxMC40NzUxNDIwMDIxMDU3MTN9LHt4OjQwMS44NDYwMDgzMDA3ODEyNSx5OjIzMi43NzAxOTUwMDczMjQyMix6OjE2Ljc2MDIyNjQ4ODExMzQwM30se3g6Mzc1LjcwNTY4MDg0NzE2Nzk3LHk6MjMzLjQ4NDU2MzgyNzUxNDY1LHo6OC4yMzQyMjAxNDcxMzI4NzR9LHt4OjM4OC4xNzc1MjgzODEzNDc2Nix5OjIxOC45NDcxNzY5MzMyODg1Nyx6OjYuODEwMzAwOTQ2MjM1NjU3fSx7eDozODEuNjQ5Mjg0MzYyNzkyOTcseToyMTkuMjY1NjY2MDA3OTk1Nix6OjYuNzExMDkzNzgzMzc4NjAxfSx7eDozOTQuNDc2MDUxMzMwNTY2NCx5OjIxOS42NjgyMTE5MzY5NTA2OCx6OjkuMTczNzczNTI3MTQ1Mzg2fSx7eDozOTguODg0MzUzNjM3Njk1Myx5OjIyMS44ODM3MDIyNzgxMzcyLHo6MTIuMDMzMjgyNTE4Mzg2ODR9LHt4OjQwNi41NDU0ODY0NTAxOTUzLHk6MjM3LjEyMTU2NzcyNjEzNTI1LHo6MTkuNzEzMTA4NTM5NTgxM30se3g6MzgzLjg3NDQ3MzU3MTc3NzM0LHk6MzM3LjY5MzI5MDcxMDQ0OTIsejotOC42MzEwNDk5OTA2NTM5OTJ9LHt4OjQwMS4yNjgyMzQyNTI5Mjk3LHk6MjI4LjU5MTY1NjY4NDg3NTUsejoxOC4zNTkyMTc2NDM3Mzc3OTMsbmFtZTpcImxlZnRFeWVcIn0se3g6NDIyLjA0NDk0NDc2MzE4MzYseToyMzYuNzM5MzQ5MzY1MjM0Mzgsejo1MS4xNjc3MTIyMTE2MDg4OX0se3g6NDEyLjY5MTUzNTk0OTcwNzAzLHk6MjMyLjgwMTk4MDk3MjI5MDA0LHo6MjcuNTIxMzE5Mzg5MzQzMjZ9LHt4OjM4Ny4zNDk3NzcyMjE2Nzk3LHk6MjYzLjI5ODM5NzA2NDIwOSx6Oi0yLjg2MDk2ODQxMDk2ODc4MDV9LHt4OjM2NC41MTI0MDUzOTU1MDc4LHk6MjkzLjM5MjIxMDAwNjcxMzg3LHo6LTIyLjM5NzU0Njc2ODE4ODQ3NyxuYW1lOlwibGlwc1wifSx7eDozNjMuNjI5ODc1MTgzMTA1NDcseTozMDIuMTI5MTQ0NjY4NTc5MSx6Oi0xOS42NDMwNzkwNDI0MzQ2OTJ9LHt4OjM3My4yMzM0NTE4NDMyNjE3LHk6Mjk1Ljg2NDcwNjAzOTQyODcsejotMTguMTI1Nzg5MTY1NDk2ODI2LG5hbWU6XCJsaXBzXCJ9LHt4OjM3OC44MzM2NTYzMTEwMzUxNix5OjI5OS41MTc3NzQ1ODE5MDkyLHo6LTEzLjE1Mzc0Mzc0Mzg5NjQ4NCxuYW1lOlwibGlwc1wifSx7eDozNjkuOTE0Nzc5NjYzMDg1OTQseTozMDIuNTcwNDAwMjM4MDM3MSx6Oi0xNi42NTUxODI4Mzg0Mzk5NH0se3g6Mzc0LjkxNjcyNTE1ODY5MTQseTozMDMuNTQxNjYwMzA4ODM3OSx6Oi0xMS45NjMyNTMwMjEyNDAyMzR9LHt4OjM4Ny41ODg4ODI0NDYyODkwNix5OjMxMi4yNzE2OTk5MDUzOTU1LHo6LTQuNjgwMjU4NjMxNzA2MjM4fSx7eDozNjAuNjYzNTI4NDQyMzgyOCx5OjI2NC4zMTk4NjgwODc3Njg1NSx6Oi0zNS45NDgxMTY3NzkzMjczOX0se3g6MzYxLjA0NTY0NjY2NzQ4MDQ3LHk6MjU2LjgyMjU4NjA1OTU3MDMsejotMzcuMjc4NjY0MTEyMDkxMDY0fSx7eDo0MDguMzg1NTQzODIzMjQyMix5OjIxMy41MjA4ODkyODIyMjY1Nix6OjE1Ljc1NjQ4MDY5MzgxNzEzOSxuYW1lOlwibGVmdEV5ZWJyb3dcIn0se3g6MzczLjI5NDYwMTQ0MDQyOTcseToyNDUuMzgxMDExOTYyODkwNjIsejotMS45MzE2Mjc4Mzk4MDM2OTU3fSx7eDozNzYuODM4NjA3Nzg4MDg1OTQseToyNjQuMzcyMTEwMzY2ODIxMyx6Oi0xOC41MTA5NDcyMjc0NzgwMjd9LHt4OjM3Ni45NTQ2MTI3MzE5MzM2LHk6MjYxLjAwMTA1Mjg1NjQ0NTMsejotMTUuOTg5OTA5MTcyMDU4MTA1fSx7eDo0MDYuMTQ5ODI2MDQ5ODA0Nyx5OjI2My41MDMwMTc0MjU1MzcxLHo6Ny4wNzI5MDg4NzgzMjY0MTZ9LHt4OjM2MC4wNzIwNTk2MzEzNDc2Nix5OjI0OC4zNjMxNzA2MjM3NzkzLHo6LTMyLjE2NjU2NDQ2NDU2OTA5fSx7eDozOTMuMTExMTkwNzk1ODk4NDQseToyMDUuMTA0NzMyNTEzNDI3NzMsejozLjc3ODYzNzM0OTYwNTU2MDMsbmFtZTpcImxlZnRFeWVicm93XCJ9LHt4OjQwMi4xMjc5MTQ0Mjg3MTA5NCx5OjIwNy44OTAwMDk4ODAwNjU5Mix6OjkuMzgzODU5NjM0Mzk5NDE0LG5hbWU6XCJsZWZ0RXllYnJvd1wifSx7eDo0MTAuODY5MzMxMzU5ODYzMyx5OjE5MS42MTgyMjc5NTg2NzkyLHo6NDEuMjcwMzA4NDk0NTY3ODcsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjM2NC45NTA5ODExNDAxMzY3LHk6MjEwLjQwNDgzNDc0NzMxNDQ1LHo6LTMuNzU4MjEyNjI1OTgwMzc3fSx7eDozNzUuOTQ0NDQyNzQ5MDIzNDQseToyMjEuMTMzMTg0NDMyOTgzNCx6OjguMzY4NDQyMDU4NTYzMjMyfSx7eDozOTIuMTkwNDc1NDYzODY3Mix5OjMwNS4wMzYwMjk4MTU2NzM4LHo6LTEuNzUyMTc5MTE2MDEwNjY2fSx7eDo0MTkuNTAyMjU4MzAwNzgxMjUseTozMDcuMjU1OTI2MTMyMjAyMTUsejo1OC45NjQyNTI0NzE5MjM4MyxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzcyLjAwMjcxNjA2NDQ1MzEseToyNjguNzIxMjY1NzkyODQ2Nyx6Oi0xNi42MzE4NDA0Njc0NTMwMDN9LHt4OjM2Ni4xNjE0MjI3Mjk0OTIyLHk6MjcxLjYyMzc0NDk2NDU5OTYsejotMTguMjE5MTU5ODQxNTM3NDc2fSx7eDozODUuMDA5Mzg0MTU1MjczNDQseTozMDUuMzg2MzMzNDY1NTc2Mix6Oi0yLjU2NzcyMjc5NzM5Mzc5OX0se3g6MzgxLjk5NzcxODgxMTAzNTE2LHk6MzA0Ljk3MjM3MjA1NTA1MzcsejotNC41NzUyMTUyODAwNTZ9LHt4OjQwNS4wNzgxMjUseToyMDMuMjEyMTY1ODMyNTE5NTMsejoxMy43MTM5NzM3NjA2MDQ4NTgsbmFtZTpcImxlZnRFeWVicm93XCJ9LHt4OjM3Ny4xMzIwNzI0NDg3MzA0Nyx5OjI2OC40NzEwMTIxMTU0Nzg1LHo6LTE1LjI2NjI3ODk4MjE2MjQ3Nn0se3g6MzgwLjk3MTMzNjM2NDc0NjEseToyMDUuMzY5ODA2Mjg5NjcyODUsejotLjcyNTA4OTkwNzY0NjE3OTIsbmFtZTpcImxlZnRFeWVicm93XCJ9LHt4OjM4MS43Nzg4MzE0ODE5MzM2LHk6MTk4LjkyNjgzOTgyODQ5MTIsejotMS4xODQ2NTM4NjMzMTA4MTQsbmFtZTpcImxlZnRFeWVicm93XCJ9LHt4OjM4NS41MjA0NzcyOTQ5MjE5LHk6MTcyLjE0ODQzNzUsejoxNi4wNDgyNjgwNzk3NTc2OSxuYW1lOlwiZmFjZU92YWxcIn0se3g6NDA3Ljk0MTg5NDUzMTI1LHk6MTk2Ljc2MjM2MTUyNjQ4OTI2LHo6MjUuNzIzOTE1MTAwMDk3NjU2fSx7eDozODMuMDM4OTAyMjgyNzE0ODQseToxODQuNTE1NzUyNzkyMzU4NCx6OjcuMzkzODc0NTI2MDIzODY1fSx7eDo0MTEuNjE3ODEzMTEwMzUxNTYseToyMTAuNzkyNDE3NTI2MjQ1MTIsejoyMi4zMTU4NDU0ODk1MDE5NTMsbmFtZTpcImxlZnRFeWVicm93XCJ9LHt4OjQxNC4zMDg3MDA1NjE1MjM0NCx5OjIwOC40NjQzMDMwMTY2NjI2LHo6MzcuMDIxODk0NDU0OTU2MDU1fSx7eDozNjQuMjg3MjIzODE1OTE3OTcseToyOTguMzU3NzcyODI3MTQ4NDQsejotMjEuODYwNjU2NzM4MjgxMjV9LHt4OjM3MS4zNjgyNTU2MTUyMzQ0LHk6Mjk5Ljc4ODQ4NDU3MzM2NDI2LHo6LTE3LjgzNDAwMTc3OTU1NjI3NH0se3g6Mzc2Ljg4MjAxOTA0Mjk2ODc1LHk6MzAxLjY2OTYwNzE2MjQ3NTYsejotMTMuMTUzNzQzNzQzODk2NDg0fSx7eDozNzAuMjE5MzgzMjM5NzQ2MSx5OjI3MC40OTA5NTE1MzgwODU5NCx6Oi0xNS41Njk3MzY5NTc1NTAwNDl9LHt4OjM4My41MDgxMTAwNDYzODY3LHk6MzA1LjI3MjYzNjQxMzU3NDIsejotMy42NzM1OTQyOTU5Nzg1NDZ9LHt4OjM4MC43Mzc2MDk4NjMyODEyNSx5OjMwNS45Njg2OTQ2ODY4ODk2NSx6Oi04LjY2MDIyODI1MjQxMDg4OX0se3g6MzgxLjIzMzQ0NDIxMzg2NzIseTozMDQuNjM1NzQ0MDk0ODQ4NjMsejotNC44MjAzMTYxMzU4ODMzMzEsbmFtZTpcImxpcHNcIn0se3g6MzY4LjE2OTg5ODk4NjgxNjQseToyNjQuODg4NDk2Mzk4OTI1OCx6Oi0yNS42NTM4ODY3OTUwNDM5NDV9LHt4OjM3My41MDg3MjAzOTc5NDkyLHk6MzAzLjQyMzM4NTYyMDExNzIsejotMTAuOTU5NTA3MjI2OTQzOTcsbmFtZTpcImxpcHNcIn0se3g6MzY4LjQ1NDQzNzI1NTg1OTQseTozMDMuMjk2MDEyODc4NDE3OTcsejotMTQuMTY5MTYxMzE5NzMyNjY2LG5hbWU6XCJsaXBzXCJ9LHt4OjM2Mi43NjU1NDEwNzY2NjAxNix5OjMwMy41NzM1NjA3MTQ3MjE3LHo6LTE2LjkxMTk1NjA3MTg1MzYzOCxuYW1lOlwibGlwc1wifSx7eDozNjYuNjA5ODAyMjQ2MDkzNzUseTozMjQuODg3MDY1ODg3NDUxMix6Oi0xNS42MTY0MjI4OTE2MTY4MjF9LHt4OjM2NS43MDY3MTA4MTU0Mjk3LHk6MzE1Ljk1Njc4MzI5NDY3NzczLHo6LTIwLjkwMzU5Njg3ODA1MTc1OCxuYW1lOlwibGlwc1wifSx7eDozNjUuMDA4MzkyMzMzOTg0NCx5OjMxMS4yMjMyMjA4MjUxOTUzLHo6LTIxLjA2Njk5OTQzNTQyNDgwNX0se3g6MzY0LjE1MDgxMDI0MTY5OTIseTozMDcuMDU4MzQzODg3MzI5MSx6Oi0xOC45MDc3NzcwNzA5OTkxNDZ9LHt4OjM2My4zNzUxMjk2OTk3MDcwMyx5OjMwNC41NzIxNDM1NTQ2ODc1LHo6LTE3LjQyNTUwMDE1NDQ5NTI0LG5hbWU6XCJsaXBzXCJ9LHt4OjM3NC41ODAwNzgxMjUseTozMDQuMzA1OTUzOTc5NDkyMix6Oi0xMS40MDMwMjMwMDQ1MzE4NixuYW1lOlwibGlwc1wifSx7eDozNzUuNTUzNjI3MDE0MTYwMTYseTozMDUuMDk5ODAyMDE3MjExOSx6Oi0xMi44NjE5NTc1NTAwNDg4Mjh9LHt4OjM3Ny4yNDM3Mjg2Mzc2OTUzLHk6MzA3LjE2NzQzNDY5MjM4MjgsejotMTQuMjE1ODQ3MjUzNzk5NDM4fSx7eDozNzguNjg1ODc0OTM4OTY0ODQseTozMDkuOTAxNTcxMjczODAzNyx6Oi0xMy4yMjM3NzIwNDg5NTAxOTUsbmFtZTpcImxpcHNcIn0se3g6MzgzLjg5OTI2OTEwNDAwMzkseToyOTAuMjk2Mjk3MDczMzY0MjYsejotOS45NzMyNjkxMDQ5NTc1OH0se3g6NDIzLjM4NzE4NDE0MzA2NjQseToyNzEuOTE2ODg1Mzc1OTc2NTYsejo3NC4zNzA1ODkyNTYyODY2MixuYW1lOlwiZmFjZU92YWxcIn0se3g6Mzc3LjY4MDQzNTE4MDY2NDA2LHk6MzA0LjYyMjA5NzAxNTM4MDg2LHo6LTcuNjAzOTYxMjI5MzI0MzQxLG5hbWU6XCJsaXBzXCJ9LHt4OjM3OS4wMDQyODc3MTk3MjY1Nix5OjMwNC45MzE0NTk0MjY4Nzk5LHo6LTguNTc4NTI4MTY1ODE3MjZ9LHt4OjM2NC4wMDI3OTk5ODc3OTI5Nyx5OjI3NS4yODEzOTExNDM3OTg4LHo6LTE5LjI1NzkyMDk4MDQ1MzQ5fSx7eDozNzQuNjgyMzEyMDExNzE4NzUseToyNzMuODI1NTU5NjE2MDg4ODcsejotMTEuMjgwNDcyMjc4NTk0OTd9LHt4OjM2NS4wMzU0NzY2ODQ1NzAzLHk6MjczLjQ1NDg1Njg3MjU1ODYsejotMTguNzkxMDYyODMxODc4NjYyfSx7eDozODAuNjE5MDEwOTI1MjkyOTcseToyNDkuODg0ODA1Njc5MzIxMyx6Oi4xNTUwMTE2NzYyNTE4ODgyOH0se3g6MzkxLjE0MTU4NjMwMzcxMDk0LHk6MjU0Ljc5MzQ2Mjc1MzI5NTksejoyLjA5MDY1MTU0MTk0ODMxODV9LHt4OjM3OC4xNzYxMTY5NDMzNTk0LHk6MjY0Ljk2MTIyMzYwMjI5NDksejotMTIuNjA1MTg0MzE2NjM1MTMyfSx7eDo0MDAuOTU0MDU1Nzg2MTMyOCx5OjE3OS45OTU5MjMwNDIyOTczNix6OjI3LjgyNDc3ODU1NjgyMzczLG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozOTguMDAzODgzMzYxODE2NCx5OjE4OC41MDY1NjUwOTM5OTQxNCx6OjE2LjA5NDk1MjgyMTczMTU2N30se3g6Mzk0Ljg3MTc0OTg3NzkyOTcseToxOTkuMDM1OTU5MjQzNzc0NCx6OjYuMjI2NzI3MzY2NDQ3NDQ5LG5hbWU6XCJsZWZ0RXllYnJvd1wifSx7eDozODIuMTA5MjYwNTU5MDgyMDMseTozMTYuODM5MjY1ODIzMzY0MjYsejotOC45NDYxNzk3NDc1ODE0ODJ9LHt4OjM2Ni41MTU4ODQzOTk0MTQwNix5OjIwMC4zMjU4MzcxMzUzMTQ5NCx6Oi01LjI0NjMyNDUzOTE4NDU3LG5hbWU6XCJsZWZ0RXllYnJvd1wifSx7eDozNjcuNDg5MzU2OTk0NjI4OSx5OjE4My44NzIxMDg0NTk0NzI2Nix6OjEuOTAzOTA4MTAzNzA0NDUyNX0se3g6MzY4LjYyNDM0Mzg3MjA3MDMseToxNjguODEyNzU2NTM4MzkxMSx6OjguNzM2MDkzMDQ0MjgxMDA2LG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozOTguOTYxNzUzODQ1MjE0ODQseToyMzQuOTY3NTE3ODUyNzgzMix6OjEzLjcxMzk3Mzc2MDYwNDg1OH0se3g6NDEyLjk2NDU1MzgzMzAwNzgseToyNDIuMjMwNDI0ODgwOTgxNDUsejoyMy4yNzI5MDUzNDk3MzE0NDV9LHt4OjM3Mi4wNTI1NzQxNTc3MTQ4NCx5OjIzMS40MTkxOTEzNjA0NzM2Myx6OjkuMjI2Mjk0NzU1OTM1NjY5fSx7eDo0MDYuMDcyMjM1MTA3NDIxOSx5OjIyMy41ODk2NTg3MzcxODI2Mix6OjE4LjM3MDg5MDYxNzM3MDYwNX0se3g6MzY4LjI3NDQyMTY5MTg5NDUzLHk6MjQwLjIwMzkzMzcxNTgyMDMsejotNC4xNjY3MTM2NTQ5OTQ5NjV9LHt4OjM3Mi4zNTc1MjEwNTcxMjg5LHk6MjYwLjY2NDQyNDg5NjI0MDIzLHo6LTI0Ljk3Njk0MDE1NTAyOTI5N30se3g6NDE5LjIyNDQzMzg5ODkyNTgseToyNDcuOTA3OTI0NjUyMDk5Nix6OjMwLjI5OTEyNzEwMTg5ODE5M30se3g6NDA5LjQzODg1ODAzMjIyNjU2LHk6MjQ2LjYwOTEzNDY3NDA3MjI3LHo6MTYuMzk4NDExOTg5MjEyMDM2fSx7eDo0MDEuNjkxMzk4NjIwNjA1NDcseToyNDguNzYzMjg0NjgzMjI3NTQsejo5LjM5NTUzMTQxNTkzOTMzMX0se3g6Mzg5Ljc2MDgxODQ4MTQ0NTMseToyNDcuNTY5MTUwOTI0NjgyNjIsejo1Ljg0MTU2OTMwNDQ2NjI0OH0se3g6MzgwLjU0NjE4ODM1NDQ5MjIseToyNDQuNTU5ODQxMTU2MDA1ODYsejo0LjI2MzAwMzQ2ODUxMzQ4OX0se3g6MzczLjI1ODE3MTA4MTU0Mjk3LHk6MjQwLjgwMjE0NTAwNDI3MjQ2LHo6Mi41MzU2MjYyOTIyMjg2OTg3fSx7eDozNTguNzcwODY2Mzk0MDQyOTcseToyMjkuMzU2MTUwNjI3MTM2MjMsejotMTAuMzg3NjA1NDI4Njk1Njc5fSx7eDo0MTkuNTc5MzkxNDc5NDkyMix5OjI2Mi44NDc4NzE3ODAzOTU1LHo6MjYuNTE3NTcyNDAyOTU0MX0se3g6NDEwLjg4MDg4OTg5MjU3ODEseToyMjIuNTEzNzI4MTQxNzg0NjcsejoyMi4xOTkxMzAwNTgyODg1NzR9LHt4OjM1OC40NTcxNDU2OTA5MTc5Nyx5OjI2OC45MTQ2NzA5NDQyMTM4Nyx6Oi0zMy4xNzAzMDkwNjY3NzI0Nn0se3g6MzczLjQxMjkzMzM0OTYwOTQseToyNTEuNjM4NTg0MTM2OTYyOSx6Oi01Ljc3MTU0MDQwMzM2NjA4OX0se3g6NDIyLjU0MDgxNzI2MDc0MjIseToyMzkuMjM5MTk2Nzc3MzQzNzUsejo3NC4wNDM3ODg5MDk5MTIxMSxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzY3LjgxNzE5MjA3NzYzNjcseToyMzYuNTgwNDA1MjM1MjkwNTMsejoxLjgyMDc0ODg5NTQwNjcyM30se3g6Mzc4LjUxOTU5MjI4NTE1NjI1LHk6MjY2LjI1MzIzMjk1NTkzMjYsejotNS43NDgxOTgwMzIzNzkxNX0se3g6NDAzLjM0NzI0NDI2MjY5NTMseToyMjkuMDUxMTIyNjY1NDA1MjcsejoxOS42ODk3NjQ5NzY1MDE0NjV9LHt4OjM3Mi4zNDg0MDM5MzA2NjQwNix5OjI1Ni42NDUxMTY4MDYwMzAzLHo6LTIxLjg3MjMyOTcxMTkxNDA2Mn0se3g6NDIyLjU0NTY2MTkyNjI2OTUzLHk6Mjg5LjE1ODc4Mjk1ODk4NDQsejo2OC42NzQ5MTI0NTI2OTc3NSxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzcxLjkyOTc0MDkwNTc2MTcseToyMjguOTAxMTYyMTQ3NTIxOTcsejoxMS40MzIyMDE4NjIzMzUyMDUsbmFtZTpcImxlZnRFeWVcIn0se3g6MzY2LjIxMzYwNzc4ODA4NTk0LHk6MjUxLjYxNTg5NjIyNDk3NTYsejotMjguMTk4MjYzNjQ1MTcyMTJ9LHt4OjQwOS4xNTcxODA3ODYxMzI4LHk6MzIxLjMxNTYyMjMyOTcxMTksejoyMC4yMjY2NTI2MjIyMjI5fSx7eDo0MDguNTI5NDM0MjA0MTAxNTYseTozMzEuNDQyMzg0NzE5ODQ4NjMsejozMS4wOTI3ODkxNzMxMjYyMixuYW1lOlwiZmFjZU92YWxcIn0se3g6NDI0LjI3ODgzMTQ4MTkzMzYseToyNjcuMTk5MjMwMTk0MDkxOCx6OjUwLjQ2NzQyNDM5MjcwMDE5NX0se3g6NDE1LjYwMzUyMzI1NDM5NDUzLHk6MzExLjY1Mjg2MDY0MTQ3OTUsejozMC41NzkyNDI3MDYyOTg4Mjh9LHt4OjQxOC4xMjc5MzczMTY4OTQ1Myx5OjIyMS41OTkyNzM2ODE2NDA2Mix6OjQ2LjI2NTY5NzQ3OTI0ODA1fSx7eDozODUuNjgyODY4OTU3NTE5NTMseTozNDYuMDE4NDk1NTU5NjkyNCx6Oi01LjcwMTUxMTUwMjI2NTkzfSx7eDozNTcuODI5MzYwOTYxOTE0MDYseToyNzEuMzc1ODM3MzI2MDQ5OCx6Oi0yNC44MzY4ODExNjA3MzYwODR9LHt4OjM3OS41ODg2MjMwNDY4NzUseToyNTcuNTA3MTcxNjMwODU5NCx6Oi0zLjc1NTI5NDY4MDU5NTM5OH0se3g6NDE3LjQ1OTI1OTAzMzIwMzEseToyMzQuNzE5NDgxNDY4MjAwNjgsejozNC41NDc1NDM1MjU2OTU4fSx7eDozOTMuNDY4NDM3MTk0ODI0Mix5OjIzMS41ODk2Nzk3MTgwMTc1OCx6OjExLjQwODg1OTQ5MTM0ODI2NyxuYW1lOlwibGVmdEV5ZVwifSx7eDozODcuODg2NDI4ODMzMDA3OCx5OjIzMi4xNDI0NTc5NjIwMzYxMyx6OjkuNTE4MDgyMTQxODc2MjIsbmFtZTpcImxlZnRFeWVcIn0se3g6MzgyLjQ5ODE2ODk0NTMxMjUseTozMDcuNTY1NDg4ODE1MzA3Nix6Oi03LjUyMjI2MDU0NjY4NDI2NSxuYW1lOlwibGlwc1wifSx7eDo0MTkuMDAxNjkzNzI1NTg1OTQseToyNzcuODMzMjgwNTYzMzU0NSx6OjI2LjQyNDIwMjkxOTAwNjM0OH0se3g6MzczLjYyOTUzMTg2MDM1MTU2LHk6MzU3LjYzNzUxMDI5OTY4MjYsejotNS43NTk4NjkyMTc4NzI2MixuYW1lOlwiZmFjZU92YWxcIn0se3g6MzkyLjg3MDgyNjcyMTE5MTQseTozNDcuNzI0NDY2MzIzODUyNTQsejoxMC4xNTQxNzY5NTA0NTQ3MTIsbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjQwMC4zOTUzNTUyMjQ2MDk0LHk6MzQxLjAwMDUxODc5ODgyODEsejoxOS4zOTc5Nzg3ODI2NTM4MSxuYW1lOlwiZmFjZU92YWxcIn0se3g6MzgyLjI1NDQwOTc5MDAzOTA2LHk6MjMxLjY2OTM1OTIwNzE1MzMyLHo6OC45OTg3MDA5NzYzNzE3NjUsbmFtZTpcImxlZnRFeWVcIn0se3g6Mzc3LjE0NTUwMDE4MzEwNTQ3LHk6MjMwLjQyMjg2ODcyODYzNzcsejo5LjgwNDAzMjQ0NDk1MzkxOCxuYW1lOlwibGVmdEV5ZVwifSx7eDozNzMuODM1ODY4ODM1NDQ5Mix5OjIyOS42NDk1MDU2MTUyMzQzOCx6OjExLjI5MjE0NDA2MDEzNDg4OCxuYW1lOlwibGVmdEV5ZVwifSx7eDo0MTQuNTc5NDY3NzczNDM3NSx5OjIyMS42Nzg5MTAyNTU0MzIxMyx6OjI5LjQxMjA5NzkzMDkwODIwM30se3g6Mzc3LjAwNjcyMTQ5NjU4MjAzLHk6MjI1LjY2MjAxMjEwMDIxOTczLHo6OS4zNjA1MTcyNjM0MTI0NzYsbmFtZTpcImxlZnRFeWVcIn0se3g6MzgyLjI5NTMwMzM0NDcyNjU2LHk6MjI0Ljg0MzExNTgwNjU3OTYsejo4LjMyMTc1NjEyNDQ5NjQ2LG5hbWU6XCJsZWZ0RXllXCJ9LHt4OjM4Ny41MTMzNTE0NDA0Mjk3LHk6MjI0LjQ5NTA3MjM2NDgwNzEzLHo6OC45MTcwMDA4ODk3NzgxMzcsbmFtZTpcImxlZnRFeWVcIn0se3g6MzkzLjE1OTA2NTI0NjU4MjAzLHk6MjI1LjI0Nzk1MDU1Mzg5NDA0LHo6MTAuNzM3NzQ5MzM4MTUwMDI0LG5hbWU6XCJsZWZ0RXllXCJ9LHt4OjM5Ny4wNTU1NDk2MjE1ODIwMyx5OjIyNi41NTM1OTI2ODE4ODQ3Nyx6OjEzLjAwMjAxNTM1MjI0OTE0NixuYW1lOlwibGVmdEV5ZVwifSx7eDo0MjAuNTI5OTM3NzQ0MTQwNix5OjIyMS4wMTQ2NjY1NTczMTIsejo2NS40MDY5MDQyMjA1ODEwNSxuYW1lOlwiZmFjZU92YWxcIn0se3g6Mzk3LjA2OTIwNjIzNzc5Mjk3LHk6MjMwLjY2NjE1NTgxNTEyNDUsejoxMy44MDczNDU2Mjg3Mzg0MDMsbmFtZTpcImxlZnRFeWVcIn0se3g6Mzc3Ljk0NjQ3MjE2Nzk2ODc1LHk6Mjg1LjE2NDcwOTA5MTE4NjUsejotMTMuMzA1NDcyMTM1NTQzODIzfSx7eDozNzIuMTExODkyNzAwMTk1Myx5OjI2Ny4xMjY3MzE4NzI1NTg2LHo6LTE4LjgzNzc0NzU3Mzg1MjU0fSx7eDozNjQuOTk2ODcxOTQ4MjQyMix5OjI4Mi4yNDQxMTk2NDQxNjUwNCx6Oi0xOS44MTgxNTA5OTcxNjE4NjV9LHt4OjQwMS45NzM4NzY5NTMxMjUseTozMzEuMjAxMzE0OTI2MTQ3NDYsejoxMS41NjY0MjQzNjk4MTIwMTJ9LHt4OjM5NC4zMDgzMTkwOTE3OTY5LHk6MzM4Ljg2NjkzOTU0NDY3NzczLHo6My4xNDI1NDI1NDEwMjcwNjl9LHt4OjM3My45ODIwODYxODE2NDA2LHk6MzUxLjQ1MDQ2MjM0MTMwODYsejotMTMuNTAzODg3NjUzMzUwODN9LHt4OjQxNC4zODg4ODU0OTgwNDY5LHk6MzIxLjI0NzM1ODMyMjE0MzU1LHo6NDUuNTE4NzIyNTM0MTc5NjksbmFtZTpcImZhY2VPdmFsXCJ9LHt4OjM3My40NDIzNDQ2NjU1MjczNCx5OjIyNy4zMzE2MzM1Njc4MTAwNix6OjEwLjYyNjg3MDM5Mzc1MzA1MixuYW1lOlwibGVmdEV5ZVwifSx7eDozNjQuMDczMTQzMDA1MzcxMSx5OjI0MC4zMTUzOTkxNjk5MjE4OCx6Oi0xMy44MDczNDU2Mjg3Mzg0MDN9LHt4OjM4NC4yNjU4MjMzNjQyNTc4LHk6MzUzLjM3OTMwNjc5MzIxMjksejouNzM4NTg1MDY5Nzc1NTgxNCxuYW1lOlwiZmFjZU92YWxcIn0se3g6NDIzLjIwNTI2MTIzMDQ2ODc1LHk6MjgzLjUxNzYxODE3OTMyMTMsejo0Ny4xNTI3MjQyNjYwNTIyNDZ9LHt4OjM2OS40Mjc5ODYxNDUwMTk1Myx5OjMwNC4wODk4ODk1MjYzNjcyLHo6LTE0LjY0NzY5MTI0OTg0NzQxMixuYW1lOlwibGlwc1wifSx7eDozNzAuNjM4MTIyNTU4NTkzNzUseTozMDUuOTAwNTE2NTEwMDA5NzcsejotMTYuMjExNjY4MjUyOTQ0OTQ2fSx7eDozNzEuOTExOTI2MjY5NTMxMjUseTozMDkuMDE2NzcxMzE2NTI4Myx6Oi0xNy44NDU2NzM1NjEwOTYxOX0se3g6MzczLjA1ODM5NTM4NTc0MjIseTozMTMuMzU0NTM5ODcxMjE1OCx6Oi0xNy4zNzg4MTU0MTI1MjEzNjIsbmFtZTpcImxpcHNcIn0se3g6Mzc1LjM5OTA1NTQ4MDk1NzAzLHk6MzIxLjA5Mjg5MTY5MzExNTIzLHo6LTEzLjExODcyODM5OTI3NjczM30se3g6Mzc5LjI1Njc4MjUzMTczODMseTozMDQuMzU4MjUzNDc5MDAzOSx6Oi03LjkyNDkyNjI4MDk3NTM0Mn0se3g6MzgxLjE4Nzk3MzAyMjQ2MDk0LHk6MzAzLjcwMzEzNjQ0NDA5MTgsejotNy44NDMyMjYxOTQzODE3MTR9LHt4OjM4My4wOTE4NTAyODA3NjE3LHk6MzAyLjQ4ODQ2MDU0MDc3MTUsejotNy42NTA2NDY1NjczNDQ2NjU1LG5hbWU6XCJsaXBzXCJ9LHt4OjM4OS4wOTQ2MTk3NTA5NzY1Nix5OjI5Ny4xNDc1MzE1MDkzOTk0LHo6LTUuNTQ5NzgyNTE0NTcyMTQzNn0se3g6NDExLjY0MDg5MjAyODgwODYseToyODAuMjQ4OTg1MjkwNTI3MzQsejoxMi4wMjE2MTE5Mjg5Mzk4Mn0se3g6MzYzLjMxMTA4MDkzMjYxNzIseToyMzQuMjc2MjA4ODc3NTYzNDgsejotNi43NzUyODY3OTM3MDg4MDF9LHt4OjM2Ni4wNDc0Mzk1NzUxOTUzLHk6MjIzLjI5ODcyMTMxMzQ3NjU2LHo6Ni44Mjc4MDg2MTg1NDU1MzJ9LHt4OjM3MC4zNDQyNzY0MjgyMjI2Nix5OjIyNS4xNDU3MTE4OTg4MDM3LHo6OS41NTg5MzE1ODkxMjY1ODd9LHt4OjM3Ny41MzcxNTUxNTEzNjcyLHk6MzAzLjYwMDc5NzY1MzE5ODI0LHo6LTcuMzU4ODYwMzczNDk3MDA5LG5hbWU6XCJsaXBzXCJ9LHt4OjQxMi45NTU3ODAwMjkyOTY5LHk6Mjk5LjUzNTc5OTAyNjQ4OTI2LHo6MTkuMzk3OTc4NzgyNjUzODF9LHt4OjM2MC4wODEwMjQxNjk5MjE5LHk6MjIxLjcyMDEyMzI5MTAxNTYyLHo6LTIuMTUzMzg1NzI4NTk3NjQxfSx7eDozNzkuODI3ODQyNzEyNDAyMzQseTozMjkuNDc3MjMzODg2NzE4NzUsejotMTAuNDgwOTc4NDg4OTIyMTJ9LHt4OjM1OS4wODQ3Nzc4MzIwMzEyNSx5OjIzNS43OTExNDkxMzk0MDQzLHo6LTE4LjA3OTEwMjAzOTMzNzE1OH0se3g6MzY5LjY2ODg0NjEzMDM3MTEseToyNTEuNTQwNzk0MzcyNTU4Nix6Oi0xNC45NjI4MjEwMDY3NzQ5MDJ9LHt4OjM2OS41NTU1MTE0NzQ2MDk0LHk6MzMzLjUzMDczMTIwMTE3MTksejotMTUuNjc0NzgwNjA3MjIzNTF9LHt4OjM5NC4wMTkzMTc2MjY5NTMxLHk6MzE1LjY5NzMxNzEyMzQxMzEsejotLjk5MjA3NDc1NzgxNDQwNzN9LHt4OjM4My43ODk5NzgwMjczNDM3NSx5OjI3Mi43MjY4Njk1ODMxMjk5LHo6LTQuNjg5MDEyMTY5ODM3OTUyfSx7eDozODcuNjc3NjUwNDUxNjYwMTYseTozMjMuNjcyMjc1NTQzMjEyOSx6Oi01LjY0MDIzNjEzOTI5NzQ4NX0se3g6Mzk3Ljg3NjkzMDIzNjgxNjQseToyNzIuMTMzMTIxNDkwNDc4NSx6Oi0uOTM5NTUzMTU2NDk1MDk0M30se3g6Mzg5Ljg3NDc2MzQ4ODc2OTUzLHk6MjgwLjU2MzAxMTE2OTQzMzYsejotNC4yOTIxODIwMjgyOTM2MX0se3g6NDAzLjgzODg4MjQ0NjI4OTA2LHk6Mjg1LjExNjc4Njk1Njc4NzEsejozLjAyMjkxMDA1ODQ5ODM4MjZ9LHt4OjM3Mi41NDY3MzAwNDE1MDM5LHk6MzQzLjEwNzAzMjc3NTg3ODksejotMTYuMTUzMzEwNTM3MzM4MjU3fSx7eDozNzQuMTExMjUxODMxMDU0Nyx5OjI1Ni4zNzIxNDY2MDY0NDUzLHo6LTEwLjU3NDM0OTE2NDk2Mjc2OX0se3g6Mzk5LjczNzg1NDAwMzkwNjI1LHk6MzIxLjc3NTE1OTgzNTgxNTQzLHo6NC44NDk0OTQ2OTU2NjM0NTJ9LHt4OjM5Mi4wMzM2NTMyNTkyNzczNCx5OjMzMC41NjQ0Nzk4Mjc4ODA4Nix6Oi0xLjM0MDc1OTg0MzU4Nzg3NTR9LHt4OjM5OC41OTEzNDY3NDA3MjI2Nix5OjMwNS45MzkwMjU4Nzg5MDYyNSx6OjEuNTE3MjkwNjIxOTk1OTI2fSx7eDo0MTcuOTU5OTc2MTk2Mjg5MDYseToyOTAuOTcxNjk4NzYwOTg2Myx6OjI2Ljg5MTA1OTg3NTQ4ODI4fSx7eDo0MDYuMDQ1NDE3Nzg1NjQ0NTMseTozMDcuMzUxNTQxNTE5MTY1MDQsejo4LjY2NjA2NDE0MzE4MDg0N30se3g6NDIwLjc1MzI4ODI2OTA0Mjk3LHk6Mjk4LjQwNzUyNjAxNjIzNTM1LHo6NDEuNzgzODUyNTc3MjA5NDd9LHt4OjM5NS40NTIyNzA1MDc4MTI1LHk6MjkxLjQxNTM1NzU4OTcyMTcsejotMi4xNzUyNjk3MjI5Mzg1Mzc2fSx7eDozNjguNjQ1MjEwMjY2MTEzMyx5OjI0NS44ODgyOTk5NDIwMTY2LHo6LTkuNDUzODg4NTM1NDk5NTczfSx7eDozNzAuMzQ5MDA2NjUyODMyMDMseToyNjMuNTY2OTA0MDY3OTkzMTYsejotMjYuNzUxMDAzMjY1MzgwODZ9LHt4OjM3NC45ODQ3NzkzNTc5MTAxNix5OjI2Ni42MTI2MzQ2NTg4MTM1LHo6LTE5Ljc3MTQ2NjI1NTE4Nzk5fSx7eDozNjYuOTk4NDA1NDU2NTQyOTcseToyNTguMTIxNDA0NjQ3ODI3MTUsejotMzEuMzcyOTA0Nzc3NTI2ODU1fSx7eDozNzEuMDA2MTY0NTUwNzgxMjUseToyMTcuNjM0Nzk3MDk2MjUyNDQsejo1LjYwNTIyMTk4Njc3MDYzfSx7eDozODEuMzA1NzcwODc0MDIzNDQseToyMTQuMTQwODcyOTU1MzIyMjcsejo0Ljk4MzcxNjMwOTA3MDU4N30se3g6MzkwLjE0OTYxMjQyNjc1NzgseToyMTMuMzgyMjE1NDk5ODc3OTMsejo1LjU5MzU1MDgwMTI3NzE2MX0se3g6Mzk3Ljc2OTY5OTA5NjY3OTcseToyMTQuMzY1OTc4MjQwOTY2OCx6OjguNTc4NTI4MTY1ODE3MjZ9LHt4OjQwMy4xNjUyMDY5MDkxNzk3LHk6MjE3LjY1NTA5NjA1NDA3NzE1LHo6MTMuMDEzNjg1OTQxNjk2MTY3fSx7eDo0MDcuMzU1MTk0MDkxNzk2OSx5OjIzMC43MjUyNTAyNDQxNDA2Mix6OjIyLjQ0NDIzMTUxMDE2MjM1NH0se3g6NDI0LjA4NzY3NzAwMTk1MzEseToyNTEuNzgzOTI0MTAyNzgzMix6OjUxLjE2NzcxMjIxMTYwODg5fSx7eDo0MDMuNTAxOTY4MzgzNzg5MDYseToyMzkuODg3NTc2MTAzMjEwNDUsejoxNS44MDMxNjY2Mjc4ODM5MTF9LHt4OjM5Ny4zMTcxOTk3MDcwMzEyNSx5OjI0MS40OTgwNjAyMjY0NDA0Myx6OjExLjIzMzc4NzUzNjYyMTA5NH0se3g6Mzg4Ljk5NDI1NTA2NTkxNzk3LHk6MjQxLjQzNjY5MTI4NDE3OTcsejo3Ljk0ODI2OTI0ODAwODcyOH0se3g6MzgwLjc4MDQ0ODkxMzU3NDIseToyMzkuNzgwNzg4NDIxNjMwODYsejo2LjYwMDIxNDgzODk4MTYyOH0se3g6Mzc0LjAxMzM2NjY5OTIxODc1LHk6MjM3LjExOTQ2NDg3NDI2NzU4LHo6Ni4zNDkyNzgwOTIzODQzMzh9LHt4OjM2OS4zOTEyNTA2MTAzNTE1Nix5OjIzNC4zNTM1MTM3MTc2NTEzNyx6OjUuOTg3NDYyNDAxMzkwMDc2fSx7eDo0MjIuOTczMDk4NzU0ODgyOCx5OjI1NS43NjQ1NTExNjI3MTk3Myx6Ojc2LjYxMTUwOTMyMzEyMDEyLG5hbWU6XCJmYWNlT3ZhbFwifSx7eDozNzQuNzM5MTUxMDAwOTc2NTYseToyNjkuMjQyMTQzNjMwOTgxNDUsejotMTYuNjA4NDk4MDk2NDY2MDY0fSx7eDozNjQuNjE2ODEzNjU5NjY3OTcseToyNDUuNzEwODg3OTA4OTM1NTUsejotMjAuMDI4MjM4Mjk2NTA4Nzl9LHt4OjM2NS4zODM0NTMzNjkxNDA2LHk6MjYzLjM0MTc0MTU2MTg4OTY1LHo6LTMyLjMyOTk2NDYzNzc1NjM1fSx7eDozNjEuNTgyNTI3MTYwNjQ0NTMseToyNjcuODI3MzY3NzgyNTkyOCx6Oi0zMC4zNDU4MTY2MTIyNDM2NTJ9LHt4OjM2NS4zNzIwODU1NzEyODkwNix5OjI2NS4wMjQ5NjcxOTM2MDM1LHo6LTI5LjE3ODY2NzA2ODQ4MTQ0NX0se3g6MzcyLjcyNjA1ODk1OTk2MDk0LHk6MjcyLjA1MTM1MzQ1NDU4OTg0LHo6LTE0LjgzNDQzNDk4NjExNDUwMn0se3g6MzYwLjQ4NjE0NTAxOTUzMTI1LHk6MjY4LjM0ODI3NDIzMDk1NzAzLHo6LTMyLjE4OTkwNTY0MzQ2MzEzNX0se3g6MzU5Ljk1MTYyOTYzODY3MTkseToyNzAuODA0OTIwMTk2NTMzMix6Oi0yNC42NTAxMzk4MDg2NTQ3ODV9LHt4OjM2OS41MDQ5Mjg1ODg4NjcyLHk6MjI5LjAxOTQ1MTE0MTM1NzQyLHo6MTAuMTA3NDg5ODI0Mjk1MDQ0fSx7eDozNjUuNTQ0Nzc2OTE2NTAzOSx5OjIzMC4yNDA5NjQ4ODk1MjYzNyx6OjUuNTkzNTUwODAxMjc3MTYxfSx7eDozNjMuNTA2Njk4NjA4Mzk4NDQseToyMzAuNjIwODM3MjExNjA4OSx6Oi40MzYyMjEwNjMxMzcwNTQ0NH0se3g6Mzk5LjM1Mjk1MTA0OTgwNDcseToyMjcuNjU2Nzc0NTIwODc0MDIsejoxNS4zNTk2NTA4NTAyOTYwMixuYW1lOlwibGVmdEV5ZVwifSx7eDo0MDIuNTY5MzEzMDQ5MzE2NCx5OjIyNC42MDE5MDI5NjE3MzA5Nix6OjE1LjkzMTU1MjY0ODU0NDMxMn1dLGJveDp7eE1pbjoyNzcuODMxODk3NzM1NTk1Nyx5TWluOjE2OC43NzQxNzU2NDM5MjA5LHhNYXg6NDI0LjI3ODgzMTQ4MTkzMzYseU1heDozNTkuODM0ODkwMzY1NjAwNix3aWR0aDoxNDYuNDQ2OTMzNzQ2MzM3OSxoZWlnaHQ6MTkxLjA2MDcxNDcyMTY3OTd9fSxTQU1QTEVfRkFDRUxBTkRNQVJLRVJfUkVTVUxUOntmYWNlTGFuZG1hcmtzOltbe3g6LjU3NjA3Nzc1OTI2NTg5OTcseTouODYzOTA3MDM5MTY1NDk2OCx6Oi0uMDMwOTk3OTU2MTcxNjMxODEzfSx7eDouNTcyMDk0NzM4NDgzNDI5LHk6Ljc4ODYyODkzNTgxMzkwMzgsejotLjA3MTg5NjI0MDExNTE2NTcxfSx7eDouNTcyMzU1MTUxMTc2NDUyNix5Oi44MDc1MzgyNzA5NTAzMTc0LHo6LS4wMzU3ODE2ODg5ODgyMDg3N30se3g6LjU1NDg0MjA1NDg0MzkwMjYseTouNzE4ODM2NTQ1OTQ0MjEzOSx6Oi0uMDU3Nzg3ODc2NTc2MTg1MjI2fSx7eDouNTcwNjA3NzgxNDEwMjE3Myx5Oi43Njc0OTc0Nzk5MTU2MTg5LHo6LS4wNzc0MDM5OTk4NjUwNTUwOH0se3g6LjU2ODEzNzgyNDUzNTM2OTkseTouNzM4Nzc2ODAzMDE2NjYyNix6Oi0uMDczNTYyODQ1NTg3NzMwNDF9LHt4Oi41NjIxNTM1MTgxOTk5MjA3LHk6LjY2ODExNjUwOTkxNDM5ODIsejotLjA0MTg5ODc0OTc2ODczMzk4fSx7eDouNDY2MTM1ODI5Njg3MTE4NTMseTouNjY3OTgxMjA3MzcwNzU4MSx6Oi4wMTEyODk2ODEzMDc5NzE0Nzh9LHt4Oi41NTc5OTMyOTI4MDg1MzI3LHk6LjYxNzQxMDY1OTc5MDAzOTEsejotLjAzNTAyODIxNTQ5NzczMjE2fSx7eDouNTU2MzQ1MTY0Nzc1ODQ4NCx5Oi41OTA1NjAwMTkwMTYyNjU5LHo6LS4wMzkyODY1ODczODczMjMzOH0se3g6LjU0ODc4MzI0MjcwMjQ4NDEseTouNDkwMDU3MjU5Nzk4MDQ5OSx6Oi0uMDI5ODk4OTM3NzkxNTg1OTIyfSx7eDouNTc2NTU0NDE3NjEwMTY4NSx5Oi44NjkyMTQ0NzUxNTQ4NzY3LHo6LS4wMjgzMTQyNzc1Mjk3MTY0OX0se3g6LjU3NzExMTQyMzAxNTU5NDUseTouODczNjQ0MjMyNzQ5OTM5LHo6LS4wMjM0NTc3OTkxMDY4MzYzMn0se3g6LjU3NzE5MDU3Nzk4Mzg1NjIseTouODc3MDE2MDA3OTAwMjM4LHo6LS4wMTY2NTg2ODk4MjY3MjY5MTN9LHt4Oi41Nzc4MDU4NzY3MzE4NzI2LHk6Ljg3NzAxMTY1Njc2MTE2OTQsejotLjAxNDUwNTQ5MjUyMzMxMjU2OX0se3g6LjU3ODM3NjY1MDgxMDI0MTcseTouODgzNTAwMDk5MTgyMTI4OSx6Oi0uMDE1OTk2NDAyMTI5NTMwOTA3fSx7eDouNTc5MjQ0MDE3NjAxMDEzMix5Oi44OTEzODEwODQ5MTg5NzU4LHo6LS4wMTkyNDU3OTIxODAyOTk3Nn0se3g6LjU3OTY3NjgwNjkyNjcyNzMseTouODk5NjMzNDY3MTk3NDE4Mix6Oi0uMDE4MjYxNzEyMDQ0NDc3NDYzfSx7eDouNTgxNzI4ODE2MDMyNDA5Nyx5Oi45MjU1ODEzOTU2MjYwNjgxLHo6LS4wMDcxMjY4NDkxNDQ2OTcxODl9LHt4Oi41NzI2NTkyNTQwNzQwOTY3LHk6Ljc5OTI0NzMyNDQ2NjcwNTMsejotLjA2NDM1MjEzOTgzMDU4OTN9LHt4Oi41NTc5NDE5MTM2MDQ3MzYzLHk6Ljc5OTY5ODk0ODg2MDE2ODUsejotLjA0NTY2Njg0MzY1MjcyNTIyfSx7eDouNDIxNjE5OTgxNTI3MzI4NSx5Oi41OTU4NzYyNzY0OTMwNzI1LHo6LjA2Nzc2NDk2MDIyOTM5NjgyfSx7eDouNTA1MjI2OTY5NzE4OTMzMSx5Oi42Nzk2NTM5NDI1ODQ5OTE1LHo6LS4wMDEwNzM3NzgyNTc3MDUyNzEyfSx7eDouNDkyNDMwMjY5NzE4MTcwMTcseTouNjgzODg2NTg3NjE5NzgxNSx6Oi0uMDAwNTIyNzMyNDQzNjQxODcxMn0se3g6LjQ3OTY5NzA3ODQ2NjQxNTQseTouNjg1NjI5MDEwMjAwNTAwNSx6Oi4wMDI2ODQyNDU4MTczNjMyNjJ9LHt4Oi40NjE4MzU2MjI3ODc0NzU2LHk6LjY3NjQ1Njk4Nzg1NzgxODYsejouMDEzNDM5NjIyNzA3NjY0OTY3fSx7eDouNTE2MDM4MDYwMTg4MjkzNSx5Oi42NzM3MjgyMjc2MTUzNTY0LHo6LTE3NjA3MzQ4MTI3MDU3Nzc2ZS0yMX0se3g6LjQ4MDcwOTYxMjM2OTUzNzM1LHk6LjYyNTU4NzA0NjE0NjM5MjgsejotLjAwODMzOTY3NDIxMjAzODUxN30se3g6LjQ5NzE5NzgwNjgzNTE3NDU2LHk6LjYyNTY4MDgwNDI1MjYyNDUsejotLjAwODAyNzk1NTg4OTcwMTg0M30se3g6LjQ2Njc0MzQ2OTIzODI4MTI1LHk6LjYzMTc2MjM4NTM2ODM0NzIsejotLjAwNDQ2MDE5OTczNjA1ODcxMn0se3g6LjQ1ODI0OTI3MDkxNTk4NTEseTouNjQxMTE4MDQ5NjIxNTgyLHo6LjAwMTE5MDU2MTMzNTUzMzg1NzN9LHt4Oi40NTQwODY2OTExNDExMjg1NCx5Oi42OTExNDU4OTY5MTE2MjExLHo6LjAyMDUxNDc0ODk5MDUzNTczNn0se3g6LjUzNTMxMjI5NDk2MDAyMix5Oi45NjE5OTg2NDE0OTA5MzYzLHo6LjAxMjQ5OTQ2MjgxMzEzODk2Mn0se3g6LjQ2MDg0NjAwNjg3MDI2OTgseTouNjYyODcyNTUyODcxNzA0MSx6Oi4wMTUxNzU2NDI0NDU2ODM0OH0se3g6LjQyMDY3MzE5MTU0NzM5MzgseTouNjgyODQ1ODMwOTE3MzU4NCx6Oi4wNzg0ODY0ODcyNjk0MDE1NX0se3g6LjQzOTA2MjQ0NjM1NTgxOTcseTouNjc5NjEwNjY5NjEyODg0NSx6Oi4wMzI4MzE0MjI5ODQ2MDAwN30se3g6LjUwMjk5Njg2MTkzNDY2MTkseTouNzcwMTU3MDM5MTY1NDk2OCx6Oi0uMDA5NzM0NDgxNTczMTA0ODU4fSx7eDouNTU5NTAyNzIwODMyODI0Nyx5Oi44NjA3MzIzMTY5NzA4MjUyLHo6LS4wMzAwNDMyNTU1Mzc3NDgzMzd9LHt4Oi41NjIxMjY5OTQxMzI5OTU2LHk6Ljg3MzgzNzQ3MTAwODMwMDgsejotLjAyMTcwOTU3OTk3NDQxMjkxOH0se3g6LjU0NTE0OTk4MTk3NTU1NTQseTouODY1NTI3MzMxODI5MDcxLHo6LS4wMjIwMTQwNzc3NTI4Mjg1OTh9LHt4Oi41MzUxMTg0MDEwNTA1Njc2LHk6Ljg3MDUwOTgwMzI5NTEzNTUsejotLjAxMTYwMjgwMDMzOTQ2MDM3M30se3g6LjU0OTUwMTQxOTA2NzM4MjgseTouODc0NDk1NjI1NDk1OTEwNix6Oi0uMDE2NDkwOTQzNzI5ODc3NDcyfSx7eDouNTM5NTE3MDQ1MDIxMDU3MSx5Oi44NzU5NDQwNzc5Njg1OTc0LHo6LS4wMDczMzMzNjI5NDA2OTg4NjJ9LHt4Oi41MTgzNjI0MDI5MTU5NTQ2LHk6Ljg5NTk3NTQ3MDU0MjkwNzcsejouMDEwNTIwNzczOTM5Nzg4MzQyfSx7eDouNTYwNDM0OTM3NDc3MTExOCx5Oi43ODk1NDQ5OTk1OTk0NTY4LHo6LS4wNzA4MjAzNzYyNzY5Njk5MX0se3g6LjU1NzM4MTI3MjMxNTk3OSx5Oi43Njg3NDg5OTg2NDE5Njc4LHo6LS4wNzU5MDU4ODkyNzI2ODk4Mn0se3g6LjQ0MzI5MDE0NDIwNTA5MzQseTouNjMwODg5NzczMzY4ODM1NCx6Oi4wMDI3MTUzMjU0NDg2NjIwNDI2fSx7eDouNTI1ODMyNTMzODM2MzY0Nyx5Oi43MTUxMjI1ODA1MjgyNTkzLHo6LS4wMTQ2NzY1MTg3MzgyNjk4MDZ9LHt4Oi41MjcxODI3NTc4NTQ0NjE3LHk6Ljc4MzMxMTYwNTQ1MzQ5MTIsejotLjAzNzY0MzMyMDg1ODQ3ODU0Nn0se3g6LjUyNTczODI5ODg5Mjk3NDkseTouNzcxNzgxNjIzMzYzNDk0OSx6Oi0uMDM0MDE5MjA5NDQ0NTIyODZ9LHt4Oi40NjUxNjQwOTUxNjMzNDUzNCx5Oi43NzA1MTA2NzM1MjI5NDkyLHo6LjAwNjU3NDc3NjAyMzYyNjMyNzV9LHt4Oi41NTU4ODkzMDg0NTI2MDYyLHk6Ljc0MjA5OTc2MTk2Mjg5MDYsejotLjA2OTQ0OTUyOTA1MTc4MDd9LHt4Oi40NzIwNDA4MzIwNDI2OTQxLHk6LjYwNjYwMzg2MDg1NTEwMjUsejotLjAyMTIwNDM1NjEwNDEzNTUxM30se3g6LjQ1NDMyNTczNTU2OTAwMDI0LHk6LjYxNTg1NDA4NDQ5MTcyOTcsejotLjAxMTA1NDY4NDQwODAwOTA1Mn0se3g6LjQzMDUxNTE0MDI5NTAyODcseTouNTYwODA1MzgwMzQ0MzkwOSx6Oi4wMzk2ODMwMjkwNTU1OTU0fSx7eDouNTMxMDg2NTY0MDY0MDI1OSx5Oi42MTU3NDg0NjUwNjExODc3LHo6LS4wMzA4MTE3NjA1NzQ1NzkyNH0se3g6LjUxMTQ2NjYyMjM1MjYwMDEseTouNjMyOTc0OTIyNjU3MDEyOSx6Oi0uMDAzMzU5OTgyMDQ1MzY3MzZ9LHt4Oi41MDY0MzU3NTE5MTQ5NzgseTouODc4NjU0MzYwNzcxMTc5Mix6Oi4wMTI5ODA4NzY0OTA0NzM3NDd9LHt4Oi40NDgwNDcyMjA3MDY5Mzk3LHk6Ljg2NDA2MTM1NTU5MDgyMDMsejouMTI1Njk2NTEwMDc2NTIyODN9LHt4Oi41MzcyMDU4MTUzMTUyNDY2LHk6Ljc5NDI1ODExNzY3NTc4MTIsejotLjAzMTY4MzYxNjM0MDE2MDM3fSx7eDouNTQ4ODM3OTU5NzY2Mzg3OSx5Oi44MDAxNjMwMzA2MjQzODk2LHo6LS4wMzI4MDkxNzkyNzYyMjc5NX0se3g6LjUyMTMzODgyMDQ1NzQ1ODUseTouODc5NDM4MTYxODQ5OTc1Nix6Oi4wMTE4OTI2MDY1MDQyNjE0OTR9LHt4Oi41MjQyMDU1NjU0NTI1NzU3LHk6Ljg3ODkyMjIyNDA0NDc5OTgsejouMDA4MzcwMjI1MzE3Nzc2MjAzfSx7eDouNDQ3NzE3NTE3NjE0MzY0Nix5Oi42MDM5OTUwMjUxNTc5Mjg1LHo6LS4wMDUwNzk5OTcyMzc3NzE3NDk1fSx7eDouNTI2OTY0MDA4ODA4MTM2LHk6Ljc5MTY3NDg1MjM3MTIxNTgsejotLjAyOTY4NjE0MTc1OTE1NzE4fSx7eDouNDk3MTI1NTY2MDA1NzA2OCx5Oi42MDUwNzA2NTA1Nzc1NDUyLHo6LS4wMjgxNzU2NzgxMDQxNjIyMTZ9LHt4Oi40OTM4MTE5MDUzODQwNjM3LHk6LjU4ODI0NTM5MTg0NTcwMzEsejotLjAzMjEwOTQxMzI5NTk4NDI3fSx7eDouNDc1NzE0MzU1NzA3MTY4Nix5Oi41MDk0ODc5ODY1NjQ2MzYyLHo6LS4wMTMwMDczMDgzNTY0NjM5MX0se3g6LjQzOTQ3MjgyNDMzNTA5ODI3LHk6LjU4MTY2NDgwMDY0MzkyMDksejouMDE0MTUxNzc0MzQ2ODI4NDZ9LHt4Oi40ODU2NjQwMzk4NTAyMzUseTouNTQ3Nzg2NDE0NjIzMjYwNSx6Oi0uMDIzNjg1MzMyMzg3Njg1Nzc2fSx7eDouNDM2MzU5MzE2MTEwNjEwOTYseTouNjIyNjQzODI4MzkyMDI4OCx6Oi4wMTM2MDYxNDg3NzE5NDE2NjJ9LHt4Oi40MjkxMDI1MTAyMTM4NTE5Myx5Oi42MTAyNzI2NDU5NTAzMTc0LHo6LjAzOTI2NTY0MDA3OTk3NTEzfSx7eDouNTYwNTQwMjU4ODg0NDI5OSx5Oi44NjgwMDk5MjQ4ODg2MTA4LHo6LS4wMjczMTgxNTkxMTgyOTQ3MTZ9LHt4Oi41NDc0ODE2NTYwNzQ1MjM5LHk6Ljg3MDI4NjEwNzA2MzI5MzUsejotLjAxOTY4NjM2NzM2MjczNzY1Nn0se3g6LjUzNzMwMjEzNjQyMTIwMzYseTouODcyODgzODU2Mjk2NTM5Myx6Oi0uMDEwNDg0OTI4MjY1MjEzOTY2fSx7eDouNTQwNzM1MTI1NTQxNjg3LHk6Ljc5NzkxNjcxMDM3NjczOTUsejotLjAyOTA3MzI1MzI3Mzk2MzkyOH0se3g6LjUyMjg1ODUwMDQ4MDY1MTkseTouODc5MTM1Nzg3NDg3MDMsejouMDA5OTE1MTA5NzIzODA2MzgxfSx7eDouNTMwNDk3NjcwMTczNjQ1LHk6Ljg4MTUyNTM5NzMwMDcyMDIsejouMDAyMDUyNDc4NDkyMjU5OTc5Mn0se3g6LjUyNTk5MTI2MTAwNTQwMTYseTouODc5MDU1MjYxNjExOTM4NSx6Oi4wMDc4OTU5NzA3MTcwNzI0ODd9LHt4Oi41NDMzOTA2MzE2NzU3MjAyLHk6Ljc4ODIzMTA3NDgxMDAyODEsejotLjA1MTIxOTA1MzU2NjQ1NTg0fSx7eDouNTQxMzg4MjEzNjM0NDkxLHk6Ljg3NzcyMTk2NTMxMjk1NzgsejotLjAwNDY2ODA0NDM5MjAxOTUxfSx7eDouNTUxNTgyMjE3MjE2NDkxNyx5Oi44NzY3MDIzMDg2NTQ3ODUyLHo6LS4wMTA0NzU5NDY1OTAzMDQzNzV9LHt4Oi41NjM3MDAzNzc5NDExMzE2LHk6Ljg3NzA1OTgxNzMxNDE0OCx6Oi0uMDE1MjczNjI1MDMxMTEzNjI1fSx7eDouNTY0MDI5OTMyMDIyMDk0Nyx5Oi45MjYzNDIzMDg1MjEyNzA4LHo6LS4wMDY1ODcyNDk2OTI1Mjk0NH0se3g6LjU2NDIzMDAyNDgxNDYwNTcseTouODk5MzA3NDg5Mzk1MTQxNix6Oi0uMDE3NjUzNDgwMTcyMTU3Mjg4fSx7eDouNTYzNzMzNjM3MzMyOTE2Myx5Oi44OTEwMzYwOTMyMzUwMTU5LHo6LS4wMTg1MjgwNzAzMDA4MTc0OX0se3g6LjU2MzcxMzQzMTM1ODMzNzQseTouODgzNzI3NjY5NzE1ODgxMyx6Oi0uMDE0ODI1OTI1MjMwOTc5OTJ9LHt4Oi41NjQyMDU1MjczMDU2MDMseTouODc2ODk2NDQwOTgyODE4Nix6Oi0uMDEzMzExNTUwMDIxMTcxNTd9LHt4Oi41NDE5ODY3NjM0NzczMjU0LHk6Ljg3NzgzNzM1OTkwNTI0MjksejotLjAwMzc3MjAzOTQzMjA3ODZ9LHt4Oi41NDA0NDY4Nzc0Nzk1NTMyLHk6Ljg4MDY5NjE3NzQ4MjYwNSx6Oi0uMDA1NjEwMzU0MjQ0NzA5MDE1fSx7eDouNTM5MjMzODYzMzUzNzI5Mix5Oi44ODQ1NzIxNDgzMjMwNTkxLHo6LS4wMDczNTIwMjU3MTM3NzE1ODJ9LHt4Oi41Mzg0Njk2NzIyMDMwNjQseTouODg5MTE3MzYwMTE1MDUxMyx6Oi0uMDA1MTU0OTkxOTg4MDkyNjYxfSx7eDouNTE4OTI1MDExMTU3OTg5NSx5Oi44NDUyNzQxNTAzNzE1NTE1LHo6LS4wMDk3NTUwNzAzMjEyNjE4ODN9LHt4Oi40MjU4OTc1MDg4NTk2MzQ0LHk6Ljc2NjIyODA3OTc5NTgzNzQsejouMTM4NzM1MTE1NTI4MTA2N30se3g6LjU3MjU3MjUyOTMxNTk0ODUseTouODA0MTU3MjU3MDgwMDc4MSx6Oi0uMDQ1ODM5MDc4NzI0Mzg0MzF9LHt4Oi41MzQyMDYxNTE5NjIyODAzLHk6Ljg3ODU4MzMxMjAzNDYwNjksejouMDAyNjU5OTc0MTU0MDg0OTIxfSx7eDouNTMyNDAzMTExNDU3ODI0Nyx5Oi44ODA0MDcxNTQ1NjAwODkxLHo6LjAwMTc4MzIwMDMwNjgxNzg4OTJ9LHt4Oi41NTM4ODE4ODM2MjEyMTU4LHk6LjgwNzg0MDc2NDUyMjU1MjUsejotLjAzMjU0NTM5ODkyMDc3NDQ2fSx7eDouNTMyNTQzMTgyMzczMDQ2OSx5Oi44MDI2ODMyOTM4MTk0Mjc1LHo6LS4wMTkxNDAzNzM5MTU0MzM4ODR9LHt4Oi41NTE0MDc2OTQ4MTY1ODk0LHk6LjgwNDM5MDMxMTI0MTE0OTksejotLjAzMzEzNTM1NDUxODg5MDM4fSx7eDouNTEzMTg1NjIwMzA3OTIyNCx5Oi43Mjg0NzcxODAwMDQxMTk5LHo6LS4wMDkzOTk4NTM2NDY3NTUyMTl9LHt4Oi40OTMzMTUwNDEwNjUyMTYwNix5Oi43NDQzOTgwNTc0NjA3ODQ5LHo6LS4wMDUyMjUyMzA5Mzk2ODYyOTh9LHt4Oi41MjM5NjE3ODI0NTU0NDQzLHk6Ljc4MDc0NTE0ODY1ODc1MjQsejotLjAyNTg4MTAyNzgwMjgyNDk3NH0se3g6LjQ0NzM2MDYwNTAwMTQ0OTYseTouNTMxNTgyNzEzMTI3MTM2Mix6Oi4wMTExNjQ3ODYyOTQxMDI2Njl9LHt4Oi40NTcxODc1OTI5ODMyNDU4NSx5Oi41NjA0OTQxMjQ4ODkzNzM4LHo6LS4wMDU5NDMzMDE1OTk0NzI3NjF9LHt4Oi40NjcwMDA1NzM4NzM1MTk5LHk6LjU5MDkzMjcyNjg2MDA0NjQsejotLjAxOTY4MTc2MTA0MTI4MzYwN30se3g6LjUzMTE1NzAxNjc1NDE1MDQseTouOTA3NjI2MTUyMDM4NTc0Mix6Oi4wMDM4OTQ3NjM1MzMwMjU5OH0se3g6LjUyNDk5MjM0Njc2MzYxMDgseTouNTg5MzU2MzYyODE5NjcxNix6Oi0uMDM3OTgxOTE5OTQ0Mjg2MzQ2fSx7eDouNTE2NjkzMjM0NDQzNjY0Nix5Oi41NDI5NTUxMDA1MzYzNDY0LHo6LS4wMzMxOTcwNDE2MDA5NDI2MX0se3g6LjUwODUwMzAxOTgwOTcyMjkseTouNDk2NzYyMDY3MDc5NTQ0MDcsejotLjAyNjkxMjc1MjUzODkxOTQ1fSx7eDouNDY4NzcyMDIzOTE2MjQ0NSx5Oi42ODM0NTY1OTk3MTIzNzE4LHo6LjAwODExMzUwNjI1MDA4MzQ0N30se3g6LjQ0MjY0MTQ5NjY1ODMyNTIseTouNzA2OTUzMTY3OTE1MzQ0Mix6Oi4wMjg1NzcyNzE4NDg5MTcwMDd9LHt4Oi41MjMwMzczNzQwMTk2MjI4LHk6LjY2NzU3MTM2NTgzMzI4MjUsejouMDAxNzczNzcyNDExOTc5NzM1fSx7eDouNDQ4MTI0MDIxMjkxNzMyOCx5Oi42NTI3ODcyMDg1NTcxMjg5LHo6LjAxMjQxNDg1MDI5NDU4OTk5Nn0se3g6LjUzMzk4NTY3NDM4MTI1NjEseTouNzAxMjM2Nzg0NDU4MTYwNCx6Oi0uMDIwMjIwMTg4NDIzOTkxMjAzfSx7eDouNTM0NzIyMzI4MTg2MDM1Mix5Oi43NzYxMTkwNTMzNjM4LHo6LS4wNTE0MTU5NTAwNTk4OTA3NX0se3g6LjQzMTUwNjcyMzE2NTUxMjEseTouNzIxMTk1NzU3Mzg5MDY4Nix6Oi4wNDM4MTQwNTkzNDY5MTQyOX0se3g6LjQ1MjAzMzUxOTc0NDg3MzA1LHk6LjcyMDYxODAwOTU2NzI2MDcsejouMDE3Mjg4MDcwMTcyMDcxNDU3fSx7eDouNDY4OTI0NTIyMzk5OTAyMzQseTouNzI2NTQzNjA1MzI3NjA2Mix6Oi4wMDU2MDI5ODg4ODAxMjc2Njh9LHt4Oi40OTMxNDY3NDczNTA2OTI3NSx5Oi43MjAyMjgyNTQ3OTUwNzQ1LHo6LS4wMDA2NDA4MjA1MzcyMjgxMzczfSx7eDouNTEwNDkyNTYzMjQ3NjgwNyx5Oi43MDkxODI3MzkyNTc4MTI1LHo6LS4wMDM2MjkxODc1ODc2NDg2M30se3g6LjUyMzIxNDIyMTAwMDY3MTQseTouNjk4NTUzNzQwOTc4MjQxLHo6LS4wMDc4Nzg2NzA0Njg5MjY0M30se3g6LjU0OTc4ODM1NTgyNzMzMTUseTouNjc0MzYwNTEzNjg3MTMzOCx6Oi0uMDM2MzQ5MTA2NTgwMDE5fSx7eDouNDM2NTg1MDM4OTAwMzc1MzcseTouNzYyNzEwMDM0ODQ3MjU5NSx6Oi4wNDI1NTUzNjk0MzY3NDA4NzV9LHt4Oi40Mzk3NjQ4ODcwOTQ0OTc3LHk6LjY1Mjg2NDYzNDk5MDY5MjEsejouMDE3OTU2MDk0ODE2MzI3MDk1fSx7eDouNTY1MzMzMjQ3MTg0NzUzNCx5Oi43OTkyODAyODU4MzUyNjYxLHo6LS4wNjM2NTA1NzgyNjA0MjE3NX0se3g6LjUyODU1NjM0Njg5MzMxMDUseTouNzM2ODEwNTY0OTk0ODEyLHo6LS4wMTg4MzY5ODgxMzYxNzIyOTV9LHt4Oi40MTgwNjc4NzI1MjQyNjE1LHk6LjY3OTI1NjA4MTU4MTExNTcsejouMTIyODQ2Nzk3MTA4NjUwMjF9LHt4Oi41MzI4NDI5OTM3MzYyNjcxLHk6LjY4NjU4NzIxNDQ2OTkwOTcsejotLjAxMDQ4NDcyMzM3NDI0NzU1MX0se3g6LjUyMzAyODMxNDExMzYxNjkseTouNzgwOTQxNjA1NTY3OTMyMSx6Oi0uMDExOTIyMzk4NTgyMTAwODY4fSx7eDouNDU1MTc3MTI4MzE0OTcxOSx5Oi42NjUwNzc1MDc0OTU4ODAxLHo6LjAxNzc0NDkzMDQ2MTA0OTA4fSx7eDouNTMzNzIwMzc0MTA3MzYwOCx5Oi43NjE4OTI4NTUxNjczODg5LHo6LS4wNDY5NzEwNjAzMzU2MzYxNH0se3g6LjQzNDYzOTc1MTkxMTE2MzMzLHk6LjgxMzM0NzgxNjQ2NzI4NTIsejouMTM1NDg0OTkzNDU3Nzk0Mn0se3g6LjUyMjU3MDcyOTI1NTY3NjMseTouNjYwNTI4MzYxNzk3MzMyOCx6Oi4wMDQ5ODA1MTU2ODg2NTc3NjF9LHt4Oi41NDQxOTMzODcwMzE1NTUyLHk6Ljc0OTcxOTk3NzM3ODg0NTIsejotLjA2MDkxNTEyMzY3MTI5MzI2fSx7eDouNDc3NDAwNzc5NzI0MTIxMSx5Oi45MTU5MTgzNTAyMTk3MjY2LHo6LjA1OTYyMjczNDc4NTA3OTk1Nn0se3g6LjQ4MDY4NzYxODI1NTYxNTIzLHk6LjkzNjQ5NDE3MTYxOTQxNTMsejouMDg0MDQ5NDQ4MzcwOTMzNTN9LHt4Oi40MjY4MjkyNDg2NjY3NjMzLHk6Ljc2NTc1Mjg1MTk2MzA0MzIsejouMDkwNTEwOTcxODQ0MTk2MzJ9LHt4Oi40NjA1MTkxMzQ5OTgzMjE1Myx5Oi44ODgwNDg1ODkyMjk1ODM3LHo6LjA3Mzg0NzQ0Mjg2NTM3MTd9LHt4Oi40MjQzNDIwNjYwNDk1NzU4LHk6LjY0MzQzODIyMDAyNDEwODksejouMDYyMzA1MDUxODMzMzkxMTl9LHt4Oi41MzQyMTU3NDgzMTAwODkxLHk6Ljk4MzU2MzQyMzE1NjczODMsejouMDIxNjYyOTcxMDA0ODQzNzEyfSx7eDouNTY2ODEwOTY1NTM4MDI0OSx5Oi44MDQyMTg3MDk0Njg4NDE2LHo6LS4wNDQ5MzcwNzQxODQ0MTc3MjV9LHt4Oi41MTc2MzQxNTMzNjYwODg5LHk6Ljc1MzA1ODczMTU1NTkzODcsejotLjAxMjk2NzQ1NDI2OTUyODM4OX0se3g6LjQzMDIwNjI5ODgyODEyNSx5Oi42ODM1NjA1NTAyMTI4NjAxLHo6LjA0NjEyMjg0MTUzNjk5ODc1fSx7eDouNDc5NDIzMTk1MTIzNjcyNSx5Oi42NzMyMTE0NTUzNDUxNTM4LHo6LjAwMzk3MDA0NDY2NTAzODU4Nn0se3g6LjQ5MDczMzQ3NDQ5MzAyNjczLHk6LjY3MjI0MzUzNTUxODY0NjIsejouMDAwODY5MjUxNDM4NDE2NTQwNn0se3g6LjUyOTQxMTYxMzk0MTE5MjYseTouODg0Njc3NTI5MzM1MDIyLHo6LjAwNDQxMzg5MDE4NjY5NzI0NX0se3g6LjQ0MzAxMjIzNzU0ODgyODEseTouODAyMzUzNTYwOTI0NTMsejouMDQ5ODcyODIzMDU5NTU4ODd9LHt4Oi41NjAzODI1NDQ5OTQzNTQyLHk6MS4wMDkyNDQyMDM1Njc1MDQ5LHo6LjAyNjQxNzM1OTcwOTczOTY4NX0se3g6LjUxODY1OTgzMDA5MzM4MzgseTouOTgyODY1OTg5MjA4MjIxNCx6Oi4wNTEzNTk4ODA3MTU2MDg2fSx7eDouNTAxMDUzNjkwOTEwMzM5NCx5Oi45NjQwOTMyNjc5MTc2MzMxLHo6LjA2NTkxNTk2NDU0MzgxOTQzfSx7eDouNTUyNDc2OTQyNTM5MjE1MSx5Oi41Mzk0NDE3MDQ3NTAwNjEsejotLjAzNTgxNjA0NzM0MDYzMTQ4NX0se3g6LjU4Nzk5OTc2MTEwNDU4MzcseToxLjAwOTE0NzI4NjQxNTEsejouMDIyODUwNjg4NTQ2ODk1OTh9LHt4Oi41MDE2MTkzOTg1OTM5MDI2LHk6LjY2ODQ0Mzc5OTAxODg1OTksejouMDAwMjg0MTU5NDEwNTEyMDc0ODN9LHt4Oi41MTE5NTI4MTc0NDAwMzMseTouNjY0MjE5NzM3MDUyOTE3NSx6Oi4wMDIxMTQ0NzE5Nzk0MzkyNTg2fSx7eDouNTE5NDM0MzMyODQ3NTk1Mix5Oi42NjIzNDY5NTkxMTQwNzQ3LHo6LjAwNDY3NDE4MTM0MjEyNDkzOX0se3g6LjQzMjEyMzAzNTE5MjQ4OTYseTouNjQ5NjM1NTUzMzU5OTg1NCx6Oi4wMzEyNDY5NzEzMzg5ODczNX0se3g6LjUwODY4NjM2MzY5NzA1Mix5Oi42NDc5NTY1NTAxMjEzMDc0LHo6LS4wMDA0NDc2NTk5ODYwOTM2NDAzM30se3g6LjQ5NjM5ODYyNzc1ODAyNjEseTouNjQzMTAzMjQxOTIwNDcxMix6Oi0uMDAzMjUwNzY4ODczODQwNTcwNH0se3g6LjQ4NDU1NDIwMTM2NDUxNzIseTouNjQzMDc3ODUwMzQxNzk2OSx6Oi0uMDAyOTAzNjI0NDM3NzQ5Mzg2fSx7eDouNDczMzYxMjUzNzM4NDAzMyx5Oi42NDc1MDY4MzMwNzY0NzcsejouMDAwMjMzNDcyNDcwNDI2OTMxOTh9LHt4Oi40NjY4NjU0NTAxNDM4MTQxLHk6LjY1MzM0NjU5ODE0ODM0Nix6Oi4wMDQ3NjI1NzIyMzYzNTkxMTl9LHt4Oi40MTgxNTA1MTQzNjQyNDI1NSx5Oi42MzM3MDgxMTkzOTIzOTUsejouMDk4MDk0MzU5MDQwMjYwMzF9LHt4Oi40NzE1OTk0Mjk4NDU4MDk5NCx5Oi42NzExNDg1Mzg1ODk0Nzc1LHo6LjAwNzg0OTkzNTQ0MjIwOTI0NH0se3g6LjU3MzQzOTY1NzY4ODE0MDkseTouODI1NjE0MDM1MTI5NTQ3MSx6Oi0uMDMxNTUyMTk5Mjc0MzAxNTN9LHt4Oi41MzA2NTI0MDM4MzE0ODE5LHk6LjgzMzc5OTA2NDE1OTM5MzMsejotLjAxODM1MTQyNjM0ODA5MDE3Mn0se3g6LjUzNzE3MjkxMzU1MTMzMDYseTouNzkxMDgzMDk3NDU3ODg1Nyx6Oi0uMDM3Mjg2NjgwMTkxNzU1Mjk1fSx7eDouNTU0OTUzNDU1OTI0OTg3OCx5Oi44Mjc1Mjc1ODI2NDU0MTYzLHo6LS4wMzA2NjQ4MjU4MTE5ODIxNTV9LHt4Oi41NTk3NDMyMjU1NzQ0OTM0LHk6LjY0MTg1NDE2Njk4NDU1ODEsejotLjAzMzE4ODQ3MzQzMzI1NjE1fSx7eDouNDk1ODQ4NDE3MjgyMTA0NSx5Oi45NDI5NTY5MjQ0Mzg0NzY2LHo6LjA0ODM0MDY3ODIxNTAyNjg1NX0se3g6LjUxNDA1MDc4MTcyNjgzNzIseTouOTYzNDAyODA3NzEyNTU0OSx6Oi4wMzU4OTg0NzMxMTM3NzUyNX0se3g6LjU1ODc2OTM0NTI4MzUwODMseTouOTk1MTA5NzM2OTE5NDAzMSx6Oi4wMDkwODcyODY4ODk1NTMwN30se3g6LjQ2NDExMTg5NDM2OTEyNTM3LHk6LjkwNTE4NTUyMDY0ODk1NjMsejouMTA2MDE5MzU1MzU2NjkzMjd9LHt4Oi41MTgxNjA5MzkyMTY2MTM4LHk6LjY1NTQzMTY4NzgzMTg3ODcsejouMDAyNTQ2MDcxMzA3NzMzNjU1fSx7eDouNTQzNjU5MDkwOTk1Nzg4Nix5Oi43MDg1ODQxMjk4MTAzMzMzLHo6LS4wMzg0NDQzNjYzMDYwNjY1MX0se3g6LjU4NzIxODc2MTQ0NDA5MTgseTouOTk2MDM4MjU4MDc1NzE0MSx6Oi4wMDYzNDIzMjc2ODc4ODkzMzc1fSx7eDouNTM3OTY1MzU3MzAzNjE5NCx5Oi45OTg5MTI1NzI4NjA3MTc4LHo6LjAzNjM2MzI5OTkzNjA1NjE0fSx7eDouNDM1MDMyNjk1NTMxODQ1MSx5Oi44MDg4NTY1NDY4Nzg4MTQ3LHo6LjA5MTQ3NzA0MzkyNjcxNTg1fSx7eDouNTUyMzA4NDk5ODEzMDc5OCx5Oi44NzczNDIyODM3MjU3Mzg1LHo6LS4wMDkwNjg0ODcyMTIwNjE4ODJ9LHt4Oi41NTEwMTQ5NTk4MTIxNjQzLHk6Ljg4MTY5MzE4NDM3NTc2MjksejotLjAxMTA0Mzg1MzEyNjQ2NjI3NH0se3g6LjU1MDM3OTM5NTQ4NDkyNDMseTouODg3NzY2OTU3MjgzMDIsejotLjAxMzQ4Nzk5NDY3MDg2NzkyfSx7eDouNTUwMTU0OTI0MzkyNzAwMix5Oi44OTU0MzcwNjE3ODY2NTE2LHo6LS4wMTIxNDIxODk3NzgzODc1NDd9LHt4Oi41NDYwNzI3ODEwODU5NjgseTouOTE5MjUyNDU1MjM0NTI3Nix6Oi0uMDAzMTU3NTYzMDQxODk1NjI4fSx7eDouNTMxNDY2MTg2MDQ2NjAwMyx5Oi44NzcxNjY2ODg0NDIyMzAyLHo6LjAwMDUwNzUxNDEwODkwMzcwNjF9LHt4Oi41MjkzMzI0NTg5NzI5MzA5LHk6Ljg3NjI1NDc5Njk4MTgxMTUsejouMDAwMzkxNzc3MzcxOTg3NzAwNDZ9LHt4Oi41Mjc1Njk4OTAwMjIyNzc4LHk6Ljg3NTA2MDk3NTU1MTYwNTIsejo0NzczMjc1NTc3NDYzMjA5NmUtMjF9LHt4Oi41MTA0MjcxMTczNDc3MTczLHk6Ljg2MDczMzIxMTA0MDQ5NjgsejouMDAxMjkzNDY0MzMwOTU2MzM5OH0se3g6LjQ1OTM4NzAwNDM3NTQ1Nzc2LHk6LjgxMzQ5MTgyMTI4OTA2MjUsejouMDIzNTY5NjkwMDYzNTk1NzcyfSx7eDouNTQxODk0NzMzOTA1NzkyMix5Oi42ODY0MTAwNjk0NjU2MzcyLHo6LS4wMjczMzM5MDk2NDU2NzY2MTN9LHt4Oi41MzE5MTQyMzQxNjEzNzcseTouNjQ1NjEzMDc0MzAyNjczMyx6Oi0uMDA1NDM0MTQwNTYzMDExMTY5fSx7eDouNTIzNjk3MDE4NjIzMzUyLHk6LjY0Nzg4NTI2Mjk2NjE1Nix6Oi0uMDAwMjQ2NjQ2NjM5NDI1MzA3NX0se3g6LjUzMzgxOTEzOTAwMzc1MzcseTouODc4MzY4NzM1MzEzNDE1NSx6Oi4wMDIyNjg3Njg4NDY5ODg2Nzh9LHt4Oi40NjIyNjYwNTc3Mjk3MjEwNyx5Oi44NjEwMjc3NzcxOTQ5NzY4LHo6LjA0NzE4OTUyOTk4NTE4OTQ0fSx7eDouNTQzNDQ0Mjc1ODU2MDE4MSx5Oi42NDU2MTgxNDA2OTc0NzkyLHo6LS4wMjMyNzM1MDE1NDUxOTA4MX0se3g6LjUzOTk3NTQ2NDM0NDAyNDcseTouOTQwMjE5NTIxNTIyNTIyLHo6LjAwNTA3NTM0Mzg4NDUyNzY4M30se3g6LjU2NjE0NTc3NzcwMjMzMTUseTouNzE0NTc4MzkwMTIxNDYsejotLjA2MjQyMTAxNjM5NTA5MjAxfSx7eDouNTUyMzE0ODc3NTEwMDcwOCx5Oi42OTc0ODcwNTYyNTUzNDA2LHo6LS4wNDg2MzA3MDMyNDA2MzMwMX0se3g6LjU2Mzk5NTk1NzM3NDU3MjgseTouNjkyMzM3ODEwOTkzMTk0Nix6Oi0uMDUxODA3NjEyMTgwNzA5ODR9LHt4Oi41MzY3NTkyNTczMTY1ODk0LHk6Ljc0MjMyMTcyOTY2MDAzNDIsejotLjAzNjIzMDI3NzI3MDA3ODY2fSx7eDouNTg1MzY4OTkwODk4MTMyMyx5Oi45NzUyMDY0OTQzMzEzNTk5LHo6LS4wMDIzNjE5NzQyMTMyNzIzMzN9LHt4Oi41ODM1MjM1MTE4ODY1OTY3LHk6Ljk0OTM2ODU5NjA3Njk2NTMsejotLjAwMzk0MTc0MzE2ODk3OTg4M30se3g6LjU2MTUwMTg2MDYxODU5MTMseTouOTQ5MTk0NjEwMTE4ODY2LHo6LS4wMDE1OTUzOTY1NDg1MDk1OTc4fSx7eDouNTA2ODU2MTQzNDc0NTc4OSx5Oi45MDQ4MjE5MzIzMTU4MjY0LHo6LjAxODYyNjg0MDc4NTE0NTc2fSx7eDouNTEzNDA2NzUzNTQwMDM5MSx5Oi43OTcxODI1MDAzNjIzOTYyLHo6LS4wMDg0ODU2NjE4MTk1NzcyMTd9LHt4Oi41MjIzODk3MDk5NDk0OTM0LHk6LjkyNTU4OTkxOTA5MDI3MSx6Oi4wMTI0OTY1NzI5MTkxODk5M30se3g6LjQ4NTAwNTU1NzUzNzA3ODg2LHk6Ljc5NTk0Nzg0OTc1MDUxODgsejotLjAwMzIwNjU3NDU5MDg3NjY5ODV9LHt4Oi41MDM3NzM0NTA4NTE0NDA0LHk6LjgxODQ1OTYzMDAxMjUxMjIsejotLjAwNDkzMjEwMzY3ODU4NDA5OX0se3g6LjQ3NjYzNjExMTczNjI5NzYseTouODI4ODA2NDU5OTAzNzE3LHo6LjAxMDI3Njg4OTQyODQ5NjM2fSx7eDouNTU4OTgyNzI5OTExODA0Mix5Oi45NzQ2NTYzNDM0NjAwODMsejouMDAwOTY2Njg4NjE4MDYzOTI2N30se3g6LjUyOTQ1ODI4NDM3ODA1MTgseTouNzU0MTIxNjYxMTg2MjE4Myx6Oi0uMDI1NjAzMDQ2NjQwNzUzNzQ2fSx7eDouNDk3MzAwMjA3NjE0ODk4Nyx5Oi45MjA4OTkwOTMxNTEwOTI1LHo6LjAzMTkzMTQ1MjQ1MzEzNjQ0NH0se3g6LjUxNjM1NTE1Njg5ODQ5ODUseTouOTQzMjc5MDg3NTQzNDg3NSx6Oi4wMjQzMjEzNDAwMjQ0NzEyODN9LHt4Oi40OTM5OTY2MjAxNzgyMjI2Nix5Oi44ODE0ODYyMzcwNDkxMDI4LHo6LjAxODY4NzM5OTEwNDIzNzU1Nn0se3g6LjQ0OTQ4MTY2NjA4ODEwNDI1LHk6LjgzNjEzNzU5Mjc5MjUxMSx6Oi4wNTcwMjAzNDc1NjU0MTI1Mn0se3g6LjQ3ODk4NDQ0NTMzMzQ4MDgzLHk6Ljg4MzY2MTA5MTMyNzY2NzIsejouMDMxNTA2OTUxODk4MzM2NDF9LHt4Oi40NDU0NDc5MjE3NTI5Mjk3LHk6Ljg0OTk0MzgxNjY2MTgzNDcsejouMDg4Njg1MjU5MjIyOTg0MzF9LHt4Oi40OTU3Mjk1OTU0MjI3NDQ3NSx5Oi44NDUyODIzNzU4MTI1MzA1LHo6LjAwMzYxMTE2NTMzMTY3NjYwMjR9LHt4Oi41MzYyNTAyMzM2NTAyMDc1LHk6LjcyMjI1ODU2NzgxMDA1ODYsejotLjAyNzkxMjM1MjIzNDEyNTEzN30se3g6LjUzOTM3NzAzMzcxMDQ3OTcseTouNzg1MDcyMjA3NDUwODY2Nyx6Oi0uMDU0MTUzOTk3NDUxMDY2OTd9LHt4Oi41MzEzOTk2NjcyNjMwMzEseTouNzg5ODQxODMwNzMwNDM4Mix6Oi0uMDM4ODMzNDY5MTUyNDUwNTZ9LHt4Oi41NDUxNjI3MzczNjk1Mzc0LHk6Ljc3MTcwMzY2MDQ4ODEyODcsejotLjA2NDgwMjUzNDg3ODI1Mzk0fSx7eDouNTIwNjM5NTk4MzY5NTk4NCx5Oi42Mjg3NzQ1ODMzMzk2OTEyLHo6LS4wMTA1MjExMzgwODY5MTUwMTZ9LHt4Oi40OTc0NzgyNDY2ODg4NDI4LHk6LjYxOTE5Mzg1MTk0Nzc4NDQsejotLjAxNDA5ODI0MDA2MjU5NDQxNH0se3g6LjQ3NzQxNDUxODU5NDc0MTgseTouNjE5MzEzMDYxMjM3MzM1Mix6Oi0uMDEzNjQzMzM3NDEzNjY4NjMzfSx7eDouNDYxNjA5ODQwMzkzMDY2NCx5Oi42MjU5ODkwMTk4NzA3NTgxLHo6LS4wMDg0NDgyMDIxNjI5ODEwMzN9LHt4Oi40NTE2NDc4NDc4OTA4NTM5LHk6LjYzNjg0NjE4NDczMDUyOTgsejo5MDUwMzA5NzQ1MzYyMDI4ZS0yMH0se3g6LjQ0ODUwOTYwMzczODc4NDgseTouNjcxOTEyMDc0MDg5MDUwMyx6Oi4wMjI5ODQ3MjA3NjY1NDQzNDJ9LHt4Oi40MjE3NzY1OTI3MzE0NzU4Myx5Oi43MjQwNjY3MzQzMTM5NjQ4LHo6LjA4NTExNjczNjU5MDg2MjI3fSx7eDouNDYxNjIxNTIyOTAzNDQyNCx5Oi42OTg4MjMxNTM5NzI2MjU3LHo6LjAxNDIzODQ3NDg5MDU4OTcxNH0se3g6LjQ3NTU3OTg4NzYyODU1NTMseTouNzAzNDYwODcyMTczMzA5Myx6Oi4wMDYyNTU5MDk4MDA1Mjk0OH0se3g6LjQ5MjQ5OTIwMjQ4OTg1MjkseTouNzAwNTg4NTI0MzQxNTgzMyx6Oi4wMDA5MzkxNzM5NzMxNjU0NTI1fSx7eDouNTA4MjI1NDQwOTc5MDAzOSx5Oi42OTMzODQwNTEzMjI5MzcsejotLjAwMDk0NjQwMzgzMDMxMjE5MjR9LHt4Oi41MjAzMTEyOTU5ODYxNzU1LHk6LjY4NDk3MDc5NjEwODI0NTgsejotLjAwMjIxMTQ3NjkwODk5NjcwMTJ9LHt4Oi41Mjg2NzU5MTM4MTA3Myx5Oi42Nzc5MDc1ODYwOTc3MTczLHo6LS4wMDI5NjI1Mzg1MDY4MzU2OTl9LHt4Oi40MjEzOTUzOTEyMjU4MTQ4LHk6LjcyMTk4MTE2Nzc5MzI3MzksejouMTM1MDg5NDU3MDM1MDY0N30se3g6LjUzMjA4Mjk3NDkxMDczNjEseTouNzk0ODU4OTkyMDk5NzYyLHo6LS4wMzE4MTUwMzM0MDYwMTkyMX0se3g6LjU0NTI3OTUwMjg2ODY1MjMseTouNzI4NjU3MDA3MjE3NDA3Mix6Oi0uMDQ3NzE1Mzk5NDE0MzAwOTJ9LHt4Oi41NDk2NDA3NzQ3MjY4Njc3LHk6Ljc4NjY5MzMzNDU3OTQ2NzgsejotLjA2NDUyMDAzMTIxMzc2MDM4fSx7eDouNTU3MDQwMjc0MTQzMjE5LHk6Ljc5NjIwODQ0MTI1NzQ3NjgsejotLjA1ODM3MzQ0Mzc4MjMyOTU2fSx7eDouNTQ5MTc2ODEyMTcxOTM2LHk6Ljc4OTUyNDc5MzYyNDg3NzksejotLjA1Nzc2MTE0MDE2NzcxMzE2NX0se3g6LjUzNjI4OTAzNjI3Mzk1NjMseTouODAwNTgzNjYwNjAyNTY5Nix6Oi0uMDI2OTAzNzc0NTg5MzAwMTU2fSx7eDouNTYwMjAwMDM1NTcyMDUyLHk6Ljc5ODM3MzEwMzE0MTc4NDcsejotLjA2MTcyNTU1Njg1MDQzMzM1fSx7eDouNTYxNjk0NDQzMjI1ODYwNix5Oi44MDIyNzUzNTk2MzA1ODQ3LHo6LS4wNDUyMDA5OTk4MjYxOTI4NTZ9LHt4Oi41MjczMzI4NDIzNTAwMDYxLHk6LjY2MTEyODQwMTc1NjI4NjYsejouMDAyOTAyMTUyMDE2NzU4OTE4OH0se3g6LjUzNDg1MDUzNzc3Njk0Nyx5Oi42NjYwMDEyMDA2NzU5NjQ0LHo6LS4wMDUyMTU1MTAyNjAzMTM3NDl9LHt4Oi41Mzk0ODYwNTA2MDU3NzM5LHk6LjY3MDEzNzUyNDYwNDc5NzQsejotLjAxNDkzMTkxNzE5MDU1MTc1OH0se3g6LjQ2MzQzMDczMjQ4ODYzMjIseTouNjU4MjkxNzU3MTA2NzgxLHo6LjAwOTI5NTcxNjg4MTc1MjAxNH0se3g6LjQ1MzgzOTMwMjA2Mjk4ODMseTouNjUxOTkzMjE1MDg0MDc1OSx6Oi4wMDkzMDMzMDcxNjA3MzUxM30se3g6LjU3NzYwMzE2MTMzNDk5MTUseTouNzE1OTI5ODY1ODM3MDk3Mix6Oi0uMDU3MzY1OTEyOTQ0MDc4NDQ1fSx7eDouNjUwNDg1NTE1NTk0NDgyNCx5Oi42NDYxNzc5NDc1MjEyMDk3LHo6LjAxNDE4NDgzNDQzNTU4MjE2MX0se3g6LjU4NjAxNTQwMzI3MDcyMTQseTouNzk2MjI2NjIwNjc0MTMzMyx6Oi0uMDQ1MjI4NDM2NTg5MjQxMDN9LHt4Oi42ODQyMDQ5MzYwMjc1MjY5LHk6LjU2MzE2Mzc1NzMyNDIxODgsejouMDcyMDc5NjczNDA5NDYxOTh9LHt4Oi42MTUyNTYwNzEwOTA2OTgyLHk6LjY2NzQ5NjI2Mzk4MDg2NTUsejouMDAwNzUyOTI1OTg5MjE4MDU2Mn0se3g6LjYyODA5NDg1MTk3MDY3MjYseTouNjY4NDMyNjUyOTUwMjg2OSx6Oi4wMDE2ODkyNTg2MTM2MjM2Nzg3fSx7eDouNjQwODYyNTI0NTA5NDI5OSx5Oi42NjYzODkyMjY5MTM0NTIxLHo6LjAwNTMzMTIyNjYyNDU0ODQzNX0se3g6LjY1NTc4MTQ0Nzg4NzQyMDcseTouNjUzNDY3ODkzNjAwNDYzOSx6Oi4wMTY0NjQxMzQ2NzgyNDQ1OX0se3g6LjYwMzU2NjM0ODU1MjcwMzkseTouNjYzOTcwMTcyNDA1MjQyOSx6Oi4wMDEzNzk5NjMwMTA1NDk1NDUzfSx7eDouNjMyOTA1MzA0NDMxOTE1Myx5Oi42MDgwMTA0NzA4NjcxNTcsejotLjAwNjE5NTg5OTA5OTExMTU1N30se3g6LjYxNjcyNjA0MDg0MDE0ODkseTouNjExNzUzMzQ0NTM1ODI3Nix6Oi0uMDA2MzE5OTUxMjY2MDUwMzM5fSx7eDouNjQ3MTAxMzQyNjc4MDcwMSx5Oi42MTEyNDQ5NzY1MjA1MzgzLHo6LS4wMDE3ODQzNTU5NjE3MTc2NjUyfSx7eDouNjU2MDkwMTk5OTQ3MzU3Mix5Oi42MTg1Nzc2NTkxMzAwOTY0LHo6LjAwNDA0NzI1NzM2MDA3MDk0NH0se3g6LjY2NjY5NDY0MTExMzI4MTIseTouNjY1MTE3NjgxMDI2NDU4Nyx6Oi4wMjM2NDc1Nzg0MzMxNTYwMTN9LHt4Oi42MzExMzQ1MTAwNDAyODMyLHk6Ljk0OTUzOTYwMTgwMjgyNTksejouMDE0MDA0MDc4NjkzNjg3OTE2fSx7eDouNjU0NDY1NTU2MTQ0NzE0NCx5Oi42Mzk3OTAxNzczNDUyNzU5LHo6LjAxODA5NjA5NjgxMzY3ODc0fSx7eDouNjk2NTgwODg2ODQwODIwMyx5Oi42NDgyNjc1MDc1NTMxMDA2LHo6LjA4MzA0OTA0NDAxMzAyMzM4fSx7eDouNjc5ODE3MjU5MzExNjc2LHk6LjY1MDE4ODE0ODAyMTY5OCx6Oi4wMzYzMjY4ODg5NDg2Nzg5N30se3g6LjYzMzY1MTY3Mzc5Mzc5MjcseTouNzU0MTQ1ODAxMDY3MzUyMyx6Oi0uMDA3NzQyNzgzNTIwMzcwNzIyfSx7eDouNTkyMTcwMTE5Mjg1NTgzNSx5Oi44NTY3NjY4MTk5NTM5MTg1LHo6LS4wMjkzOTkxMjMwNDI4MjE4ODR9LHt4Oi41OTE2NjM2NTg2MTg5MjcseTouODcwMjE1NjU0MzczMTY5LHo6LS4wMjEwMzcyOTE3MzU0MTA2OX0se3g6LjYwNjgzNjc5NTgwNjg4NDgseTouODU4NDE5NTM3NTQ0MjUwNSx6Oi0uMDIwNjY4MDg1NjY0NTEwNzI3fSx7eDouNjE3NjYxNzc0MTU4NDc3OCx5Oi44NjA5NjUzNzExMzE4OTcsejotLjAwOTc5MDA5NTUwMDY0ODAyMn0se3g6LjYwNDA2MzQ1MTI5MDEzMDYseTouODY4NjYxMjg0NDQ2NzE2Myx6Oi0uMDE1Mjg5NTY0NjE2OTc4MTY4fSx7eDouNjE0MzczNjgzOTI5NDQzNCx5Oi44NjcxMTcwNDczMDk4NzU1LHo6LS4wMDU3MTIyMTY3MTk5ODUwMDh9LHt4Oi42MzczMTA1MDQ5MTMzMzAxLHk6Ljg4MTU2NTY5MDA0MDU4ODQsejouMDEyNjcyNTUwOTc2Mjc2Mzk4fSx7eDouNTgzMjUwNTgyMjE4MTcwMix5Oi43ODY2MzEyODYxNDQyNTY2LHo6LS4wNzA1MTUzNDk1MDczMzE4NX0se3g6LjU4MzY2NzU3NjMxMzAxODgseTouNzY1ODY5MjU5ODM0Mjg5Nix6Oi0uMDc1NjYxMTA3ODk3NzU4NDh9LHt4Oi42NzA5NTMxNTQ1NjM5MDM4LHk6LjYwNDg5ODk4OTIwMDU5Mix6Oi4wMDU5NTE1NjU2OTAzMzg2MTJ9LHt4Oi42MDI5ODkxOTY3NzczNDM4LHk6LjcwNTY1MjExNzcyOTE4Nyx6Oi0uMDEzMzg4Mjc2MTAwMTU4NjkxfSx7eDouNjEzMTYyMjE5NTI0MzgzNSx5Oi43NzI4Mzk2MDU4MDgyNTgxLHo6LS4wMzYyNDg0NzkwMzg0NzY5NDR9LHt4Oi42MTIzMTYzMTA0MDU3MzEyLHk6Ljc2MTIwMjAzNzMzNDQ0MjEsejotLjAzMjY0NzIxODU1NTIxMjAyfSx7eDouNjY5NjE4Nzg1MzgxMzE3MSx5Oi43NDQ3MDY5Mjg3MzAwMTEsejouMDA5NjczNzAyNTMwNTYyODc4fSx7eDouNTgwMzEwMjI1NDg2NzU1NCx5Oi43Mzg1OTY4NTY1OTQwODU3LHo6LS4wNjg5MTUyMzMwMTYwMTQxfSx7eDouNjQwNDM0OTIwNzg3ODExMyx5Oi41ODc3OTk5NjYzMzUyOTY2LHo6LS4wMTkyOTc1Njk5OTAxNTgwOH0se3g6LjY1ODg0Njc5NTU1ODkyOTQseTouNTkyOTQ1NDU2NTA0ODIxOCx6Oi0uMDA4NDg3MjU3MTc1MTQ3NTMzfSx7eDouNjcyMDMzNzg2NzczNjgxNix5Oi41MzA2MzE0MjI5OTY1MjEsejouMDQzNDM3NDIxMzIxODY4ODk2fSx7eDouNTg0MzA1NDY1MjIxNDA1LHk6LjYwOTkwMDUzNDE1Mjk4NDYsejotLjAzMDMwMTM2Nzg2NDAxMjcxOH0se3g6LjYwMzQyODM2MzgwMDA0ODgseTouNjIxNzQ1Mjg4MzcyMDM5OCx6Oi0uMDAxOTcwMTgzODAyNzY4NTg4fSx7eDouNjQ2MDkyNzcyNDgzODI1Nyx5Oi44NjA4NjYzMDgyMTIyODAzLHo6LjAxNTU0MTYyNTIwOTE1MjY5OX0se3g6LjY5NTc4MTUyODk0OTczNzUseTouODMyNjEwMzA5MTIzOTkyOSx6Oi4xMzAxNTIzNDQ3MDM2NzQzMn0se3g6LjYwNDMzNjI2MTc0OTI2NzYseTouNzg2MTY4Mjc3MjYzNjQxNCx6Oi0uMDMwNDc2OTAxNjgwMjMxMDk0fSx7eDouNTk0MjkzNDc1MTUxMDYyLHk6Ljc5NDIxMDMxNDc1MDY3MTQsejotLjAzMjIxODgyMTM0Njc1OTc5Nn0se3g6LjYzMjQwNTc1NzkwNDA1MjcseTouODY2NTEzOTY3NTE0MDM4MSx6Oi4wMTQyNTU4MDY4MDM3MDMzMDh9LHt4Oi42Mjk2MTQ3NzA0MTI0NDUxLHk6Ljg2Njc3MzM2NjkyODEwMDYsejouMDEwMzg4Mjg1ODUyOTY4NjkzfSx7eDouNjYzNjQ0NTUyMjMwODM1LHk6LjU3OTg2NDI2MzUzNDU0NTksejotLjAwMjIzMDEwNzA4NTc3OTMwOTN9LHt4Oi42MTQwNjMwODQxMjU1MTg4LHk6Ljc4MDkyODg1MDE3Mzk1MDIsejotLjAyODM1Njc5MDU0MjYwMjU0fSx7eDouNjE1OTA4MTQ1OTA0NTQxLHk6LjU5MjE2OTgyMTI2MjM1OTYsejotLjAyNjgwNDg2MDY4MTI5NTM5NX0se3g6LjYxNzE4MTEyMjMwMzAwOSx5Oi41NzQ4NjYxNzU2NTE1NTAzLHo6LS4wMzA2MDYwNTU2MzIyMzM2Mn0se3g6LjYyMjIyMDc1NDYyMzQxMzEseTouNDkxMzc2NzI3ODE5NDQyNzUsejotLjAxMTE1MTY3MzI3MjI1MjA4M30se3g6LjY2NjkzNTc0MTkwMTM5NzcseTouNTU0MTYwNzE0MTQ5NDc1MSx6Oi4wMTc0NjYxNzA3MTMzMDU0NzN9LHt4Oi42MTgyOTgxNzI5NTA3NDQ2LHk6LjUzMjA0MjU2Mjk2MTU3ODQsejotLjAyMTc5MzU5MDg1ODU3ODY4Mn0se3g6LjY3NjA1NTQzMTM2NTk2NjgseTouNTk1MDUyMTgyNjc0NDA4LHo6LjAxNzExNTcwMDk4OTk2MTYyNH0se3g6LjY4MDE0NjM5NjE2MDEyNTcseTouNTgwMDcyMDQ1MzI2MjMyOSx6Oi4wNDMxMjcxNjA1MTkzNjE0OTZ9LHt4Oi41OTIyMjEwODEyNTY4NjY1LHk6Ljg2NDQwMTc1NzcxNzEzMjYsejotLjAyNjYyODkzNTcwOTU5NTY4fSx7eDouNjA1NDU1NTE3NzY4ODU5OSx5Oi44NjM3ODc0NzIyNDgwNzc0LHo6LS4wMTgzNjM3NTMzMzM2ODc3ODJ9LHt4Oi42MTYxODg5NDMzODYwNzc5LHk6Ljg2NDExNjQ4OTg4NzIzNzUsejotLjAwODgwODk0OTAzMDkzNTc2NH0se3g6LjYwMTcyNDk4MjI2MTY1NzcseTouNzkwMTQwMzMwNzkxNDczNCx6Oi0uMDI4MTI2NjMwOTMyMDkyNjY3fSx7eDouNjMxNDQ2MTIzMTIzMTY5LHk6Ljg2NjQ4MTc4MTAwNTg1OTQsejouMDEyMTEyODY1MjI0NDgwNjI5fSx7eDouNjI0OTE5ODkxMzU3NDIxOSx5Oi44NzE2NTExMTMwMzMyOTQ3LHo6LjAwMzg4MjgyNTg0MDI2NDU1OX0se3g6LjYyODE5MTU5MDMwOTE0MzEseTouODY3MzAxODgxMzEzMzI0LHo6LjAwOTg5MTQ0MTA5MTg5NTEwM30se3g6LjU5ODY4NDMxMDkxMzA4NTkseTouNzgxMzkzMTcwMzU2NzUwNSx6Oi0uMDUwMjI3NjEyMjU3MDAzNzg0fSx7eDouNjEyNjQwNzM4NDg3MjQzNyx5Oi44NjkyNzU2ODkxMjUwNjEsejotLjAwMzEyNTU3MTQxMjk2NTY1NTN9LHt4Oi42MDI3MjcxMTUxNTQyNjY0LHk6Ljg3MTE4NDI4OTQ1NTQxMzgsejotLjAwOTMyNDE2MjI2NzE0ODQ5NX0se3g6LjU5MDg4MTM0NzY1NjI1LHk6Ljg3NDIwNDQ1NjgwNjE4MjksejotLjAxNDYwODY2MDcxMjgzODE3M30se3g6LjU5ODQ2MDQzNTg2NzMwOTYseTouOTIxNjE4NTIxMjEzNTMxNSx6Oi0uMDA1OTgxOTg5NjcwNTQ0ODYzfSx7eDouNTk1MDM5ODQ0NTEyOTM5NSx5Oi44OTY0NzA3MjU1MzYzNDY0LHo6LS4wMTcwMzQ3MzkyNTU5MDUxNX0se3g6LjU5NDE1Njg2MTMwNTIzNjgseTouODg4MjQxMDUyNjI3NTYzNSx6Oi0uMDE3Nzg0Nzg1NDc5MzA3MTc1fSx7eDouNTkyODgwNjY2MjU1OTUwOSx5Oi44ODAzODgzMTk0OTIzNDAxLHo6LS4wMTQxNTMxMjg0ODk4NTE5NTJ9LHt4Oi41OTA5NjYxMDU0NjExMjA2LHk6Ljg3NDgxMDM5NzYyNDk2OTUsejotLjAxMjYwOTk3OTEzNzc3ODI4Mn0se3g6LjYxMjgwMTY3MTAyODEzNzIseTouODcwMjU0NTc2MjA2MjA3Myx6Oi0uMDAyMjU1MDU0NjU2NDE2MTc3N30se3g6LjYxNTA4NDY0ODEzMjMyNDIseTouODcyNjgwNDI1NjQzOTIwOSx6Oi0uMDA0MTQwMTk5NjI3NzI3Mjd9LHt4Oi42MTczMDkzOTE0OTg1NjU3LHk6Ljg3NzAxOTA0NzczNzEyMTYsejotLjAwNTk3MDk5NDAxMDU2NzY2NX0se3g6LjYxOTMzNTQxMjk3OTEyNix5Oi44ODE0ODAwOTc3NzA2OTA5LHo6LS4wMDM2ODY0MDI0NTg2OTc1NTc0fSx7eDouNjI5MjYzNzU4NjU5MzYyOCx5Oi44MzE0NTU4MjY3NTkzMzg0LHo6LS4wMDc3MTQ4NzU5NzM3NjEwODJ9LHt4Oi43MDIyNzUyNzYxODQwODIseTouNzMyMDY2NzUwNTI2NDI4Mix6Oi4xNDMzNjIxMzQ2OTUwNTMxfSx7eDouNjIwNDgzNTE3NjQ2Nzg5Nix5Oi44Njg5MTc3NjMyMzMxODQ4LHo6LjAwNDQ4NjkxNzA1MjQxNzk5MzV9LHt4Oi42MjIzNTA4NzE1NjI5NTc4LHk6Ljg3MDQ4NTEyNjk3MjE5ODUsejouMDAzNTIwODI4OTA0NTg0MDV9LHt4Oi41OTA0NDgyNjAzMDczMTIseTouODAyOTcyNzkzNTc5MTAxNix6Oi0uMDMyMDA4Mjg2NTY1NTQyMjJ9LHt4Oi42MDk3NDIzNDM0MjU3NTA3LHk6Ljc5MzM3NDEyMTE4OTExNzQsejotLjAxODA0MjU1NTA3ODg2NDA5OH0se3g6LjU5MjI5NTc2NTg3Njc3LHk6Ljc5OTM3NjcyNjE1MDUxMjcsejotLjAzMjU2NDU2OTI2NDY1MDM0NX0se3g6LjYxNzEzNjQxODgxOTQyNzUseTouNzE1MzcyMDI1OTY2NjQ0Myx6Oi0uMDA3NjcyNDM3NDY2NjgxMDA0fSx7eDouNjM4OTc0Nzg1ODA0NzQ4NSx5Oi43MjYzOTA1NDA1OTk4MjMsejotLjAwMjk5OTA2Nzc3MjE3OTg0Mn0se3g6LjYxNTE5NDAyMjY1NTQ4NzEseTouNzY5NDEyMTAwMzE1MDk0LHo6LS4wMjQ0Mjc1MjE5NzM4NDgzNDN9LHt4Oi42NTI2Nzc2NTUyMjAwMzE3LHk6LjUwNTg2ODEzNjg4Mjc4Mix6Oi4wMTQxMjYzNzk5NzQxODY0Mn0se3g6LjY0NzU4MjIzMjk1MjExNzkseTouNTM3NTQ1NDQyNTgxMTc2OCx6Oi0uMDAzMzg5OTEyODkwMjcwMzUyNH0se3g6LjY0MzMzNTY0MDQzMDQ1MDQseTouNTcxNDUyMDIxNTk4ODE1OSx6Oi0uMDE3NDI4Nzk2NzM4Mzg2MTU0fSx7eDouNjI2OTQ5NjY3OTMwNjAzLHk6Ljg5NjIxMTY4Mzc1MDE1MjYsejouMDA1NjAyNzM2OTU3MzcxMjM1fSx7eDouNTg2ODQxNjQyODU2NTk3OSx5Oi41ODI5MDAyMjYxMTYxODA0LHo6LS4wMzcyNzcyOTYxODU0OTM0N30se3g6LjU4NzcyMjk1NzEzNDI0NjgseTouNTM0NTAzNTc5MTM5NzA5NSx6Oi0uMDMyMzk2OTY0NzI4ODMyMjQ1fSx7eDouNTg4NzA2NjEyNTg2OTc1MSx5Oi40ODY1NTA4Mzc3NTUyMDMyNSx6Oi0uMDI1ODU2NTM1ODgxNzU3NzM2fSx7eDouNjUwNzE5NzYxODQ4NDQ5Nyx5Oi42NjEyMjgyOTkxNDA5MzAyLHo6LjAxMTExNDYxMzE1MzA0MDQwOX0se3g6LjY4MDMwNjY3MzA0OTkyNjgseTouNjc3OTkyMDQ1ODc5MzY0LHo6LjAzMjEyNTM2MTI2Mzc1MTk4NH0se3g6LjU5NjMxOTQzNzAyNjk3NzUseTouNjU5ODYzMjMzNTY2Mjg0Mix6Oi4wMDI5NzY5MjgzNzE5MzYwODN9LHt4Oi42Njc1MzYxOTkwOTI4NjUseTouNjI3NDI1NTUxNDE0NDg5Nyx6Oi4wMTU2MTgyNjE4ODExNzI2NTd9LHt4Oi41OTMwNzQwODMzMjgyNDcxLHk6LjY5NDAwNDE3ODA0NzE4MDIsejotLjAxOTIxNzc5ODQ4NjM1MTk2N30se3g6LjYwNTMzNDYzOTU0OTI1NTQseTouNzY3NjUxNzk2MzQwOTQyNCx6Oi0uMDUwMzA4MzA5NDk1NDQ5MDY2fSx7eDouNjkzNDQ3MzUxNDU1Njg4NSx5Oi42ODg0Mjk4OTIwNjMxNDA5LHo6LjA0Nzk0NDYyMzk3Njk0NTg4fSx7eDouNjczODAwNzY2NDY4MDQ4MSx5Oi42OTM0MDExNTc4NTU5ODc1LHo6LjAyMDY5NzE2MTU1NTI5MDIyMn0se3g6LjY1ODgwODQ2OTc3MjMzODkseTouNzAzMzE0MTg1MTQyNTE3MSx6Oi4wMDg0NjIzMzQwNTE3MjgyNDl9LHt4Oi42MzQ2MDcyNTU0NTg4MzE4LHk6LjcwMjk1MDIzOTE4MTUxODYsejouMDAxNTQyMTY3NjIxNjY0NzAzfSx7eDouNjE1NzgxNjY0ODQ4MzI3Nix5Oi42OTY2NTI1OTEyMjg0ODUxLHo6LS4wMDIwMDkyMTgwOTMwMDc4MDN9LHt4Oi42MDE1NTc0MzM2MDUxOTQxLHk6LjY4ODkyODQ4NDkxNjY4Nyx6Oi0uMDA2NTg4MjI1NzE4NTg3NjM3fSx7eDouNTc0NjgzNjA2NjI0NjAzMyx5Oi42NzExMDY5MzQ1NDc0MjQzLHo6LS4wMzU5NzU4OTIwOTY3NTc4OX0se3g6LjY5NDc1MjE1NjczNDQ2NjYseTouNzMwOTQ3OTExNzM5MzQ5NCx6Oi4wNDY3MDc5MzkzNTY1NjU0NzV9LHt4Oi42NzU5MTAxMTUyNDIwMDQ0LHk6LjYyNDkxMjA4MzE0ODk1NjMsejouMDIxNjU0MzQxMzY5ODY3MzI1fSx7eDouNTc5NDc3MzEwMTgwNjY0MSx5Oi43OTcxNjE1MTk1Mjc0MzUzLHo6LS4wNjMzOTMyNjUwMDg5MjYzOX0se3g6LjYwNDE4NDk4NTE2MDgyNzYseTouNzI3NTE0OTIyNjE4ODY2LHo6LS4wMTc1MTI1NDEyNjQyOTU1Nzh9LHt4Oi42OTY4ODQ0NTMyOTY2NjE0LHk6LjY0NDA5NTAwMzYwNDg4ODksejouMTI3Mjc5OTY3MDY5NjI1ODV9LHt4Oi41OTEwODUzMTQ3NTA2NzE0LHk6LjY3OTMyNTUyMDk5MjI3OSx6Oi0uMDA5NDk3NzE1MTYwMjUwNjY0fSx7eDouNjE1NzM3NTU3NDExMTkzOCx5Oi43Njk1Njc3MjgwNDI2MDI1LHo6LS4wMTA2MjQyOTA0NDM5NTY4NTJ9LHt4Oi42NjA2NDk0Nzg0MzU1MTY0LHk6LjY0MTA0ODk2NzgzODI4NzQsejouMDIwODE1ODk3NzMyOTczMX0se3g6LjYwNDA2ODc1NjEwMzUxNTYseTouNzUzMTQ3MDY1NjM5NDk1OCx6Oi0uMDQ1ODg3MDE5NDg1MjM1MjE0fSx7eDouNzAxMjE1NjI0ODA5MjY1MSx5Oi43ODAyNDcxNTE4NTE2NTQsejouMTQwMjg3MzA5ODg1MDI1MDJ9LHt4Oi41OTUxNDk1NzY2NjM5NzEseTouNjUyNzc4MjY3ODYwNDEyNix6Oi4wMDYzMDg3NTc3MDAwMjYwMzV9LHt4Oi41OTI1NTAwMzkyOTEzODE4LHk6Ljc0MzY2NjU4OTI2MDEwMTMsejotLjA2MDE1MTc1NTgwOTc4MzkzNn0se3g6LjY3ODAxOTg4MTI0ODQ3NDEseTouODkwNTY5Mzg4ODY2NDI0Nix6Oi4wNjI2MDYwNzM5MTU5NTg0fSx7eDouNjc2NzQ2NjY2NDMxNDI3LHk6LjkxMTM4ODAzOTU4ODkyODIsejouMDg3MjYwMDM3NjYwNTk4NzV9LHt4Oi43MDMwNjg2MTQwMDYwNDI1LHk6LjczMTI2ODc2MzU0MjE3NTMsejouMDk1Mjk3NzQ2MzYwMzAxOTd9LHt4Oi42ODg5ODcxMzU4ODcxNDYseTouODU4ODQxNzE3MjQzMTk0Nix6Oi4wNzc1Mjg2NDgwNzg0NDE2Mn0se3g6LjY4ODM2OTE1NDkzMDExNDcseTouNjEwOTk2MDY3NTIzOTU2Myx6Oi4wNjY2OTYxMjk3MzkyODQ1Mn0se3g6LjYzNTg5MDYwMzA2NTQ5MDcseTouOTcwMjA2NTU4NzA0Mzc2Mix6Oi4wMjMxMjA5MDA2MTYwNDk3Njd9LHt4Oi41NzgxNTM5Njc4NTczNjA4LHk6LjgwMjM2MzQ1NTI5NTU2MjcsejotLjA0NDc2MzkxODk2NjA1NDkxNn0se3g6LjYxNzAzMTY5MzQ1ODU1NzEseTouNzQwODM1MDcwNjEwMDQ2NCx6Oi0uMDExMzc1NDYwNzczNzA2NDM2fSx7eDouNjg4NTQyMzY2MDI3ODMyLHk6LjY1MTYyODQzNDY1ODA1MDUsejouMDUwMjA2MDI3OTI1MDE0NDk2fSx7eDouNjM4NTE0OTM1OTcwMzA2NCx5Oi42NTQwNzE0NTAyMzM0NTk1LHo6LjAwNjQ2Mjk0MTQxMTg4MjYzOX0se3g6LjYyNzkzODIxMDk2NDIwMjkseTouNjU2MzYxNTc5ODk1MDE5NSx6Oi4wMDMwNjI4NDYxMzkwNzMzNzJ9LHt4Oi42MjY4ODk1MjY4NDQwMjQ3LHk6Ljg3MzY3MzIwMDYwNzI5OTgsejouMDA2Mjc5MzY3MDIyMjE2MzJ9LHt4Oi42OTQ0OTQ2MDUwNjQzOTIxLHk6Ljc3MDkxODEzMDg3NDYzMzgsejouMDUzODI0MTM0MTcxMDA5MDY0fSx7eDouNjE0NjE3MTA5Mjk4NzA2LHk6MS4wMDIyMTEyMTMxMTE4Nzc0LHo6LjAyNzE5ODk0MDUxNTUxODE5fSx7eDouNjQ5MzcxOTIyMDE2MTQzOCx5Oi45NjY1MTY3OTI3NzQyMDA0LHo6LjA1MzU2Mzc4NDgwNzkyMDQ1Nn0se3g6LjY2MjQ1ODcxNzgyMzAyODYseTouOTQzNTMwNzk3OTU4Mzc0LHo6LjA2ODYwNTQzNzg3NDc5NH0se3g6LjYxNjI1Mjg5OTE2OTkyMTkseTouNjU1ODY5MzA1MTMzODE5Nix6Oi4wMDIxODc4NTUwNzYwNDQ3OTh9LHt4Oi42MDU4MTY4NDExMjU0ODgzLHk6LjY1NDMyODQ2NTQ2MTczMSx6Oi4wMDM2MTkzNTg0MDkxOTYxMzg0fSx7eDouNTk4NzkxODk3Mjk2OTA1NSx5Oi42NTM2OTM0OTcxODA5Mzg3LHo6LjAwNjEzNDUzMDA2MzcxODU1N30se3g6LjY4MzEwMzc0MDIxNTMwMTUseTouNjE5NTY0Mjk0ODE1MDYzNSx6Oi4wMzUxMTc5MDE4NjE2Njc2M30se3g6LjYwNjI1ODI3MzEyNDY5NDgseTouNjM1NjM5ODQ2MzI0OTIwNyx6Oi4wMDEyODAzMTI4OTIwNDk1NTF9LHt4Oi42MTc0OTQ4ODExNTMxMDY3LHk6LjYyNzc2MTE4NTE2OTIyLHo6LS4wMDEzNjQyNDY4MjU2ODc1ODczfSx7eDouNjI5NzI0NjIxNzcyNzY2MSx5Oi42MjUzNzkyNjQzNTQ3MDU4LHo6LS4wMDA3MDM0MTU2MDA1ODI5NTczfSx7eDouNjQwNzA5MTYxNzU4NDIyOSx5Oi42Mjc1Nzg2MTYxNDIyNzMsejouMDAyODE0NDcwNTU3NDk1OTUxN30se3g6LjY0Nzk2MjI3MjE2NzIwNTgseTouNjMyMjY1MDkwOTQyMzgyOCx6Oi4wMDc1MDI3MzM3Mjk3Nzk3Mn0se3g6LjY5MTUwOTEyNzYxNjg4MjMseTouNTk5MDcwNDI5ODAxOTQwOSx6Oi4xMDI3MDk0NTcyNzgyNTE2NX0se3g6LjY0NTcxNjMwOTU0NzQyNDMseTouNjUwNDQ1MzQyMDYzOTAzOCx6Oi4wMTA2OTYwNzc3MTkzMzA3ODh9LHt4Oi42MTY0MjIyOTU1NzAzNzM1LHk6LjgyMzE5MzYwOTcxNDUwODEsejotLjAxNjc3MjA1OTcyMzczNDg1Nn0se3g6LjYwNDI0MDExOTQ1NzI0NDkseTouNzgzMDk3Njg0MzgzMzkyMyx6Oi0uMDM2MzA5MTA0NDEyNzk0MTF9LHt4Oi41OTIyMjE2NzczMDMzMTQyLHk6LjgyMjgzODcyMzY1OTUxNTQsejotLjAyOTk5MjM3NTUyMjg1MTk0NH0se3g6LjY2NDYxMTEwMTE1MDUxMjcseTouOTIwOTcwMDgyMjgzMDIsejouMDUwOTY3Mjk0NzIyNzk1NDg2fSx7eDouNjUxMjMyODk4MjM1MzIxLHk6Ljk0NjAxMDcwODgwODg5ODksejouMDM4MDAwMTU4OTY1NTg3NjE2fSx7eDouNjE0MDk3NzE0NDI0MTMzMyx5Oi45ODgyNDcyMTU3NDc4MzMzLHo6LjAwOTg4MjA5MTU0NDU2ODUzOX0se3g6LjY4NzA3ODExODMyNDI3OTgseTouODc2ODY3NTMyNzMwMTAyNSx6Oi4xMDk4MDkzMjQxNDUzMTcwOH0se3g6LjU5ODY4NTY4MTgxOTkxNTgseTouNjQ1NjQzODg5OTA0MDIyMix6Oi4wMDM5OTkwMTA2NTk3NTQyNzZ9LHt4Oi41ODU5ODE1NDc4MzI0ODkseTouNzAzNDQ4MTc2MzgzOTcyMix6Oi0uMDM3NzcyMjgyOTU4MDMwN30se3g6LjYzNDIwMzEzNTk2NzI1NDYseTouOTg2NzQ0ODgwNjc2MjY5NSx6Oi4wMzc4NjUyMTQwNDk4MTYxM30se3g6LjcwMTM5NTA5NDM5NDY4MzgseTouNzc2MDQ5MDE3OTA2MTg5LHo6LjA5NTk4MjA1OTgzNjM4NzYzfSx7eDouNjAzMDIwNjY4MDI5Nzg1Mix5Oi44NzE5MTMzMTM4NjU2NjE2LHo6LS4wMDc5MzExNDg2MzMzNjA4NjN9LHt4Oi42MDUwNTkyMDY0ODU3NDgzLHk6Ljg3NjcxNTYwMDQ5MDU3MDEsejotLjAwOTc5MTkyNTU0OTUwNzE0MX0se3g6LjYwNzM0Njg5MjM1Njg3MjYseTouODgzMTM4MjM5MzgzNjk3NSx6Oi0uMDEyMzYxMDA4NjczOTA2MzI2fSx7eDouNjA4Nzk3NzI5MDE1MzUwMyx5Oi44OTAxNDM2MzI4ODg3OTQsejotLjAxMDk4MTQ4MzM4NDk2Njg1fSx7eDouNjE0NzcwNTMxNjU0MzU3OSx5Oi45MTEwMDg0NzcyMTA5OTg1LHo6LS4wMDE4ODIzNTc1MjI4NDUyNjgyfSx7eDouNjIyNTc3OTY1MjU5NTUyLHk6Ljg2NzA2MDQ4MjUwMTk4MzYsejouMDAyNjA5MTkwMjk4MjQ0MzU3fSx7eDouNjI0MTIzNjMyOTA3ODY3NCx5Oi44NjUxMzQ0MTgwMTA3MTE3LHo6LjAwMjU1MzQzODA2OTI5ODg2MzR9LHt4Oi42MjU3MDg0NjA4MDc4MDAzLHk6Ljg2Mzg0MDgxODQwNTE1MTQsejouMDAyMzMwMDA3NDk3MjIxMjMxNX0se3g6LjYzOTkzMTMyMTE0NDEwNCx5Oi44NDQ5NjcxMjY4NDYzMTM1LHo6LjAwMzgxMjMxMTY4Mjg1MDEyMjV9LHt4Oi42ODEwOTA2NTI5NDI2NTc1LHk6Ljc4NTY2MjUzMTg1MjcyMjIsejouMDI3MTc3NjQ2NzU2MTcyMTh9LHt4Oi41ODM1MzI0NTI1ODMzMTMseTouNjgxMTk5NDkxMDI0MDE3Myx6Oi0uMDI2NTg4ODU3MTczOTE5Njc4fSx7eDouNTg1NTY2MDQzODUzNzU5OCx5Oi42MzkzODE5NDUxMzMyMDkyLHo6LS4wMDQ1MTI4NDQ2MDcyMzQwMDF9LHt4Oi41OTMyMjAxNzQzMTI1OTE2LHk6LjYzOTgwMjkzMjczOTI1NzgsejouMDAwODAyMDQ2NjE5MzU1Njc4Nn0se3g6LjYyMDA4Nzk4MTIyNDA2MDEseTouODY4MzM1MTg3NDM1MTUwMSx6Oi4wMDQxNzAxNjcyNTk4NzE5Nn0se3g6LjY4NDI1NTk1NzYwMzQ1NDYseTouODMzMDUzNDEwMDUzMjUzMix6Oi4wNTA4MzYzMTcyNDExOTE4NjR9LHt4Oi41NzU0NDEyNDEyNjQzNDMzLHk6LjY0MTgyMjE1OTI5MDMxMzcsejotLjAyMjgzODA1OTgxMjc4NDE5NX0se3g6LjYyMzI3OTAzNTA5MTQwMDEseTouOTI5NTI5NzI2NTA1Mjc5NSx6Oi4wMDYzMzk1MjAyMTU5ODgxNTl9LHt4Oi41NzY0MDY3NzY5MDUwNTk4LHk6LjY5NDU0NjYzOTkxOTI4MSx6Oi0uMDQ4MjU4MDMyNjQ5NzU1NDh9LHt4Oi41OTc3ODg5Mjk5MzkyNyx5Oi43MzQzOTI3NjIxODQxNDMxLHo6LS4wMzUwMDQzNzczNjUxMTIzMDV9LHt4Oi42MDQyODEwNjc4NDgyMDU2LHk6Ljk0NDE0NDAxMDU0MzgyMzIsejotLjAwMTA5NzA1NzAxNDcwMzc1MDZ9LHt4Oi42NDk2MzcyMjIyOTAwMzkxLHk6Ljg4NjkwNzgxNTkzMzIyNzUsejouMDIxMDM2MjM1NjE1NjExMDc2fSx7eDouNjI3NDAxMjMyNzE5NDIxNCx5Oi43ODMwMzEwNDYzOTA1MzM0LHo6LS4wMDY2NTg0NDA5MjE0NTU2MjJ9LHt4Oi42Mzc3OTI3MDY0ODk1NjMseTouOTEwNDk5OTg5OTg2NDE5Nyx6Oi4wMTQyOTAyNTA4Mzc4MDI4ODd9LHt4Oi42NTQ5OTM0MTQ4Nzg4NDUyLHk6Ljc3NDg2MDkxODUyMTg4MTEsejotLjAwMDY2NzI5NzMzOTUzMjUyNDN9LHt4Oi42NDA0MDA1Mjg5MDc3NzU5LHk6LjgwMTIyMDcxNTA0NTkyOSx6Oi0uMDAyNjY0MjU1NDQzOTYwNDI4Mn0se3g6LjY2NzE0NTY2OTQ2MDI5NjYseTouODA0NTU0NjQxMjQ2Nzk1Nyx6Oi4wMTMxODA4MTE4ODk0Njk2MjR9LHt4Oi42MTA3NDgzNTA2MjAyNjk4LHk6Ljk2ODA2NTg1Nzg4NzI2ODEsejouMDAxNzc4OTkyMjQyMTc5ODExfSx7eDouNjA2MDM0Mzk4MDc4OTE4NSx5Oi43NDQ1ODcyNDI2MDMzMDIsejotLjAyNDM4MjMzNDIwMjUyOH0se3g6LjY2MDI3NTE2MTI2NjMyNjkseTouODk5ODk0NTM1NTQxNTM0NCx6Oi4wMzQ0OTQwNzIxOTg4Njc4fSx7eDouNjQ2Mzc3NTAzODcxOTE3Nyx5Oi45MjYyNTYyMzk0MTQyMTUxLHo6LjAyNjE3NjIzMjg0NDU5MTE0fSx7eDouNjU3OTg1MjEwNDE4NzAxMix5Oi44NjAyMzA0NDU4NjE4MTY0LHo6LjAyMTU4NjcxNjE3NTA3OTM0Nn0se3g6LjY5MjYxNjUyMjMxMjE2NDMseTouODA1MzM0MDMxNTgxODc4Nyx6Oi4wNjEwNzUwODAxODYxMjg2MTZ9LHt4Oi42NzI0NzMxOTIyMTQ5NjU4LHk6Ljg1OTQzOTk2OTA2MjgwNTIsejouMDM0NTc5MzQ3ODE5MDg5ODl9LHt4Oi42OTc1NzIxNzE2ODgwNzk4LHk6LjgxODMyNDUwNjI4MjgwNjQsejouMDkzMDA3NzQzMzU4NjEyMDZ9LHt4Oi42NTEyODc3OTQxMTMxNTkyLHk6LjgyNTgyMjE3NDU0OTEwMjgsejouMDA2MzI0MDU5MzI5OTI2OTY4fSx7eDouNTk0ODg3Mzc1ODMxNjA0LHk6LjcxNDgzNzI1MzA5MzcxOTUsejotLjAyNjg5ODQ3OTA4OTE0MDg5Mn0se3g6LjYwMTc0NDA1NTc0Nzk4NTgseTouNzc3MzUwNzgzMzQ4MDgzNSx6Oi0uMDUzMTI0MjA4MDAzMjgyNTV9LHt4Oi42MDk2NTcxNjgzODgzNjY3LHk6Ljc4MDY5OTg0OTEyODcyMzEsejotLjAzNzY0NjI1NjM4NzIzMzczNH0se3g6LjU5NTI5OTMwMzUzMTY0NjcseTouNzY1NDM2NzY4NTMxNzk5Myx6Oi0uMDYzOTg0MDUxMzQ2Nzc4ODd9LHt4Oi41OTUwMDIxMTQ3NzI3OTY2LHk6LjYyMDEzMDQ3OTMzNTc4NDksejotLjAwOTI5NzU0Nzg2MTkzMzcwOH0se3g6LjYxNjU0Mzg4OTA0NTcxNTMseTouNjA1MjkwMDU1Mjc0OTYzNCx6Oi0uMDEyNDU1NTczMzA1NDg3NjMzfSx7eDouNjM2MjY2MTcxOTMyMjIwNSx5Oi42MDE1OTY4OTE4ODAwMzU0LHo6LS4wMTE2NDkyMjAyNTA1NDY5MzJ9LHt4Oi42NTIyNzI3NjA4NjgwNzI1LHk6LjYwNDY0MDA2NjYyMzY4NzcsejotLjAwNTkwMzMzMjQ5NDE5OTI3Nn0se3g6LjY2MjU0MDk3MjIzMjgxODYseTouNjEyODE0MTI4Mzk4ODk1Myx6Oi4wMDMwMDQyNDk2NTA5ODUwMDI1fSx7eDouNjY4ODA5OTUwMzUxNzE1MSx5Oi42NDU3NzEyMDU0MjUyNjI1LHo6LjAyNjMyMjcwMzgwODU0NjA2Nn0se3g6LjcwMTM0NDA3MjgxODc1NjEseTouNjg5MzY2NjM4NjYwNDMwOSx6Oi4wODk4NDMzMTc4NjYzMjUzOH0se3g6LjY2MDg2MjMyNjYyMjAwOTMseTouNjc0OTQwNjQ1Njk0NzMyNyx6Oi4wMTcyMTE2NjgxOTMzNDAzfSx7eDouNjQ4MjMyNTE5NjI2NjE3NCx5Oi42ODIzNzI2Mjk2NDI0ODY2LHo6LjAwODg4MTM5ODQ3NjY2MDI1Mn0se3g6LjYzMTMyNjU1NjIwNTc0OTUseTouNjg0MjAyNTUxODQxNzM1OCx6Oi4wMDMxMzA4NjE3OTA4NTA3NTg2fSx7eDouNjE0NzAxNjI4Njg0OTk3Nix5Oi42ODA5NzMxNzIxODc4MDUyLHo6LjAwMDc2MzA3NzE3MjQ1MDcyMTN9LHt4Oi42MDE4ODM0MTE0MDc0NzA3LHk6LjY3NTUzNzIyODU4NDI4OTYsejotLjAwMDg4MzQzMjEwNTE4MzYwMTR9LHt4Oi41OTI1MDI3MTMyMDM0MzAyLHk6LjY3MDY4MTM1NzM4MzcyOCx6Oi0uMDAxOTY4NzQ4NDAxODUwNDYyfSx7eDouNzAwMTI3MzYzMjA0OTU2LHk6LjY4NzExMDM2NDQzNzEwMzMsejouMTM5ODA1MDA0MDAwNjYzNzZ9LHt4Oi42MDk1NjY1NjkzMjgzMDgxLHk6Ljc4NTMxODk3MDY4MDIzNjgsejotLjAzMDc0NzQ3ODgyNzgzNDEzfSx7eDouNTg4MDQyMzc4NDI1NTk4MSx5Oi43MjI5Mjg3MDI4MzEyNjgzLHo6LS4wNDY5MTUwMDk2MTc4MDU0OH0se3g6LjU5MzAxODIzMzc3NjA5MjUseTouNzgxMTUxNDEzOTE3NTQxNSx6Oi0uMDYzOTgzMzU4NDQyNzgzMzZ9LHt4Oi41ODY3NzIyMDM0NDU0MzQ2LHk6Ljc5MjI2NjAxMTIzODA5ODEsejotLjA1Nzk0OTcxMDYzNzMzMTAxfSx7eDouNTkzMzI3OTk5MTE0OTkwMix5Oi43ODQyODQ4ODk2OTgwMjg2LHo6LS4wNTcxNDA2NzA3MTY3NjI1NH0se3g6LjYwNjM1MzU4MDk1MTY5MDcseTouNzkyMDIxODcwNjEzMDk4MSx6Oi0uMDI1OTA2ODU3MTAzMTA5MzZ9LHt4Oi41ODM5NDUyNzQzNTMwMjczLHk6Ljc5NDk3ODE0MTc4NDY2OCx6Oi0uMDYxNTIxMjUwNzU0NTk0OH0se3g6LjU4MjgxMjYwNzI4ODM2MDYseTouODAwMDgwMDAxMzU0MjE3NSx6Oi0uMDQ0OTcyMjU5NTUxMjg2N30se3g6LjU5MDk2MDM4MzQxNTIyMjIseTouNjU0MTIxMzM5MzIxMTM2NSx6Oi4wMDM5OTE4OTAyMzMwMTAwNTR9LHt4Oi41ODUyMTgxOTExNDY4NTA2LHk6LjY2MDI5Mzg3NzEyNDc4NjQsejotLjAwNDQyODQzODM3NjYzNTMxM30se3g6LjU4MjU3Mzc3MTQ3Njc0NTYseTouNjY1MTA2MzU2MTQzOTUxNCx6Oi0uMDE0MzQ1MjkwMTM5MzE3NTEzfSx7eDouNjUxNzM0MzUyMTExODE2NCx5Oi42MzYyMzg1MTUzNzcwNDQ3LHo6LjAxMjE1MTg5MDQzNDMyNDc0MX0se3g6LjY2MTUwNTI4MTkyNTIwMTQseTouNjI4MTU3Nzk0NDc1NTU1NCx6Oi4wMTIzNjgyMTUyNDc5ODg3fSx7eDouNDg1Njg3MzE1NDY0MDE5OCx5Oi42NTY4OTQ1NjQ2Mjg2MDExLHo6LjAwMDcyMDAzODA3ODcyNTMzOH0se3g6LjQ5OTg4NDA2ODk2NTkxMTg3LHk6LjY1NDc0MTA0ODgxMjg2NjIsejouMDAwNjk0OTcyNjk1NzgyNzgwNn0se3g6LjQ4NDM4OTM5NDUyMTcxMzI2LHk6LjYzOTI5NzMwNjUzNzYyODIsejouMDAwNzA1NTI1OTE5MzI5Mzc1fSx7eDouNDcxNDMxMzQ0NzQ3NTQzMzMseTouNjU4OTUxMTYzMjkxOTMxMix6Oi4wMDA2OTgwMzMxMzgxNzgyODg5fSx7eDouNDg3MDQ2MTgyMTU1NjA5MTMseTouNjc1Mjc5Nzk2MTIzNTA0Nix6Oi4wMDA2OTIxMTc3ODQ2Mzc5NTc4fSx7eDouNjI0MzcwMjE3MzIzMzAzMix5Oi42NDA0NjE4MDI0ODI2MDUsejotNjU5MjEyNjczNzgxNDM5N2UtMjB9LHt4Oi42MzkwOTY3OTY1MTI2MDM4LHk6LjYzODUxNzM3OTc2MDc0MjIsejotLjAwMDE2MTA1NDM1NDk3NTkzMTM1fSx7eDouNjIzMDUzNjY5OTI5NTA0NCx5Oi42MjI0ODI1MzgyMjMyNjY2LHo6LS4wMDAxNjEzNjQ5NjU2MDY0ODA4NH0se3g6LjYwOTUzOTc0NzIzODE1OTIseTouNjQxOTE3ODg0MzQ5ODIzLHo6LS4wMDAxODAzNTU2MzY5ODUwNDEyfSx7eDouNjI1MDk5NjU4OTY2MDY0NSx5Oi42NTg2MjQ3NjgyNTcxNDExLHo6LS4wMDAxNzg1NTE1MDUwODY5NDM1fV1dLGZhY2VCbGVuZHNoYXBlczpbe2NhdGVnb3JpZXM6W3tpbmRleDowLHNjb3JlOjUxODcxNzQzMzgwNjE1OTVlLTIxLGNhdGVnb3J5TmFtZTpcIl9uZXV0cmFsXCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjEsc2NvcmU6LjI0NTIxNTA0MzQyNTU2LGNhdGVnb3J5TmFtZTpcImJyb3dEb3duTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoyLHNjb3JlOi4xOTg3NzQzMzc3Njg1NTQ3LGNhdGVnb3J5TmFtZTpcImJyb3dEb3duUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MyxzY29yZTouMDEzNDAwNDQ4NDg2MjA4OTE2LGNhdGVnb3J5TmFtZTpcImJyb3dJbm5lclVwXCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjQsc2NvcmU6LjAxMjM2MTU2MDk0ODE5MzA3MyxjYXRlZ29yeU5hbWU6XCJicm93T3V0ZXJVcExlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6NSxzY29yZTouMDE5MzA1MDk2OTM5MjA2MTIzLGNhdGVnb3J5TmFtZTpcImJyb3dPdXRlclVwUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6NixzY29yZToyODQyNjM1Njk0ODMzMDA2N2UtMjEsY2F0ZWdvcnlOYW1lOlwiY2hlZWtQdWZmXCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4Ojcsc2NvcmU6My40NTAwMTEyNjMzMzk1NDc0ZS03LGNhdGVnb3J5TmFtZTpcImNoZWVrU3F1aW50TGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo4LHNjb3JlOjQuODM3ODkwNTE0ODYzODNlLTcsY2F0ZWdvcnlOYW1lOlwiY2hlZWtTcXVpbnRSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo5LHNjb3JlOi4wNzY1MDQ0ODM4MTkwMDc4NyxjYXRlZ29yeU5hbWU6XCJleWVCbGlua0xlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MTAsc2NvcmU6LjA1MDcwMDEyODA3ODQ2MDY5LGNhdGVnb3J5TmFtZTpcImV5ZUJsaW5rUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MTEsc2NvcmU6LjEzOTc4OTAwMDE1MzU0MTU2LGNhdGVnb3J5TmFtZTpcImV5ZUxvb2tEb3duTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoxMixzY29yZTouMTQxOTg2MTMxNjY4MDkwODIsY2F0ZWdvcnlOYW1lOlwiZXllTG9va0Rvd25SaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoxMyxzY29yZTouMjE3Nzc2NjExNDQ3MzM0MyxjYXRlZ29yeU5hbWU6XCJleWVMb29rSW5MZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjE0LHNjb3JlOi4wMTQ3MzkzNTc4NjYzNDY4MzYsY2F0ZWdvcnlOYW1lOlwiZXllTG9va0luUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MTUsc2NvcmU6LjAyMzYxNTEyOTI5MjAxMTI2LGNhdGVnb3J5TmFtZTpcImV5ZUxvb2tPdXRMZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjE2LHNjb3JlOi4xOTY3OTYwNDQ3MDcyOTgyOCxjYXRlZ29yeU5hbWU6XCJleWVMb29rT3V0UmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MTcsc2NvcmU6LjA0ODc0NjE2ODYxMzQzMzg0LGNhdGVnb3J5TmFtZTpcImV5ZUxvb2tVcExlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MTgsc2NvcmU6LjA0OTM5MjM3NjA5NTA1NjUzNCxjYXRlZ29yeU5hbWU6XCJleWVMb29rVXBSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoxOSxzY29yZTouMzQ5NDQzMzE2NDU5NjU1NzYsY2F0ZWdvcnlOYW1lOlwiZXllU3F1aW50TGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoyMCxzY29yZTouMjkzOTcxNjg3NTU1MzEzMSxjYXRlZ29yeU5hbWU6XCJleWVTcXVpbnRSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoyMSxzY29yZTouMDA1OTU1MDQyMzE3NTA5NjUxLGNhdGVnb3J5TmFtZTpcImV5ZVdpZGVMZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjIyLHNjb3JlOi4wMDY3NzYxMTc3MTk3MDk4NzMsY2F0ZWdvcnlOYW1lOlwiZXllV2lkZVJpZ2h0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjIzLHNjb3JlOjE2OTQyNDM2NTU5NDc1MDI3ZS0yMSxjYXRlZ29yeU5hbWU6XCJqYXdGb3J3YXJkXCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjI0LHNjb3JlOi4wMDQ1MTY1NDk0MDg0MzU4MjE1LGNhdGVnb3J5TmFtZTpcImphd0xlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MjUsc2NvcmU6LjA3ODAzOTQwMDI3OTUyMTk0LGNhdGVnb3J5TmFtZTpcImphd09wZW5cIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MjYsc2NvcmU6MjA5MDA1Nzc1MTA0NzQyNWUtMjAsY2F0ZWdvcnlOYW1lOlwiamF3UmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6Mjcsc2NvcmU6LjA2MDMyMDM1ODcyMzQwMjAyLGNhdGVnb3J5TmFtZTpcIm1vdXRoQ2xvc2VcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6Mjgsc2NvcmU6LjAwMjI4ODgyMDkyMDUxMjA4LGNhdGVnb3J5TmFtZTpcIm1vdXRoRGltcGxlTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDoyOSxzY29yZTouMDA3ODE3NjIzMjA1NDgyOTYsY2F0ZWdvcnlOYW1lOlwibW91dGhEaW1wbGVSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozMCxzY29yZTouMDAxNzA5MzkzMTA5MTk0OTM0NCxjYXRlZ29yeU5hbWU6XCJtb3V0aEZyb3duTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozMSxzY29yZTouMDAxOTMxOTEwNjM1OTAzNDc3NyxjYXRlZ29yeU5hbWU6XCJtb3V0aEZyb3duUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MzIsc2NvcmU6ODQ4NTIzNzc3Njc2NzQ2MmUtMjAsY2F0ZWdvcnlOYW1lOlwibW91dGhGdW5uZWxcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6MzMsc2NvcmU6LjAwMDkwNTEzNTUzMDA0NzExODcsY2F0ZWdvcnlOYW1lOlwibW91dGhMZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjM0LHNjb3JlOi4wMDAzNjMwNDU0MzAyNzY1NDI5LGNhdGVnb3J5TmFtZTpcIm1vdXRoTG93ZXJEb3duTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozNSxzY29yZTouMDAwMTc2MDEyMzg1MDU0NDkxNDYsY2F0ZWdvcnlOYW1lOlwibW91dGhMb3dlckRvd25SaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozNixzY29yZTouMTI4NjUxNjE4OTU3NTE5NTMsY2F0ZWdvcnlOYW1lOlwibW91dGhQcmVzc0xlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6Mzcsc2NvcmU6LjIwMTM3MjA3MjEwMDYzOTM0LGNhdGVnb3J5TmFtZTpcIm1vdXRoUHJlc3NSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozOCxzY29yZTouMDAyMjIwMzI4NDMxNTc2NDkwNCxjYXRlZ29yeU5hbWU6XCJtb3V0aFB1Y2tlclwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDozOSxzY29yZTouMDAwOTA5NjM3NzE3OTk1NzkyNixjYXRlZ29yeU5hbWU6XCJtb3V0aFJpZ2h0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjQwLHNjb3JlOi4zNDE4OTcyMTk0MTk0NzkzNyxjYXRlZ29yeU5hbWU6XCJtb3V0aFJvbGxMb3dlclwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo0MSxzY29yZTouMTE0MDk2ODk0ODYwMjY3NjQsY2F0ZWdvcnlOYW1lOlwibW91dGhSb2xsVXBwZXJcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6NDIsc2NvcmU6LjE3MTcyNTM2MjUzOTI5MTM4LGNhdGVnb3J5TmFtZTpcIm1vdXRoU2hydWdMb3dlclwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo0MyxzY29yZTouMDA0MDM4NDI0Njk2NzczMjkxLGNhdGVnb3J5TmFtZTpcIm1vdXRoU2hydWdVcHBlclwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo0NCxzY29yZTouMDAwMjMyMDUyMzA1MzY0MDQ5OTcsY2F0ZWdvcnlOYW1lOlwibW91dGhTbWlsZUxlZnRcIixkaXNwbGF5TmFtZTpcIlwifSx7aW5kZXg6NDUsc2NvcmU6LjAwMDE5MzEzNjE5MTIyODQwNDY0LGNhdGVnb3J5TmFtZTpcIm1vdXRoU21pbGVSaWdodFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo0NixzY29yZTouMDAxODU3MTMwNTU1NDM2MDE1MSxjYXRlZ29yeU5hbWU6XCJtb3V0aFN0cmV0Y2hMZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjQ3LHNjb3JlOi4wMDIzODEzMjM4MzY3NDM4MzE2LGNhdGVnb3J5TmFtZTpcIm1vdXRoU3RyZXRjaFJpZ2h0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjQ4LHNjb3JlOjI0MzIzMTAwNjYwNjk0NzYzZS0yMSxjYXRlZ29yeU5hbWU6XCJtb3V0aFVwcGVyVXBMZWZ0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjQ5LHNjb3JlOjMxNjE1NTIwMTI4OTgwMjhlLTIwLGNhdGVnb3J5TmFtZTpcIm1vdXRoVXBwZXJVcFJpZ2h0XCIsZGlzcGxheU5hbWU6XCJcIn0se2luZGV4OjUwLHNjb3JlOjEuMDgxOTg0MDY2Nzg2MzllLTcsY2F0ZWdvcnlOYW1lOlwibm9zZVNuZWVyTGVmdFwiLGRpc3BsYXlOYW1lOlwiXCJ9LHtpbmRleDo1MSxzY29yZToxMjY1MjUyNzYzMDA1MjY0NmUtMjIsY2F0ZWdvcnlOYW1lOlwibm9zZVNuZWVyUmlnaHRcIixkaXNwbGF5TmFtZTpcIlwifV0saGVhZEluZGV4Oi0xLGhlYWROYW1lOlwiXCJ9XSxmYWNpYWxUcmFuc2Zvcm1hdGlvbk1hdHJpeGVzOlt7cm93czo0LGNvbHVtbnM6NCxkYXRhOlsuOTk0NzUxNzUxNDIyODgyMSwuMTAyMzA1NDQyMDk0ODAyODYsLjAwMTM2Nzk5MzE4NzE1OTI5OTksMCwtLjEwMjMwOTk3MjA0NzgwNTc5LC45OTQ3NDQ3Nzc2Nzk0NDM0LC4wMDM4MTYzMjAzMjgwNDE5MTEsMCwtLjAwMDk3MDM0ODQyNDc0Mzg2MSwtLjAwMzkzNjIyOTczOTMzODE1OTYsLjk5OTk5MTQxNjkzMTE1MjMsMCwyLjg4ODg4MjE2MDE4Njc2NzYsLTcuODA4OTM0MjExNzMwOTU3LC0zMC41MjEwOTE0NjExODE2NCwxXX1dfX0sUWk9dC5jcmVhdGVDb250ZXh0KHt9KSxLaT17YmFzZVBhdGg6XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BtZWRpYXBpcGUvdGFza3MtdmlzaW9uQDAuMTAuMTcvd2FzbVwiLG9wdGlvbnM6e2Jhc2VPcHRpb25zOnttb2RlbEFzc2V0UGF0aDpcImh0dHBzOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9tZWRpYXBpcGUtbW9kZWxzL2ZhY2VfbGFuZG1hcmtlci9mYWNlX2xhbmRtYXJrZXIvZmxvYXQxNi8xL2ZhY2VfbGFuZG1hcmtlci50YXNrXCIsZGVsZWdhdGU6XCJHUFVcIn0scnVubmluZ01vZGU6XCJWSURFT1wiLG91dHB1dEZhY2VCbGVuZHNoYXBlczohMCxvdXRwdXRGYWNpYWxUcmFuc2Zvcm1hdGlvbk1hdHJpeGVzOiEwfX0sSmk9dC5mb3J3YXJkUmVmKCgoe2Jhc2VQYXRoOmU9S2kuYmFzZVBhdGgsb3B0aW9uczpyPUtpLm9wdGlvbnMsY2hpbGRyZW46bn0sYSk9Pntjb25zdCBvPUpTT04uc3RyaW5naWZ5KHIpLGk9Zi5zdXNwZW5kKChhc3luYygpPT57Y29uc3R7RmlsZXNldFJlc29sdmVyOnQsRmFjZUxhbmRtYXJrZXI6bn09YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gUyhyZXF1aXJlKFwiQG1lZGlhcGlwZS90YXNrcy12aXNpb25cIikpfSkpLGE9YXdhaXQgdC5mb3JWaXNpb25UYXNrcyhlKTtyZXR1cm4gbi5jcmVhdGVGcm9tT3B0aW9ucyhhLHIpfSksW2Usb10pO3JldHVybiB0LnVzZUVmZmVjdCgoKCk9PigpPT57bnVsbD09aXx8aS5jbG9zZSgpLGYuY2xlYXIoW2Usb10pfSksW2ksZSxvXSksdC51c2VJbXBlcmF0aXZlSGFuZGxlKGEsKCgpPT5pKSxbaV0pLEMuY3JlYXRlRWxlbWVudChRaS5Qcm92aWRlcix7dmFsdWU6aX0sbil9KSk7ZnVuY3Rpb24gZXMoKXtyZXR1cm4gdC51c2VDb250ZXh0KFFpKX1mdW5jdGlvbiB0cyhlLHQpe3JldHVybiBlLmNsb25lKCkuYWRkKHQpLm11bHRpcGx5U2NhbGFyKC41KX1mdW5jdGlvbiBycyhlLHQscil7Y29uc3Qgbj1lLmxvY2FsVG9Xb3JsZCh0KTtyZXR1cm4gci53b3JsZFRvTG9jYWwobil9Y29uc3QgbnM9dC5jcmVhdGVDb250ZXh0KHt9KSxhcz10LmZvcndhcmRSZWYoKCh7Y2FtZXJhOmUsdmlkZW9UZXh0dXJlOnI9e3N0YXJ0OiEwfSxtYW51YWxEZXRlY3Q6bj0hMSxmYWNlTGFuZG1hcmtlclJlc3VsdDpvLG1hbnVhbFVwZGF0ZTppPSExLG1ha2VEZWZhdWx0Omwsc21vb3RoVGltZTpjPS4yNSxvZmZzZXQ6dT0hMCxvZmZzZXRTY2FsYXI6ZD04MCxleWVzOm09ITEsZXllc0FzT3JpZ2luOmY9ITAsZGVwdGg6cD0uMTUsZGVidWc6aD0hMSxmYWNlbWVzaDp4fSx5KT0+e3ZhciB2LGc7Y29uc3Qgdz1hLnVzZVRocmVlKChlPT5lLnNjZW5lKSksej1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLGI9YS51c2VUaHJlZSgoZT0+ZS5zZXQpKSxFPWEudXNlVGhyZWUoKGU9PmUuZ2V0KSksTT1lfHx6LFM9dC51c2VSZWYobnVsbCksW1BdPXQudXNlU3RhdGUoKCgpPT5uZXcgUi5PYmplY3QzRCkpLFtEXT10LnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLFtGXT10LnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLFtrXT10LnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLFtfXT10LnVzZVN0YXRlKCgoKT0+bmV3IFIuVmVjdG9yMykpLEE9dC51c2VDYWxsYmFjaygoKCk9PntQLnBhcmVudD1NLnBhcmVudDtjb25zdCBlPVMuY3VycmVudDtpZihlKXtjb25zdHtvdXRlclJlZjp0LGV5ZVJpZ2h0UmVmOnIsZXllTGVmdFJlZjpufT1lO2lmKHIuY3VycmVudCYmbi5jdXJyZW50KXtjb25zdHtpcmlzRGlyUmVmOmV9PXIuY3VycmVudCx7aXJpc0RpclJlZjphfT1uLmN1cnJlbnQ7ZS5jdXJyZW50JiZhLmN1cnJlbnQmJnQuY3VycmVudCYmKEQuY29weShycyhlLmN1cnJlbnQsbmV3IFIuVmVjdG9yMygwLDAsMCksdC5jdXJyZW50KSksRi5jb3B5KHJzKGEuY3VycmVudCxuZXcgUi5WZWN0b3IzKDAsMCwwKSx0LmN1cnJlbnQpKSxQLnBvc2l0aW9uLmNvcHkocnModC5jdXJyZW50LHRzKEQsRiksTS5wYXJlbnR8fHcpKSxrLmNvcHkocnMoZS5jdXJyZW50LG5ldyBSLlZlY3RvcjMoMCwwLDEpLHQuY3VycmVudCkpLF8uY29weShycyhhLmN1cnJlbnQsbmV3IFIuVmVjdG9yMygwLDAsMSksdC5jdXJyZW50KSksUC5sb29rQXQodC5jdXJyZW50LmxvY2FsVG9Xb3JsZCh0cyhrLF8pKSkpfWVsc2UgdC5jdXJyZW50JiYoUC5wb3NpdGlvbi5jb3B5KHJzKHQuY3VycmVudCxuZXcgUi5WZWN0b3IzKDAsMCwwKSxNLnBhcmVudHx8dykpLFAubG9va0F0KHQuY3VycmVudC5sb2NhbFRvV29ybGQobmV3IFIuVmVjdG9yMygwLDAsMSkpKSl9cmV0dXJuIFB9KSxbTSxGLF8sRCxrLHcsUF0pLFtMXT10LnVzZVN0YXRlKCgoKT0+bmV3IFIuT2JqZWN0M0QpKSxJPXQudXNlQ2FsbGJhY2soKGZ1bmN0aW9uKGUsdCl7aWYoTSl7dmFyIHI7aWYobnVsbCE9PShyPXQpJiZ2b2lkIDAhPT1yfHwodD1BKCkpLGM+MCl7Y29uc3Qgcj0xZS05O3MuZWFzaW5nLmRhbXAzKEwucG9zaXRpb24sdC5wb3NpdGlvbixjLGUsdm9pZCAwLHZvaWQgMCxyKSxzLmVhc2luZy5kYW1wRShMLnJvdGF0aW9uLHQucm90YXRpb24sYyxlLHZvaWQgMCx2b2lkIDAscil9ZWxzZSBMLnBvc2l0aW9uLmNvcHkodC5wb3NpdGlvbiksTC5yb3RhdGlvbi5jb3B5KHQucm90YXRpb24pO00ucG9zaXRpb24uY29weShMLnBvc2l0aW9uKSxNLnJvdGF0aW9uLmNvcHkoTC5yb3RhdGlvbil9fSksW00sQSxjLEwucG9zaXRpb24sTC5yb3RhdGlvbl0pO2EudXNlRnJhbWUoKChlLHQpPT57aXx8SSh0KX0pKTtjb25zdCBCPXQudXNlUmVmKG51bGwpLFtWLFVdPXQudXNlU3RhdGUoKSxPPWVzKCksTj10LnVzZUNhbGxiYWNrKCgoZSx0KT0+e2NvbnN0IHI9Qi5jdXJyZW50O2lmKCFyKXJldHVybjtjb25zdCBuPXIuc291cmNlLmRhdGEsYT1udWxsPT1PP3ZvaWQgMDpPLmRldGVjdEZvclZpZGVvKG4sZSk7VShhKX0pLFtPXSksaj10LnVzZU1lbW8oKCgpPT5PYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoUi5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlKSx7Y29tcHV0ZVRhcmdldDpBLHVwZGF0ZTpJLGZhY2VtZXNoQXBpUmVmOlN9KSksW0EsSV0pO3QudXNlSW1wZXJhdGl2ZUhhbmRsZSh5LCgoKT0+aiksW2pdKSx0LnVzZUVmZmVjdCgoKCk9PntpZihsKXtjb25zdCBlPUUoKS5jb250cm9scztyZXR1cm4gYih7Y29udHJvbHM6an0pLCgpPT5iKHtjb250cm9sczplfSl9fSksW2wsaixFLGJdKTtjb25zdCBXPW51bGwhPW8/bzpWLEc9bnVsbD09Vz92b2lkIDA6Vy5mYWNlTGFuZG1hcmtzWzBdLEg9bnVsbD09V3x8bnVsbD09KHY9Vy5mYWNpYWxUcmFuc2Zvcm1hdGlvbk1hdHJpeGVzKT92b2lkIDA6dlswXSwkPW51bGw9PVd8fG51bGw9PShnPVcuZmFjZUJsZW5kc2hhcGVzKT92b2lkIDA6Z1swXSxxPXtvblZpZGVvRnJhbWU6TiwuLi5yfTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KG5zLlByb3ZpZGVyLHt2YWx1ZTpqfSwhbiYmQy5jcmVhdGVFbGVtZW50KHQuU3VzcGVuc2Use2ZhbGxiYWNrOm51bGx9LFwic3JjXCJpbiBxP0MuY3JlYXRlRWxlbWVudChvcixULmRlZmF1bHQoe3JlZjpCfSxxKSk6Qy5jcmVhdGVFbGVtZW50KEdpLFQuZGVmYXVsdCh7cmVmOkJ9LHEpKSksQy5jcmVhdGVFbGVtZW50KHFpLFQuZGVmYXVsdCh7cmVmOlMsY2hpbGRyZW46Qy5jcmVhdGVFbGVtZW50KFwibWVzaE5vcm1hbE1hdGVyaWFsXCIse3NpZGU6Ui5Eb3VibGVTaWRlfSl9LHgse3BvaW50czpHLGRlcHRoOnAsZmFjaWFsVHJhbnNmb3JtYXRpb25NYXRyaXg6SCxmYWNlQmxlbmRzaGFwZXM6JCxleWVzOm0sZXllc0FzT3JpZ2luOmYsb2Zmc2V0OnUsb2Zmc2V0U2NhbGFyOmQsZGVidWc6aCxcInJvdGF0aW9uLXpcIjpNYXRoLlBJLHZpc2libGU6aH0pKSl9KSksb3M9bmV3IFIuVmVjdG9yMyxpcz1uZXcgUi5WZWN0b3IyLHNzPW5ldyBSLlZlY3RvcjMsbHM9bmV3IFIuVmVjdG9yMyxjcz1uZXcgUi5WZWN0b3IzLHVzPW5ldyBSLlBsYW5lLGRzPUMuZm9yd2FyZFJlZigoKHthdXRvVHJhbnNmb3JtOmU9ITAsbWF0cml4OnQsYXhpc0xvY2s6cixkcmFnTGltaXRzOm4sb25Ib3ZlcjpvLG9uRHJhZ1N0YXJ0OnMsb25EcmFnOmwsb25EcmFnRW5kOmMsY2hpbGRyZW46dSxkcmFnQ29uZmlnOmQsLi4ubX0sZik9Pntjb25zdCBwPWEudXNlVGhyZWUoKGU9PmUuY29udHJvbHMpKSx7Y2FtZXJhOmgsc2l6ZTp4LHJheWNhc3Rlcjp5LGludmFsaWRhdGU6dn09YS51c2VUaHJlZSgpLGc9Qy51c2VSZWYobnVsbCksdz1pLnVzZUdlc3R1cmUoe29uSG92ZXI6KHtob3ZlcmluZzplfSk9Pm8mJm8obnVsbCE9ZSYmZSksb25EcmFnU3RhcnQ6KHtldmVudDplfSk9PntwJiYocC5lbmFibGVkPSExKTtjb25zdHtwb2ludDp0fT1lO2cuY3VycmVudC5tYXRyaXguZGVjb21wb3NlKG9zLG5ldyBSLlF1YXRlcm5pb24sbmV3IFIuVmVjdG9yMyksc3MuY29weSh0KSxscy5jb3B5KHNzKS5zdWIob3MpLHMmJnMob3MpLHYoKX0sb25EcmFnOih7eHk6W3QsYV0saW50ZW50aW9uYWw6b30pPT57aWYoIW8pcmV0dXJuO2NvbnN0IGk9KHQteC5sZWZ0KS94LndpZHRoKjItMSxzPS0oYS14LnRvcCkveC5oZWlnaHQqMisxO2lmKGlzLnNldChpLHMpLHkuc2V0RnJvbUNhbWVyYShpcyxoKSxyKXN3aXRjaChyKXtjYXNlXCJ4XCI6Y3Muc2V0KDEsMCwwKTticmVhaztjYXNlXCJ5XCI6Y3Muc2V0KDAsMSwwKTticmVhaztjYXNlXCJ6XCI6Y3Muc2V0KDAsMCwxKX1lbHNlIGguZ2V0V29ybGREaXJlY3Rpb24oY3MpLm5lZ2F0ZSgpO3VzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGNzLHNzKSx5LnJheS5pbnRlcnNlY3RQbGFuZSh1cyxzcyk7Y29uc3QgYz1nLmN1cnJlbnQubWF0cml4LmNsb25lKCksdT1nLmN1cnJlbnQubWF0cml4V29ybGQuY2xvbmUoKSxkPW5ldyBSLlZlY3RvcjMoc3MueC1scy54LHNzLnktbHMueSxzcy56LWxzLnopO2lmKG4mJihkLng9blswXT9NYXRoLm1heChNYXRoLm1pbihkLngsblswXVsxXSksblswXVswXSk6ZC54LGQueT1uWzFdP01hdGgubWF4KE1hdGgubWluKGQueSxuWzFdWzFdKSxuWzFdWzBdKTpkLnksZC56PW5bMl0/TWF0aC5tYXgoTWF0aC5taW4oZC56LG5bMl1bMV0pLG5bMl1bMF0pOmQueiksZSl7Zy5jdXJyZW50Lm1hdHJpeC5zZXRQb3NpdGlvbihkKTtjb25zdCBlPWcuY3VycmVudC5tYXRyaXguY2xvbmUoKS5tdWx0aXBseShjLmludmVydCgpKSx0PWcuY3VycmVudC5tYXRyaXguY2xvbmUoKS5tdWx0aXBseSh1LmludmVydCgpKTtsJiZsKGcuY3VycmVudC5tYXRyaXgsZSxnLmN1cnJlbnQubWF0cml4V29ybGQsdCl9ZWxzZXtjb25zdCBlPShuZXcgUi5NYXRyaXg0KS5jb3B5KGcuY3VycmVudC5tYXRyaXgpO2Uuc2V0UG9zaXRpb24oZCk7Y29uc3QgdD1lLmNsb25lKCkubXVsdGlwbHkoYy5pbnZlcnQoKSkscj1lLmNsb25lKCkubXVsdGlwbHkodS5pbnZlcnQoKSk7bCYmbChlLHQsZy5jdXJyZW50Lm1hdHJpeFdvcmxkLHIpfXYoKX0sb25EcmFnRW5kOigpPT57cCYmKHAuZW5hYmxlZD0hMCksYyYmYygpLHYoKX19LHtkcmFnOntmaWx0ZXJUYXBzOiEwLHRocmVzaG9sZDoxLC4uLlwib2JqZWN0XCI9PXR5cGVvZiBkP2Q6e319fSk7cmV0dXJuIEMudXNlSW1wZXJhdGl2ZUhhbmRsZShmLCgoKT0+Zy5jdXJyZW50KSxbXSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57dCYmKGcuY3VycmVudC5tYXRyaXg9dCl9KSxbdF0pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6Z30sdygpLHttYXRyaXg6dCxtYXRyaXhBdXRvVXBkYXRlOiExfSxtKSx1KX0pKTtleHBvcnRzLkFjY3VtdWxhdGl2ZVNoYWRvd3M9c2EsZXhwb3J0cy5BZGFwdGl2ZURwcj1mdW5jdGlvbih7cGl4ZWxhdGVkOmV9KXtjb25zdCB0PWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxyPWEudXNlVGhyZWUoKGU9PmUuaW50ZXJuYWwuYWN0aXZlKSksbj1hLnVzZVRocmVlKChlPT5lLnBlcmZvcm1hbmNlLmN1cnJlbnQpKSxvPWEudXNlVGhyZWUoKGU9PmUudmlld3BvcnQuaW5pdGlhbERwcikpLGk9YS51c2VUaHJlZSgoZT0+ZS5zZXREcHIpKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57Y29uc3Qgbj10LmRvbUVsZW1lbnQ7cmV0dXJuKCk9PntyJiZpKG8pLGUmJm4mJihuLnN0eWxlLmltYWdlUmVuZGVyaW5nPVwiYXV0b1wiKX19KSxbXSksQy51c2VFZmZlY3QoKCgpPT57aShuKm8pLGUmJnQuZG9tRWxlbWVudCYmKHQuZG9tRWxlbWVudC5zdHlsZS5pbWFnZVJlbmRlcmluZz0xPT09bj9cImF1dG9cIjpcInBpeGVsYXRlZFwiKX0pLFtuXSksbnVsbH0sZXhwb3J0cy5BZGFwdGl2ZUV2ZW50cz1mdW5jdGlvbigpe2NvbnN0IGU9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSx0PWEudXNlVGhyZWUoKGU9PmUuc2V0RXZlbnRzKSkscj1hLnVzZVRocmVlKChlPT5lLnBlcmZvcm1hbmNlLmN1cnJlbnQpKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57Y29uc3Qgcj1lKCkuZXZlbnRzLmVuYWJsZWQ7cmV0dXJuKCk9PnQoe2VuYWJsZWQ6cn0pfSksW10pLEMudXNlRWZmZWN0KCgoKT0+dCh7ZW5hYmxlZDoxPT09cn0pKSxbcl0pLG51bGx9LGV4cG9ydHMuQXJjYmFsbENvbnRyb2xzPXB0LGV4cG9ydHMuQXNjaWlSZW5kZXJlcj1mdW5jdGlvbih7cmVuZGVySW5kZXg6ZT0xLGJnQ29sb3I6dD1cImJsYWNrXCIsZmdDb2xvcjpyPVwid2hpdGVcIixjaGFyYWN0ZXJzOm49XCIgLjotKyo9JUAjXCIsaW52ZXJ0Om89ITAsY29sb3I6aT0hMSxyZXNvbHV0aW9uOnM9LjE1fSl7Y29uc3R7c2l6ZTpsLGdsOmMsc2NlbmU6ZCxjYW1lcmE6bX09YS51c2VUaHJlZSgpLGY9Qy51c2VNZW1vKCgoKT0+e2NvbnN0IGU9bmV3IHUuQXNjaWlFZmZlY3QoYyxuLHtpbnZlcnQ6byxjb2xvcjppLHJlc29sdXRpb246c30pO3JldHVybiBlLmRvbUVsZW1lbnQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuZG9tRWxlbWVudC5zdHlsZS50b3A9XCIwcHhcIixlLmRvbUVsZW1lbnQuc3R5bGUubGVmdD1cIjBweFwiLGUuZG9tRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGV9KSxbbixvLGksc10pO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntmLmRvbUVsZW1lbnQuc3R5bGUuY29sb3I9cixmLmRvbUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yPXR9KSxbcix0XSksQy51c2VFZmZlY3QoKCgpPT4oYy5kb21FbGVtZW50LnN0eWxlLm9wYWNpdHk9XCIwXCIsYy5kb21FbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZi5kb21FbGVtZW50KSwoKT0+e2MuZG9tRWxlbWVudC5zdHlsZS5vcGFjaXR5PVwiMVwiLGMuZG9tRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYuZG9tRWxlbWVudCl9KSksW2ZdKSxDLnVzZUVmZmVjdCgoKCk9PntmLnNldFNpemUobC53aWR0aCxsLmhlaWdodCl9KSxbZixsXSksYS51c2VGcmFtZSgoZT0+e2YucmVuZGVyKGQsbSl9KSxlKSxDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsKX0sZXhwb3J0cy5CQkFuY2hvcj0oe2FuY2hvcjplLC4uLnR9KT0+e2NvbnN0IHI9Qy51c2VSZWYobnVsbCksbj1DLnVzZVJlZihudWxsKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57dmFyIGU7bnVsbCE9KGU9ci5jdXJyZW50KSYmbnVsbCE9KGU9ZS5wYXJlbnQpJiZlLnBhcmVudCYmKG4uY3VycmVudD1yLmN1cnJlbnQucGFyZW50LHIuY3VycmVudC5wYXJlbnQucGFyZW50LmFkZChyLmN1cnJlbnQpKX0pLFtdKSxhLnVzZUZyYW1lKCgoKT0+e24uY3VycmVudCYmKHlyLnNldEZyb21PYmplY3Qobi5jdXJyZW50KSx5ci5nZXRTaXplKHZyKSxyLmN1cnJlbnQucG9zaXRpb24uc2V0KG4uY3VycmVudC5wb3NpdGlvbi54K3ZyLngqKEFycmF5LmlzQXJyYXkoZSk/ZVswXTplLngpLzIsbi5jdXJyZW50LnBvc2l0aW9uLnkrdnIueSooQXJyYXkuaXNBcnJheShlKT9lWzFdOmUueSkvMixuLmN1cnJlbnQucG9zaXRpb24ueit2ci56KihBcnJheS5pc0FycmF5KGUpP2VbMl06ZS56KS8yKSl9KSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIixULmRlZmF1bHQoe3JlZjpyfSx0KSl9LGV4cG9ydHMuQmFja2Ryb3A9ZnVuY3Rpb24oe2NoaWxkcmVuOmUsZmxvb3I6dD0uMjUsc2VnbWVudHM6cj0yMCxyZWNlaXZlU2hhZG93Om4sLi4uYX0pe2NvbnN0IG89Qy51c2VSZWYobnVsbCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2xldCBlPTA7Y29uc3Qgbj1yL3IvMixhPW8uY3VycmVudC5hdHRyaWJ1dGVzLnBvc2l0aW9uO2ZvcihsZXQgbz0wO288cisxO28rKylmb3IobGV0IGk9MDtpPHIrMTtpKyspYS5zZXRYWVooZSsrLG8vci1uKygwPT09bz8tdDowKSxpL3ItbixtYShvL3IpKTthLm5lZWRzVXBkYXRlPSEwLG8uY3VycmVudC5jb21wdXRlVmVydGV4Tm9ybWFscygpfSksW3IsdF0pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsYSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIse3JlY2VpdmVTaGFkb3c6bixyb3RhdGlvbjpbLU1hdGguUEkvMiwwLE1hdGguUEkvMl19LEMuY3JlYXRlRWxlbWVudChcInBsYW5lR2VvbWV0cnlcIix7cmVmOm8sYXJnczpbMSwxLHIscl19KSxlKSl9LGV4cG9ydHMuQmFrZVNoYWRvd3M9ZnVuY3Rpb24oKXtjb25zdCBlPWEudXNlVGhyZWUoKGU9PmUuZ2wpKTtyZXR1cm4gdC51c2VFZmZlY3QoKCgpPT4oZS5zaGFkb3dNYXAuYXV0b1VwZGF0ZT0hMSxlLnNoYWRvd01hcC5uZWVkc1VwZGF0ZT0hMCwoKT0+e2Uuc2hhZG93TWFwLmF1dG9VcGRhdGU9ZS5zaGFkb3dNYXAubmVlZHNVcGRhdGU9ITB9KSksW2Uuc2hhZG93TWFwXSksbnVsbH0sZXhwb3J0cy5CaWxsYm9hcmQ9bmUsZXhwb3J0cy5Cb3VuZHM9Vm4sZXhwb3J0cy5Cb3g9dW4sZXhwb3J0cy5Cdmg9aHIsZXhwb3J0cy5DYW1lcmFDb250cm9scz12dCxleHBvcnRzLkNhbWVyYVNoYWtlPU9uLGV4cG9ydHMuQ2Fwc3VsZT1DbixleHBvcnRzLkNhdG11bGxSb21MaW5lPXhlLGV4cG9ydHMuQ2F1c3RpY3M9Z2EsZXhwb3J0cy5DZW50ZXI9YnIsZXhwb3J0cy5DaXJjbGU9ZG4sZXhwb3J0cy5DbG9uZT1qZSxleHBvcnRzLkNsb3VkPWphLGV4cG9ydHMuQ2xvdWRJbnN0YW5jZT1OYSxleHBvcnRzLkNsb3Vkcz1PYSxleHBvcnRzLkNvbXB1dGVkQXR0cmlidXRlPSh7Y29tcHV0ZTplLG5hbWU6dCwuLi5yfSk9Pntjb25zdFthXT1DLnVzZVN0YXRlKCgoKT0+bmV3IG4uQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoMCksMSkpKSxvPUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9PntpZihvLmN1cnJlbnQpe3ZhciB0O2NvbnN0IHI9bnVsbCE9PSh0PW8uY3VycmVudC5wYXJlbnQpJiZ2b2lkIDAhPT10P3Q6by5jdXJyZW50Ll9fcjNmLnBhcmVudCxuPWUocik7by5jdXJyZW50LmNvcHkobil9fSksW2VdKSxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIixULmRlZmF1bHQoe3JlZjpvLG9iamVjdDphLGF0dGFjaDpgYXR0cmlidXRlcy0ke3R9YH0scikpfSxleHBvcnRzLkNvbmU9bW4sZXhwb3J0cy5Db250YWN0U2hhZG93cz1hYSxleHBvcnRzLkN1YmVDYW1lcmE9ZnVuY3Rpb24oe2NoaWxkcmVuOmUsZnJhbWVzOnQ9MS8wLHJlc29sdXRpb246cixuZWFyOm4sZmFyOm8sZW52TWFwOmksZm9nOnMsLi4ubH0pe2NvbnN0IGM9Qy51c2VSZWYobnVsbCkse2Zibzp1LGNhbWVyYTpkLHVwZGF0ZTptfT1sdCh7cmVzb2x1dGlvbjpyLG5lYXI6bixmYXI6byxlbnZNYXA6aSxmb2c6c30pO2xldCBmPTA7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57Yy5jdXJyZW50JiYodD09PTEvMHx8Zjx0KSYmKGMuY3VycmVudC52aXNpYmxlPSExLG0oKSxjLmN1cnJlbnQudmlzaWJsZT0hMCxmKyspfSkpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsbCxDLmNyZWF0ZUVsZW1lbnQoXCJwcmltaXRpdmVcIix7b2JqZWN0OmR9KSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6Y30sbnVsbD09ZT92b2lkIDA6ZSh1LnRleHR1cmUpKSl9LGV4cG9ydHMuQ3ViZVRleHR1cmU9ZnVuY3Rpb24oe2NoaWxkcmVuOmUsZmlsZXM6dCwuLi5yfSl7Y29uc3Qgbj1LdCh0LHsuLi5yfSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsbnVsbD09ZT92b2lkIDA6ZShuKSl9LGV4cG9ydHMuQ3ViaWNCZXppZXJMaW5lPWhlLGV4cG9ydHMuQ3VydmVNb2RpZmllcj1HcixleHBvcnRzLkN5Y2xlUmF5Y2FzdD1mdW5jdGlvbih7b25DaGFuZ2VkOmUscG9ydGFsOnQscHJldmVudERlZmF1bHQ6cj0hMCxzY3JvbGw6bj0hMCxrZXlDb2RlOm89OX0pe2NvbnN0IGk9Qy51c2VSZWYoMCkscz1hLnVzZVRocmVlKChlPT5lLnNldEV2ZW50cykpLGw9YS51c2VUaHJlZSgoZT0+ZS5nZXQpKSxjPWEudXNlVGhyZWUoKGU9PmUuZ2wpKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57dmFyIGE7bGV0IHUsZD1bXTtjb25zdCBtPWwoKS5ldmVudHMuZmlsdGVyLGY9bnVsbCE9PShhPW51bGw9PXQ/dm9pZCAwOnQuY3VycmVudCkmJnZvaWQgMCE9PWE/YTpjLmRvbUVsZW1lbnQucGFyZW50Tm9kZSxwPSgpPT5mJiZlJiZlKGQsTWF0aC5yb3VuZChpLmN1cnJlbnQpJWQubGVuZ3RoKTtzKHtmaWx0ZXI6KGUsdCk9PntsZXQgcj1bLi4uZV07ci5sZW5ndGg9PT1kLmxlbmd0aCYmZC5ldmVyeSgoZT0+ci5tYXAoKGU9PmUub2JqZWN0LnV1aWQpKS5pbmNsdWRlcyhlLm9iamVjdC51dWlkKSkpfHwoaS5jdXJyZW50PTAsZD1yLHAoKSksbSYmKHI9bShyLHQpKTtmb3IobGV0IGU9MDtlPE1hdGgucm91bmQoaS5jdXJyZW50KSVyLmxlbmd0aDtlKyspe2NvbnN0IGU9ci5zaGlmdCgpO3I9Wy4uLnIsZV19cmV0dXJuIHJ9fSk7Y29uc3QgaD1lPT57dmFyIHQscjtpLmN1cnJlbnQ9ZShpLmN1cnJlbnQpLG51bGw9PSh0PWwoKS5ldmVudHMuaGFuZGxlcnMpfHx0Lm9uUG9pbnRlckNhbmNlbCh2b2lkIDApLG51bGw9PShyPWwoKS5ldmVudHMuaGFuZGxlcnMpfHxyLm9uUG9pbnRlck1vdmUodSkscCgpfSx4PWU9PnsoZS5rZXlDb2RlfHxlLndoaWNoKT09PW8mJihyJiZlLnByZXZlbnREZWZhdWx0KCksZC5sZW5ndGg+MSYmaCgoZT0+ZSsxKSkpfSx5PWU9PntyJiZlLnByZXZlbnREZWZhdWx0KCk7bGV0IHQ9MDtlfHwoZT13aW5kb3cuZXZlbnQpLGUud2hlZWxEZWx0YT90PWUud2hlZWxEZWx0YS8xMjA6ZS5kZXRhaWwmJih0PS1lLmRldGFpbC8zKSxkLmxlbmd0aD4xJiZoKChlPT5NYXRoLmFicyhlLXQpKSl9LHY9ZT0+dT1lO3JldHVybiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix2LHtwYXNzaXZlOiEwfSksbiYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIseSksdm9pZCAwIT09byYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix4KSwoKT0+e3Moe2ZpbHRlcjptfSksdm9pZCAwIT09byYmZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix4KSxuJiZkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIix5KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix2KX19KSxbYyxsLHMscixuLG9dKSxudWxsfSxleHBvcnRzLkN5bGluZGVyPWZuLGV4cG9ydHMuRGVjYWw9WGUsZXhwb3J0cy5EZXRhaWxlZD1TbyxleHBvcnRzLkRldGVjdEdQVT1mdW5jdGlvbih7Y2hpbGRyZW46ZSwuLi50fSl7Y29uc3Qgcj1mcih0KTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxudWxsPT1lP3ZvaWQgMDplKHIpKX0sZXhwb3J0cy5EZXZpY2VPcmllbnRhdGlvbkNvbnRyb2xzPWN0LGV4cG9ydHMuRG9kZWNhaGVkcm9uPU1uLGV4cG9ydHMuRHJhZ0NvbnRyb2xzPWRzLGV4cG9ydHMuRWRnZXM9TGUsZXhwb3J0cy5FZmZlY3RzPU1lLGV4cG9ydHMuRW52aXJvbm1lbnQ9bmEsZXhwb3J0cy5FbnZpcm9ubWVudEN1YmU9ZWEsZXhwb3J0cy5FbnZpcm9ubWVudE1hcD1KbixleHBvcnRzLkVudmlyb25tZW50UG9ydGFsPXRhLGV4cG9ydHMuRXhhbXBsZT1FcixleHBvcnRzLkV4dHJ1ZGU9U24sZXhwb3J0cy5GYWNlQ29udHJvbHM9YXMsZXhwb3J0cy5GYWNlTGFuZG1hcmtlcj1KaSxleHBvcnRzLkZhY2VMYW5kbWFya2VyRGVmYXVsdHM9S2ksZXhwb3J0cy5GYWNlbWVzaD1xaSxleHBvcnRzLkZhY2VtZXNoRGF0YXM9WWksZXhwb3J0cy5GYWNlbWVzaEV5ZT1aaSxleHBvcnRzLkZhY2VtZXNoRXllRGVmYXVsdHM9WGksZXhwb3J0cy5GYm89KHtjaGlsZHJlbjplLHdpZHRoOnQsaGVpZ2h0OnIsLi4ubn0pPT57Y29uc3QgYT1vdCh0LHIsbik7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsbnVsbD09ZT92b2lkIDA6ZShhKSl9LGV4cG9ydHMuRmJ4PWZ1bmN0aW9uKHtwYXRoOmUsLi4udH0pe2NvbnN0IHI9SnQoZSkuY2hpbGRyZW5bMF07cmV0dXJuIEMuY3JlYXRlRWxlbWVudChqZSxULmRlZmF1bHQoe30sdCx7b2JqZWN0OnJ9KSl9LGV4cG9ydHMuRmlyc3RQZXJzb25Db250cm9scz15dCxleHBvcnRzLkZpc2hleWU9ZnVuY3Rpb24oe3JlbmRlclByaW9yaXR5OmU9MSx6b29tOnQ9MCxzZWdtZW50czpyPTY0LGNoaWxkcmVuOm4scmVzb2x1dGlvbjpvPTg5NiwuLi5pfSl7Y29uc3Qgcz1DLnVzZVJlZihudWxsKSxsPUMudXNlUmVmKG51bGwpLHt3aWR0aDpjLGhlaWdodDp1fT1hLnVzZVRocmVlKChlPT5lLnNpemUpKSxbZF09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBSLk9ydGhvZ3JhcGhpY0NhbWVyYSkpO0MudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2QucG9zaXRpb24uc2V0KDAsMCwxMDApLGQuem9vbT0xMDAsZC5sZWZ0PWMvLTIsZC5yaWdodD1jLzIsZC50b3A9dS8yLGQuYm90dG9tPXUvLTIsZC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9KSxbYyx1XSk7Y29uc3QgbT1NYXRoLnNxcnQoYypjK3UqdSkvMTAwKiguNSt0LzIpLGY9bmV3IFIuVmVjdG9yMyxwPW5ldyBSLlNwaGVyZShuZXcgUi5WZWN0b3IzLG0pLGg9bmV3IFIuTWF0cml4Myx4PUMudXNlQ2FsbGJhY2soKChlLHQscik9Pnt0LnBvaW50ZXIuc2V0KGUub2Zmc2V0WC90LnNpemUud2lkdGgqMi0xLC1lLm9mZnNldFkvdC5zaXplLmhlaWdodCoyKzEpLHQucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodC5wb2ludGVyLGQpLHQucmF5Y2FzdGVyLnJheS5pbnRlcnNlY3RTcGhlcmUocCxmKSYmKGYubm9ybWFsaXplKCksaC5nZXROb3JtYWxNYXRyaXgobC5jdXJyZW50LmNhbWVyYS5tYXRyaXhXb3JsZCksbC5jdXJyZW50LmNhbWVyYS5nZXRXb3JsZFBvc2l0aW9uKHQucmF5Y2FzdGVyLnJheS5vcmlnaW4pLHQucmF5Y2FzdGVyLnJheS5kaXJlY3Rpb24uc2V0KDAsMCwxKS5yZWZsZWN0KGYpLHQucmF5Y2FzdGVyLnJheS5kaXJlY3Rpb24ueCo9LTEsdC5yYXljYXN0ZXIucmF5LmRpcmVjdGlvbi5hcHBseU5vcm1hbE1hdHJpeChoKS5tdWx0aXBseVNjYWxhcigtMSkpfSksW10pO3JldHVybiBhLnVzZUZyYW1lKCh0PT57ZSYmdC5nbC5yZW5kZXIocy5jdXJyZW50LGQpfSksZSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsVC5kZWZhdWx0KHtyZWY6c30saSx7c2NhbGU6bX0pLEMuY3JlYXRlRWxlbWVudChcInNwaGVyZUdlb21ldHJ5XCIse2FyZ3M6WzEscixyXX0pLEMuY3JlYXRlRWxlbWVudChcIm1lc2hCYXNpY01hdGVyaWFsXCIsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoX28se2NvbXB1dGU6eCxhdHRhY2g6XCJlbnZNYXBcIixmbGlwOiEwLHJlc29sdXRpb246byxyZWY6bH0sbixDLmNyZWF0ZUVsZW1lbnQoSW8se2FwaTpsfSkpKSkpfSxleHBvcnRzLkZsb2F0PU5uLGV4cG9ydHMuRmx5Q29udHJvbHM9dXQsZXhwb3J0cy5HaXptb0hlbHBlcj0oe2FsaWdubWVudDplPVwiYm90dG9tLXJpZ2h0XCIsbWFyZ2luOnQ9WzgwLDgwXSxyZW5kZXJQcmlvcml0eTpyPTEsb25VcGRhdGU6byxvblRhcmdldDppLGNoaWxkcmVuOnN9KT0+e2NvbnN0IGw9YS51c2VUaHJlZSgoZT0+ZS5zaXplKSksYz1hLnVzZVRocmVlKChlPT5lLmNhbWVyYSkpLHU9YS51c2VUaHJlZSgoZT0+ZS5jb250cm9scykpLGQ9YS51c2VUaHJlZSgoZT0+ZS5pbnZhbGlkYXRlKSksbT1DLnVzZVJlZihudWxsKSxmPUMudXNlUmVmKG51bGwpLHA9Qy51c2VSZWYoITEpLGg9Qy51c2VSZWYoMCkseD1DLnVzZVJlZihuZXcgbi5WZWN0b3IzKDAsMCwwKSkseT1DLnVzZVJlZihuZXcgbi5WZWN0b3IzKDAsMCwwKSk7Qy51c2VFZmZlY3QoKCgpPT57eS5jdXJyZW50LmNvcHkoYy51cCksUHQudXAuY29weShjLnVwKX0pLFtjXSk7Y29uc3Qgdj1DLnVzZUNhbGxiYWNrKChlPT57cC5jdXJyZW50PSEwLCh1fHxpKSYmKHguY3VycmVudD0obnVsbD09aT92b2lkIDA6aSgpKXx8KEF0KHUpP3UuZ2V0VGFyZ2V0KHguY3VycmVudCk6bnVsbD09dT92b2lkIDA6dS50YXJnZXQpKSxoLmN1cnJlbnQ9Yy5wb3NpdGlvbi5kaXN0YW5jZVRvKGt0KSxEdC5jb3B5KGMucXVhdGVybmlvbiksX3QuY29weShlKS5tdWx0aXBseVNjYWxhcihoLmN1cnJlbnQpLmFkZChrdCksUHQubG9va0F0KF90KSxGdC5jb3B5KFB0LnF1YXRlcm5pb24pLGQoKX0pLFt1LGMsaSxkXSk7YS51c2VGcmFtZSgoKGUsdCk9PntpZihmLmN1cnJlbnQmJm0uY3VycmVudCl7dmFyIHI7aWYocC5jdXJyZW50KWlmKER0LmFuZ2xlVG8oRnQpPC4wMSlwLmN1cnJlbnQ9ITEsXCJtaW5Qb2xhckFuZ2xlXCJpbiB1JiZjLnVwLmNvcHkoeS5jdXJyZW50KTtlbHNle2NvbnN0IGU9dCpDdDtEdC5yb3RhdGVUb3dhcmRzKEZ0LGUpLGMucG9zaXRpb24uc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24oRHQpLm11bHRpcGx5U2NhbGFyKGguY3VycmVudCkuYWRkKHguY3VycmVudCksYy51cC5zZXQoMCwxLDApLmFwcGx5UXVhdGVybmlvbihEdCkubm9ybWFsaXplKCksYy5xdWF0ZXJuaW9uLmNvcHkoRHQpLEF0KHUpJiZ1LnNldFBvc2l0aW9uKGMucG9zaXRpb24ueCxjLnBvc2l0aW9uLnksYy5wb3NpdGlvbi56KSxvP28oKTp1JiZ1LnVwZGF0ZSh0KSxkKCl9UnQuY29weShjLm1hdHJpeCkuaW52ZXJ0KCksbnVsbD09KHI9bS5jdXJyZW50KXx8ci5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChSdCl9fSkpO2NvbnN0IGc9Qy51c2VNZW1vKCgoKT0+KHt0d2VlbkNhbWVyYTp2fSkpLFt2XSksW3csel09dCxiPWUuZW5kc1dpdGgoXCItY2VudGVyXCIpPzA6ZS5lbmRzV2l0aChcIi1sZWZ0XCIpPy1sLndpZHRoLzIrdzpsLndpZHRoLzItdyxFPWUuc3RhcnRzV2l0aChcImNlbnRlci1cIik/MDplLnN0YXJ0c1dpdGgoXCJ0b3AtXCIpP2wuaGVpZ2h0LzItejotbC5oZWlnaHQvMit6O3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoTXQse3JlbmRlclByaW9yaXR5OnJ9LEMuY3JlYXRlRWxlbWVudChTdC5Qcm92aWRlcix7dmFsdWU6Z30sQy5jcmVhdGVFbGVtZW50KGl0LHttYWtlRGVmYXVsdDohMCxyZWY6Zixwb3NpdGlvbjpbMCwwLDIwMF19KSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLHtyZWY6bSxwb3NpdGlvbjpbYixFLDBdfSxzKSkpfSxleHBvcnRzLkdpem1vVmlld2N1YmU9ZT0+Qy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7c2NhbGU6WzYwLDYwLDYwXX0sQy5jcmVhdGVFbGVtZW50KCR0LGUpLFd0Lm1hcCgoKHQscik9PkMuY3JlYXRlRWxlbWVudChxdCxULmRlZmF1bHQoe2tleTpyLHBvc2l0aW9uOnQsZGltZW5zaW9uczpHdFtyXX0sZSkpKSksTnQubWFwKCgodCxyKT0+Qy5jcmVhdGVFbGVtZW50KHF0LFQuZGVmYXVsdCh7a2V5OnIscG9zaXRpb246dCxkaW1lbnNpb25zOmp0fSxlKSkpKSksZXhwb3J0cy5HaXptb1ZpZXdwb3J0PSh7aGlkZU5lZ2F0aXZlQXhlczplLGhpZGVBeGlzSGVhZHM6dCxkaXNhYmxlZDpyLGZvbnQ6bj1cIjE4cHggSW50ZXIgdmFyLCBBcmlhbCwgc2Fucy1zZXJpZlwiLGF4aXNDb2xvcnM6YT1bXCIjZmYyMDYwXCIsXCIjMjBkZjgwXCIsXCIjMjA4MGZmXCJdLGF4aXNIZWFkU2NhbGU6bz0xLGF4aXNTY2FsZTppLGxhYmVsczpzPVtcIlhcIixcIllcIixcIlpcIl0sbGFiZWxDb2xvcjpsPVwiIzAwMFwiLG9uQ2xpY2s6YywuLi51fSk9Pntjb25zdFtkLG0sZl09YSx7dHdlZW5DYW1lcmE6cH09VHQoKSxoPXtmb250Om4sZGlzYWJsZWQ6cixsYWJlbENvbG9yOmwsb25DbGljazpjLGF4aXNIZWFkU2NhbGU6byxvblBvaW50ZXJEb3duOnI/dm9pZCAwOmU9PntwKGUub2JqZWN0LnBvc2l0aW9uKSxlLnN0b3BQcm9wYWdhdGlvbigpfX07cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtzY2FsZTo0MH0sdSksQy5jcmVhdGVFbGVtZW50KFh0LHtjb2xvcjpkLHJvdGF0aW9uOlswLDAsMF0sc2NhbGU6aX0pLEMuY3JlYXRlRWxlbWVudChYdCx7Y29sb3I6bSxyb3RhdGlvbjpbMCwwLE1hdGguUEkvMl0sc2NhbGU6aX0pLEMuY3JlYXRlRWxlbWVudChYdCx7Y29sb3I6Zixyb3RhdGlvbjpbMCwtTWF0aC5QSS8yLDBdLHNjYWxlOml9KSwhdCYmQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoWnQsVC5kZWZhdWx0KHthcmNTdHlsZTpkLHBvc2l0aW9uOlsxLDAsMF0sbGFiZWw6c1swXX0saCkpLEMuY3JlYXRlRWxlbWVudChadCxULmRlZmF1bHQoe2FyY1N0eWxlOm0scG9zaXRpb246WzAsMSwwXSxsYWJlbDpzWzFdfSxoKSksQy5jcmVhdGVFbGVtZW50KFp0LFQuZGVmYXVsdCh7YXJjU3R5bGU6Zixwb3NpdGlvbjpbMCwwLDFdLGxhYmVsOnNbMl19LGgpKSwhZSYmQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoWnQsVC5kZWZhdWx0KHthcmNTdHlsZTpkLHBvc2l0aW9uOlstMSwwLDBdfSxoKSksQy5jcmVhdGVFbGVtZW50KFp0LFQuZGVmYXVsdCh7YXJjU3R5bGU6bSxwb3NpdGlvbjpbMCwtMSwwXX0saCkpLEMuY3JlYXRlRWxlbWVudChadCxULmRlZmF1bHQoe2FyY1N0eWxlOmYscG9zaXRpb246WzAsMCwtMV19LGgpKSkpKX0sZXhwb3J0cy5HbHRmPWV0LGV4cG9ydHMuR3JhZGllbnRUZXh0dXJlPWZ1bmN0aW9uKHtzdG9wczplLGNvbG9yczp0LHNpemU6cj0xMDI0LHdpZHRoOm49MTYsdHlwZTpvPVNlLkxpbmVhcixpbm5lckNpcmNsZVJhZGl1czppPTAsb3V0ZXJDaXJjbGVSYWRpdXM6cz1cImF1dG9cIiwuLi5sfSl7Y29uc3QgYz1hLnVzZVRocmVlKChlPT5lLmdsKSksdT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGw9YS5nZXRDb250ZXh0KFwiMmRcIik7bGV0IGM7aWYoYS53aWR0aD1uLGEuaGVpZ2h0PXIsbz09PVNlLkxpbmVhciljPWwuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwwLDAscik7ZWxzZXtjb25zdCBlPWEud2lkdGgvMix0PWEuaGVpZ2h0LzIscj1cImF1dG9cIiE9PXM/TWF0aC5hYnMoTnVtYmVyKHMpKTpNYXRoLnNxcnQoZSoqMit0KioyKTtjPWwuY3JlYXRlUmFkaWFsR3JhZGllbnQoZSx0LE1hdGguYWJzKGkpLGUsdCxyKX1jb25zdCB1PW5ldyBSLkNvbG9yO2xldCBkPWUubGVuZ3RoO2Zvcig7ZC0tOyljLmFkZENvbG9yU3RvcChlW2RdLHUuc2V0KHRbZF0pLmdldFN0eWxlKCkpO3JldHVybiBsLnNhdmUoKSxsLmZpbGxTdHlsZT1jLGwuZmlsbFJlY3QoMCwwLG4sciksbC5yZXN0b3JlKCksYX0pLFtlXSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChcImNhbnZhc1RleHR1cmVcIixULmRlZmF1bHQoe2NvbG9yU3BhY2U6Yy5vdXRwdXRDb2xvclNwYWNlLGFyZ3M6W3VdLGF0dGFjaDpcIm1hcFwifSxsKSl9LGV4cG9ydHMuR3JhZGllbnRUeXBlPVNlLGV4cG9ydHMuR3JpZD1RdCxleHBvcnRzLkhlbHBlcj0oe3R5cGU6ZSxhcmdzOnQ9W119KT0+e2NvbnN0IHI9Qy51c2VSZWYobnVsbCksbj1DLnVzZVJlZihudWxsKTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57bi5jdXJyZW50PXIuY3VycmVudC5wYXJlbnR9KSksdXIobixlLC4uLnQpLEMuY3JlYXRlRWxlbWVudChcIm9iamVjdDNEXCIse3JlZjpyfSl9LGV4cG9ydHMuSHRtbD1ILGV4cG9ydHMuSHVkPU10LGV4cG9ydHMuSWNvc2FoZWRyb249Ym4sZXhwb3J0cy5JbWFnZT1BZSxleHBvcnRzLkluc3RhbmNlPUJyLGV4cG9ydHMuSW5zdGFuY2VkQXR0cmlidXRlPU9yLGV4cG9ydHMuSW5zdGFuY2VzPVZyLGV4cG9ydHMuSXNPYmplY3Q9Q2UsZXhwb3J0cy5LZXlib2FyZENvbnRyb2xzPWZ1bmN0aW9uKHttYXA6ZSxjaGlsZHJlbjp0LG9uQ2hhbmdlOnIsZG9tRWxlbWVudDpufSl7Y29uc3QgYT1lLm1hcCgoZT0+ZS5uYW1lK2Uua2V5cykpLmpvaW4oXCItXCIpLGk9Qy51c2VNZW1vKCgoKT0+by5jcmVhdGUoYy5zdWJzY3JpYmVXaXRoU2VsZWN0b3IoKCgpPT5lLnJlZHVjZSgoKGUsdCk9Pih7Li4uZSxbdC5uYW1lXTohMX0pKSx7fSkpKSkpLFthXSkscz1DLnVzZU1lbW8oKCgpPT5baS5zdWJzY3JpYmUsaS5nZXRTdGF0ZSxpXSksW2FdKSxsPWkuc2V0U3RhdGU7cmV0dXJuIEMudXNlRWZmZWN0KCgoKT0+e2NvbnN0IHQ9ZS5tYXAoKCh7bmFtZTplLGtleXM6dCx1cDpufSk9Pih7a2V5czp0LHVwOm4sZm46dD0+e2woe1tlXTp0fSksciYmcihlLHQsc1sxXSgpKX19KSkpLnJlZHVjZSgoKGUse2tleXM6dCxmbjpyLHVwOm49ITB9KT0+KHQuZm9yRWFjaCgodD0+ZVt0XT17Zm46cixwcmVzc2VkOiExLHVwOm59KSksZSkpLHt9KSxhPSh7a2V5OmUsY29kZTpyfSk9Pntjb25zdCBuPXRbZV18fHRbcl07aWYoIW4pcmV0dXJuO2NvbnN0e2ZuOmEscHJlc3NlZDpvLHVwOml9PW47bi5wcmVzc2VkPSEwLCFpJiZvfHxhKCEwKX0sbz0oe2tleTplLGNvZGU6cn0pPT57Y29uc3Qgbj10W2VdfHx0W3JdO2lmKCFuKXJldHVybjtjb25zdHtmbjphLHVwOm99PW47bi5wcmVzc2VkPSExLG8mJmEoITEpfSxpPW58fHdpbmRvdztyZXR1cm4gaS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGEse3Bhc3NpdmU6ITB9KSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLG8se3Bhc3NpdmU6ITB9KSwoKT0+e2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixhKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLG8pfX0pLFtuLGFdKSxDLmNyZWF0ZUVsZW1lbnQodGUuUHJvdmlkZXIse3ZhbHVlOnMsY2hpbGRyZW46dH0pfSxleHBvcnRzLkt0eDI9KHtjaGlsZHJlbjplLGlucHV0OnQsYmFzaXNQYXRoOnJ9KT0+e2NvbnN0IG49dHIodCxyKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxudWxsPT1lP3ZvaWQgMDplKG4pKX0sZXhwb3J0cy5MYXRoZT1UbixleHBvcnRzLkxpZ2h0Zm9ybWVyPUNhLGV4cG9ydHMuTGluZT1tZSxleHBvcnRzLkxvYWRlcj1mdW5jdGlvbih7Y29udGFpbmVyU3R5bGVzOmUsaW5uZXJTdHlsZXM6dCxiYXJTdHlsZXM6cixkYXRhU3R5bGVzOm4sZGF0YUludGVycG9sYXRpb246YT1YLGluaXRpYWxTdGF0ZTpvPWU9PmV9KXtjb25zdHthY3RpdmU6aSxwcm9ncmVzczpzfT1xKCksbD1DLnVzZVJlZigwKSxjPUMudXNlUmVmKDApLHU9Qy51c2VSZWYobnVsbCksW2QsbV09Qy51c2VTdGF0ZShvKGkpKTtDLnVzZUVmZmVjdCgoKCk9PntsZXQgZTtyZXR1cm4gaSE9PWQmJihlPXNldFRpbWVvdXQoKCgpPT5tKGkpKSwzMDApKSwoKT0+Y2xlYXJUaW1lb3V0KGUpfSksW2QsaV0pO2NvbnN0IGY9Qy51c2VDYWxsYmFjaygoKCk9Pnt1LmN1cnJlbnQmJihsLmN1cnJlbnQrPShzLWwuY3VycmVudCkvMiwobC5jdXJyZW50Pi45NSpzfHwxMDA9PT1zKSYmKGwuY3VycmVudD1zKSx1LmN1cnJlbnQuaW5uZXJUZXh0PWEobC5jdXJyZW50KSxsLmN1cnJlbnQ8cyYmKGMuY3VycmVudD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZikpKX0pLFthLHNdKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT4oZigpLCgpPT5jYW5jZWxBbmltYXRpb25GcmFtZShjLmN1cnJlbnQpKSksW2ZdKSxkP0MuY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTp7Li4uWi5jb250YWluZXIsb3BhY2l0eTppPzE6MCwuLi5lfX0sQy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6ey4uLlouaW5uZXIsLi4udH19LEMuY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTp7Li4uWi5iYXIsdHJhbnNmb3JtOmBzY2FsZVgoJHtzLzEwMH0pYCwuLi5yfX0pLEMuY3JlYXRlRWxlbWVudChcInNwYW5cIix7cmVmOnUsc3R5bGU6ey4uLlouZGF0YSwuLi5ufX0pKSkpOm51bGx9LGV4cG9ydHMuTWFwQ29udHJvbHM9ZHQsZXhwb3J0cy5NYXJjaGluZ0N1YmU9SGUsZXhwb3J0cy5NYXJjaGluZ0N1YmVzPUdlLGV4cG9ydHMuTWFyY2hpbmdQbGFuZT0kZSxleHBvcnRzLk1hc2s9TG8sZXhwb3J0cy5NYXRjYXBUZXh0dXJlPSh7Y2hpbGRyZW46ZSxpZDp0LGZvcm1hdDpyLG9uTG9hZDpufSk9Pntjb25zdCBhPVphKHQscixuKTtyZXR1cm4gQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxudWxsPT1lP3ZvaWQgMDplKGEpKX0sZXhwb3J0cy5NZXJnZWQ9VXIsZXhwb3J0cy5NZXNoRGlzY2FyZE1hdGVyaWFsPW5uLGV4cG9ydHMuTWVzaERpc3RvcnRNYXRlcmlhbD0kcixleHBvcnRzLk1lc2hQb3J0YWxNYXRlcmlhbD1WbyxleHBvcnRzLk1lc2hSZWZsZWN0b3JNYXRlcmlhbD1LcixleHBvcnRzLk1lc2hSZWZyYWN0aW9uTWF0ZXJpYWw9ZnVuY3Rpb24oe2FiZXJyYXRpb25TdHJlbmd0aDplPTAsZmFzdENocm9tYTpyPSEwLGVudk1hcDpuLC4uLm99KXthLmV4dGVuZCh7TWVzaFJlZnJhY3Rpb25NYXRlcmlhbDpKcn0pO2NvbnN0IGk9dC51c2VSZWYoKSx7c2l6ZTpzfT1hLnVzZVRocmVlKCksbD10LnVzZU1lbW8oKCgpPT57dmFyIHQsYTtjb25zdCBvPXt9LGk9KHM9bikmJnMuaXNDdWJlVGV4dHVyZTt2YXIgcztjb25zdCBsPShudWxsIT09KHQ9aT9udWxsPT0oYT1uLmltYWdlWzBdKT92b2lkIDA6YS53aWR0aDpuLmltYWdlLndpZHRoKSYmdm9pZCAwIT09dD90OjEwMjQpLzQsYz1NYXRoLmZsb29yKE1hdGgubG9nMihsKSksdT1NYXRoLnBvdygyLGMpLGQ9MypNYXRoLm1heCh1LDExMiksbT00KnU7cmV0dXJuIGkmJihvLkVOVk1BUF9UWVBFX0NVQkVNPVwiXCIpLG8uQ1VCRVVWX1RFWEVMX1dJRFRIPVwiXCIrMS9kLG8uQ1VCRVVWX1RFWEVMX0hFSUdIVD1cIlwiKzEvbSxvLkNVQkVVVl9NQVhfTUlQPWAke2N9LjBgLGU+MCYmKG8uQ0hST01BVElDX0FCRVJSQVRJT05TPVwiXCIpLHImJihvLkZBU1RfQ0hST01BPVwiXCIpLG99KSxbZSxyXSk7cmV0dXJuIHQudXNlTGF5b3V0RWZmZWN0KCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09KGU9aS5jdXJyZW50KXx8bnVsbD09KGU9ZS5fX3IzZil8fG51bGw9PShlPWUucGFyZW50KT92b2lkIDA6ZS5nZW9tZXRyeTt0JiYoaS5jdXJyZW50LmJ2aD1uZXcgdy5NZXNoQlZIVW5pZm9ybVN0cnVjdCxpLmN1cnJlbnQuYnZoLnVwZGF0ZUZyb20obmV3IHcuTWVzaEJWSCh0LmNsb25lKCkudG9Ob25JbmRleGVkKCkse3N0cmF0ZWd5OncuU0FIfSkpKX0pLFtdKSxhLnVzZUZyYW1lKCgoe2NhbWVyYTplfSk9PntpLmN1cnJlbnQudmlld01hdHJpeEludmVyc2U9ZS5tYXRyaXhXb3JsZCxpLmN1cnJlbnQucHJvamVjdGlvbk1hdHJpeEludmVyc2U9ZS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoUmVmcmFjdGlvbk1hdGVyaWFsXCIsVC5kZWZhdWx0KHtrZXk6SlNPTi5zdHJpbmdpZnkobCksZGVmaW5lczpsLHJlZjppLHJlc29sdXRpb246W3Mud2lkdGgscy5oZWlnaHRdLGFiZXJyYXRpb25TdHJlbmd0aDplLGVudk1hcDpufSxvKSl9LGV4cG9ydHMuTWVzaFRyYW5zbWlzc2lvbk1hdGVyaWFsPXJuLGV4cG9ydHMuTWVzaFdvYmJsZU1hdGVyaWFsPVhyLGV4cG9ydHMuTW90aW9uUGF0aENvbnRyb2xzPWJ0LGV4cG9ydHMuTXVsdGlNYXRlcmlhbD1mdW5jdGlvbihlKXtjb25zdCB0PUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9Pnt2YXIgZTtjb25zdCByPW51bGw9PShlPXQuY3VycmVudCk/dm9pZCAwOmUucGFyZW50LG49bnVsbD09cj92b2lkIDA6ci5nZW9tZXRyeTtpZihuKXtjb25zdCBlPXIubWF0ZXJpYWw7ci5tYXRlcmlhbD10LmN1cnJlbnQuX19yM2Yub2JqZWN0cztjb25zdCBhPVsuLi5uLmdyb3Vwc107cmV0dXJuIG4uY2xlYXJHcm91cHMoKSxyLm1hdGVyaWFsLmZvckVhY2goKChlLHQpPT57dDxyLm1hdGVyaWFsLmxlbmd0aC0xJiYoZS5kZXB0aFdyaXRlPSExKSxuLmFkZEdyb3VwKDAsMS8wLHQpfSkpLCgpPT57ci5tYXRlcmlhbD1lLG4uZ3JvdXBzPWF9fX0pKSxDLmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLFQuZGVmYXVsdCh7cmVmOnR9LGUpKX0sZXhwb3J0cy5Ob3JtYWxUZXh0dXJlPSh7Y2hpbGRyZW46ZSxpZDp0LG9uTG9hZDpyLC4uLm59KT0+e2NvbnN0IGE9WWEodCxuLHIpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLG51bGw9PWU/dm9pZCAwOmUoYSkpfSxleHBvcnRzLk9jdGFoZWRyb249RW4sZXhwb3J0cy5PcmJpdENvbnRyb2xzPW10LGV4cG9ydHMuT3J0aG9ncmFwaGljQ2FtZXJhPWl0LGV4cG9ydHMuT3V0bGluZXM9ZnVuY3Rpb24oe2NvbG9yOmU9XCJibGFja1wiLG9wYWNpdHk6dD0xLHRyYW5zcGFyZW50OnI9ITEsc2NyZWVuc3BhY2U6bj0hMSx0b25lTWFwcGVkOm89ITAscG9seWdvbk9mZnNldDppPSExLHBvbHlnb25PZmZzZXRGYWN0b3I6cz0wLHJlbmRlck9yZGVyOmw9MCx0aGlja25lc3M6Yz0uMDUsYW5nbGU6ZD1NYXRoLlBJLGNsaXBwaW5nUGxhbmVzOm0sLi4uZn0pe2NvbnN0IHA9Qy51c2VSZWYoKSxbaF09Qy51c2VTdGF0ZSgoKCk9Pm5ldyBJZSh7c2lkZTpSLkJhY2tTaWRlfSkpKSx7Z2w6eH09YS51c2VUaHJlZSgpLHk9eC5nZXREcmF3aW5nQnVmZmVyU2l6ZShuZXcgUi5WZWN0b3IyKTtDLnVzZU1lbW8oKCgpPT5hLmV4dGVuZCh7T3V0bGluZXNNYXRlcmlhbDpJZX0pKSxbXSk7Y29uc3Qgdj1DLnVzZVJlZigwKSxnPUMudXNlUmVmKCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IGU9cC5jdXJyZW50O2lmKCFlKXJldHVybjtjb25zdCB0PWUucGFyZW50O2lmKHQmJnQuZ2VvbWV0cnkmJih2LmN1cnJlbnQhPT1kfHxnLmN1cnJlbnQhPT10Lmdlb21ldHJ5KSl7dmFyIHI7di5jdXJyZW50PWQsZy5jdXJyZW50PXQuZ2VvbWV0cnk7bGV0IG49bnVsbD09KHI9ZS5jaGlsZHJlbik/dm9pZCAwOnJbMF07biYmKGQmJm4uZ2VvbWV0cnkuZGlzcG9zZSgpLGUucmVtb3ZlKG4pKSx0LnNrZWxldG9uPyhuPW5ldyBSLlNraW5uZWRNZXNoLG4ubWF0ZXJpYWw9aCxuLmJpbmQodC5za2VsZXRvbix0LmJpbmRNYXRyaXgpLGUuYWRkKG4pKTp0LmlzSW5zdGFuY2VkTWVzaD8obj1uZXcgUi5JbnN0YW5jZWRNZXNoKHQuZ2VvbWV0cnksaCx0LmNvdW50KSxuLmluc3RhbmNlTWF0cml4PXQuaW5zdGFuY2VNYXRyaXgsZS5hZGQobikpOihuPW5ldyBSLk1lc2gsbi5tYXRlcmlhbD1oLGUuYWRkKG4pKSxuLmdlb21ldHJ5PWQ/dS50b0NyZWFzZWROb3JtYWxzKHQuZ2VvbWV0cnksZCk6dC5nZW9tZXRyeSxuLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcz10Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyxuLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT10Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeX19KSksQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57Y29uc3QgdT1wLmN1cnJlbnQ7aWYoIXUpcmV0dXJuO2NvbnN0IGQ9dS5jaGlsZHJlblswXTtpZihkKXtkLnJlbmRlck9yZGVyPWw7Y29uc3QgZj11LnBhcmVudDthLmFwcGx5UHJvcHMoZCx7bW9ycGhUYXJnZXRJbmZsdWVuY2VzOmYubW9ycGhUYXJnZXRJbmZsdWVuY2VzLG1vcnBoVGFyZ2V0RGljdGlvbmFyeTpmLm1vcnBoVGFyZ2V0RGljdGlvbmFyeX0pLGEuYXBwbHlQcm9wcyhkLm1hdGVyaWFsLHt0cmFuc3BhcmVudDpyLHRoaWNrbmVzczpjLGNvbG9yOmUsb3BhY2l0eTp0LHNpemU6eSxzY3JlZW5zcGFjZTpuLHRvbmVNYXBwZWQ6byxwb2x5Z29uT2Zmc2V0OmkscG9seWdvbk9mZnNldEZhY3RvcjpzLGNsaXBwaW5nUGxhbmVzOm0sY2xpcHBpbmc6bSYmbS5sZW5ndGg+MH0pfX0pKSxDLnVzZUVmZmVjdCgoKCk9PigpPT57Y29uc3QgZT1wLmN1cnJlbnQ7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5jaGlsZHJlblswXTt0JiYoZCYmdC5nZW9tZXRyeS5kaXNwb3NlKCksZS5yZW1vdmUodCkpfSksW10pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6cH0sZikpfSxleHBvcnRzLlBlcmZvcm1hbmNlTW9uaXRvcj1mdW5jdGlvbih7aXRlcmF0aW9uczplPTEwLG1zOnI9MjUwLHRocmVzaG9sZDpuPS43NSxzdGVwOm89LjEsZmFjdG9yOmk9LjUsZmxpcGZsb3BzOnM9MS8wLGJvdW5kczpsPWU9PmU+MTAwP1s2MCwxMDBdOls0MCw2MF0sb25JbmNsaW5lOmMsb25EZWNsaW5lOnUsb25DaGFuZ2U6ZCxvbkZhbGxiYWNrOm0sY2hpbGRyZW46Zn0pe2NvbnN0IHA9TWF0aC5wb3coMTAsMCksW2gseF09dC51c2VTdGF0ZSgoKCk9Pih7ZnBzOjAsaW5kZXg6MCxmYWN0b3I6aSxmbGlwcGVkOjAscmVmcmVzaHJhdGU6MCxmYWxsYmFjazohMSxmcmFtZXM6W10sYXZlcmFnZXM6W10sc3Vic2NyaXB0aW9uczpuZXcgTWFwLHN1YnNjcmliZTplPT57Y29uc3QgdD1TeW1ib2woKTtyZXR1cm4gaC5zdWJzY3JpcHRpb25zLnNldCh0LGUuY3VycmVudCksKCk9PntoLnN1YnNjcmlwdGlvbnMuZGVsZXRlKHQpfX19KSkpO2xldCB5PTA7cmV0dXJuIGEudXNlRnJhbWUoKCgpPT57Y29uc3R7ZnJhbWVzOnQsYXZlcmFnZXM6YX09aDtpZighaC5mYWxsYmFjayYmYS5sZW5ndGg8ZSl7dC5wdXNoKHBlcmZvcm1hbmNlLm5vdygpKTtjb25zdCBpPXRbdC5sZW5ndGgtMV0tdFswXTtpZihpPj1yKXtpZihoLmZwcz1NYXRoLnJvdW5kKHQubGVuZ3RoL2kqMWUzKnApL3AsaC5yZWZyZXNocmF0ZT1NYXRoLm1heChoLnJlZnJlc2hyYXRlLGguZnBzKSxhW2guaW5kZXgrKyVlXT1oLmZwcyxhLmxlbmd0aD09PWUpe2NvbnN0W3Qscl09bChoLnJlZnJlc2hyYXRlKSxpPWEuZmlsdGVyKChlPT5lPj1yKSksZj1hLmZpbHRlcigoZT0+ZTx0KSk7aS5sZW5ndGg+ZSpuJiYoaC5mYWN0b3I9TWF0aC5taW4oMSxoLmZhY3RvcitvKSxoLmZsaXBwZWQrKyxjJiZjKGgpLGguc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT5lLm9uSW5jbGluZSYmZS5vbkluY2xpbmUoaCkpKSksZi5sZW5ndGg+ZSpuJiYoaC5mYWN0b3I9TWF0aC5tYXgoMCxoLmZhY3Rvci1vKSxoLmZsaXBwZWQrKyx1JiZ1KGgpLGguc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT5lLm9uRGVjbGluZSYmZS5vbkRlY2xpbmUoaCkpKSkseSE9PWguZmFjdG9yJiYoeT1oLmZhY3RvcixkJiZkKGgpLGguc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChlPT5lLm9uQ2hhbmdlJiZlLm9uQ2hhbmdlKGgpKSkpLGguZmxpcHBlZD5zJiYhaC5mYWxsYmFjayYmKGguZmFsbGJhY2s9ITAsbSYmbShoKSxoLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+ZS5vbkZhbGxiYWNrJiZlLm9uRmFsbGJhY2soaCkpKSksaC5hdmVyYWdlcz1bXX1oLmZyYW1lcz1bXX19fSkpLEMuY3JlYXRlRWxlbWVudChEby5Qcm92aWRlcix7dmFsdWU6aH0sZil9LGV4cG9ydHMuUGVyc3BlY3RpdmVDYW1lcmE9c3QsZXhwb3J0cy5QaXZvdENvbnRyb2xzPWppLGV4cG9ydHMuUGxhbmU9aG4sZXhwb3J0cy5Qb2ludD15byxleHBvcnRzLlBvaW50TWF0ZXJpYWw9c24sZXhwb3J0cy5Qb2ludE1hdGVyaWFsSW1wbD1vbixleHBvcnRzLlBvaW50ZXJMb2NrQ29udHJvbHM9eHQsZXhwb3J0cy5Qb2ludHM9Z28sZXhwb3J0cy5Qb2ludHNCdWZmZXI9dm8sZXhwb3J0cy5Qb2x5aGVkcm9uPXpuLGV4cG9ydHMuUG9zaXRpb25NZXNoPVJyLGV4cG9ydHMuUG9zaXRpb25Qb2ludD1jbyxleHBvcnRzLlBvc2l0aW9uYWxBdWRpbz15ZSxleHBvcnRzLlByZWxvYWQ9ZnVuY3Rpb24oe2FsbDplLHNjZW5lOnQsY2FtZXJhOnJ9KXtjb25zdCBvPWEudXNlVGhyZWUoKCh7Z2w6ZX0pPT5lKSksaT1hLnVzZVRocmVlKCgoe2NhbWVyYTplfSk9PmUpKSxzPWEudXNlVGhyZWUoKCh7c2NlbmU6ZX0pPT5lKSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IGE9W107ZSYmKHR8fHMpLnRyYXZlcnNlKChlPT57ITE9PT1lLnZpc2libGUmJihhLnB1c2goZSksZS52aXNpYmxlPSEwKX0pKSxvLmNvbXBpbGUodHx8cyxyfHxpKTtjb25zdCBsPW5ldyBuLldlYkdMQ3ViZVJlbmRlclRhcmdldCgxMjgpO25ldyBuLkN1YmVDYW1lcmEoLjAxLDFlNSxsKS51cGRhdGUobyx0fHxzKSxsLmRpc3Bvc2UoKSxhLmZvckVhY2goKGU9PmUudmlzaWJsZT0hMSkpfSksW10pLG51bGx9LGV4cG9ydHMuUHJlc2VudGF0aW9uQ29udHJvbHM9ZnVuY3Rpb24oe2VuYWJsZWQ6ZT0hMCxzbmFwOnQsZ2xvYmFsOnIsZG9tRWxlbWVudDpvLGN1cnNvcjpzPSEwLGNoaWxkcmVuOmMsc3BlZWQ6dT0xLHJvdGF0aW9uOmQ9WzAsMCwwXSx6b29tOm09MSxwb2xhcjpmPVswLE1hdGguUEkvMl0sYXppbXV0aDpwPVstMS8wLDEvMF0sY29uZmlnOmg9e21hc3M6MSx0ZW5zaW9uOjE3MCxmcmljdGlvbjoyNn19KXtjb25zdCB4PWEudXNlVGhyZWUoKGU9PmUuZXZlbnRzKSkseT1hLnVzZVRocmVlKChlPT5lLmdsKSksdj1vfHx4LmNvbm5lY3RlZHx8eS5kb21FbGVtZW50LHtzaXplOmd9PWEudXNlVGhyZWUoKSx3PUMudXNlTWVtbygoKCk9PltkWzBdK2ZbMF0sZFswXStmWzFdXSksW2RbMF0sZlswXSxmWzFdXSksej1DLnVzZU1lbW8oKCgpPT5bZFsxXStwWzBdLGRbMV0rcFsxXV0pLFtkWzFdLHBbMF0scFsxXV0pLGI9Qy51c2VNZW1vKCgoKT0+W24uTWF0aFV0aWxzLmNsYW1wKGRbMF0sLi4udyksbi5NYXRoVXRpbHMuY2xhbXAoZFsxXSwuLi56KSxkWzJdXSksW2RbMF0sZFsxXSxkWzJdLHcsel0pLFtFLE1dPWwudXNlU3ByaW5nKCgoKT0+KHtzY2FsZToxLHJvdGF0aW9uOmIsY29uZmlnOmh9KSkpO0MudXNlRWZmZWN0KCgoKT0+e00uc3RhcnQoe3NjYWxlOjEscm90YXRpb246Yixjb25maWc6aH0pfSksW2JdKSxDLnVzZUVmZmVjdCgoKCk9PntpZihyJiZzJiZlKXJldHVybiB2LnN0eWxlLmN1cnNvcj1cImdyYWJcIix5LmRvbUVsZW1lbnQuc3R5bGUuY3Vyc29yPVwiXCIsKCk9Pnt2LnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIix5LmRvbUVsZW1lbnQuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwifX0pLFtyLHMsdixlXSk7Y29uc3QgUz1pLnVzZUdlc3R1cmUoe29uSG92ZXI6KHtsYXN0OnR9KT0+e3MmJiFyJiZlJiYodi5zdHlsZS5jdXJzb3I9dD9cImF1dG9cIjpcImdyYWJcIil9LG9uRHJhZzooe2Rvd246cixkZWx0YTpbYSxvXSxtZW1vOltpLGxdPUUucm90YXRpb24uYW5pbWF0aW9uLnRvfHxifSk9PntpZighZSlyZXR1cm5bbyxhXTtzJiYodi5zdHlsZS5jdXJzb3I9cj9cImdyYWJiaW5nXCI6XCJncmFiXCIpLGE9bi5NYXRoVXRpbHMuY2xhbXAobCthL2cud2lkdGgqTWF0aC5QSSp1LC4uLnopLG89bi5NYXRoVXRpbHMuY2xhbXAoaStvL2cuaGVpZ2h0Kk1hdGguUEkqdSwuLi53KTtjb25zdCBjPXQmJiFyJiZcImJvb2xlYW5cIiE9dHlwZW9mIHQ/dDpoO3JldHVybiBNLnN0YXJ0KHtzY2FsZTpyJiZvPndbMV0vMj9tOjEscm90YXRpb246dCYmIXI/YjpbbyxhLDBdLGNvbmZpZzplPT5cInNjYWxlXCI9PT1lP3suLi5jLGZyaWN0aW9uOjMqYy5mcmljdGlvbn06Y30pLFtvLGFdfX0se3RhcmdldDpyP3Y6dm9pZCAwfSk7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChsLmEuZ3JvdXAsVC5kZWZhdWx0KHt9LG51bGw9PVM/dm9pZCAwOlMoKSxFKSxjKX0sZXhwb3J0cy5Qcm9ncmVzcz1mdW5jdGlvbih7Y2hpbGRyZW46ZX0pe2NvbnN0IHQ9cSgpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLG51bGw9PWU/dm9pZCAwOmUodCkpfSxleHBvcnRzLlF1YWRyYXRpY0JlemllckxpbmU9cGUsZXhwb3J0cy5SYW5kb21pemVkTGlnaHQ9bGEsZXhwb3J0cy5SZWZsZWN0b3I9d2EsZXhwb3J0cy5SZW5kZXJDdWJlVGV4dHVyZT1fbyxleHBvcnRzLlJlbmRlclRleHR1cmU9Rm8sZXhwb3J0cy5SZXNpemU9X24sZXhwb3J0cy5SaW5nPXduLGV4cG9ydHMuUm91bmRlZEJveD1EbixleHBvcnRzLlNhbXBsZXI9ZnVuY3Rpb24oe2NoaWxkcmVuOmUsd2VpZ2h0OnQsdHJhbnNmb3JtOnIsaW5zdGFuY2VzOm4sbWVzaDphLGNvdW50Om89MTYsLi4uaX0pe2NvbnN0IHM9Qy51c2VSZWYobnVsbCksbD1DLnVzZVJlZihudWxsKSxjPUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUxheW91dEVmZmVjdCgoKCk9Pnt2YXIgZSx0O2wuY3VycmVudD1udWxsIT09KGU9bnVsbD09bj92b2lkIDA6bi5jdXJyZW50KSYmdm9pZCAwIT09ZT9lOnMuY3VycmVudC5jaGlsZHJlbi5maW5kKChlPT5lLmhhc093blByb3BlcnR5KFwiaW5zdGFuY2VNYXRyaXhcIikpKSxjLmN1cnJlbnQ9bnVsbCE9PSh0PW51bGw9PWE/dm9pZCAwOmEuY3VycmVudCkmJnZvaWQgMCE9PXQ/dDpzLmN1cnJlbnQuY2hpbGRyZW4uZmluZCgoZT0+XCJNZXNoXCI9PT1lLnR5cGUpKX0pLFtlLG51bGw9PWE/dm9pZCAwOmEuY3VycmVudCxudWxsPT1uP3ZvaWQgMDpuLmN1cnJlbnRdKSxOZShjLG8scix0LGwpLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6c30saSksZSl9LGV4cG9ydHMuU2NyZWVuUXVhZD1rbixleHBvcnRzLlNjcmVlblNpemVyPWRlLGV4cG9ydHMuU2NyZWVuU3BhY2U9YWUsZXhwb3J0cy5TY3JlZW5WaWRlb1RleHR1cmU9V2ksZXhwb3J0cy5TY3JvbGw9ZWUsZXhwb3J0cy5TY3JvbGxDb250cm9scz1mdW5jdGlvbih7ZXBzOmU9MWUtNSxlbmFibGVkOnQ9ITAsaW5maW5pdGU6cixob3Jpem9udGFsOm4scGFnZXM6bz0xLGRpc3RhbmNlOmk9MSxkYW1waW5nOmw9LjI1LG1heFNwZWVkOmM9MS8wLHByZXBlbmQ6dT0hMSxzdHlsZTpkPXt9LGNoaWxkcmVuOm19KXtjb25zdHtnZXQ6ZixzZXRFdmVudHM6cCxnbDpoLHNpemU6eCxpbnZhbGlkYXRlOnksZXZlbnRzOnZ9PWEudXNlVGhyZWUoKSxbZ109Qy51c2VTdGF0ZSgoKCk9PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpKSxbd109Qy51c2VTdGF0ZSgoKCk9PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpKSxbel09Qy51c2VTdGF0ZSgoKCk9PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpKSxiPWguZG9tRWxlbWVudC5wYXJlbnROb2RlLEU9Qy51c2VSZWYoMCksTT1DLnVzZU1lbW8oKCgpPT57Y29uc3QgdD17ZWw6ZyxlcHM6ZSxmaWxsOncsZml4ZWQ6eixob3Jpem9udGFsOm4sZGFtcGluZzpsLG9mZnNldDowLGRlbHRhOjAsc2Nyb2xsOkUscGFnZXM6byxyYW5nZShlLHQscj0wKXtjb25zdCBuPWUtcixhPW4rdCsyKnI7cmV0dXJuIHRoaXMub2Zmc2V0PG4/MDp0aGlzLm9mZnNldD5hPzE6KHRoaXMub2Zmc2V0LW4pLyhhLW4pfSxjdXJ2ZShlLHQscj0wKXtyZXR1cm4gTWF0aC5zaW4odGhpcy5yYW5nZShlLHQscikqTWF0aC5QSSl9LHZpc2libGUoZSx0LHI9MCl7Y29uc3Qgbj1lLXIsYT1uK3QrMipyO3JldHVybiB0aGlzLm9mZnNldD49biYmdGhpcy5vZmZzZXQ8PWF9fTtyZXR1cm4gdH0pLFtlLGwsbixvXSk7Qy51c2VFZmZlY3QoKCgpPT57Zy5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsZy5zdHlsZS53aWR0aD1cIjEwMCVcIixnLnN0eWxlLmhlaWdodD1cIjEwMCVcIixnLnN0eWxlW24/XCJvdmVyZmxvd1hcIjpcIm92ZXJmbG93WVwiXT1cImF1dG9cIixnLnN0eWxlW24/XCJvdmVyZmxvd1lcIjpcIm92ZXJmbG93WFwiXT1cImhpZGRlblwiLGcuc3R5bGUudG9wPVwiMHB4XCIsZy5zdHlsZS5sZWZ0PVwiMHB4XCI7Zm9yKGNvbnN0IGUgaW4gZClnLnN0eWxlW2VdPWRbZV07ei5zdHlsZS5wb3NpdGlvbj1cInN0aWNreVwiLHouc3R5bGUudG9wPVwiMHB4XCIsei5zdHlsZS5sZWZ0PVwiMHB4XCIsei5zdHlsZS53aWR0aD1cIjEwMCVcIix6LnN0eWxlLmhlaWdodD1cIjEwMCVcIix6LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZy5hcHBlbmRDaGlsZCh6KSx3LnN0eWxlLmhlaWdodD1uP1wiMTAwJVwiOm8qaSoxMDArXCIlXCIsdy5zdHlsZS53aWR0aD1uP28qaSoxMDArXCIlXCI6XCIxMDAlXCIsdy5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLGcuYXBwZW5kQ2hpbGQodyksdT9iLnByZXBlbmQoZyk6Yi5hcHBlbmRDaGlsZChnKSxnW24/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09MTtjb25zdCBlPXYuY29ubmVjdGVkfHxoLmRvbUVsZW1lbnQ7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+bnVsbD09di5jb25uZWN0P3ZvaWQgMDp2LmNvbm5lY3QoZykpKTtjb25zdCB0PWYoKS5ldmVudHMuY29tcHV0ZTtyZXR1cm4gcCh7Y29tcHV0ZShlLHQpe2NvbnN0e2xlZnQ6cix0b3A6bn09Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPWUuY2xpZW50WC1yLG89ZS5jbGllbnRZLW47dC5wb2ludGVyLnNldChhL3Quc2l6ZS53aWR0aCoyLTEsLW8vdC5zaXplLmhlaWdodCoyKzEpLHQucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEodC5wb2ludGVyLHQuY2FtZXJhKX19KSwoKT0+e2IucmVtb3ZlQ2hpbGQoZykscCh7Y29tcHV0ZTp0fSksbnVsbD09di5jb25uZWN0fHx2LmNvbm5lY3QoZSl9fSksW28saSxuLGcsdyx6LGJdKSxDLnVzZUVmZmVjdCgoKCk9PntpZih2LmNvbm5lY3RlZD09PWcpe2NvbnN0IGU9eFtuP1wid2lkdGhcIjpcImhlaWdodFwiXSxhPWdbbj9cInNjcm9sbFdpZHRoXCI6XCJzY3JvbGxIZWlnaHRcIl0sbz1hLWU7bGV0IGk9MCxzPSEwLGw9ITA7Y29uc3QgYz0oKT0+e2lmKHQmJiFsJiYoeSgpLGk9Z1tuP1wic2Nyb2xsTGVmdFwiOlwic2Nyb2xsVG9wXCJdLEUuY3VycmVudD1pL28scikpe2lmKCFzKWlmKGk+PW8pe2NvbnN0IGU9MS1NLm9mZnNldDtnW24/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09MSxFLmN1cnJlbnQ9TS5vZmZzZXQ9LWUscz0hMH1lbHNlIGlmKGk8PTApe2NvbnN0IGU9MStNLm9mZnNldDtnW24/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09YSxFLmN1cnJlbnQ9TS5vZmZzZXQ9ZSxzPSEwfXMmJnNldFRpbWVvdXQoKCgpPT5zPSExKSw0MCl9fTtnLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixjLHtwYXNzaXZlOiEwfSkscmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+bD0hMSkpO2NvbnN0IHU9ZT0+Zy5zY3JvbGxMZWZ0Kz1lLmRlbHRhWS8yO3JldHVybiBuJiZnLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHUse3Bhc3NpdmU6ITB9KSwoKT0+e2cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGMpLG4mJmcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsdSl9fX0pLFtnLHYseCxyLE0seSxuLHRdKTtsZXQgUz0wO3JldHVybiBhLnVzZUZyYW1lKCgodCxyKT0+e1M9TS5vZmZzZXQscy5lYXNpbmcuZGFtcChNLFwib2Zmc2V0XCIsRS5jdXJyZW50LGwscixjLHZvaWQgMCxlKSxzLmVhc2luZy5kYW1wKE0sXCJkZWx0YVwiLE1hdGguYWJzKFMtTS5vZmZzZXQpLGwscixjLHZvaWQgMCxlKSxNLmRlbHRhPmUmJnkoKX0pKSxDLmNyZWF0ZUVsZW1lbnQoWS5Qcm92aWRlcix7dmFsdWU6TX0sbSl9LGV4cG9ydHMuU2VnbWVudD1NbyxleHBvcnRzLlNlZ21lbnRPYmplY3Q9Ym8sZXhwb3J0cy5TZWdtZW50cz16byxleHBvcnRzLlNlbGVjdD1mdW5jdGlvbih7Ym94OmUsbXVsdGlwbGU6dCxjaGlsZHJlbjpyLG9uQ2hhbmdlOm4sb25DaGFuZ2VQb2ludGVyVXA6byxib3JkZXI6aT1cIjFweCBzb2xpZCAjNTVhYWZmXCIsYmFja2dyb3VuZENvbG9yOnM9XCJyZ2JhKDc1LCAxNjAsIDI1NSwgMC4xKVwiLGZpbHRlcjpsPWU9PmUsLi4uY30pe2NvbnN0W20sZl09Qy51c2VTdGF0ZSghMSkse3NldEV2ZW50czpwLGNhbWVyYTpoLHJheWNhc3Rlcjp4LGdsOnksY29udHJvbHM6dixzaXplOmcsZ2V0Ond9PWEudXNlVGhyZWUoKSxbeixiXT1DLnVzZVN0YXRlKCExKSxbRSxNXT1DLnVzZVJlZHVjZXIoKChlLHtvYmplY3Q6dCxzaGlmdDpyfSk9PnZvaWQgMD09PXQ/W106QXJyYXkuaXNBcnJheSh0KT90OnI/ZS5pbmNsdWRlcyh0KT9lLmZpbHRlcigoZT0+ZSE9PXQpKTpbdCwuLi5lXTplWzBdPT09dD9bXTpbdF0pLFtdKTtDLnVzZUVmZmVjdCgoKCk9PnttP251bGw9PW58fG4oRSk6bnVsbD09b3x8byhFKX0pLFtFLG1dKTtjb25zdCBTPUMudXNlQ2FsbGJhY2soKGU9PntlLnN0b3BQcm9wYWdhdGlvbigpLE0oe29iamVjdDpsKFtlLm9iamVjdF0pWzBdLHNoaWZ0OnQmJmUuc2hpZnRLZXl9KX0pLFtdKSxQPUMudXNlQ2FsbGJhY2soKGU9PiF6JiZNKHt9KSksW3pdKSxEPUMudXNlUmVmKG51bGwpO3JldHVybiBDLnVzZUVmZmVjdCgoKCk9PntpZighZXx8IXQpcmV0dXJuO2NvbnN0IHI9bmV3IHUuU2VsZWN0aW9uQm94KGgsRC5jdXJyZW50KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLG4uc3R5bGUuYm9yZGVyPWksbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9cyxuLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIjtjb25zdCBhPW5ldyBSLlZlY3RvcjIsbz1uZXcgUi5WZWN0b3IyLGM9bmV3IFIuVmVjdG9yMixtPXcoKS5ldmVudHMuZW5hYmxlZCx4PW51bGw9PXY/dm9pZCAwOnYuZW5hYmxlZDtsZXQgej0hMTtmdW5jdGlvbiBiKGUsdCl7Y29uc3R7b2Zmc2V0WDpyLG9mZnNldFk6bn09ZSx7d2lkdGg6YSxoZWlnaHQ6b309Zzt0LnNldChyL2EqMi0xLC1uL28qMisxKX1mdW5jdGlvbiBFKGUpe2Uuc2hpZnRLZXkmJighZnVuY3Rpb24oZSl7dmFyIHQ7diYmKHYuZW5hYmxlZD0hMSkscCh7ZW5hYmxlZDohMX0pLGYoej0hMCksbnVsbD09KHQ9eS5kb21FbGVtZW50LnBhcmVudEVsZW1lbnQpfHx0LmFwcGVuZENoaWxkKG4pLG4uc3R5bGUubGVmdD1gJHtlLmNsaWVudFh9cHhgLG4uc3R5bGUudG9wPWAke2UuY2xpZW50WX1weGAsbi5zdHlsZS53aWR0aD1cIjBweFwiLG4uc3R5bGUuaGVpZ2h0PVwiMHB4XCIsYS54PWUuY2xpZW50WCxhLnk9ZS5jbGllbnRZfShlKSxiKGUsci5zdGFydFBvaW50KSl9bGV0IFM9W107ZnVuY3Rpb24gVChlKXtpZih6KXshZnVuY3Rpb24oZSl7Yy54PU1hdGgubWF4KGEueCxlLmNsaWVudFgpLGMueT1NYXRoLm1heChhLnksZS5jbGllbnRZKSxvLng9TWF0aC5taW4oYS54LGUuY2xpZW50WCksby55PU1hdGgubWluKGEueSxlLmNsaWVudFkpLG4uc3R5bGUubGVmdD1gJHtvLnh9cHhgLG4uc3R5bGUudG9wPWAke28ueX1weGAsbi5zdHlsZS53aWR0aD1jLngtby54K1wicHhcIixuLnN0eWxlLmhlaWdodD1jLnktby55K1wicHhcIn0oZSksYihlLHIuZW5kUG9pbnQpO2NvbnN0IHQ9ci5zZWxlY3QoKS5zb3J0KChlPT5lLnV1aWQpKS5maWx0ZXIoKGU9PmUuaXNNZXNoKSk7ZC5zaGFsbG93KHQsUyl8fChTPXQsTSh7b2JqZWN0OmwodCl9KSl9fWZ1bmN0aW9uIEMoZSl7dmFyIHQ7eiYmeiYmKHYmJih2LmVuYWJsZWQ9eCkscCh7ZW5hYmxlZDptfSksZih6PSExKSxudWxsPT0odD1uLnBhcmVudEVsZW1lbnQpfHx0LnJlbW92ZUNoaWxkKG4pKX1yZXR1cm4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsRSx7cGFzc2l2ZTohMH0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLFQse3Bhc3NpdmU6ITAsY2FwdHVyZTohMH0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIixDLHtwYXNzaXZlOiEwfSksKCk9Pntkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIixFKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIixULCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsQyl9fSksW2cud2lkdGgsZy5oZWlnaHQseCxoLHYseV0pLEMuY3JlYXRlRWxlbWVudChcImdyb3VwXCIsVC5kZWZhdWx0KHtyZWY6RCxvbkNsaWNrOlMsb25Qb2ludGVyT3ZlcjooKT0+YighMCksb25Qb2ludGVyT3V0OigpPT5iKCExKSxvblBvaW50ZXJNaXNzZWQ6UH0sYyksQy5jcmVhdGVFbGVtZW50KHJlLlByb3ZpZGVyLHt2YWx1ZTpFfSxyKSl9LGV4cG9ydHMuU2hhZG93PWZhLGV4cG9ydHMuU2hhZG93QWxwaGE9ZnVuY3Rpb24oe29wYWNpdHk6ZSxhbHBoYU1hcDp0fSl7Y29uc3Qgcj1DLnVzZVJlZihudWxsKSxuPUMudXNlUmVmKG51bGwpLG89Qy51c2VSZWYoe3ZhbHVlOjF9KSxpPUMudXNlUmVmKHt2YWx1ZTpudWxsfSkscz1DLnVzZVJlZih7dmFsdWU6ITF9KTtyZXR1cm4gQy51c2VMYXlvdXRFZmZlY3QoKCgpPT57ci5jdXJyZW50Lm9uQmVmb3JlQ29tcGlsZT1uLmN1cnJlbnQub25CZWZvcmVDb21waWxlPWU9Pntjb25zdCB0PWUuZnJhZ21lbnRTaGFkZXIuaW5kZXhPZihcInZvaWQgbWFpblwiKTtsZXQgcixuPVwiXCIsYT10O2Zvcig7XCJcXG5cIiE9PXImJmE8dCsxMDA7KXI9ZS5mcmFnbWVudFNoYWRlci5jaGFyQXQoYSksbis9cixhKys7bj1uLnRyaW0oKSxlLnZlcnRleFNoYWRlcj1lLnZlcnRleFNoYWRlci5yZXBsYWNlKFwidm9pZCBtYWluKCkge1wiLFwiXFxuICAgICAgICB2YXJ5aW5nIHZlYzIgY3VzdG9tX3ZVdjtcXG5cXG4gICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgY3VzdG9tX3ZVdiA9IHV2O1xcbiAgICAgICAgICBcXG4gICAgICAgIFwiKSxlLmZyYWdtZW50U2hhZGVyPWUuZnJhZ21lbnRTaGFkZXIucmVwbGFjZShuLFwiXFxuICAgICAgICAgIHVuaWZvcm0gZmxvYXQgdVNoYWRvd09wYWNpdHk7XFxuICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVBbHBoYU1hcDtcXG4gICAgICAgICAgdW5pZm9ybSBib29sIHVIYXNBbHBoYU1hcDtcXG5cXG4gICAgICAgICAgdmFyeWluZyB2ZWMyIGN1c3RvbV92VXY7XFxuICBcXG4gICAgICAgICAgZmxvYXQgYmF5ZXJEaXRoZXIyeDIoIHZlYzIgdiApIHtcXG4gICAgICAgICAgICByZXR1cm4gbW9kKCAzLjAgKiB2LnkgKyAyLjAgKiB2LngsIDQuMCApO1xcbiAgICAgICAgICB9XFxuICAgIFxcbiAgICAgICAgICBmbG9hdCBiYXllckRpdGhlcjR4NCggdmVjMiB2ICkge1xcbiAgICAgICAgICAgIHZlYzIgUDEgPSBtb2QoIHYsIDIuMCApO1xcbiAgICAgICAgICAgIHZlYzIgUDIgPSBtb2QoIGZsb29yKCAwLjUgICogdiApLCAyLjAgKTtcXG4gICAgICAgICAgICByZXR1cm4gNC4wICogYmF5ZXJEaXRoZXIyeDIoIFAxICkgKyBiYXllckRpdGhlcjJ4MiggUDIgKTtcXG4gICAgICAgICAgfVxcbiAgXFxuICAgICAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgICAgICBmbG9hdCBhbHBoYSA9IFxcbiAgICAgICAgICAgICAgdUhhc0FscGhhTWFwID8gXFxuICAgICAgICAgICAgICAgIHVTaGFkb3dPcGFjaXR5ICogdGV4dHVyZTJEKHVBbHBoYU1hcCwgY3VzdG9tX3ZVdikueFxcbiAgICAgICAgICAgICAgOiB1U2hhZG93T3BhY2l0eTtcXG5cXG4gICAgICAgICAgICBpZiggKCBiYXllckRpdGhlcjR4NCggZmxvb3IoIG1vZCggZ2xfRnJhZ0Nvb3JkLnh5LCA0LjAgKSApICkgKSAvIDE2LjAgPj0gYWxwaGEgKSBkaXNjYXJkO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICBcIiksZS51bmlmb3Jtcy51U2hhZG93T3BhY2l0eT1vLmN1cnJlbnQsZS51bmlmb3Jtcy51QWxwaGFNYXA9aS5jdXJyZW50LGUudW5pZm9ybXMudUhhc0FscGhhTWFwPXMuY3VycmVudH19KSxbXSksYS51c2VGcmFtZSgoKCk9Pnt2YXIgbjtjb25zdCBhPW51bGw9PShuPXIuY3VycmVudC5fX3IzZik/dm9pZCAwOm4ucGFyZW50O2lmKGEpe2NvbnN0IHI9YS5tYXRlcmlhbDtyJiYoby5jdXJyZW50LnZhbHVlPW51bGwhPWU/ZTpyLm9wYWNpdHksITE9PT10PyhpLmN1cnJlbnQudmFsdWU9bnVsbCxzLmN1cnJlbnQudmFsdWU9ITEpOihpLmN1cnJlbnQudmFsdWU9dHx8ci5hbHBoYU1hcCxzLmN1cnJlbnQudmFsdWU9ISFpLmN1cnJlbnQudmFsdWUpKX19KSksQy5jcmVhdGVFbGVtZW50KEMuRnJhZ21lbnQsbnVsbCxDLmNyZWF0ZUVsZW1lbnQoXCJtZXNoRGVwdGhNYXRlcmlhbFwiLHtyZWY6cixhdHRhY2g6XCJjdXN0b21EZXB0aE1hdGVyaWFsXCIsZGVwdGhQYWNraW5nOlIuUkdCQURlcHRoUGFja2luZ30pLEMuY3JlYXRlRWxlbWVudChcIm1lc2hEaXN0YW5jZU1hdGVyaWFsXCIse3JlZjpuLGF0dGFjaDpcImN1c3RvbURpc3RhbmNlTWF0ZXJpYWxcIn0pKX0sZXhwb3J0cy5TaGFwZT1QbixleHBvcnRzLlNreT1SYSxleHBvcnRzLlNvZnRTaGFkb3dzPWZ1bmN0aW9uKHtmb2N1czplPTAsc2FtcGxlczp0PTEwLHNpemU6cj0yNX0pe2NvbnN0IG49YS51c2VUaHJlZSgoZT0+ZS5nbCkpLG89YS51c2VUaHJlZSgoZT0+ZS5zY2VuZSkpLGk9YS51c2VUaHJlZSgoZT0+ZS5jYW1lcmEpKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57Y29uc3QgYT1SLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX2ZyYWdtZW50O3JldHVybiBSLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX2ZyYWdtZW50PVIuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQucmVwbGFjZShcIiNpZmRlZiBVU0VfU0hBRE9XTUFQXCIsXCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblwiKygoe2ZvY3VzOmU9MCxzaXplOnQ9MjUsc2FtcGxlczpyPTEwfT17fSk9PmBcXG4jZGVmaW5lIFBFTlVNQlJBX0ZJTFRFUl9TSVpFIGZsb2F0KCR7dH0pXFxuI2RlZmluZSBSR0JfTk9JU0VfRlVOQ1RJT04odXYpIChyYW5kUkdCKHV2KSlcXG52ZWMzIHJhbmRSR0IodmVjMiB1dikge1xcbiAgcmV0dXJuIHZlYzMoXFxuICAgIGZyYWN0KHNpbihkb3QodXYsIHZlYzIoMTIuNzU2MTMsIDM4LjEyMTIzKSkpICogMTMyMzQuNzY1NzUpLFxcbiAgICBmcmFjdChzaW4oZG90KHV2LCB2ZWMyKDE5LjQ1NTMxLCA1OC40NjU0NykpKSAqIDQzNjc4LjIzNDMxKSxcXG4gICAgZnJhY3Qoc2luKGRvdCh1diwgdmVjMigyMy42NzgxNywgNzguMjMxMjEpKSkgKiA5MzU2Ny4yMzQyMylcXG4gICk7XFxufVxcblxcbnZlYzMgbG93UGFzc1JhbmRSR0IodmVjMiB1dikge1xcbiAgLy8gM3gzIGNvbnZvbHV0aW9uIChhdmVyYWdlKVxcbiAgLy8gY2FuIGJlIGltcGxlbWVudGVkIGFzIHNlcGFyYWJsZSB3aXRoIGFuIGV4dHJhIGJ1ZmZlciBmb3IgYSB0b3RhbCBvZiA2IHNhbXBsZXMgaW5zdGVhZCBvZiA5XFxuICB2ZWMzIHJlc3VsdCA9IHZlYzMoMCk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigtMS4wLCAtMS4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigtMS4wLCAgMC4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigtMS4wLCArMS4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMiggMC4wLCAtMS4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMiggMC4wLCAgMC4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMiggMC4wLCArMS4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigrMS4wLCAtMS4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigrMS4wLCAgMC4wKSk7XFxuICByZXN1bHQgKz0gUkdCX05PSVNFX0ZVTkNUSU9OKHV2ICsgdmVjMigrMS4wLCArMS4wKSk7XFxuICByZXN1bHQgKj0gMC4xMTExMTExMTE7IC8vIDEuMCAvIDkuMFxcbiAgcmV0dXJuIHJlc3VsdDtcXG59XFxudmVjMyBoaWdoUGFzc1JhbmRSR0IodmVjMiB1dikge1xcbiAgLy8gYnkgc3VidHJhY3RpbmcgdGhlIGxvdy1wYXNzIHNpZ25hbCBmcm9tIHRoZSBvcmlnaW5hbCBzaWduYWwsIHdlJ3JlIGJlaW5nIGxlZnQgd2l0aCB0aGUgaGlnaC1wYXNzIHNpZ25hbFxcbiAgLy8gaHAoeCkgPSB4IC0gbHAoeClcXG4gIHJldHVybiBSR0JfTk9JU0VfRlVOQ1RJT04odXYpIC0gbG93UGFzc1JhbmRSR0IodXYpICsgMC41O1xcbn1cXG5cXG5cXG52ZWMyIHZvZ2VsRGlza1NhbXBsZShpbnQgc2FtcGxlSW5kZXgsIGludCBzYW1wbGVDb3VudCwgZmxvYXQgYW5nbGUpIHtcXG4gIGNvbnN0IGZsb2F0IGdvbGRlbkFuZ2xlID0gMi4zOTk5NjNmOyAvLyByYWRpYW5zXFxuICBmbG9hdCByID0gc3FydChmbG9hdChzYW1wbGVJbmRleCkgKyAwLjVmKSAvIHNxcnQoZmxvYXQoc2FtcGxlQ291bnQpKTtcXG4gIGZsb2F0IHRoZXRhID0gZmxvYXQoc2FtcGxlSW5kZXgpICogZ29sZGVuQW5nbGUgKyBhbmdsZTtcXG4gIGZsb2F0IHNpbmUgPSBzaW4odGhldGEpO1xcbiAgZmxvYXQgY29zaW5lID0gY29zKHRoZXRhKTtcXG4gIHJldHVybiB2ZWMyKGNvc2luZSwgc2luZSkgKiByO1xcbn1cXG5mbG9hdCBwZW51bWJyYVNpemUoIGNvbnN0IGluIGZsb2F0IHpSZWNlaXZlciwgY29uc3QgaW4gZmxvYXQgekJsb2NrZXIgKSB7IC8vIFBhcmFsbGVsIHBsYW5lIGVzdGltYXRpb25cXG4gIHJldHVybiAoelJlY2VpdmVyIC0gekJsb2NrZXIpIC8gekJsb2NrZXI7XFxufVxcbmZsb2F0IGZpbmRCbG9ja2VyKHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUsIGZsb2F0IGFuZ2xlKSB7XFxuICBmbG9hdCB0ZXhlbFNpemUgPSAxLjAgLyBmbG9hdCh0ZXh0dXJlU2l6ZShzaGFkb3dNYXAsIDApLngpO1xcbiAgZmxvYXQgYmxvY2tlckRlcHRoU3VtID0gZmxvYXQoJHtlfSk7XFxuICBmbG9hdCBibG9ja2VycyA9IDAuMDtcXG5cXG4gIGludCBqID0gMDtcXG4gIHZlYzIgb2Zmc2V0ID0gdmVjMigwLik7XFxuICBmbG9hdCBkZXB0aCA9IDAuO1xcblxcbiAgI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcbiAgZm9yKGludCBpID0gMDsgaSA8ICR7cn07IGkgKyspIHtcXG4gICAgb2Zmc2V0ID0gKHZvZ2VsRGlza1NhbXBsZShqLCAke3J9LCBhbmdsZSkgKiB0ZXhlbFNpemUpICogMi4wICogUEVOVU1CUkFfRklMVEVSX1NJWkU7XFxuICAgIGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwLCB1diArIG9mZnNldCkpO1xcbiAgICBpZiAoZGVwdGggPCBjb21wYXJlKSB7XFxuICAgICAgYmxvY2tlckRlcHRoU3VtICs9IGRlcHRoO1xcbiAgICAgIGJsb2NrZXJzKys7XFxuICAgIH1cXG4gICAgaisrO1xcbiAgfVxcbiAgI3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcXG5cXG4gIGlmIChibG9ja2VycyA+IDAuMCkge1xcbiAgICByZXR1cm4gYmxvY2tlckRlcHRoU3VtIC8gYmxvY2tlcnM7XFxuICB9XFxuICByZXR1cm4gLTEuMDtcXG59XFxuXFxuICAgICAgICBcXG5mbG9hdCB2b2dlbEZpbHRlcihzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHV2LCBmbG9hdCB6UmVjZWl2ZXIsIGZsb2F0IGZpbHRlclJhZGl1cywgZmxvYXQgYW5nbGUpIHtcXG4gIGZsb2F0IHRleGVsU2l6ZSA9IDEuMCAvIGZsb2F0KHRleHR1cmVTaXplKHNoYWRvd01hcCwgMCkueCk7XFxuICBmbG9hdCBzaGFkb3cgPSAwLjBmO1xcbiAgaW50IGogPSAwO1xcbiAgdmVjMiB2b2dlbFNhbXBsZSA9IHZlYzIoMC4wKTtcXG4gIHZlYzIgb2Zmc2V0ID0gdmVjMigwLjApO1xcbiAgI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxcbiAgZm9yIChpbnQgaSA9IDA7IGkgPCAke3J9OyBpKyspIHtcXG4gICAgdm9nZWxTYW1wbGUgPSB2b2dlbERpc2tTYW1wbGUoaiwgJHtyfSwgYW5nbGUpICogdGV4ZWxTaXplO1xcbiAgICBvZmZzZXQgPSB2b2dlbFNhbXBsZSAqICgxLjAgKyBmaWx0ZXJSYWRpdXMgKiBmbG9hdCgke3R9KSk7XFxuICAgIHNoYWRvdyArPSBzdGVwKCB6UmVjZWl2ZXIsIHVucGFja1JHQkFUb0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcCwgdXYgKyBvZmZzZXQgKSApICk7XFxuICAgIGorKztcXG4gIH1cXG4gICNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXFxuICByZXR1cm4gc2hhZG93ICogMS4wIC8gJHtyfS4wO1xcbn1cXG5cXG5mbG9hdCBQQ1NTIChzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWM0IGNvb3Jkcykge1xcbiAgdmVjMiB1diA9IGNvb3Jkcy54eTtcXG4gIGZsb2F0IHpSZWNlaXZlciA9IGNvb3Jkcy56OyAvLyBBc3N1bWVkIHRvIGJlIGV5ZS1zcGFjZSB6IGluIHRoaXMgY29kZVxcbiAgZmxvYXQgYW5nbGUgPSBoaWdoUGFzc1JhbmRSR0IoZ2xfRnJhZ0Nvb3JkLnh5KS5yICogUEkyO1xcbiAgZmxvYXQgYXZnQmxvY2tlckRlcHRoID0gZmluZEJsb2NrZXIoc2hhZG93TWFwLCB1diwgelJlY2VpdmVyLCBhbmdsZSk7XFxuICBpZiAoYXZnQmxvY2tlckRlcHRoID09IC0xLjApIHtcXG4gICAgcmV0dXJuIDEuMDtcXG4gIH1cXG4gIGZsb2F0IHBlbnVtYnJhUmF0aW8gPSBwZW51bWJyYVNpemUoelJlY2VpdmVyLCBhdmdCbG9ja2VyRGVwdGgpO1xcbiAgcmV0dXJuIHZvZ2VsRmlsdGVyKHNoYWRvd01hcCwgdXYsIHpSZWNlaXZlciwgMS4yNSAqIHBlbnVtYnJhUmF0aW8sIGFuZ2xlKTtcXG59YCkoe3NpemU6cixzYW1wbGVzOnQsZm9jdXM6ZX0pKS5yZXBsYWNlKFwiI2lmIGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1BDRiApXCIsXCJcXG5yZXR1cm4gUENTUyhzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkKTtcXG4jaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGIClcIiksbG4obixvLGkpLCgpPT57Ui5TaGFkZXJDaHVuay5zaGFkb3dtYXBfcGFyc19mcmFnbWVudD1hLGxuKG4sbyxpKX19KSxbZSxyLHRdKSxudWxsfSxleHBvcnRzLlNwYXJrbGVzPVhhLGV4cG9ydHMuU3BoZXJlPXBuLGV4cG9ydHMuU3BsYXQ9ZnVuY3Rpb24oe3NyYzplLHRvbmVNYXBwZWQ6dD0hMSxhbHBoYVRlc3Q6cj0wLGFscGhhSGFzaDpuPSExLGNodW5rU2l6ZTpvPTI1ZTMsLi4uaX0pe2EuZXh0ZW5kKHtTcGxhdE1hdGVyaWFsOnR0fSk7Y29uc3Qgcz1DLnVzZVJlZihudWxsKSxsPWEudXNlVGhyZWUoKGU9PmUuZ2wpKSxjPWEudXNlVGhyZWUoKGU9PmUuY2FtZXJhKSksdT1hLnVzZUxvYWRlcihudCxlLChlPT57ZS5nbD1sLGUuY2h1bmtTaXplPW99KSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+dS5jb25uZWN0KHMuY3VycmVudCkpLFtlXSksYS51c2VGcmFtZSgoKCk9PnUudXBkYXRlKHMuY3VycmVudCxjLG4pKSksQy5jcmVhdGVFbGVtZW50KFwibWVzaFwiLFQuZGVmYXVsdCh7cmVmOnMsZnJ1c3R1bUN1bGxlZDohMX0saSksQy5jcmVhdGVFbGVtZW50KFwic3BsYXRNYXRlcmlhbFwiLHtrZXk6YCR7ZX0vJHtyfS8ke259JHt0dC5rZXl9YCx0cmFuc3BhcmVudDohbixkZXB0aFRlc3Q6ITAsYWxwaGFUZXN0Om4/MDpyLGNlbnRlckFuZFNjYWxlVGV4dHVyZTp1LmNlbnRlckFuZFNjYWxlVGV4dHVyZSxjb3ZBbmRDb2xvclRleHR1cmU6dS5jb3ZBbmRDb2xvclRleHR1cmUsZGVwdGhXcml0ZTohIW58fHI+MCxibGVuZGluZzpuP1IuTm9ybWFsQmxlbmRpbmc6Ui5DdXN0b21CbGVuZGluZyxibGVuZFNyY0FscGhhOlIuT25lRmFjdG9yLGFscGhhSGFzaDohIW4sdG9uZU1hcHBlZDp0fSkpfSxleHBvcnRzLlNwb3RMaWdodD1UYSxleHBvcnRzLlNwb3RMaWdodFNoYWRvdz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zaGFkZXI/Qy5jcmVhdGVFbGVtZW50KE1hLGUpOkMuY3JlYXRlRWxlbWVudChTYSxlKX0sZXhwb3J0cy5TcHJpdGVBbmltYXRvcj1XcixleHBvcnRzLlN0YWdlPWZ1bmN0aW9uKHtjaGlsZHJlbjplLGNlbnRlcjp0LGFkanVzdENhbWVyYTpyPSEwLGludGVuc2l0eTpuPS41LHNoYWRvd3M6YT1cImNvbnRhY3RcIixlbnZpcm9ubWVudDpvPVwiY2l0eVwiLHByZXNldDppPVwicmVtYnJhbmR0XCIsLi4uc30pe3ZhciBsLGMsdSxkLG0sZixwLGg7Y29uc3QgeD1cInN0cmluZ1wiPT10eXBlb2YgaT91YVtpXTppLFt7cmFkaXVzOnksaGVpZ2h0OnZ9LGddPUMudXNlU3RhdGUoe3JhZGl1czowLHdpZHRoOjAsaGVpZ2h0OjAsZGVwdGg6MH0pLHc9bnVsbCE9PShsPW51bGw9PWE/dm9pZCAwOmEuYmlhcykmJnZvaWQgMCE9PWw/bDotMWUtNCx6PW51bGwhPT0oYz1udWxsPT1hP3ZvaWQgMDphLm5vcm1hbEJpYXMpJiZ2b2lkIDAhPT1jP2M6MCxiPW51bGwhPT0odT1udWxsPT1hP3ZvaWQgMDphLnNpemUpJiZ2b2lkIDAhPT11P3U6MTAyNCxFPW51bGwhPT0oZD1udWxsPT1hP3ZvaWQgMDphLm9mZnNldCkmJnZvaWQgMCE9PWQ/ZDowLE09XCJjb250YWN0XCI9PT1hfHxcImNvbnRhY3RcIj09PShudWxsPT1hP3ZvaWQgMDphLnR5cGUpLFM9XCJhY2N1bXVsYXRpdmVcIj09PWF8fFwiYWNjdW11bGF0aXZlXCI9PT0obnVsbD09YT92b2lkIDA6YS50eXBlKSxQPXsuLi5cIm9iamVjdFwiPT10eXBlb2YgYT9hOnt9fSxSPW8/XCJzdHJpbmdcIj09dHlwZW9mIG8/e3ByZXNldDpvfTpvOm51bGwsRD1DLnVzZUNhbGxiYWNrKChlPT57Y29uc3R7d2lkdGg6cixoZWlnaHQ6bixkZXB0aDphLGJvdW5kaW5nU3BoZXJlOm99PWU7Zyh7cmFkaXVzOm8ucmFkaXVzLHdpZHRoOnIsaGVpZ2h0Om4sZGVwdGg6YX0pLG51bGwhPXQmJnQub25DZW50ZXJlZCYmdC5vbkNlbnRlcmVkKGUpfSksW10pO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLEMuY3JlYXRlRWxlbWVudChcImFtYmllbnRMaWdodFwiLHtpbnRlbnNpdHk6bi8zfSksQy5jcmVhdGVFbGVtZW50KFwic3BvdExpZ2h0XCIse3BlbnVtYnJhOjEscG9zaXRpb246W3gubWFpblswXSp5LHgubWFpblsxXSp5LHgubWFpblsyXSp5XSxpbnRlbnNpdHk6MipuLGNhc3RTaGFkb3c6ISFhLFwic2hhZG93LWJpYXNcIjp3LFwic2hhZG93LW5vcm1hbEJpYXNcIjp6LFwic2hhZG93LW1hcFNpemVcIjpifSksQy5jcmVhdGVFbGVtZW50KFwicG9pbnRMaWdodFwiLHtwb3NpdGlvbjpbeC5maWxsWzBdKnkseC5maWxsWzFdKnkseC5maWxsWzJdKnldLGludGVuc2l0eTpufSksQy5jcmVhdGVFbGVtZW50KFZuLFQuZGVmYXVsdCh7Zml0OiEhcixjbGlwOiEhcixtYXJnaW46TnVtYmVyKHIpLG9ic2VydmU6ITB9LHMpLEMuY3JlYXRlRWxlbWVudChkYSx7cmFkaXVzOnksYWRqdXN0Q2FtZXJhOnJ9KSxDLmNyZWF0ZUVsZW1lbnQoYnIsVC5kZWZhdWx0KHt9LHQse3Bvc2l0aW9uOlswLEUvMiwwXSxvbkNlbnRlcmVkOkR9KSxlKSksQy5jcmVhdGVFbGVtZW50KFwiZ3JvdXBcIix7cG9zaXRpb246WzAsLXYvMi1FLzIsMF19LE0mJkMuY3JlYXRlRWxlbWVudChhYSxULmRlZmF1bHQoe3NjYWxlOjQqeSxmYXI6eSxibHVyOjJ9LFApKSxTJiZDLmNyZWF0ZUVsZW1lbnQoc2EsVC5kZWZhdWx0KHt0ZW1wb3JhbDohMCxmcmFtZXM6MTAwLGFscGhhVGVzdDouOSx0b25lTWFwcGVkOiEwLHNjYWxlOjQqeX0sUCksQy5jcmVhdGVFbGVtZW50KGxhLHthbW91bnQ6bnVsbCE9PShtPVAuYW1vdW50KSYmdm9pZCAwIT09bT9tOjgscmFkaXVzOm51bGwhPT0oZj1QLnJhZGl1cykmJnZvaWQgMCE9PWY/Zjp5LGFtYmllbnQ6bnVsbCE9PShwPVAuYW1iaWVudCkmJnZvaWQgMCE9PXA/cDouNSxpbnRlbnNpdHk6bnVsbCE9PShoPVAuaW50ZW5zaXR5KSYmdm9pZCAwIT09aD9oOjEscG9zaXRpb246W3gubWFpblswXSp5LHgubWFpblsxXSp5LHgubWFpblsyXSp5XSxzaXplOjQqeSxiaWFzOi13LG1hcFNpemU6Yn0pKSksbyYmQy5jcmVhdGVFbGVtZW50KG5hLFIpKX0sZXhwb3J0cy5TdGFycz1rYSxleHBvcnRzLlN0YXRzPWZ1bmN0aW9uKHtzaG93UGFuZWw6ZT0wLGNsYXNzTmFtZTp0LHBhcmVudDpyfSl7Y29uc3Qgbj1mdW5jdGlvbihlLHQ9W10scil7Y29uc3RbbixhXT1DLnVzZVN0YXRlKCk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2NvbnN0IHQ9ZSgpO3JldHVybiBhKHQpLGRyKHIsdCksKCk9PmRyKHIsbnVsbCl9KSx0KSxufSgoKCk9Pm5ldyBGLmRlZmF1bHQpLFtdKTtyZXR1cm4gQy51c2VFZmZlY3QoKCgpPT57aWYobil7Y29uc3Qgbz1yJiZyLmN1cnJlbnR8fGRvY3VtZW50LmJvZHk7bi5zaG93UGFuZWwoZSksbnVsbD09b3x8by5hcHBlbmRDaGlsZChuLmRvbSk7Y29uc3QgaT0obnVsbCE9dD90OlwiXCIpLnNwbGl0KFwiIFwiKS5maWx0ZXIoKGU9PmUpKTtpLmxlbmd0aCYmbi5kb20uY2xhc3NMaXN0LmFkZCguLi5pKTtjb25zdCBzPWEuYWRkRWZmZWN0KCgoKT0+bi5iZWdpbigpKSksbD1hLmFkZEFmdGVyRWZmZWN0KCgoKT0+bi5lbmQoKSkpO3JldHVybigpPT57aS5sZW5ndGgmJm4uZG9tLmNsYXNzTGlzdC5yZW1vdmUoLi4uaSksbnVsbD09b3x8by5yZW1vdmVDaGlsZChuLmRvbSkscygpLGwoKX19fSksW3Isbix0LGVdKSxudWxsfSxleHBvcnRzLlN0YXRzR2w9bXIsZXhwb3J0cy5Tdmc9WmUsZXhwb3J0cy5UZXRyYWhlZHJvbj1nbixleHBvcnRzLlRleHQ9dmUsZXhwb3J0cy5UZXh0M0Q9RWUsZXhwb3J0cy5UZXh0dXJlPSh7Y2hpbGRyZW46ZSxpbnB1dDp0LG9uTG9hZDpyfSk9Pntjb25zdCBuPVBlKHQscik7cmV0dXJuIEMuY3JlYXRlRWxlbWVudChDLkZyYWdtZW50LG51bGwsbnVsbD09ZT92b2lkIDA6ZShuKSl9LGV4cG9ydHMuVG9ydXM9eW4sZXhwb3J0cy5Ub3J1c0tub3Q9dm4sZXhwb3J0cy5UcmFja2JhbGxDb250cm9scz1mdCxleHBvcnRzLlRyYWlsPU9lLGV4cG9ydHMuVHJhaWxUZXh0dXJlPSh7Y2hpbGRyZW46ZSwuLi50fSk9Pntjb25zdCByPXpyKHQpO3JldHVybiBDLmNyZWF0ZUVsZW1lbnQoQy5GcmFnbWVudCxudWxsLG51bGw9PWU/dm9pZCAwOmUocikpfSxleHBvcnRzLlRyYW5zZm9ybUNvbnRyb2xzPWh0LGV4cG9ydHMuVHViZT14bixleHBvcnRzLlZpZGVvVGV4dHVyZT1vcixleHBvcnRzLlZpZXc9UW8sZXhwb3J0cy5XZWJjYW1WaWRlb1RleHR1cmU9R2ksZXhwb3J0cy5XaXJlZnJhbWU9ZnVuY3Rpb24oe2dlb21ldHJ5OmUsLi4udH0pe3JldHVybiBlP0MuY3JlYXRlRWxlbWVudChubyxULmRlZmF1bHQoe2dlb21ldHJ5OmV9LHQpKTpDLmNyZWF0ZUVsZW1lbnQoYW8sdCl9LGV4cG9ydHMuYWNjdW11bGF0aXZlQ29udGV4dD1vYSxleHBvcnRzLmNhbGNQb3NGcm9tQW5nbGVzPVBhLGV4cG9ydHMuY2FsY3VsYXRlU2NhbGVGYWN0b3I9Y2UsZXhwb3J0cy5jaGVja0lmRnJhbWVJc0VtcHR5PWxyLGV4cG9ydHMuY3JlYXRlSW5zdGFuY2VzPWZ1bmN0aW9uKCl7Y29uc3QgZT1DLmNyZWF0ZUNvbnRleHQobnVsbCk7cmV0dXJuW0MuZm9yd2FyZFJlZigoKHQscik9PkMuY3JlYXRlRWxlbWVudChWcixULmRlZmF1bHQoe3JlZjpyLGNvbnRleHQ6ZX0sdCkpKSksQy5mb3J3YXJkUmVmKCgodCxyKT0+Qy5jcmVhdGVFbGVtZW50KEJyLFQuZGVmYXVsdCh7cmVmOnIsY29udGV4dDplfSx0KSkpKV19LGV4cG9ydHMuZ2V0Rmlyc3RGcmFtZT1zcixleHBvcnRzLmlzV2ViR0wyQXZhaWxhYmxlPSgpPT57dHJ5e3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuISghd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHR8fCFlLmdldENvbnRleHQoXCJ3ZWJnbDJcIikpfWNhdGNoKGUpe3JldHVybiExfX0sZXhwb3J0cy5tZXNoQm91bmRzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj10aGlzLmdlb21ldHJ5LG49dGhpcy5tYXRlcmlhbCxhPXRoaXMubWF0cml4V29ybGQ7dm9pZCAwIT09biYmKG51bGw9PT1yLmJvdW5kaW5nU3BoZXJlJiZyLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpLFBvLmNvcHkoci5ib3VuZGluZ1NwaGVyZSksUG8uYXBwbHlNYXRyaXg0KGEpLCExIT09ZS5yYXkuaW50ZXJzZWN0c1NwaGVyZShQbykmJihUby5jb3B5KGEpLmludmVydCgpLENvLmNvcHkoZS5yYXkpLmFwcGx5TWF0cml4NChUbyksbnVsbCE9PXIuYm91bmRpbmdCb3gmJm51bGw9PT1Dby5pbnRlcnNlY3RCb3goci5ib3VuZGluZ0JveCxSbyl8fHQucHVzaCh7ZGlzdGFuY2U6Um8uZGlzdGFuY2VUbyhlLnJheS5vcmlnaW4pLHBvaW50OlJvLmNsb25lKCksb2JqZWN0OnRoaXN9KSkpfSxleHBvcnRzLnNoYWRlck1hdGVyaWFsPVRlLGV4cG9ydHMudXNlQW5pbWF0aW9ucz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9Qy51c2VSZWYoKSxbb109Qy51c2VTdGF0ZSgoKCk9PnQ/dCBpbnN0YW5jZW9mIG4uT2JqZWN0M0Q/e2N1cnJlbnQ6dH06dDpyKSksW2ldPUMudXNlU3RhdGUoKCgpPT5uZXcgbi5BbmltYXRpb25NaXhlcih2b2lkIDApKSk7Qy51c2VMYXlvdXRFZmZlY3QoKCgpPT57dCYmKG8uY3VycmVudD10IGluc3RhbmNlb2Ygbi5PYmplY3QzRD90OnQuY3VycmVudCksaS5fcm9vdD1vLmN1cnJlbnR9KSk7Y29uc3Qgcz1DLnVzZVJlZih7fSksbD1DLnVzZU1lbW8oKCgpPT57Y29uc3QgdD17fTtyZXR1cm4gZS5mb3JFYWNoKChlPT5PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLm5hbWUse2VudW1lcmFibGU6ITAsZ2V0KCl7aWYoby5jdXJyZW50KXJldHVybiBzLmN1cnJlbnRbZS5uYW1lXXx8KHMuY3VycmVudFtlLm5hbWVdPWkuY2xpcEFjdGlvbihlLG8uY3VycmVudCkpfSxjb25maWd1cmFibGU6ITB9KSkpLHtyZWY6byxjbGlwczplLGFjdGlvbnM6dCxuYW1lczplLm1hcCgoZT0+ZS5uYW1lKSksbWl4ZXI6aX19KSxbZV0pO3JldHVybiBhLnVzZUZyYW1lKCgoZSx0KT0+aS51cGRhdGUodCkpKSxDLnVzZUVmZmVjdCgoKCk9Pntjb25zdCBlPW8uY3VycmVudDtyZXR1cm4oKT0+e3MuY3VycmVudD17fSxpLnN0b3BBbGxBY3Rpb24oKSxPYmplY3QudmFsdWVzKGwuYWN0aW9ucykuZm9yRWFjaCgodD0+e2UmJmkudW5jYWNoZUFjdGlvbih0LGUpfSkpfX0pLFtlXSksbH0sZXhwb3J0cy51c2VBc3BlY3Q9ZnVuY3Rpb24oZSx0LHI9MSl7Y29uc3Qgbj1hLnVzZVRocmVlKChlPT5lLnZpZXdwb3J0KSksbz10KihuLmFzcGVjdD5lL3Q/bi53aWR0aC9lOm4uaGVpZ2h0L3QpO3JldHVybltlKihuLmFzcGVjdD5lL3Q/bi53aWR0aC9lOm4uaGVpZ2h0L3QpKnIsbypyLDFdfSxleHBvcnRzLnVzZUJWSD1mdW5jdGlvbihlLHQpe3Q9e3N0cmF0ZWd5OncuU0FILHZlcmJvc2U6ITEsc2V0Qm91bmRpbmdCb3g6ITAsbWF4RGVwdGg6NDAsbWF4TGVhZlRyaXM6MTAsaW5kaXJlY3Q6ITEsLi4udH0sQy51c2VFZmZlY3QoKCgpPT57aWYoZS5jdXJyZW50KXtlLmN1cnJlbnQucmF5Y2FzdD13LmFjY2VsZXJhdGVkUmF5Y2FzdDtjb25zdCByPWUuY3VycmVudC5nZW9tZXRyeTtyZXR1cm4gci5jb21wdXRlQm91bmRzVHJlZT13LmNvbXB1dGVCb3VuZHNUcmVlLHIuZGlzcG9zZUJvdW5kc1RyZWU9dy5kaXNwb3NlQm91bmRzVHJlZSxyLmNvbXB1dGVCb3VuZHNUcmVlKHQpLCgpPT57ci5ib3VuZHNUcmVlJiZyLmRpc3Bvc2VCb3VuZHNUcmVlKCl9fX0pLFtlLEpTT04uc3RyaW5naWZ5KHQpXSl9LGV4cG9ydHMudXNlQm91bmRzPVVuLGV4cG9ydHMudXNlQm94UHJvamVjdGVkRW52PWZ1bmN0aW9uKGU9bmV3IFIuVmVjdG9yMyx0PW5ldyBSLlZlY3RvcjMpe2NvbnN0W3JdPUMudXNlU3RhdGUoKCgpPT4oe3Bvc2l0aW9uOm5ldyBSLlZlY3RvcjMsc2l6ZTpuZXcgUi5WZWN0b3IzfSkpKTthLmFwcGx5UHJvcHMocix7cG9zaXRpb246ZSxzaXplOnR9KTtjb25zdCBuPUMudXNlUmVmKG51bGwpLG89Qy51c2VNZW1vKCgoKT0+KHtyZWY6bixvbkJlZm9yZUNvbXBpbGU6ZT0+ZnVuY3Rpb24oZSx0LHIpe2UuZGVmaW5lcy5CT1hfUFJPSkVDVEVEX0VOVl9NQVA9ITAsZS51bmlmb3Jtcy5lbnZNYXBQb3NpdGlvbj17dmFsdWU6dH0sZS51bmlmb3Jtcy5lbnZNYXBTaXplPXt2YWx1ZTpyfSxlLnZlcnRleFNoYWRlcj1gXFxuICB2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuICAke2UudmVydGV4U2hhZGVyLnJlcGxhY2UoXCIjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlwiLFwiXFxuI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkKCBESVNUQU5DRSApIHx8IGRlZmluZWQgKCBVU0VfU0hBRE9XTUFQIClcXG4gIHZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xcbiAgI2lmZGVmIEJPWF9QUk9KRUNURURfRU5WX01BUFxcbiAgICB2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xcbiAgI2VuZGlmXFxuI2VuZGlmXFxuXCIpfWAsZS5mcmFnbWVudFNoYWRlcj1gXFxuICAgIFxcbiNpZmRlZiBCT1hfUFJPSkVDVEVEX0VOVl9NQVBcXG4gIHVuaWZvcm0gdmVjMyBlbnZNYXBTaXplO1xcbiAgdW5pZm9ybSB2ZWMzIGVudk1hcFBvc2l0aW9uO1xcbiAgdmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcbiAgICBcXG4gIHZlYzMgcGFyYWxsYXhDb3JyZWN0Tm9ybWFsKCB2ZWMzIHYsIHZlYzMgY3ViZVNpemUsIHZlYzMgY3ViZVBvcyApIHtcXG4gICAgdmVjMyBuRGlyID0gbm9ybWFsaXplKCB2ICk7XFxuICAgIHZlYzMgcmJtYXggPSAoIC41ICogY3ViZVNpemUgKyBjdWJlUG9zIC0gdldvcmxkUG9zaXRpb24gKSAvIG5EaXI7XFxuICAgIHZlYzMgcmJtaW4gPSAoIC0uNSAqIGN1YmVTaXplICsgY3ViZVBvcyAtIHZXb3JsZFBvc2l0aW9uICkgLyBuRGlyO1xcbiAgICB2ZWMzIHJibWlubWF4O1xcbiAgICByYm1pbm1heC54ID0gKCBuRGlyLnggPiAwLiApID8gcmJtYXgueCA6IHJibWluLng7XFxuICAgIHJibWlubWF4LnkgPSAoIG5EaXIueSA+IDAuICkgPyByYm1heC55IDogcmJtaW4ueTtcXG4gICAgcmJtaW5tYXgueiA9ICggbkRpci56ID4gMC4gKSA/IHJibWF4LnogOiByYm1pbi56O1xcbiAgICBmbG9hdCBjb3JyZWN0aW9uID0gbWluKCBtaW4oIHJibWlubWF4LngsIHJibWlubWF4LnkgKSwgcmJtaW5tYXgueiApO1xcbiAgICB2ZWMzIGJveEludGVyc2VjdGlvbiA9IHZXb3JsZFBvc2l0aW9uICsgbkRpciAqIGNvcnJlY3Rpb247ICAgIFxcbiAgICByZXR1cm4gYm94SW50ZXJzZWN0aW9uIC0gY3ViZVBvcztcXG4gIH1cXG4jZW5kaWZcXG5cXG4gICAgJHtlLmZyYWdtZW50U2hhZGVyLnJlcGxhY2UoXCIjaW5jbHVkZSA8ZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ+XCIsUi5TaGFkZXJDaHVuay5lbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudCkucmVwbGFjZShcInZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTtcIixcInZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTtcXG4gICAgICAgICBcXG4jaWZkZWYgQk9YX1BST0pFQ1RFRF9FTlZfTUFQXFxuICB3b3JsZE5vcm1hbCA9IHBhcmFsbGF4Q29ycmVjdE5vcm1hbCggd29ybGROb3JtYWwsIGVudk1hcFNpemUsIGVudk1hcFBvc2l0aW9uICk7XFxuI2VuZGlmXFxuXFxuICAgICAgICAgXCIpLnJlcGxhY2UoXCJyZWZsZWN0VmVjID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggcmVmbGVjdFZlYywgdmlld01hdHJpeCApO1wiLFwicmVmbGVjdFZlYyA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIHJlZmxlY3RWZWMsIHZpZXdNYXRyaXggKTtcXG4gICAgICAgICBcXG4jaWZkZWYgQk9YX1BST0pFQ1RFRF9FTlZfTUFQXFxuICByZWZsZWN0VmVjID0gcGFyYWxsYXhDb3JyZWN0Tm9ybWFsKCByZWZsZWN0VmVjLCBlbnZNYXBTaXplLCBlbnZNYXBQb3NpdGlvbiApO1xcbiNlbmRpZlxcblxcbiAgICAgICAgXCIpfWB9KGUsci5wb3NpdGlvbixyLnNpemUpLGN1c3RvbVByb2dyYW1DYWNoZUtleTooKT0+SlNPTi5zdHJpbmdpZnkoci5wb3NpdGlvbi50b0FycmF5KCkpK0pTT04uc3RyaW5naWZ5KHIuc2l6ZS50b0FycmF5KCkpfSkpLFsuLi5yLnBvc2l0aW9uLnRvQXJyYXkoKSwuLi5yLnNpemUudG9BcnJheSgpXSk7cmV0dXJuIEMudXNlTGF5b3V0RWZmZWN0KCgoKT0+e24uY3VycmVudC5uZWVkc1VwZGF0ZT0hMH0pLFtyXSksb30sZXhwb3J0cy51c2VDYW1lcmE9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWEudXNlVGhyZWUoKGU9PmUucG9pbnRlcikpLFtvXT1DLnVzZVN0YXRlKCgoKT0+e2NvbnN0IG89bmV3IG4uUmF5Y2FzdGVyO3JldHVybiB0JiZhLmFwcGx5UHJvcHMobyx0LHt9KSxmdW5jdGlvbih0LGEpe28uc2V0RnJvbUNhbWVyYShyLGUgaW5zdGFuY2VvZiBuLkNhbWVyYT9lOmUuY3VycmVudCk7Y29uc3QgaT10aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5yYXljYXN0LmJpbmQodGhpcyk7aSYmaShvLGEpfX0pKTtyZXR1cm4gb30sZXhwb3J0cy51c2VDb250ZXh0QnJpZGdlPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9Qy51c2VSZWYoW10pO3JldHVybiB0LmN1cnJlbnQ9ZS5tYXAoKGU9PkMudXNlQ29udGV4dChlKSkpLEMudXNlTWVtbygoKCk9Pih7Y2hpbGRyZW46cn0pPT5lLnJlZHVjZVJpZ2h0KCgoZSxyLG4pPT5DLmNyZWF0ZUVsZW1lbnQoci5Qcm92aWRlcix7dmFsdWU6dC5jdXJyZW50W25dLGNoaWxkcmVuOmV9KSkscikpLFtdKX0sZXhwb3J0cy51c2VDdWJlQ2FtZXJhPWx0LGV4cG9ydHMudXNlQ3ViZVRleHR1cmU9S3QsZXhwb3J0cy51c2VDdXJzb3I9ZnVuY3Rpb24oZSx0PVwicG9pbnRlclwiLHI9XCJhdXRvXCIsbj1kb2N1bWVudC5ib2R5KXtDLnVzZUVmZmVjdCgoKCk9PntpZihlKXJldHVybiBuLnN0eWxlLmN1cnNvcj10LCgpPT57bi5zdHlsZS5jdXJzb3I9cn19KSxbZV0pfSxleHBvcnRzLnVzZURlcHRoQnVmZmVyPWZ1bmN0aW9uKHtzaXplOmU9MjU2LGZyYW1lczp0PTEvMH09e30pe2NvbnN0IHI9YS51c2VUaHJlZSgoZT0+ZS52aWV3cG9ydC5kcHIpKSx7d2lkdGg6byxoZWlnaHQ6aX09YS51c2VUaHJlZSgoZT0+ZS5zaXplKSkscz1lfHxvKnIsbD1lfHxpKnIsYz1DLnVzZU1lbW8oKCgpPT57Y29uc3QgZT1uZXcgbi5EZXB0aFRleHR1cmUocyxsKTtyZXR1cm4gZS5mb3JtYXQ9bi5EZXB0aEZvcm1hdCxlLnR5cGU9bi5VbnNpZ25lZFNob3J0VHlwZSx7ZGVwdGhUZXh0dXJlOmV9fSksW3MsbF0pO2xldCB1PTA7Y29uc3QgZD1vdChzLGwsYyk7cmV0dXJuIGEudXNlRnJhbWUoKGU9PnsodD09PTEvMHx8dTx0KSYmKGUuZ2wuc2V0UmVuZGVyVGFyZ2V0KGQpLGUuZ2wucmVuZGVyKGUuc2NlbmUsZS5jYW1lcmEpLGUuZ2wuc2V0UmVuZGVyVGFyZ2V0KG51bGwpLHUrKyl9KSksZC5kZXB0aFRleHR1cmV9LGV4cG9ydHMudXNlRGV0ZWN0R1BVPWZyLGV4cG9ydHMudXNlRW52aXJvbm1lbnQ9JG4sZXhwb3J0cy51c2VGQk89b3QsZXhwb3J0cy51c2VGQlg9SnQsZXhwb3J0cy51c2VGYWNlQ29udHJvbHM9KCk9PnQudXNlQ29udGV4dChucyksZXhwb3J0cy51c2VGYWNlTGFuZG1hcmtlcj1lcyxleHBvcnRzLnVzZUZvbnQ9emUsZXhwb3J0cy51c2VHTFRGPUplLGV4cG9ydHMudXNlR2l6bW9Db250ZXh0PVR0LGV4cG9ydHMudXNlSGVscGVyPXVyLGV4cG9ydHMudXNlSW50ZXJzZWN0PXhyLGV4cG9ydHMudXNlS1RYMj10cixleHBvcnRzLnVzZUtleWJvYXJkQ29udHJvbHM9ZnVuY3Rpb24oZSl7Y29uc3RbdCxyLG5dPUMudXNlQ29udGV4dCh0ZSk7cmV0dXJuIGU/bihlKTpbdCxyXX0sZXhwb3J0cy51c2VNYXNrPWZ1bmN0aW9uKGUsdD0hMSl7cmV0dXJue3N0ZW5jaWxXcml0ZTohMCxzdGVuY2lsUmVmOmUsc3RlbmNpbEZ1bmM6dD9SLk5vdEVxdWFsU3RlbmNpbEZ1bmM6Ui5FcXVhbFN0ZW5jaWxGdW5jLHN0ZW5jaWxGYWlsOlIuS2VlcFN0ZW5jaWxPcCxzdGVuY2lsWkZhaWw6Ui5LZWVwU3RlbmNpbE9wLHN0ZW5jaWxaUGFzczpSLktlZXBTdGVuY2lsT3B9fSxleHBvcnRzLnVzZU1hdGNhcFRleHR1cmU9WmEsZXhwb3J0cy51c2VNb3Rpb249d3QsZXhwb3J0cy51c2VOb3JtYWxUZXh0dXJlPVlhLGV4cG9ydHMudXNlUGVyZm9ybWFuY2VNb25pdG9yPWZ1bmN0aW9uKHtvbkluY2xpbmU6ZSxvbkRlY2xpbmU6cixvbkNoYW5nZTpuLG9uRmFsbGJhY2s6YX0pe2NvbnN0IG89dC51c2VDb250ZXh0KERvKSxpPXQudXNlUmVmKHtvbkluY2xpbmU6ZSxvbkRlY2xpbmU6cixvbkNoYW5nZTpuLG9uRmFsbGJhY2s6YX0pO3QudXNlTGF5b3V0RWZmZWN0KCgoKT0+e2kuY3VycmVudC5vbkluY2xpbmU9ZSxpLmN1cnJlbnQub25EZWNsaW5lPXIsaS5jdXJyZW50Lm9uQ2hhbmdlPW4saS5jdXJyZW50Lm9uRmFsbGJhY2s9YX0pLFtlLHIsbixhXSksdC51c2VMYXlvdXRFZmZlY3QoKCgpPT5vLnN1YnNjcmliZShpKSksW29dKX0sZXhwb3J0cy51c2VQcm9ncmVzcz1xLGV4cG9ydHMudXNlU2Nyb2xsPVEsZXhwb3J0cy51c2VTZWxlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gQy51c2VDb250ZXh0KHJlKX0sZXhwb3J0cy51c2VTcHJpdGVBbmltYXRvcj1mdW5jdGlvbigpe3JldHVybiBDLnVzZUNvbnRleHQoTnIpfSxleHBvcnRzLnVzZVNwcml0ZUxvYWRlcj1jcixleHBvcnRzLnVzZVN1cmZhY2VTYW1wbGVyPU5lLGV4cG9ydHMudXNlVGV4dHVyZT1QZSxleHBvcnRzLnVzZVRyYWlsPVVlLGV4cG9ydHMudXNlVHJhaWxUZXh0dXJlPXpyLGV4cG9ydHMudXNlVmlkZW9UZXh0dXJlPWFyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/index.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/events-d0566a2e.cjs.dev.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/events-d0566a2e.cjs.dev.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.cjs\");\nvar React = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar constants = __webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\nvar create = __webpack_require__(/*! zustand */ \"(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js\");\nvar suspendReact = __webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.cjs.js\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\nvar Reconciler = __webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\nvar scheduler = __webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n\nfunction _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar THREE__namespace = /*#__PURE__*/_interopNamespace(THREE);\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\nvar create__default = /*#__PURE__*/_interopDefault(create);\nvar Reconciler__default = /*#__PURE__*/_interopDefault(Reconciler);\n\nvar threeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nconst catalogue = {};\nconst extend = objects => void Object.assign(catalogue, objects);\nfunction createRenderer(_roots, _getEventPriority) {\n  function createInstance(type, {\n    args = [],\n    attach,\n    ...props\n  }, root) {\n    let name = `${type[0].toUpperCase()}${type.slice(1)}`;\n    let instance;\n    if (type === 'primitive') {\n      if (props.object === undefined) throw new Error(\"R3F: Primitives without 'object' are invalid!\");\n      const object = props.object;\n      instance = prepare(object, {\n        type,\n        root,\n        attach,\n        primitive: true\n      });\n    } else {\n      const target = catalogue[name];\n      if (!target) {\n        throw new Error(`R3F: ${name} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);\n      }\n\n      // Throw if an object or literal was passed for args\n      if (!Array.isArray(args)) throw new Error('R3F: The args prop must be an array!');\n\n      // Instanciate new object, link it to the root\n      // Append memoized props with args so it's not forgotten\n      instance = prepare(new target(...args), {\n        type,\n        root,\n        attach,\n        // Save args in case we need to reconstruct later for HMR\n        memoizedProps: {\n          args\n        }\n      });\n    }\n\n    // Auto-attach geometries and materials\n    if (instance.__r3f.attach === undefined) {\n      if (instance.isBufferGeometry) instance.__r3f.attach = 'geometry';else if (instance.isMaterial) instance.__r3f.attach = 'material';\n    }\n\n    // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\n    // view yet. If the callback relies on references for instance, they won't be ready yet, this is\n    // why it passes \"true\" here\n    // There is no reason to apply props to injects\n    if (name !== 'inject') applyProps$1(instance, props);\n    return instance;\n  }\n  function appendChild(parentInstance, child) {\n    let added = false;\n    if (child) {\n      var _child$__r3f, _parentInstance$__r3f;\n      // The attach attribute implies that the object attaches itself on the parent\n      if ((_child$__r3f = child.__r3f) != null && _child$__r3f.attach) {\n        attach(parentInstance, child, child.__r3f.attach);\n      } else if (child.isObject3D && parentInstance.isObject3D) {\n        // add in the usual parent-child way\n        parentInstance.add(child);\n        added = true;\n      }\n      // This is for anything that used attach, and for non-Object3Ds that don't get attached to props;\n      // that is, anything that's a child in React but not a child in the scenegraph.\n      if (!added) (_parentInstance$__r3f = parentInstance.__r3f) == null ? void 0 : _parentInstance$__r3f.objects.push(child);\n      if (!child.__r3f) prepare(child, {});\n      child.__r3f.parent = parentInstance;\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n  function insertBefore(parentInstance, child, beforeChild) {\n    let added = false;\n    if (child) {\n      var _child$__r3f2, _parentInstance$__r3f2;\n      if ((_child$__r3f2 = child.__r3f) != null && _child$__r3f2.attach) {\n        attach(parentInstance, child, child.__r3f.attach);\n      } else if (child.isObject3D && parentInstance.isObject3D) {\n        child.parent = parentInstance;\n        child.dispatchEvent({\n          type: 'added'\n        });\n        parentInstance.dispatchEvent({\n          type: 'childadded',\n          child\n        });\n        const restSiblings = parentInstance.children.filter(sibling => sibling !== child);\n        const index = restSiblings.indexOf(beforeChild);\n        parentInstance.children = [...restSiblings.slice(0, index), child, ...restSiblings.slice(index)];\n        added = true;\n      }\n      if (!added) (_parentInstance$__r3f2 = parentInstance.__r3f) == null ? void 0 : _parentInstance$__r3f2.objects.push(child);\n      if (!child.__r3f) prepare(child, {});\n      child.__r3f.parent = parentInstance;\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n  function removeRecursive(array, parent, dispose = false) {\n    if (array) [...array].forEach(child => removeChild(parent, child, dispose));\n  }\n  function removeChild(parentInstance, child, dispose) {\n    if (child) {\n      var _parentInstance$__r3f3, _child$__r3f3, _child$__r3f5;\n      // Clear the parent reference\n      if (child.__r3f) child.__r3f.parent = null;\n      // Remove child from the parents objects\n      if ((_parentInstance$__r3f3 = parentInstance.__r3f) != null && _parentInstance$__r3f3.objects) parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter(x => x !== child);\n      // Remove attachment\n      if ((_child$__r3f3 = child.__r3f) != null && _child$__r3f3.attach) {\n        detach(parentInstance, child, child.__r3f.attach);\n      } else if (child.isObject3D && parentInstance.isObject3D) {\n        var _child$__r3f4;\n        parentInstance.remove(child);\n        // @ts-expect-error\n        // Remove interactivity on the initial root\n        if ((_child$__r3f4 = child.__r3f) != null && _child$__r3f4.root) {\n          removeInteractivity(findInitialRoot(child), child);\n        }\n      }\n\n      // Allow objects to bail out of recursive dispose altogether by passing dispose={null}\n      // Never dispose of primitives because their state may be kept outside of React!\n      // In order for an object to be able to dispose it has to have\n      //   - a dispose method,\n      //   - it cannot be a <primitive object={...} />\n      //   - it cannot be a THREE.Scene, because three has broken it's own api\n      //\n      // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\n      // when the reconciler calls it, but then carry our own check recursively\n      const isPrimitive = (_child$__r3f5 = child.__r3f) == null ? void 0 : _child$__r3f5.primitive;\n      const shouldDispose = !isPrimitive && (dispose === undefined ? child.dispose !== null : dispose);\n\n      // Remove nested child objects. Primitives should not have objects and children that are\n      // attached to them declaratively ...\n      if (!isPrimitive) {\n        var _child$__r3f6;\n        removeRecursive((_child$__r3f6 = child.__r3f) == null ? void 0 : _child$__r3f6.objects, child, shouldDispose);\n        removeRecursive(child.children, child, shouldDispose);\n      }\n\n      // Remove references\n      delete child.__r3f;\n\n      // Dispose item whenever the reconciler feels like it\n      if (shouldDispose && child.dispose && child.type !== 'Scene') {\n        const callback = () => {\n          try {\n            child.dispose();\n          } catch (e) {\n            /* ... */\n          }\n        };\n\n        // Schedule async at runtime, flush sync in testing\n        if (typeof IS_REACT_ACT_ENVIRONMENT === 'undefined') {\n          scheduler.unstable_scheduleCallback(scheduler.unstable_IdlePriority, callback);\n        } else {\n          callback();\n        }\n      }\n      invalidateInstance(parentInstance);\n    }\n  }\n  function switchInstance(instance, type, newProps, fiber) {\n    var _instance$__r3f;\n    const parent = (_instance$__r3f = instance.__r3f) == null ? void 0 : _instance$__r3f.parent;\n    if (!parent) return;\n    const newInstance = createInstance(type, newProps, instance.__r3f.root);\n\n    // https://github.com/pmndrs/react-three-fiber/issues/1348\n    // When args change the instance has to be re-constructed, which then\n    // forces r3f to re-parent the children and non-scene objects\n    if (instance.children) {\n      for (const child of instance.children) {\n        if (child.__r3f) appendChild(newInstance, child);\n      }\n      instance.children = instance.children.filter(child => !child.__r3f);\n    }\n    instance.__r3f.objects.forEach(child => appendChild(newInstance, child));\n    instance.__r3f.objects = [];\n    if (!instance.__r3f.autoRemovedBeforeAppend) {\n      removeChild(parent, instance);\n    }\n    if (newInstance.parent) {\n      newInstance.__r3f.autoRemovedBeforeAppend = true;\n    }\n    appendChild(parent, newInstance);\n\n    // Re-bind event handlers on the initial root\n    if (newInstance.raycast && newInstance.__r3f.eventCount) {\n      const rootState = findInitialRoot(newInstance).getState();\n      rootState.internal.interaction.push(newInstance);\n    }\n    [fiber, fiber.alternate].forEach(fiber => {\n      if (fiber !== null) {\n        fiber.stateNode = newInstance;\n        if (fiber.ref) {\n          if (typeof fiber.ref === 'function') fiber.ref(newInstance);else fiber.ref.current = newInstance;\n        }\n      }\n    });\n  }\n\n  // Don't handle text instances, make it no-op\n  const handleTextInstance = () => {};\n  const reconciler = Reconciler__default[\"default\"]({\n    createInstance,\n    removeChild,\n    appendChild,\n    appendInitialChild: appendChild,\n    insertBefore,\n    supportsMutation: true,\n    isPrimaryRenderer: false,\n    supportsPersistence: false,\n    supportsHydration: false,\n    noTimeout: -1,\n    appendChildToContainer: (container, child) => {\n      if (!child) return;\n\n      // Don't append to unmounted container\n      const scene = container.getState().scene;\n      if (!scene.__r3f) return;\n\n      // Link current root to the default scene\n      scene.__r3f.root = container;\n      appendChild(scene, child);\n    },\n    removeChildFromContainer: (container, child) => {\n      if (!child) return;\n      removeChild(container.getState().scene, child);\n    },\n    insertInContainerBefore: (container, child, beforeChild) => {\n      if (!child || !beforeChild) return;\n\n      // Don't append to unmounted container\n      const scene = container.getState().scene;\n      if (!scene.__r3f) return;\n      insertBefore(scene, child, beforeChild);\n    },\n    getRootHostContext: () => null,\n    getChildHostContext: parentHostContext => parentHostContext,\n    finalizeInitialChildren(instance) {\n      var _instance$__r3f2;\n      const localState = (_instance$__r3f2 = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f2 : {};\n      // https://github.com/facebook/react/issues/20271\n      // Returning true will trigger commitMount\n      return Boolean(localState.handlers);\n    },\n    prepareUpdate(instance, _type, oldProps, newProps) {\n      var _instance$__r3f3;\n      const localState = (_instance$__r3f3 = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f3 : {};\n\n      // Create diff-sets\n      if (localState.primitive && newProps.object && newProps.object !== instance) {\n        return [true];\n      } else {\n        // This is a data object, let's extract critical information about it\n        const {\n          args: argsNew = [],\n          children: cN,\n          ...restNew\n        } = newProps;\n        const {\n          args: argsOld = [],\n          children: cO,\n          ...restOld\n        } = oldProps;\n\n        // Throw if an object or literal was passed for args\n        if (!Array.isArray(argsNew)) throw new Error('R3F: the args prop must be an array!');\n\n        // If it has new props or arguments, then it needs to be re-instantiated\n        if (argsNew.some((value, index) => value !== argsOld[index])) return [true];\n        // Create a diff-set, flag if there are any changes\n        const diff = diffProps(instance, restNew, restOld, true);\n        if (diff.changes.length) return [false, diff];\n\n        // Otherwise do not touch the instance\n        return null;\n      }\n    },\n    commitUpdate(instance, [reconstruct, diff], type, _oldProps, newProps, fiber) {\n      // Reconstruct when args or <primitive object={...} have changes\n      if (reconstruct) switchInstance(instance, type, newProps, fiber);\n      // Otherwise just overwrite props\n      else applyProps$1(instance, diff);\n    },\n    commitMount(instance, _type, _props, _int) {\n      var _instance$__r3f4;\n      // https://github.com/facebook/react/issues/20271\n      // This will make sure events are only added once to the central container on the initial root\n      const localState = (_instance$__r3f4 = instance.__r3f) != null ? _instance$__r3f4 : {};\n      if (instance.raycast && localState.handlers && localState.eventCount) {\n        findInitialRoot(instance).getState().internal.interaction.push(instance);\n      }\n    },\n    getPublicInstance: instance => instance,\n    prepareForCommit: () => null,\n    preparePortalMount: container => prepare(container.getState().scene),\n    resetAfterCommit: () => {},\n    shouldSetTextContent: () => false,\n    clearContainer: () => false,\n    hideInstance(instance) {\n      var _instance$__r3f5;\n      // Detach while the instance is hidden\n      const {\n        attach: type,\n        parent\n      } = (_instance$__r3f5 = instance.__r3f) != null ? _instance$__r3f5 : {};\n      if (type && parent) detach(parent, instance, type);\n      if (instance.isObject3D) instance.visible = false;\n      invalidateInstance(instance);\n    },\n    unhideInstance(instance, props) {\n      var _instance$__r3f6;\n      // Re-attach when the instance is unhidden\n      const {\n        attach: type,\n        parent\n      } = (_instance$__r3f6 = instance.__r3f) != null ? _instance$__r3f6 : {};\n      if (type && parent) attach(parent, instance, type);\n      if (instance.isObject3D && props.visible == null || props.visible) instance.visible = true;\n      invalidateInstance(instance);\n    },\n    createTextInstance: handleTextInstance,\n    hideTextInstance: handleTextInstance,\n    unhideTextInstance: handleTextInstance,\n    // https://github.com/pmndrs/react-three-fiber/pull/2360#discussion_r916356874\n    // @ts-expect-error\n    getCurrentEventPriority: () => _getEventPriority ? _getEventPriority() : constants.DefaultEventPriority,\n    beforeActiveInstanceBlur: () => {},\n    afterActiveInstanceBlur: () => {},\n    detachDeletedInstance: () => {},\n    now: typeof performance !== 'undefined' && is.fun(performance.now) ? performance.now : is.fun(Date.now) ? Date.now : () => 0,\n    // https://github.com/pmndrs/react-three-fiber/pull/2360#discussion_r920883503\n    scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n    cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined\n  });\n  return {\n    reconciler,\n    applyProps: applyProps$1\n  };\n}\n\nvar _window$document, _window$navigator;\n/**\r\n * Returns `true` with correct TS type inference if an object has a configurable color space (since r152).\r\n */\nconst hasColorSpace = object => 'colorSpace' in object || 'outputColorSpace' in object;\n/**\r\n * The current THREE.ColorManagement instance, if present.\r\n */\nconst getColorManagement = () => {\n  var _ColorManagement;\n  return (_ColorManagement = catalogue.ColorManagement) != null ? _ColorManagement : null;\n};\nconst isOrthographicCamera = def => def && def.isOrthographicCamera;\nconst isRef = obj => obj && obj.hasOwnProperty('current');\n\n/**\r\n * An SSR-friendly useLayoutEffect.\r\n *\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect elsewhere.\r\n *\r\n * @see https://github.com/facebook/react/issues/14927\r\n */\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' && ((_window$document = window.document) != null && _window$document.createElement || ((_window$navigator = window.navigator) == null ? void 0 : _window$navigator.product) === 'ReactNative') ? React__namespace.useLayoutEffect : React__namespace.useEffect;\nfunction useMutableCallback(fn) {\n  const ref = React__namespace.useRef(fn);\n  useIsomorphicLayoutEffect(() => void (ref.current = fn), [fn]);\n  return ref;\n}\nfunction Block({\n  set\n}) {\n  useIsomorphicLayoutEffect(() => {\n    set(new Promise(() => null));\n    return () => set(false);\n  }, [set]);\n  return null;\n}\nclass ErrorBoundary extends React__namespace.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false\n    };\n  }\n  componentDidCatch(err) {\n    this.props.set(err);\n  }\n  render() {\n    return this.state.error ? null : this.props.children;\n  }\n}\nErrorBoundary.getDerivedStateFromError = () => ({\n  error: true\n});\nconst DEFAULT = '__default';\nconst DEFAULTS = new Map();\nconst isDiffSet = def => def && !!def.memoized && !!def.changes;\nfunction calculateDpr(dpr) {\n  var _window$devicePixelRa;\n  // Err on the side of progress by assuming 2x dpr if we can't detect it\n  // This will happen in workers where window is defined but dpr isn't.\n  const target = typeof window !== 'undefined' ? (_window$devicePixelRa = window.devicePixelRatio) != null ? _window$devicePixelRa : 2 : 1;\n  return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], target), dpr[1]) : dpr;\n}\n\n/**\r\n * Returns instance root state\r\n */\nconst getRootState = obj => {\n  var _r3f;\n  return (_r3f = obj.__r3f) == null ? void 0 : _r3f.root.getState();\n};\n\n/**\r\n * Returns the instances initial (outmost) root\r\n */\nfunction findInitialRoot(child) {\n  let root = child.__r3f.root;\n  while (root.getState().previousRoot) root = root.getState().previousRoot;\n  return root;\n}\n// A collection of compare functions\nconst is = {\n  obj: a => a === Object(a) && !is.arr(a) && typeof a !== 'function',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  boo: a => typeof a === 'boolean',\n  und: a => a === void 0,\n  arr: a => Array.isArray(a),\n  equ(a, b, {\n    arrays = 'shallow',\n    objects = 'reference',\n    strict = true\n  } = {}) {\n    // Wrong type or one of the two undefined, doesn't match\n    if (typeof a !== typeof b || !!a !== !!b) return false;\n    // Atomic, just compare a against b\n    if (is.str(a) || is.num(a) || is.boo(a)) return a === b;\n    const isObj = is.obj(a);\n    if (isObj && objects === 'reference') return a === b;\n    const isArr = is.arr(a);\n    if (isArr && arrays === 'reference') return a === b;\n    // Array or Object, shallow compare first to see if it's a match\n    if ((isArr || isObj) && a === b) return true;\n    // Last resort, go through keys\n    let i;\n    // Check if a has all the keys of b\n    for (i in a) if (!(i in b)) return false;\n    // Check if values between keys match\n    if (isObj && arrays === 'shallow' && objects === 'shallow') {\n      for (i in strict ? b : a) if (!is.equ(a[i], b[i], {\n        strict,\n        objects: 'reference'\n      })) return false;\n    } else {\n      for (i in strict ? b : a) if (a[i] !== b[i]) return false;\n    }\n    // If i is undefined\n    if (is.und(i)) {\n      // If both arrays are empty we consider them equal\n      if (isArr && a.length === 0 && b.length === 0) return true;\n      // If both objects are empty we consider them equal\n      if (isObj && Object.keys(a).length === 0 && Object.keys(b).length === 0) return true;\n      // Otherwise match them by value\n      if (a !== b) return false;\n    }\n    return true;\n  }\n};\n\n/**\r\n * Collects nodes and materials from a THREE.Object3D.\r\n */\nfunction buildGraph(object) {\n  const data = {\n    nodes: {},\n    materials: {}\n  };\n  if (object) {\n    object.traverse(obj => {\n      if (obj.name) data.nodes[obj.name] = obj;\n      if (obj.material && !data.materials[obj.material.name]) data.materials[obj.material.name] = obj.material;\n    });\n  }\n  return data;\n}\n\n// Disposes an object and all its properties\nfunction dispose(obj) {\n  if (obj.dispose && obj.type !== 'Scene') obj.dispose();\n  for (const p in obj) {\n    p.dispose == null ? void 0 : p.dispose();\n    delete obj[p];\n  }\n}\n\n// Each object in the scene carries a small LocalState descriptor\nfunction prepare(object, state) {\n  const instance = object;\n  instance.__r3f = {\n    type: '',\n    root: null,\n    previousAttach: null,\n    memoizedProps: {},\n    eventCount: 0,\n    handlers: {},\n    objects: [],\n    parent: null,\n    ...state\n  };\n  return object;\n}\nfunction resolve(instance, key) {\n  let target = instance;\n  if (key.includes('-')) {\n    const entries = key.split('-');\n    const last = entries.pop();\n    target = entries.reduce((acc, key) => acc[key], instance);\n    return {\n      target,\n      key: last\n    };\n  } else return {\n    target,\n    key\n  };\n}\n\n// Checks if a dash-cased string ends with an integer\nconst INDEX_REGEX = /-\\d+$/;\nfunction attach(parent, child, type) {\n  if (is.str(type)) {\n    // If attaching into an array (foo-0), create one\n    if (INDEX_REGEX.test(type)) {\n      const root = type.replace(INDEX_REGEX, '');\n      const {\n        target,\n        key\n      } = resolve(parent, root);\n      if (!Array.isArray(target[key])) target[key] = [];\n    }\n    const {\n      target,\n      key\n    } = resolve(parent, type);\n    child.__r3f.previousAttach = target[key];\n    target[key] = child;\n  } else child.__r3f.previousAttach = type(parent, child);\n}\nfunction detach(parent, child, type) {\n  var _child$__r3f, _child$__r3f2;\n  if (is.str(type)) {\n    const {\n      target,\n      key\n    } = resolve(parent, type);\n    const previous = child.__r3f.previousAttach;\n    // When the previous value was undefined, it means the value was never set to begin with\n    if (previous === undefined) delete target[key];\n    // Otherwise set the previous value\n    else target[key] = previous;\n  } else (_child$__r3f = child.__r3f) == null ? void 0 : _child$__r3f.previousAttach == null ? void 0 : _child$__r3f.previousAttach(parent, child);\n  (_child$__r3f2 = child.__r3f) == null ? true : delete _child$__r3f2.previousAttach;\n}\n// This function prepares a set of changes to be applied to the instance\nfunction diffProps(instance, {\n  children: cN,\n  key: kN,\n  ref: rN,\n  ...props\n}, {\n  children: cP,\n  key: kP,\n  ref: rP,\n  ...previous\n} = {}, remove = false) {\n  const localState = instance.__r3f;\n  const entries = Object.entries(props);\n  const changes = [];\n\n  // Catch removed props, prepend them so they can be reset or removed\n  if (remove) {\n    const previousKeys = Object.keys(previous);\n    for (let i = 0; i < previousKeys.length; i++) {\n      if (!props.hasOwnProperty(previousKeys[i])) entries.unshift([previousKeys[i], DEFAULT + 'remove']);\n    }\n  }\n  entries.forEach(([key, value]) => {\n    var _instance$__r3f;\n    // Bail out on primitive object\n    if ((_instance$__r3f = instance.__r3f) != null && _instance$__r3f.primitive && key === 'object') return;\n    // When props match bail out\n    if (is.equ(value, previous[key])) return;\n    // Collect handlers and bail out\n    if (/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(key)) return changes.push([key, value, true, []]);\n    // Split dashed props\n    let entries = [];\n    if (key.includes('-')) entries = key.split('-');\n    changes.push([key, value, false, entries]);\n\n    // Reset pierced props\n    for (const prop in props) {\n      const value = props[prop];\n      if (prop.startsWith(`${key}-`)) changes.push([prop, value, false, prop.split('-')]);\n    }\n  });\n  const memoized = {\n    ...props\n  };\n  if (localState != null && localState.memoizedProps && localState != null && localState.memoizedProps.args) memoized.args = localState.memoizedProps.args;\n  if (localState != null && localState.memoizedProps && localState != null && localState.memoizedProps.attach) memoized.attach = localState.memoizedProps.attach;\n  return {\n    memoized,\n    changes\n  };\n}\nconst __DEV__ = typeof process !== 'undefined' && \"development\" !== 'production';\n\n// This function applies a set of changes to the instance\nfunction applyProps$1(instance, data) {\n  var _instance$__r3f2;\n  // Filter equals, events and reserved props\n  const localState = instance.__r3f;\n  const root = localState == null ? void 0 : localState.root;\n  const rootState = root == null ? void 0 : root.getState == null ? void 0 : root.getState();\n  const {\n    memoized,\n    changes\n  } = isDiffSet(data) ? data : diffProps(instance, data);\n  const prevHandlers = localState == null ? void 0 : localState.eventCount;\n\n  // Prepare memoized props\n  if (instance.__r3f) instance.__r3f.memoizedProps = memoized;\n  for (let i = 0; i < changes.length; i++) {\n    let [key, value, isEvent, keys] = changes[i];\n\n    // Alias (output)encoding => (output)colorSpace (since r152)\n    // https://github.com/pmndrs/react-three-fiber/pull/2829\n    if (hasColorSpace(instance)) {\n      const sRGBEncoding = 3001;\n      const SRGBColorSpace = 'srgb';\n      const LinearSRGBColorSpace = 'srgb-linear';\n      if (key === 'encoding') {\n        key = 'colorSpace';\n        value = value === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n      } else if (key === 'outputEncoding') {\n        key = 'outputColorSpace';\n        value = value === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace;\n      }\n    }\n    let currentInstance = instance;\n    let targetProp = currentInstance[key];\n\n    // Revolve dashed props\n    if (keys.length) {\n      targetProp = keys.reduce((acc, key) => acc[key], instance);\n      // If the target is atomic, it forces us to switch the root\n      if (!(targetProp && targetProp.set)) {\n        const [name, ...reverseEntries] = keys.reverse();\n        currentInstance = reverseEntries.reverse().reduce((acc, key) => acc[key], instance);\n        key = name;\n      }\n    }\n\n    // https://github.com/mrdoob/three.js/issues/21209\n    // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n    // has no means to do this. Hence we curate a small collection of value-classes\n    // with their respective constructor/set arguments\n    // For removed props, try to set default values, if possible\n    if (value === DEFAULT + 'remove') {\n      if (currentInstance.constructor) {\n        // create a blank slate of the instance and copy the particular parameter.\n        let ctor = DEFAULTS.get(currentInstance.constructor);\n        if (!ctor) {\n          // @ts-expect-error\n          ctor = new currentInstance.constructor();\n          DEFAULTS.set(currentInstance.constructor, ctor);\n        }\n        value = ctor[key];\n      } else {\n        // instance does not have constructor, just set it to 0\n        value = 0;\n      }\n    }\n\n    // Deal with pointer events ...\n    if (isEvent && localState) {\n      if (value) localState.handlers[key] = value;else delete localState.handlers[key];\n      localState.eventCount = Object.keys(localState.handlers).length;\n    }\n    // Special treatment for objects with support for set/copy, and layers\n    else if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof THREE__namespace.Layers)) {\n      // If value is an array\n      if (Array.isArray(value)) {\n        if (targetProp.fromArray) targetProp.fromArray(value);else targetProp.set(...value);\n      }\n      // Test again target.copy(class) next ...\n      else if (targetProp.copy && value && value.constructor && (\n      // Some environments may break strict identity checks by duplicating versions of three.js.\n      // Loosen to unminified names, ignoring descendents.\n      // https://github.com/pmndrs/react-three-fiber/issues/2856\n      // TODO: fix upstream and remove in v9\n      __DEV__ ? targetProp.constructor.name === value.constructor.name : targetProp.constructor === value.constructor)) {\n        targetProp.copy(value);\n      }\n      // If nothing else fits, just set the single value, ignore undefined\n      // https://github.com/pmndrs/react-three-fiber/issues/274\n      else if (value !== undefined) {\n        var _targetProp;\n        const isColor = (_targetProp = targetProp) == null ? void 0 : _targetProp.isColor;\n        // Allow setting array scalars\n        if (!isColor && targetProp.setScalar) targetProp.setScalar(value);\n        // Layers have no copy function, we must therefore copy the mask property\n        else if (targetProp instanceof THREE__namespace.Layers && value instanceof THREE__namespace.Layers) targetProp.mask = value.mask;\n        // Otherwise just set ...\n        else targetProp.set(value);\n        // For versions of three which don't support THREE.ColorManagement,\n        // Auto-convert sRGB colors\n        // https://github.com/pmndrs/react-three-fiber/issues/344\n        if (!getColorManagement() && rootState && !rootState.linear && isColor) targetProp.convertSRGBToLinear();\n      }\n      // Else, just overwrite the value\n    } else {\n      var _currentInstance$key;\n      currentInstance[key] = value;\n\n      // Auto-convert sRGB textures, for now ...\n      // https://github.com/pmndrs/react-three-fiber/issues/344\n      if ((_currentInstance$key = currentInstance[key]) != null && _currentInstance$key.isTexture &&\n      // sRGB textures must be RGBA8 since r137 https://github.com/mrdoob/three.js/pull/23129\n      currentInstance[key].format === THREE__namespace.RGBAFormat && currentInstance[key].type === THREE__namespace.UnsignedByteType && rootState) {\n        const texture = currentInstance[key];\n        if (hasColorSpace(texture) && hasColorSpace(rootState.gl)) texture.colorSpace = rootState.gl.outputColorSpace;else texture.encoding = rootState.gl.outputEncoding;\n      }\n    }\n    invalidateInstance(instance);\n  }\n  if (localState && localState.parent && instance.raycast && prevHandlers !== localState.eventCount) {\n    // Get the initial root state's internals\n    const internal = findInitialRoot(instance).getState().internal;\n    // Pre-emptively remove the instance from the interaction manager\n    const index = internal.interaction.indexOf(instance);\n    if (index > -1) internal.interaction.splice(index, 1);\n    // Add the instance to the interaction manager only when it has handlers\n    if (localState.eventCount) internal.interaction.push(instance);\n  }\n\n  // Call the update lifecycle when it is being updated, but only when it is part of the scene.\n  // Skip updates to the `onUpdate` prop itself\n  const isCircular = changes.length === 1 && changes[0][0] === 'onUpdate';\n  if (!isCircular && changes.length && (_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.parent) updateInstance(instance);\n  return instance;\n}\nfunction invalidateInstance(instance) {\n  var _instance$__r3f3, _instance$__r3f3$root;\n  const state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\n  if (state && state.internal.frames === 0) state.invalidate();\n}\nfunction updateInstance(instance) {\n  instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\n}\nfunction updateCamera(camera, size) {\n  // https://github.com/pmndrs/react-three-fiber/issues/92\n  // Do not mess with the camera if it belongs to the user\n  if (!camera.manual) {\n    if (isOrthographicCamera(camera)) {\n      camera.left = size.width / -2;\n      camera.right = size.width / 2;\n      camera.top = size.height / 2;\n      camera.bottom = size.height / -2;\n    } else {\n      camera.aspect = size.width / size.height;\n    }\n    camera.updateProjectionMatrix();\n    // https://github.com/pmndrs/react-three-fiber/issues/178\n    // Update matrix world since the renderer is a frame late\n    camera.updateMatrixWorld();\n  }\n}\n\nfunction makeId(event) {\n  return (event.eventObject || event.object).uuid + '/' + event.index + event.instanceId;\n}\n\n// https://github.com/facebook/react/tree/main/packages/react-reconciler#getcurrenteventpriority\n// Gives React a clue as to how import the current interaction is\nfunction getEventPriority() {\n  var _globalScope$event;\n  // Get a handle to the current global scope in window and worker contexts if able\n  // https://github.com/pmndrs/react-three-fiber/pull/2493\n  const globalScope = typeof self !== 'undefined' && self || typeof window !== 'undefined' && window;\n  if (!globalScope) return constants.DefaultEventPriority;\n  const name = (_globalScope$event = globalScope.event) == null ? void 0 : _globalScope$event.type;\n  switch (name) {\n    case 'click':\n    case 'contextmenu':\n    case 'dblclick':\n    case 'pointercancel':\n    case 'pointerdown':\n    case 'pointerup':\n      return constants.DiscreteEventPriority;\n    case 'pointermove':\n    case 'pointerout':\n    case 'pointerover':\n    case 'pointerenter':\n    case 'pointerleave':\n    case 'wheel':\n      return constants.ContinuousEventPriority;\n    default:\n      return constants.DefaultEventPriority;\n  }\n}\n\n/**\r\n * Release pointer captures.\r\n * This is called by releasePointerCapture in the API, and when an object is removed.\r\n */\nfunction releaseInternalPointerCapture(capturedMap, obj, captures, pointerId) {\n  const captureData = captures.get(obj);\n  if (captureData) {\n    captures.delete(obj);\n    // If this was the last capturing object for this pointer\n    if (captures.size === 0) {\n      capturedMap.delete(pointerId);\n      captureData.target.releasePointerCapture(pointerId);\n    }\n  }\n}\nfunction removeInteractivity(store, object) {\n  const {\n    internal\n  } = store.getState();\n  // Removes every trace of an object from the data store\n  internal.interaction = internal.interaction.filter(o => o !== object);\n  internal.initialHits = internal.initialHits.filter(o => o !== object);\n  internal.hovered.forEach((value, key) => {\n    if (value.eventObject === object || value.object === object) {\n      // Clear out intersects, they are outdated by now\n      internal.hovered.delete(key);\n    }\n  });\n  internal.capturedMap.forEach((captures, pointerId) => {\n    releaseInternalPointerCapture(internal.capturedMap, object, captures, pointerId);\n  });\n}\nfunction createEvents(store) {\n  /** Calculates delta */\n  function calculateDistance(event) {\n    const {\n      internal\n    } = store.getState();\n    const dx = event.offsetX - internal.initialClick[0];\n    const dy = event.offsetY - internal.initialClick[1];\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\n  }\n\n  /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\n  function filterPointerEvents(objects) {\n    return objects.filter(obj => ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(name => {\n      var _r3f;\n      return (_r3f = obj.__r3f) == null ? void 0 : _r3f.handlers['onPointer' + name];\n    }));\n  }\n  function intersect(event, filter) {\n    const state = store.getState();\n    const duplicates = new Set();\n    const intersections = [];\n    // Allow callers to eliminate event objects\n    const eventsObjects = filter ? filter(state.internal.interaction) : state.internal.interaction;\n    // Reset all raycaster cameras to undefined\n    for (let i = 0; i < eventsObjects.length; i++) {\n      const state = getRootState(eventsObjects[i]);\n      if (state) {\n        state.raycaster.camera = undefined;\n      }\n    }\n    if (!state.previousRoot) {\n      // Make sure root-level pointer and ray are set up\n      state.events.compute == null ? void 0 : state.events.compute(event, state);\n    }\n    function handleRaycast(obj) {\n      const state = getRootState(obj);\n      // Skip event handling when noEvents is set, or when the raycasters camera is null\n      if (!state || !state.events.enabled || state.raycaster.camera === null) return [];\n\n      // When the camera is undefined we have to call the event layers update function\n      if (state.raycaster.camera === undefined) {\n        var _state$previousRoot;\n        state.events.compute == null ? void 0 : state.events.compute(event, state, (_state$previousRoot = state.previousRoot) == null ? void 0 : _state$previousRoot.getState());\n        // If the camera is still undefined we have to skip this layer entirely\n        if (state.raycaster.camera === undefined) state.raycaster.camera = null;\n      }\n\n      // Intersect object by object\n      return state.raycaster.camera ? state.raycaster.intersectObject(obj, true) : [];\n    }\n\n    // Collect events\n    let hits = eventsObjects\n    // Intersect objects\n    .flatMap(handleRaycast)\n    // Sort by event priority and distance\n    .sort((a, b) => {\n      const aState = getRootState(a.object);\n      const bState = getRootState(b.object);\n      if (!aState || !bState) return a.distance - b.distance;\n      return bState.events.priority - aState.events.priority || a.distance - b.distance;\n    })\n    // Filter out duplicates\n    .filter(item => {\n      const id = makeId(item);\n      if (duplicates.has(id)) return false;\n      duplicates.add(id);\n      return true;\n    });\n\n    // https://github.com/mrdoob/three.js/issues/16031\n    // Allow custom userland intersect sort order, this likely only makes sense on the root filter\n    if (state.events.filter) hits = state.events.filter(hits, state);\n\n    // Bubble up the events, find the event source (eventObject)\n    for (const hit of hits) {\n      let eventObject = hit.object;\n      // Bubble event up\n      while (eventObject) {\n        var _r3f2;\n        if ((_r3f2 = eventObject.__r3f) != null && _r3f2.eventCount) intersections.push({\n          ...hit,\n          eventObject\n        });\n        eventObject = eventObject.parent;\n      }\n    }\n\n    // If the interaction is captured, make all capturing targets part of the intersect.\n    if ('pointerId' in event && state.internal.capturedMap.has(event.pointerId)) {\n      for (let captureData of state.internal.capturedMap.get(event.pointerId).values()) {\n        if (!duplicates.has(makeId(captureData.intersection))) intersections.push(captureData.intersection);\n      }\n    }\n    return intersections;\n  }\n\n  /**  Handles intersections by forwarding them to handlers */\n  function handleIntersects(intersections, event, delta, callback) {\n    const rootState = store.getState();\n\n    // If anything has been found, forward it to the event listeners\n    if (intersections.length) {\n      const localState = {\n        stopped: false\n      };\n      for (const hit of intersections) {\n        const state = getRootState(hit.object) || rootState;\n        const {\n          raycaster,\n          pointer,\n          camera,\n          internal\n        } = state;\n        const unprojectedPoint = new THREE__namespace.Vector3(pointer.x, pointer.y, 0).unproject(camera);\n        const hasPointerCapture = id => {\n          var _internal$capturedMap, _internal$capturedMap2;\n          return (_internal$capturedMap = (_internal$capturedMap2 = internal.capturedMap.get(id)) == null ? void 0 : _internal$capturedMap2.has(hit.eventObject)) != null ? _internal$capturedMap : false;\n        };\n        const setPointerCapture = id => {\n          const captureData = {\n            intersection: hit,\n            target: event.target\n          };\n          if (internal.capturedMap.has(id)) {\n            // if the pointerId was previously captured, we add the hit to the\n            // event capturedMap.\n            internal.capturedMap.get(id).set(hit.eventObject, captureData);\n          } else {\n            // if the pointerId was not previously captured, we create a map\n            // containing the hitObject, and the hit. hitObject is used for\n            // faster access.\n            internal.capturedMap.set(id, new Map([[hit.eventObject, captureData]]));\n          }\n          event.target.setPointerCapture(id);\n        };\n        const releasePointerCapture = id => {\n          const captures = internal.capturedMap.get(id);\n          if (captures) {\n            releaseInternalPointerCapture(internal.capturedMap, hit.eventObject, captures, id);\n          }\n        };\n\n        // Add native event props\n        let extractEventProps = {};\n        // This iterates over the event's properties including the inherited ones. Native PointerEvents have most of their props as getters which are inherited, but polyfilled PointerEvents have them all as their own properties (i.e. not inherited). We can't use Object.keys() or Object.entries() as they only return \"own\" properties; nor Object.getPrototypeOf(event) as that *doesn't* return \"own\" properties, only inherited ones.\n        for (let prop in event) {\n          let property = event[prop];\n          // Only copy over atomics, leave functions alone as these should be\n          // called as event.nativeEvent.fn()\n          if (typeof property !== 'function') extractEventProps[prop] = property;\n        }\n        let raycastEvent = {\n          ...hit,\n          ...extractEventProps,\n          pointer,\n          intersections,\n          stopped: localState.stopped,\n          delta,\n          unprojectedPoint,\n          ray: raycaster.ray,\n          camera: camera,\n          // Hijack stopPropagation, which just sets a flag\n          stopPropagation() {\n            // https://github.com/pmndrs/react-three-fiber/issues/596\n            // Events are not allowed to stop propagation if the pointer has been captured\n            const capturesForPointer = 'pointerId' in event && internal.capturedMap.get(event.pointerId);\n\n            // We only authorize stopPropagation...\n            if (\n            // ...if this pointer hasn't been captured\n            !capturesForPointer ||\n            // ... or if the hit object is capturing the pointer\n            capturesForPointer.has(hit.eventObject)) {\n              raycastEvent.stopped = localState.stopped = true;\n              // Propagation is stopped, remove all other hover records\n              // An event handler is only allowed to flush other handlers if it is hovered itself\n              if (internal.hovered.size && Array.from(internal.hovered.values()).find(i => i.eventObject === hit.eventObject)) {\n                // Objects cannot flush out higher up objects that have already caught the event\n                const higher = intersections.slice(0, intersections.indexOf(hit));\n                cancelPointer([...higher, hit]);\n              }\n            }\n          },\n          // there should be a distinction between target and currentTarget\n          target: {\n            hasPointerCapture,\n            setPointerCapture,\n            releasePointerCapture\n          },\n          currentTarget: {\n            hasPointerCapture,\n            setPointerCapture,\n            releasePointerCapture\n          },\n          nativeEvent: event\n        };\n\n        // Call subscribers\n        callback(raycastEvent);\n        // Event bubbling may be interrupted by stopPropagation\n        if (localState.stopped === true) break;\n      }\n    }\n    return intersections;\n  }\n  function cancelPointer(intersections) {\n    const {\n      internal\n    } = store.getState();\n    for (const hoveredObj of internal.hovered.values()) {\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\n      // we call onPointerOut and delete the object from the hovered-elements map\n      if (!intersections.length || !intersections.find(hit => hit.object === hoveredObj.object && hit.index === hoveredObj.index && hit.instanceId === hoveredObj.instanceId)) {\n        const eventObject = hoveredObj.eventObject;\n        const instance = eventObject.__r3f;\n        const handlers = instance == null ? void 0 : instance.handlers;\n        internal.hovered.delete(makeId(hoveredObj));\n        if (instance != null && instance.eventCount) {\n          // Clear out intersects, they are outdated by now\n          const data = {\n            ...hoveredObj,\n            intersections\n          };\n          handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\n          handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\n        }\n      }\n    }\n  }\n  function pointerMissed(event, objects) {\n    for (let i = 0; i < objects.length; i++) {\n      const instance = objects[i].__r3f;\n      instance == null ? void 0 : instance.handlers.onPointerMissed == null ? void 0 : instance.handlers.onPointerMissed(event);\n    }\n  }\n  function handlePointer(name) {\n    // Deal with cancelation\n    switch (name) {\n      case 'onPointerLeave':\n      case 'onPointerCancel':\n        return () => cancelPointer([]);\n      case 'onLostPointerCapture':\n        return event => {\n          const {\n            internal\n          } = store.getState();\n          if ('pointerId' in event && internal.capturedMap.has(event.pointerId)) {\n            // If the object event interface had onLostPointerCapture, we'd call it here on every\n            // object that's getting removed. We call it on the next frame because onLostPointerCapture\n            // fires before onPointerUp. Otherwise pointerUp would never be called if the event didn't\n            // happen in the object it originated from, leaving components in a in-between state.\n            requestAnimationFrame(() => {\n              // Only release if pointer-up didn't do it already\n              if (internal.capturedMap.has(event.pointerId)) {\n                internal.capturedMap.delete(event.pointerId);\n                cancelPointer([]);\n              }\n            });\n          }\n        };\n    }\n\n    // Any other pointer goes here ...\n    return function handleEvent(event) {\n      const {\n        onPointerMissed,\n        internal\n      } = store.getState();\n\n      // prepareRay(event)\n      internal.lastEvent.current = event;\n\n      // Get fresh intersects\n      const isPointerMove = name === 'onPointerMove';\n      const isClickEvent = name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick';\n      const filter = isPointerMove ? filterPointerEvents : undefined;\n      const hits = intersect(event, filter);\n      const delta = isClickEvent ? calculateDistance(event) : 0;\n\n      // Save initial coordinates on pointer-down\n      if (name === 'onPointerDown') {\n        internal.initialClick = [event.offsetX, event.offsetY];\n        internal.initialHits = hits.map(hit => hit.eventObject);\n      }\n\n      // If a click yields no results, pass it back to the user as a miss\n      // Missed events have to come first in order to establish user-land side-effect clean up\n      if (isClickEvent && !hits.length) {\n        if (delta <= 2) {\n          pointerMissed(event, internal.interaction);\n          if (onPointerMissed) onPointerMissed(event);\n        }\n      }\n      // Take care of unhover\n      if (isPointerMove) cancelPointer(hits);\n      function onIntersect(data) {\n        const eventObject = data.eventObject;\n        const instance = eventObject.__r3f;\n        const handlers = instance == null ? void 0 : instance.handlers;\n\n        // Check presence of handlers\n        if (!(instance != null && instance.eventCount)) return;\n\n        /*\r\n        MAYBE TODO, DELETE IF NOT: \r\n          Check if the object is captured, captured events should not have intersects running in parallel\r\n          But wouldn't it be better to just replace capturedMap with a single entry?\r\n          Also, are we OK with straight up making picking up multiple objects impossible?\r\n          \r\n        const pointerId = (data as ThreeEvent<PointerEvent>).pointerId        \r\n        if (pointerId !== undefined) {\r\n          const capturedMeshSet = internal.capturedMap.get(pointerId)\r\n          if (capturedMeshSet) {\r\n            const captured = capturedMeshSet.get(eventObject)\r\n            if (captured && captured.localState.stopped) return\r\n          }\r\n        }*/\n\n        if (isPointerMove) {\n          // Move event ...\n          if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n            // When enter or out is present take care of hover-state\n            const id = makeId(data);\n            const hoveredItem = internal.hovered.get(id);\n            if (!hoveredItem) {\n              // If the object wasn't previously hovered, book it and call its handler\n              internal.hovered.set(id, data);\n              handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\n              handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\n            } else if (hoveredItem.stopped) {\n              // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n              data.stopPropagation();\n            }\n          }\n          // Call mouse move\n          handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\n        } else {\n          // All other events ...\n          const handler = handlers[name];\n          if (handler) {\n            // Forward all events back to their respective handlers with the exception of click events,\n            // which must use the initial target\n            if (!isClickEvent || internal.initialHits.includes(eventObject)) {\n              // Missed events have to come first\n              pointerMissed(event, internal.interaction.filter(object => !internal.initialHits.includes(object)));\n              // Now call the handler\n              handler(data);\n            }\n          } else {\n            // Trigger onPointerMissed on all elements that have pointer over/out handlers, but not click and weren't hit\n            if (isClickEvent && internal.initialHits.includes(eventObject)) {\n              pointerMissed(event, internal.interaction.filter(object => !internal.initialHits.includes(object)));\n            }\n          }\n        }\n      }\n      handleIntersects(hits, event, delta, onIntersect);\n    };\n  }\n  return {\n    handlePointer\n  };\n}\n\n// Keys that shouldn't be copied between R3F stores\nconst privateKeys = ['set', 'get', 'setSize', 'setFrameloop', 'setDpr', 'events', 'invalidate', 'advance', 'size', 'viewport'];\nconst isRenderer = def => !!(def != null && def.render);\nconst context = /*#__PURE__*/React__namespace.createContext(null);\nconst createStore = (invalidate, advance) => {\n  const rootState = create__default[\"default\"]((set, get) => {\n    const position = new THREE__namespace.Vector3();\n    const defaultTarget = new THREE__namespace.Vector3();\n    const tempTarget = new THREE__namespace.Vector3();\n    function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\n      const {\n        width,\n        height,\n        top,\n        left\n      } = size;\n      const aspect = width / height;\n      if (target.isVector3) tempTarget.copy(target);else tempTarget.set(...target);\n      const distance = camera.getWorldPosition(position).distanceTo(tempTarget);\n      if (isOrthographicCamera(camera)) {\n        return {\n          width: width / camera.zoom,\n          height: height / camera.zoom,\n          top,\n          left,\n          factor: 1,\n          distance,\n          aspect\n        };\n      } else {\n        const fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\n        const h = 2 * Math.tan(fov / 2) * distance; // visible height\n        const w = h * (width / height);\n        return {\n          width: w,\n          height: h,\n          top,\n          left,\n          factor: width / w,\n          distance,\n          aspect\n        };\n      }\n    }\n    let performanceTimeout = undefined;\n    const setPerformanceCurrent = current => set(state => ({\n      performance: {\n        ...state.performance,\n        current\n      }\n    }));\n    const pointer = new THREE__namespace.Vector2();\n    const rootState = {\n      set,\n      get,\n      // Mock objects that have to be configured\n      gl: null,\n      camera: null,\n      raycaster: null,\n      events: {\n        priority: 1,\n        enabled: true,\n        connected: false\n      },\n      xr: null,\n      scene: null,\n      invalidate: (frames = 1) => invalidate(get(), frames),\n      advance: (timestamp, runGlobalEffects) => advance(timestamp, runGlobalEffects, get()),\n      legacy: false,\n      linear: false,\n      flat: false,\n      controls: null,\n      clock: new THREE__namespace.Clock(),\n      pointer,\n      mouse: pointer,\n      frameloop: 'always',\n      onPointerMissed: undefined,\n      performance: {\n        current: 1,\n        min: 0.5,\n        max: 1,\n        debounce: 200,\n        regress: () => {\n          const state = get();\n          // Clear timeout\n          if (performanceTimeout) clearTimeout(performanceTimeout);\n          // Set lower bound performance\n          if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min);\n          // Go back to upper bound performance after a while unless something regresses meanwhile\n          performanceTimeout = setTimeout(() => setPerformanceCurrent(get().performance.max), state.performance.debounce);\n        }\n      },\n      size: {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        updateStyle: false\n      },\n      viewport: {\n        initialDpr: 0,\n        dpr: 0,\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        aspect: 0,\n        distance: 0,\n        factor: 0,\n        getCurrentViewport\n      },\n      setEvents: events => set(state => ({\n        ...state,\n        events: {\n          ...state.events,\n          ...events\n        }\n      })),\n      setSize: (width, height, updateStyle, top, left) => {\n        const camera = get().camera;\n        const size = {\n          width,\n          height,\n          top: top || 0,\n          left: left || 0,\n          updateStyle\n        };\n        set(state => ({\n          size,\n          viewport: {\n            ...state.viewport,\n            ...getCurrentViewport(camera, defaultTarget, size)\n          }\n        }));\n      },\n      setDpr: dpr => set(state => {\n        const resolved = calculateDpr(dpr);\n        return {\n          viewport: {\n            ...state.viewport,\n            dpr: resolved,\n            initialDpr: state.viewport.initialDpr || resolved\n          }\n        };\n      }),\n      setFrameloop: (frameloop = 'always') => {\n        const clock = get().clock;\n\n        // if frameloop === \"never\" clock.elapsedTime is updated using advance(timestamp)\n        clock.stop();\n        clock.elapsedTime = 0;\n        if (frameloop !== 'never') {\n          clock.start();\n          clock.elapsedTime = 0;\n        }\n        set(() => ({\n          frameloop\n        }));\n      },\n      previousRoot: undefined,\n      internal: {\n        active: false,\n        priority: 0,\n        frames: 0,\n        lastEvent: /*#__PURE__*/React__namespace.createRef(),\n        interaction: [],\n        hovered: new Map(),\n        subscribers: [],\n        initialClick: [0, 0],\n        initialHits: [],\n        capturedMap: new Map(),\n        subscribe: (ref, priority, store) => {\n          const internal = get().internal;\n          // If this subscription was given a priority, it takes rendering into its own hands\n          // For that reason we switch off automatic rendering and increase the manual flag\n          // As long as this flag is positive there can be no internal rendering at all\n          // because there could be multiple render subscriptions\n          internal.priority = internal.priority + (priority > 0 ? 1 : 0);\n          internal.subscribers.push({\n            ref,\n            priority,\n            store\n          });\n          // Register subscriber and sort layers from lowest to highest, meaning,\n          // highest priority renders last (on top of the other frames)\n          internal.subscribers = internal.subscribers.sort((a, b) => a.priority - b.priority);\n          return () => {\n            const internal = get().internal;\n            if (internal != null && internal.subscribers) {\n              // Decrease manual flag if this subscription had a priority\n              internal.priority = internal.priority - (priority > 0 ? 1 : 0);\n              // Remove subscriber from list\n              internal.subscribers = internal.subscribers.filter(s => s.ref !== ref);\n            }\n          };\n        }\n      }\n    };\n    return rootState;\n  });\n  const state = rootState.getState();\n  let oldSize = state.size;\n  let oldDpr = state.viewport.dpr;\n  let oldCamera = state.camera;\n  rootState.subscribe(() => {\n    const {\n      camera,\n      size,\n      viewport,\n      gl,\n      set\n    } = rootState.getState();\n\n    // Resize camera and renderer on changes to size and pixelratio\n    if (size.width !== oldSize.width || size.height !== oldSize.height || viewport.dpr !== oldDpr) {\n      var _size$updateStyle;\n      oldSize = size;\n      oldDpr = viewport.dpr;\n      // Update camera & renderer\n      updateCamera(camera, size);\n      gl.setPixelRatio(viewport.dpr);\n      const updateStyle = (_size$updateStyle = size.updateStyle) != null ? _size$updateStyle : typeof HTMLCanvasElement !== 'undefined' && gl.domElement instanceof HTMLCanvasElement;\n      gl.setSize(size.width, size.height, updateStyle);\n    }\n\n    // Update viewport once the camera changes\n    if (camera !== oldCamera) {\n      oldCamera = camera;\n      // Update viewport\n      set(state => ({\n        viewport: {\n          ...state.viewport,\n          ...state.viewport.getCurrentViewport(camera)\n        }\n      }));\n    }\n  });\n\n  // Invalidate on any change\n  rootState.subscribe(state => invalidate(state));\n\n  // Return root state\n  return rootState;\n};\n\nfunction createSubs(callback, subs) {\n  const sub = {\n    callback\n  };\n  subs.add(sub);\n  return () => void subs.delete(sub);\n}\nlet i;\nlet globalEffects = new Set();\nlet globalAfterEffects = new Set();\nlet globalTailEffects = new Set();\n\n/**\r\n * Adds a global render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addEffect\r\n */\nconst addEffect = callback => createSubs(callback, globalEffects);\n\n/**\r\n * Adds a global after-render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addAfterEffect\r\n */\nconst addAfterEffect = callback => createSubs(callback, globalAfterEffects);\n\n/**\r\n * Adds a global callback which is called when rendering stops.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addTail\r\n */\nconst addTail = callback => createSubs(callback, globalTailEffects);\nfunction run(effects, timestamp) {\n  if (!effects.size) return;\n  for (const {\n    callback\n  } of effects.values()) {\n    callback(timestamp);\n  }\n}\nfunction flushGlobalEffects(type, timestamp) {\n  switch (type) {\n    case 'before':\n      return run(globalEffects, timestamp);\n    case 'after':\n      return run(globalAfterEffects, timestamp);\n    case 'tail':\n      return run(globalTailEffects, timestamp);\n  }\n}\nlet subscribers;\nlet subscription;\nfunction render$1(timestamp, state, frame) {\n  // Run local effects\n  let delta = state.clock.getDelta();\n  // In frameloop='never' mode, clock times are updated using the provided timestamp\n  if (state.frameloop === 'never' && typeof timestamp === 'number') {\n    delta = timestamp - state.clock.elapsedTime;\n    state.clock.oldTime = state.clock.elapsedTime;\n    state.clock.elapsedTime = timestamp;\n  }\n  // Call subscribers (useFrame)\n  subscribers = state.internal.subscribers;\n  for (i = 0; i < subscribers.length; i++) {\n    subscription = subscribers[i];\n    subscription.ref.current(subscription.store.getState(), delta, frame);\n  }\n  // Render content\n  if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera);\n  // Decrease frame count\n  state.internal.frames = Math.max(0, state.internal.frames - 1);\n  return state.frameloop === 'always' ? 1 : state.internal.frames;\n}\nfunction createLoop(roots) {\n  let running = false;\n  let useFrameInProgress = false;\n  let repeat;\n  let frame;\n  let state;\n  function loop(timestamp) {\n    frame = requestAnimationFrame(loop);\n    running = true;\n    repeat = 0;\n\n    // Run effects\n    flushGlobalEffects('before', timestamp);\n\n    // Render all roots\n    useFrameInProgress = true;\n    for (const root of roots.values()) {\n      var _state$gl$xr;\n      state = root.store.getState();\n      // If the frameloop is invalidated, do not run another frame\n      if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0) && !((_state$gl$xr = state.gl.xr) != null && _state$gl$xr.isPresenting)) {\n        repeat += render$1(timestamp, state);\n      }\n    }\n    useFrameInProgress = false;\n\n    // Run after-effects\n    flushGlobalEffects('after', timestamp);\n\n    // Stop the loop if nothing invalidates it\n    if (repeat === 0) {\n      // Tail call effects, they are called when rendering stops\n      flushGlobalEffects('tail', timestamp);\n\n      // Flag end of operation\n      running = false;\n      return cancelAnimationFrame(frame);\n    }\n  }\n  function invalidate(state, frames = 1) {\n    var _state$gl$xr2;\n    if (!state) return roots.forEach(root => invalidate(root.store.getState(), frames));\n    if ((_state$gl$xr2 = state.gl.xr) != null && _state$gl$xr2.isPresenting || !state.internal.active || state.frameloop === 'never') return;\n    if (frames > 1) {\n      // legacy support for people using frames parameters\n      // Increase frames, do not go higher than 60\n      state.internal.frames = Math.min(60, state.internal.frames + frames);\n    } else {\n      if (useFrameInProgress) {\n        //called from within a useFrame, it means the user wants an additional frame\n        state.internal.frames = 2;\n      } else {\n        //the user need a new frame, no need to increment further than 1\n        state.internal.frames = 1;\n      }\n    }\n\n    // If the render-loop isn't active, start it\n    if (!running) {\n      running = true;\n      requestAnimationFrame(loop);\n    }\n  }\n  function advance(timestamp, runGlobalEffects = true, state, frame) {\n    if (runGlobalEffects) flushGlobalEffects('before', timestamp);\n    if (!state) for (const root of roots.values()) render$1(timestamp, root.store.getState());else render$1(timestamp, state, frame);\n    if (runGlobalEffects) flushGlobalEffects('after', timestamp);\n  }\n  return {\n    loop,\n    invalidate,\n    advance\n  };\n}\n\n/**\r\n * Exposes an object's {@link LocalState}.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#useInstanceHandle\r\n *\r\n * **Note**: this is an escape hatch to react-internal fields. Expect this to change significantly between versions.\r\n */\nfunction useInstanceHandle(ref) {\n  const instance = React__namespace.useRef(null);\n  useIsomorphicLayoutEffect(() => void (instance.current = ref.current.__r3f), [ref]);\n  return instance;\n}\nfunction useStore() {\n  const store = React__namespace.useContext(context);\n  if (!store) throw new Error('R3F: Hooks can only be used within the Canvas component!');\n  return store;\n}\n\n/**\r\n * Accesses R3F's internal state, containing renderer, canvas, scene, etc.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usethree\r\n */\nfunction useThree(selector = state => state, equalityFn) {\n  return useStore()(selector, equalityFn);\n}\n\n/**\r\n * Executes a callback before render in a shared frame loop.\r\n * Can order effects with render priority or manually render with a positive priority.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useframe\r\n */\nfunction useFrame(callback, renderPriority = 0) {\n  const store = useStore();\n  const subscribe = store.getState().internal.subscribe;\n  // Memoize ref\n  const ref = useMutableCallback(callback);\n  // Subscribe on mount, unsubscribe on unmount\n  useIsomorphicLayoutEffect(() => subscribe(ref, renderPriority, store), [renderPriority, subscribe, store]);\n  return null;\n}\n\n/**\r\n * Returns a node graph of an object with named nodes & materials.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usegraph\r\n */\nfunction useGraph(object) {\n  return React__namespace.useMemo(() => buildGraph(object), [object]);\n}\nconst memoizedLoaders = new WeakMap();\nfunction loadingFn(extensions, onProgress) {\n  return function (Proto, ...input) {\n    // Construct new loader and run extensions\n    let loader = memoizedLoaders.get(Proto);\n    if (!loader) {\n      loader = new Proto();\n      memoizedLoaders.set(Proto, loader);\n    }\n    if (extensions) extensions(loader);\n    // Go through the urls and load them\n    return Promise.all(input.map(input => new Promise((res, reject) => loader.load(input, data => {\n      if (data.scene) Object.assign(data, buildGraph(data.scene));\n      res(data);\n    }, onProgress, error => reject(new Error(`Could not load ${input}: ${error == null ? void 0 : error.message}`))))));\n  };\n}\n/**\r\n * Synchronously loads and caches assets with a three loader.\r\n *\r\n * Note: this hook's caller must be wrapped with `React.Suspense`\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useloader\r\n */\nfunction useLoader(Proto, input, extensions, onProgress) {\n  // Use suspense to load async assets\n  const keys = Array.isArray(input) ? input : [input];\n  const results = suspendReact.suspend(loadingFn(extensions, onProgress), [Proto, ...keys], {\n    equal: is.equ\n  });\n  // Return the object/s\n  return Array.isArray(input) ? results : results[0];\n}\n\n/**\r\n * Preloads an asset into cache as a side-effect.\r\n */\nuseLoader.preload = function (Proto, input, extensions) {\n  const keys = Array.isArray(input) ? input : [input];\n  return suspendReact.preload(loadingFn(extensions), [Proto, ...keys]);\n};\n\n/**\r\n * Removes a loaded asset from cache.\r\n */\nuseLoader.clear = function (Proto, input) {\n  const keys = Array.isArray(input) ? input : [input];\n  return suspendReact.clear([Proto, ...keys]);\n};\n\nconst roots = new Map();\nconst {\n  invalidate,\n  advance\n} = createLoop(roots);\nconst {\n  reconciler,\n  applyProps\n} = createRenderer(roots, getEventPriority);\nconst shallowLoose = {\n  objects: 'shallow',\n  strict: false\n};\nconst createRendererInstance = (gl, canvas) => {\n  const customRenderer = typeof gl === 'function' ? gl(canvas) : gl;\n  if (isRenderer(customRenderer)) return customRenderer;else return new THREE__namespace.WebGLRenderer({\n    powerPreference: 'high-performance',\n    canvas: canvas,\n    antialias: true,\n    alpha: true,\n    ...gl\n  });\n};\nfunction computeInitialSize(canvas, defaultSize) {\n  const defaultStyle = typeof HTMLCanvasElement !== 'undefined' && canvas instanceof HTMLCanvasElement;\n  if (defaultSize) {\n    const {\n      width,\n      height,\n      top,\n      left,\n      updateStyle = defaultStyle\n    } = defaultSize;\n    return {\n      width,\n      height,\n      top,\n      left,\n      updateStyle\n    };\n  } else if (typeof HTMLCanvasElement !== 'undefined' && canvas instanceof HTMLCanvasElement && canvas.parentElement) {\n    const {\n      width,\n      height,\n      top,\n      left\n    } = canvas.parentElement.getBoundingClientRect();\n    return {\n      width,\n      height,\n      top,\n      left,\n      updateStyle: defaultStyle\n    };\n  } else if (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n    return {\n      width: canvas.width,\n      height: canvas.height,\n      top: 0,\n      left: 0,\n      updateStyle: defaultStyle\n    };\n  }\n  return {\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0\n  };\n}\nfunction createRoot(canvas) {\n  // Check against mistaken use of createRoot\n  const prevRoot = roots.get(canvas);\n  const prevFiber = prevRoot == null ? void 0 : prevRoot.fiber;\n  const prevStore = prevRoot == null ? void 0 : prevRoot.store;\n  if (prevRoot) console.warn('R3F.createRoot should only be called once!');\n\n  // Report when an error was detected in a previous render\n  // https://github.com/pmndrs/react-three-fiber/pull/2261\n  const logRecoverableError = typeof reportError === 'function' ?\n  // In modern browsers, reportError will dispatch an error event,\n  // emulating an uncaught JavaScript error.\n  reportError :\n  // In older browsers and test environments, fallback to console.error.\n  console.error;\n\n  // Create store\n  const store = prevStore || createStore(invalidate, advance);\n  // Create renderer\n  const fiber = prevFiber || reconciler.createContainer(store, constants.ConcurrentRoot, null, false, null, '', logRecoverableError, null);\n  // Map it\n  if (!prevRoot) roots.set(canvas, {\n    fiber,\n    store\n  });\n\n  // Locals\n  let onCreated;\n  let configured = false;\n  let lastCamera;\n  return {\n    configure(props = {}) {\n      let {\n        gl: glConfig,\n        size: propsSize,\n        scene: sceneOptions,\n        events,\n        onCreated: onCreatedCallback,\n        shadows = false,\n        linear = false,\n        flat = false,\n        legacy = false,\n        orthographic = false,\n        frameloop = 'always',\n        dpr = [1, 2],\n        performance,\n        raycaster: raycastOptions,\n        camera: cameraOptions,\n        onPointerMissed\n      } = props;\n      let state = store.getState();\n\n      // Set up renderer (one time only!)\n      let gl = state.gl;\n      if (!state.gl) state.set({\n        gl: gl = createRendererInstance(glConfig, canvas)\n      });\n\n      // Set up raycaster (one time only!)\n      let raycaster = state.raycaster;\n      if (!raycaster) state.set({\n        raycaster: raycaster = new THREE__namespace.Raycaster()\n      });\n\n      // Set raycaster options\n      const {\n        params,\n        ...options\n      } = raycastOptions || {};\n      if (!is.equ(options, raycaster, shallowLoose)) applyProps(raycaster, {\n        ...options\n      });\n      if (!is.equ(params, raycaster.params, shallowLoose)) applyProps(raycaster, {\n        params: {\n          ...raycaster.params,\n          ...params\n        }\n      });\n\n      // Create default camera, don't overwrite any user-set state\n      if (!state.camera || state.camera === lastCamera && !is.equ(lastCamera, cameraOptions, shallowLoose)) {\n        lastCamera = cameraOptions;\n        const isCamera = cameraOptions instanceof THREE__namespace.Camera;\n        const camera = isCamera ? cameraOptions : orthographic ? new THREE__namespace.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE__namespace.PerspectiveCamera(75, 0, 0.1, 1000);\n        if (!isCamera) {\n          camera.position.z = 5;\n          if (cameraOptions) {\n            applyProps(camera, cameraOptions);\n            // Preserve user-defined frustum if possible\n            // https://github.com/pmndrs/react-three-fiber/issues/3160\n            if ('aspect' in cameraOptions || 'left' in cameraOptions || 'right' in cameraOptions || 'bottom' in cameraOptions || 'top' in cameraOptions) {\n              camera.manual = true;\n              camera.updateProjectionMatrix();\n            }\n          }\n          // Always look at center by default\n          if (!state.camera && !(cameraOptions != null && cameraOptions.rotation)) camera.lookAt(0, 0, 0);\n        }\n        state.set({\n          camera\n        });\n\n        // Configure raycaster\n        // https://github.com/pmndrs/react-xr/issues/300\n        raycaster.camera = camera;\n      }\n\n      // Set up scene (one time only!)\n      if (!state.scene) {\n        let scene;\n        if (sceneOptions != null && sceneOptions.isScene) {\n          scene = sceneOptions;\n        } else {\n          scene = new THREE__namespace.Scene();\n          if (sceneOptions) applyProps(scene, sceneOptions);\n        }\n        state.set({\n          scene: prepare(scene)\n        });\n      }\n\n      // Set up XR (one time only!)\n      if (!state.xr) {\n        var _gl$xr;\n        // Handle frame behavior in WebXR\n        const handleXRFrame = (timestamp, frame) => {\n          const state = store.getState();\n          if (state.frameloop === 'never') return;\n          advance(timestamp, true, state, frame);\n        };\n\n        // Toggle render switching on session\n        const handleSessionChange = () => {\n          const state = store.getState();\n          state.gl.xr.enabled = state.gl.xr.isPresenting;\n          state.gl.xr.setAnimationLoop(state.gl.xr.isPresenting ? handleXRFrame : null);\n          if (!state.gl.xr.isPresenting) invalidate(state);\n        };\n\n        // WebXR session manager\n        const xr = {\n          connect() {\n            const gl = store.getState().gl;\n            gl.xr.addEventListener('sessionstart', handleSessionChange);\n            gl.xr.addEventListener('sessionend', handleSessionChange);\n          },\n          disconnect() {\n            const gl = store.getState().gl;\n            gl.xr.removeEventListener('sessionstart', handleSessionChange);\n            gl.xr.removeEventListener('sessionend', handleSessionChange);\n          }\n        };\n\n        // Subscribe to WebXR session events\n        if (typeof ((_gl$xr = gl.xr) == null ? void 0 : _gl$xr.addEventListener) === 'function') xr.connect();\n        state.set({\n          xr\n        });\n      }\n\n      // Set shadowmap\n      if (gl.shadowMap) {\n        const oldEnabled = gl.shadowMap.enabled;\n        const oldType = gl.shadowMap.type;\n        gl.shadowMap.enabled = !!shadows;\n        if (is.boo(shadows)) {\n          gl.shadowMap.type = THREE__namespace.PCFSoftShadowMap;\n        } else if (is.str(shadows)) {\n          var _types$shadows;\n          const types = {\n            basic: THREE__namespace.BasicShadowMap,\n            percentage: THREE__namespace.PCFShadowMap,\n            soft: THREE__namespace.PCFSoftShadowMap,\n            variance: THREE__namespace.VSMShadowMap\n          };\n          gl.shadowMap.type = (_types$shadows = types[shadows]) != null ? _types$shadows : THREE__namespace.PCFSoftShadowMap;\n        } else if (is.obj(shadows)) {\n          Object.assign(gl.shadowMap, shadows);\n        }\n        if (oldEnabled !== gl.shadowMap.enabled || oldType !== gl.shadowMap.type) gl.shadowMap.needsUpdate = true;\n      }\n\n      // Safely set color management if available.\n      // Avoid accessing THREE.ColorManagement to play nice with older versions\n      const ColorManagement = getColorManagement();\n      if (ColorManagement) {\n        if ('enabled' in ColorManagement) ColorManagement.enabled = !legacy;else if ('legacyMode' in ColorManagement) ColorManagement.legacyMode = legacy;\n      }\n      if (!configured) {\n        // Set color space and tonemapping preferences, once\n        const LinearEncoding = 3000;\n        const sRGBEncoding = 3001;\n        applyProps(gl, {\n          outputEncoding: linear ? LinearEncoding : sRGBEncoding,\n          toneMapping: flat ? THREE__namespace.NoToneMapping : THREE__namespace.ACESFilmicToneMapping\n        });\n      }\n\n      // Update color management state\n      if (state.legacy !== legacy) state.set(() => ({\n        legacy\n      }));\n      if (state.linear !== linear) state.set(() => ({\n        linear\n      }));\n      if (state.flat !== flat) state.set(() => ({\n        flat\n      }));\n\n      // Set gl props\n      if (glConfig && !is.fun(glConfig) && !isRenderer(glConfig) && !is.equ(glConfig, gl, shallowLoose)) applyProps(gl, glConfig);\n      // Store events internally\n      if (events && !state.events.handlers) state.set({\n        events: events(store)\n      });\n      // Check size, allow it to take on container bounds initially\n      const size = computeInitialSize(canvas, propsSize);\n      if (!is.equ(size, state.size, shallowLoose)) {\n        state.setSize(size.width, size.height, size.updateStyle, size.top, size.left);\n      }\n      // Check pixelratio\n      if (dpr && state.viewport.dpr !== calculateDpr(dpr)) state.setDpr(dpr);\n      // Check frameloop\n      if (state.frameloop !== frameloop) state.setFrameloop(frameloop);\n      // Check pointer missed\n      if (!state.onPointerMissed) state.set({\n        onPointerMissed\n      });\n      // Check performance\n      if (performance && !is.equ(performance, state.performance, shallowLoose)) state.set(state => ({\n        performance: {\n          ...state.performance,\n          ...performance\n        }\n      }));\n\n      // Set locals\n      onCreated = onCreatedCallback;\n      configured = true;\n      return this;\n    },\n    render(children) {\n      // The root has to be configured before it can be rendered\n      if (!configured) this.configure();\n      reconciler.updateContainer( /*#__PURE__*/jsxRuntime.jsx(Provider, {\n        store: store,\n        children: children,\n        onCreated: onCreated,\n        rootElement: canvas\n      }), fiber, null, () => undefined);\n      return store;\n    },\n    unmount() {\n      unmountComponentAtNode(canvas);\n    }\n  };\n}\nfunction render(children, canvas, config) {\n  console.warn('R3F.render is no longer supported in React 18. Use createRoot instead!');\n  const root = createRoot(canvas);\n  root.configure(config);\n  return root.render(children);\n}\nfunction Provider({\n  store,\n  children,\n  onCreated,\n  rootElement\n}) {\n  useIsomorphicLayoutEffect(() => {\n    const state = store.getState();\n    // Flag the canvas active, rendering will now begin\n    state.set(state => ({\n      internal: {\n        ...state.internal,\n        active: true\n      }\n    }));\n    // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\n    if (onCreated) onCreated(state);\n    // Connect events to the targets parent, this is done to ensure events are registered on\n    // a shared target, and not on the canvas itself\n    if (!store.getState().events.connected) state.events.connect == null ? void 0 : state.events.connect(rootElement);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/jsxRuntime.jsx(context.Provider, {\n    value: store,\n    children: children\n  });\n}\nfunction unmountComponentAtNode(canvas, callback) {\n  const root = roots.get(canvas);\n  const fiber = root == null ? void 0 : root.fiber;\n  if (fiber) {\n    const state = root == null ? void 0 : root.store.getState();\n    if (state) state.internal.active = false;\n    reconciler.updateContainer(null, fiber, null, () => {\n      if (state) {\n        setTimeout(() => {\n          try {\n            var _state$gl, _state$gl$renderLists, _state$gl2, _state$gl3;\n            state.events.disconnect == null ? void 0 : state.events.disconnect();\n            (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\n            (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\n            if ((_state$gl3 = state.gl) != null && _state$gl3.xr) state.xr.disconnect();\n            dispose(state);\n            roots.delete(canvas);\n            if (callback) callback(canvas);\n          } catch (e) {\n            /* ... */\n          }\n        }, 500);\n      }\n    });\n  }\n}\nfunction createPortal(children, container, state) {\n  return /*#__PURE__*/jsxRuntime.jsx(Portal, {\n    children: children,\n    container: container,\n    state: state\n  }, container.uuid);\n}\nfunction Portal({\n  state = {},\n  children,\n  container\n}) {\n  /** This has to be a component because it would not be able to call useThree/useStore otherwise since\r\n   *  if this is our environment, then we are not in r3f's renderer but in react-dom, it would trigger\r\n   *  the \"R3F hooks can only be used within the Canvas component!\" warning:\r\n   *  <Canvas>\r\n   *    {createPortal(...)} */\n  const {\n    events,\n    size,\n    ...rest\n  } = state;\n  const previousRoot = useStore();\n  const [raycaster] = React__namespace.useState(() => new THREE__namespace.Raycaster());\n  const [pointer] = React__namespace.useState(() => new THREE__namespace.Vector2());\n  const inject = React__namespace.useCallback((rootState, injectState) => {\n    const intersect = {\n      ...rootState\n    }; // all prev state props\n\n    // Only the fields of \"rootState\" that do not differ from injectState\n    // Some props should be off-limits\n    // Otherwise filter out the props that are different and let the inject layer take precedence\n    Object.keys(rootState).forEach(key => {\n      if (\n      // Some props should be off-limits\n      privateKeys.includes(key) ||\n      // Otherwise filter out the props that are different and let the inject layer take precedence\n      // Unless the inject layer props is undefined, then we keep the root layer\n      rootState[key] !== injectState[key] && injectState[key]) {\n        delete intersect[key];\n      }\n    });\n    let viewport = undefined;\n    if (injectState && size) {\n      const camera = injectState.camera;\n      // Calculate the override viewport, if present\n      viewport = rootState.viewport.getCurrentViewport(camera, new THREE__namespace.Vector3(), size);\n      // Update the portal camera, if it differs from the previous layer\n      if (camera !== rootState.camera) updateCamera(camera, size);\n    }\n    return {\n      // The intersect consists of the previous root state\n      ...intersect,\n      // Portals have their own scene, which forms the root, a raycaster and a pointer\n      scene: container,\n      raycaster,\n      pointer,\n      mouse: pointer,\n      // Their previous root is the layer before it\n      previousRoot,\n      // Events, size and viewport can be overridden by the inject layer\n      events: {\n        ...rootState.events,\n        ...(injectState == null ? void 0 : injectState.events),\n        ...events\n      },\n      size: {\n        ...rootState.size,\n        ...size\n      },\n      viewport: {\n        ...rootState.viewport,\n        ...viewport\n      },\n      ...rest\n    };\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [state]);\n  const [usePortalStore] = React__namespace.useState(() => {\n    // Create a mirrored store, based on the previous root with a few overrides ...\n    const previousState = previousRoot.getState();\n    const store = create__default[\"default\"]((set, get) => ({\n      ...previousState,\n      scene: container,\n      raycaster,\n      pointer,\n      mouse: pointer,\n      previousRoot,\n      events: {\n        ...previousState.events,\n        ...events\n      },\n      size: {\n        ...previousState.size,\n        ...size\n      },\n      ...rest,\n      // Set and get refer to this root-state\n      set,\n      get,\n      // Layers are allowed to override events\n      setEvents: events => set(state => ({\n        ...state,\n        events: {\n          ...state.events,\n          ...events\n        }\n      }))\n    }));\n    return store;\n  });\n  React__namespace.useEffect(() => {\n    // Subscribe to previous root-state and copy changes over to the mirrored portal-state\n    const unsub = previousRoot.subscribe(prev => usePortalStore.setState(state => inject(prev, state)));\n    return () => {\n      unsub();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inject]);\n  React__namespace.useEffect(() => {\n    usePortalStore.setState(injectState => inject(previousRoot.getState(), injectState));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inject]);\n  React__namespace.useEffect(() => {\n    return () => {\n      usePortalStore.destroy();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/jsxRuntime.jsx(jsxRuntime.Fragment, {\n    children: reconciler.createPortal( /*#__PURE__*/jsxRuntime.jsx(context.Provider, {\n      value: usePortalStore,\n      children: children\n    }), usePortalStore, null)\n  });\n}\n\n/**\r\n * Force React to flush any updates inside the provided callback synchronously and immediately.\r\n * All the same caveats documented for react-dom's `flushSync` apply here (see https://react.dev/reference/react-dom/flushSync).\r\n * Nevertheless, sometimes one needs to render synchronously, for example to keep DOM and 3D changes in lock-step without\r\n * having to revert to a non-React solution.\r\n */\nfunction flushSync(fn) {\n  // `flushSync` implementation only takes one argument. I don't know what's up with the type declaration for it.\n  return reconciler.flushSync(fn, undefined);\n}\nreconciler.injectIntoDevTools({\n  bundleType:  false ? 0 : 1,\n  rendererPackageName: '@react-three/fiber',\n  version: React__namespace.version\n});\nconst act = React__namespace.unstable_act;\n\nconst DOM_EVENTS = {\n  onClick: ['click', false],\n  onContextMenu: ['contextmenu', false],\n  onDoubleClick: ['dblclick', false],\n  onWheel: ['wheel', true],\n  onPointerDown: ['pointerdown', true],\n  onPointerUp: ['pointerup', true],\n  onPointerLeave: ['pointerleave', true],\n  onPointerMove: ['pointermove', true],\n  onPointerCancel: ['pointercancel', true],\n  onLostPointerCapture: ['lostpointercapture', true]\n};\n\n/** Default R3F event manager for web */\nfunction createPointerEvents(store) {\n  const {\n    handlePointer\n  } = createEvents(store);\n  return {\n    priority: 1,\n    enabled: true,\n    compute(event, state, previous) {\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n      state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n      state.raycaster.setFromCamera(state.pointer, state.camera);\n    },\n    connected: undefined,\n    handlers: Object.keys(DOM_EVENTS).reduce((acc, key) => ({\n      ...acc,\n      [key]: handlePointer(key)\n    }), {}),\n    update: () => {\n      var _internal$lastEvent;\n      const {\n        events,\n        internal\n      } = store.getState();\n      if ((_internal$lastEvent = internal.lastEvent) != null && _internal$lastEvent.current && events.handlers) events.handlers.onPointerMove(internal.lastEvent.current);\n    },\n    connect: target => {\n      var _events$handlers;\n      const {\n        set,\n        events\n      } = store.getState();\n      events.disconnect == null ? void 0 : events.disconnect();\n      set(state => ({\n        events: {\n          ...state.events,\n          connected: target\n        }\n      }));\n      Object.entries((_events$handlers = events.handlers) != null ? _events$handlers : []).forEach(([name, event]) => {\n        const [eventName, passive] = DOM_EVENTS[name];\n        target.addEventListener(eventName, event, {\n          passive\n        });\n      });\n    },\n    disconnect: () => {\n      const {\n        set,\n        events\n      } = store.getState();\n      if (events.connected) {\n        var _events$handlers2;\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(([name, event]) => {\n          if (events && events.connected instanceof HTMLElement) {\n            const [eventName] = DOM_EVENTS[name];\n            events.connected.removeEventListener(eventName, event);\n          }\n        });\n        set(state => ({\n          events: {\n            ...state.events,\n            connected: undefined\n          }\n        }));\n      }\n    }\n  };\n}\n\nexports.Block = Block;\nexports.ErrorBoundary = ErrorBoundary;\nexports.act = act;\nexports.addAfterEffect = addAfterEffect;\nexports.addEffect = addEffect;\nexports.addTail = addTail;\nexports.advance = advance;\nexports.applyProps = applyProps;\nexports.buildGraph = buildGraph;\nexports.context = context;\nexports.createEvents = createEvents;\nexports.createPointerEvents = createPointerEvents;\nexports.createPortal = createPortal;\nexports.createRoot = createRoot;\nexports.dispose = dispose;\nexports.extend = extend;\nexports.flushGlobalEffects = flushGlobalEffects;\nexports.flushSync = flushSync;\nexports.getRootState = getRootState;\nexports.invalidate = invalidate;\nexports.isRef = isRef;\nexports.reconciler = reconciler;\nexports.render = render;\nexports.roots = roots;\nexports.threeTypes = threeTypes;\nexports.unmountComponentAtNode = unmountComponentAtNode;\nexports.useFrame = useFrame;\nexports.useGraph = useGraph;\nexports.useInstanceHandle = useInstanceHandle;\nexports.useIsomorphicLayoutEffect = useIsomorphicLayoutEffect;\nexports.useLoader = useLoader;\nexports.useMutableCallback = useMutableCallback;\nexports.useStore = useStore;\nexports.useThree = useThree;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLWQwNTY2YTJlLmNqcy5kZXYuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsWUFBWSxtQkFBTyxDQUFDLHlEQUFPO0FBQzNCLFlBQVksbUJBQU8sQ0FBQyx3R0FBTztBQUMzQixnQkFBZ0IsbUJBQU8sQ0FBQyxzRkFBNEI7QUFDcEQsYUFBYSxtQkFBTyxDQUFDLDBGQUFTO0FBQzlCLG1CQUFtQixtQkFBTyxDQUFDLHNFQUFlO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLGdJQUFtQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyx3RUFBa0I7QUFDM0MsZ0JBQWdCLG1CQUFPLENBQUMsMERBQVc7O0FBRW5DLCtCQUErQixpQ0FBaUM7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLHNCQUFzQixFQUFFLGNBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0EsZ0NBQWdDLE1BQU07QUFDdEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1RkFBdUY7QUFDdkY7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLEtBQUs7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EscURBQXFELEtBQUs7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLHFDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLElBQUk7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxJQUFJO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixJQUFJO0FBQ2pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGFBQW9COztBQUV0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzSEFBc0g7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrVUFBK1U7QUFDL1U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixnREFBZ0Q7QUFDaEQsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4RjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwREFBMEQsTUFBTSxJQUFJLHVDQUF1QztBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUJBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE1BQXFDLEdBQUcsQ0FBQztBQUN2RDtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxLQUFLO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTtBQUNiLHFCQUFxQjtBQUNyQixXQUFXO0FBQ1gsc0JBQXNCO0FBQ3RCLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2YsZUFBZTtBQUNmLGtCQUFrQjtBQUNsQixrQkFBa0I7QUFDbEIsZUFBZTtBQUNmLG9CQUFvQjtBQUNwQiwyQkFBMkI7QUFDM0Isb0JBQW9CO0FBQ3BCLGtCQUFrQjtBQUNsQixlQUFlO0FBQ2YsY0FBYztBQUNkLDBCQUEwQjtBQUMxQixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLGtCQUFrQjtBQUNsQixhQUFhO0FBQ2Isa0JBQWtCO0FBQ2xCLGNBQWM7QUFDZCxhQUFhO0FBQ2Isa0JBQWtCO0FBQ2xCLDhCQUE4QjtBQUM5QixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLHlCQUF5QjtBQUN6QixpQ0FBaUM7QUFDakMsaUJBQWlCO0FBQ2pCLDBCQUEwQjtBQUMxQixnQkFBZ0I7QUFDaEIsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BhY2Vwb3J0Zm9saW8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLWQwNTY2YTJlLmNqcy5kZXYuanM/ZDVmYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBUSFJFRSA9IHJlcXVpcmUoJ3RocmVlJyk7XG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoJ3JlYWN0LXJlY29uY2lsZXIvY29uc3RhbnRzJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnenVzdGFuZCcpO1xudmFyIHN1c3BlbmRSZWFjdCA9IHJlcXVpcmUoJ3N1c3BlbmQtcmVhY3QnKTtcbnZhciBqc3hSdW50aW1lID0gcmVxdWlyZSgncmVhY3QvanN4LXJ1bnRpbWUnKTtcbnZhciBSZWNvbmNpbGVyID0gcmVxdWlyZSgncmVhY3QtcmVjb25jaWxlcicpO1xudmFyIHNjaGVkdWxlciA9IHJlcXVpcmUoJ3NjaGVkdWxlcicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgJ2RlZmF1bHQnOiBlIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChlKSB7XG4gICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbltcImRlZmF1bHRcIl0gPSBlO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFRIUkVFX19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoVEhSRUUpO1xudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xudmFyIGNyZWF0ZV9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9faW50ZXJvcERlZmF1bHQoY3JlYXRlKTtcbnZhciBSZWNvbmNpbGVyX19kZWZhdWx0ID0gLyojX19QVVJFX18qL19pbnRlcm9wRGVmYXVsdChSZWNvbmNpbGVyKTtcblxudmFyIHRocmVlVHlwZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbFxufSk7XG5cbmNvbnN0IGNhdGFsb2d1ZSA9IHt9O1xuY29uc3QgZXh0ZW5kID0gb2JqZWN0cyA9PiB2b2lkIE9iamVjdC5hc3NpZ24oY2F0YWxvZ3VlLCBvYmplY3RzKTtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKF9yb290cywgX2dldEV2ZW50UHJpb3JpdHkpIHtcbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UodHlwZSwge1xuICAgIGFyZ3MgPSBbXSxcbiAgICBhdHRhY2gsXG4gICAgLi4ucHJvcHNcbiAgfSwgcm9vdCkge1xuICAgIGxldCBuYW1lID0gYCR7dHlwZVswXS50b1VwcGVyQ2FzZSgpfSR7dHlwZS5zbGljZSgxKX1gO1xuICAgIGxldCBpbnN0YW5jZTtcbiAgICBpZiAodHlwZSA9PT0gJ3ByaW1pdGl2ZScpIHtcbiAgICAgIGlmIChwcm9wcy5vYmplY3QgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKFwiUjNGOiBQcmltaXRpdmVzIHdpdGhvdXQgJ29iamVjdCcgYXJlIGludmFsaWQhXCIpO1xuICAgICAgY29uc3Qgb2JqZWN0ID0gcHJvcHMub2JqZWN0O1xuICAgICAgaW5zdGFuY2UgPSBwcmVwYXJlKG9iamVjdCwge1xuICAgICAgICB0eXBlLFxuICAgICAgICByb290LFxuICAgICAgICBhdHRhY2gsXG4gICAgICAgIHByaW1pdGl2ZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGNhdGFsb2d1ZVtuYW1lXTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUjNGOiAke25hbWV9IGlzIG5vdCBwYXJ0IG9mIHRoZSBUSFJFRSBuYW1lc3BhY2UhIERpZCB5b3UgZm9yZ2V0IHRvIGV4dGVuZD8gU2VlOiBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvb2JqZWN0cyN1c2luZy0zcmQtcGFydHktb2JqZWN0cy1kZWNsYXJhdGl2ZWx5YCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRocm93IGlmIGFuIG9iamVjdCBvciBsaXRlcmFsIHdhcyBwYXNzZWQgZm9yIGFyZ3NcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmdzKSkgdGhyb3cgbmV3IEVycm9yKCdSM0Y6IFRoZSBhcmdzIHByb3AgbXVzdCBiZSBhbiBhcnJheSEnKTtcblxuICAgICAgLy8gSW5zdGFuY2lhdGUgbmV3IG9iamVjdCwgbGluayBpdCB0byB0aGUgcm9vdFxuICAgICAgLy8gQXBwZW5kIG1lbW9pemVkIHByb3BzIHdpdGggYXJncyBzbyBpdCdzIG5vdCBmb3Jnb3R0ZW5cbiAgICAgIGluc3RhbmNlID0gcHJlcGFyZShuZXcgdGFyZ2V0KC4uLmFyZ3MpLCB7XG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJvb3QsXG4gICAgICAgIGF0dGFjaCxcbiAgICAgICAgLy8gU2F2ZSBhcmdzIGluIGNhc2Ugd2UgbmVlZCB0byByZWNvbnN0cnVjdCBsYXRlciBmb3IgSE1SXG4gICAgICAgIG1lbW9pemVkUHJvcHM6IHtcbiAgICAgICAgICBhcmdzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEF1dG8tYXR0YWNoIGdlb21ldHJpZXMgYW5kIG1hdGVyaWFsc1xuICAgIGlmIChpbnN0YW5jZS5fX3IzZi5hdHRhY2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGluc3RhbmNlLmlzQnVmZmVyR2VvbWV0cnkpIGluc3RhbmNlLl9fcjNmLmF0dGFjaCA9ICdnZW9tZXRyeSc7ZWxzZSBpZiAoaW5zdGFuY2UuaXNNYXRlcmlhbCkgaW5zdGFuY2UuX19yM2YuYXR0YWNoID0gJ21hdGVyaWFsJztcbiAgICB9XG5cbiAgICAvLyBJdCBzaG91bGQgTk9UIGNhbGwgb25VcGRhdGUgb24gb2JqZWN0IGluc3RhbmNpYXRpb24sIGJlY2F1c2UgaXQgaGFzbid0IGJlZW4gYWRkZWQgdG8gdGhlXG4gICAgLy8gdmlldyB5ZXQuIElmIHRoZSBjYWxsYmFjayByZWxpZXMgb24gcmVmZXJlbmNlcyBmb3IgaW5zdGFuY2UsIHRoZXkgd29uJ3QgYmUgcmVhZHkgeWV0LCB0aGlzIGlzXG4gICAgLy8gd2h5IGl0IHBhc3NlcyBcInRydWVcIiBoZXJlXG4gICAgLy8gVGhlcmUgaXMgbm8gcmVhc29uIHRvIGFwcGx5IHByb3BzIHRvIGluamVjdHNcbiAgICBpZiAobmFtZSAhPT0gJ2luamVjdCcpIGFwcGx5UHJvcHMkMShpbnN0YW5jZSwgcHJvcHMpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfY2hpbGQkX19yM2YsIF9wYXJlbnRJbnN0YW5jZSRfX3IzZjtcbiAgICAgIC8vIFRoZSBhdHRhY2ggYXR0cmlidXRlIGltcGxpZXMgdGhhdCB0aGUgb2JqZWN0IGF0dGFjaGVzIGl0c2VsZiBvbiB0aGUgcGFyZW50XG4gICAgICBpZiAoKF9jaGlsZCRfX3IzZiA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZi5hdHRhY2gpIHtcbiAgICAgICAgYXR0YWNoKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgY2hpbGQuX19yM2YuYXR0YWNoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQuaXNPYmplY3QzRCAmJiBwYXJlbnRJbnN0YW5jZS5pc09iamVjdDNEKSB7XG4gICAgICAgIC8vIGFkZCBpbiB0aGUgdXN1YWwgcGFyZW50LWNoaWxkIHdheVxuICAgICAgICBwYXJlbnRJbnN0YW5jZS5hZGQoY2hpbGQpO1xuICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIGlzIGZvciBhbnl0aGluZyB0aGF0IHVzZWQgYXR0YWNoLCBhbmQgZm9yIG5vbi1PYmplY3QzRHMgdGhhdCBkb24ndCBnZXQgYXR0YWNoZWQgdG8gcHJvcHM7XG4gICAgICAvLyB0aGF0IGlzLCBhbnl0aGluZyB0aGF0J3MgYSBjaGlsZCBpbiBSZWFjdCBidXQgbm90IGEgY2hpbGQgaW4gdGhlIHNjZW5lZ3JhcGguXG4gICAgICBpZiAoIWFkZGVkKSAoX3BhcmVudEluc3RhbmNlJF9fcjNmID0gcGFyZW50SW5zdGFuY2UuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcGFyZW50SW5zdGFuY2UkX19yM2Yub2JqZWN0cy5wdXNoKGNoaWxkKTtcbiAgICAgIGlmICghY2hpbGQuX19yM2YpIHByZXBhcmUoY2hpbGQsIHt9KTtcbiAgICAgIGNoaWxkLl9fcjNmLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgdXBkYXRlSW5zdGFuY2UoY2hpbGQpO1xuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICBsZXQgYWRkZWQgPSBmYWxzZTtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfY2hpbGQkX19yM2YyLCBfcGFyZW50SW5zdGFuY2UkX19yM2YyO1xuICAgICAgaWYgKChfY2hpbGQkX19yM2YyID0gY2hpbGQuX19yM2YpICE9IG51bGwgJiYgX2NoaWxkJF9fcjNmMi5hdHRhY2gpIHtcbiAgICAgICAgYXR0YWNoKHBhcmVudEluc3RhbmNlLCBjaGlsZCwgY2hpbGQuX19yM2YuYXR0YWNoKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQuaXNPYmplY3QzRCAmJiBwYXJlbnRJbnN0YW5jZS5pc09iamVjdDNEKSB7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgICBjaGlsZC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnYWRkZWQnXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnRJbnN0YW5jZS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnY2hpbGRhZGRlZCcsXG4gICAgICAgICAgY2hpbGRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3RTaWJsaW5ncyA9IHBhcmVudEluc3RhbmNlLmNoaWxkcmVuLmZpbHRlcihzaWJsaW5nID0+IHNpYmxpbmcgIT09IGNoaWxkKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSByZXN0U2libGluZ3MuaW5kZXhPZihiZWZvcmVDaGlsZCk7XG4gICAgICAgIHBhcmVudEluc3RhbmNlLmNoaWxkcmVuID0gWy4uLnJlc3RTaWJsaW5ncy5zbGljZSgwLCBpbmRleCksIGNoaWxkLCAuLi5yZXN0U2libGluZ3Muc2xpY2UoaW5kZXgpXTtcbiAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFhZGRlZCkgKF9wYXJlbnRJbnN0YW5jZSRfX3IzZjIgPSBwYXJlbnRJbnN0YW5jZS5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9wYXJlbnRJbnN0YW5jZSRfX3IzZjIub2JqZWN0cy5wdXNoKGNoaWxkKTtcbiAgICAgIGlmICghY2hpbGQuX19yM2YpIHByZXBhcmUoY2hpbGQsIHt9KTtcbiAgICAgIGNoaWxkLl9fcjNmLnBhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgdXBkYXRlSW5zdGFuY2UoY2hpbGQpO1xuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlUmVjdXJzaXZlKGFycmF5LCBwYXJlbnQsIGRpc3Bvc2UgPSBmYWxzZSkge1xuICAgIGlmIChhcnJheSkgWy4uLmFycmF5XS5mb3JFYWNoKGNoaWxkID0+IHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQsIGRpc3Bvc2UpKTtcbiAgfVxuICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGRpc3Bvc2UpIHtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIHZhciBfcGFyZW50SW5zdGFuY2UkX19yM2YzLCBfY2hpbGQkX19yM2YzLCBfY2hpbGQkX19yM2Y1O1xuICAgICAgLy8gQ2xlYXIgdGhlIHBhcmVudCByZWZlcmVuY2VcbiAgICAgIGlmIChjaGlsZC5fX3IzZikgY2hpbGQuX19yM2YucGFyZW50ID0gbnVsbDtcbiAgICAgIC8vIFJlbW92ZSBjaGlsZCBmcm9tIHRoZSBwYXJlbnRzIG9iamVjdHNcbiAgICAgIGlmICgoX3BhcmVudEluc3RhbmNlJF9fcjNmMyA9IHBhcmVudEluc3RhbmNlLl9fcjNmKSAhPSBudWxsICYmIF9wYXJlbnRJbnN0YW5jZSRfX3IzZjMub2JqZWN0cykgcGFyZW50SW5zdGFuY2UuX19yM2Yub2JqZWN0cyA9IHBhcmVudEluc3RhbmNlLl9fcjNmLm9iamVjdHMuZmlsdGVyKHggPT4geCAhPT0gY2hpbGQpO1xuICAgICAgLy8gUmVtb3ZlIGF0dGFjaG1lbnRcbiAgICAgIGlmICgoX2NoaWxkJF9fcjNmMyA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZjMuYXR0YWNoKSB7XG4gICAgICAgIGRldGFjaChwYXJlbnRJbnN0YW5jZSwgY2hpbGQsIGNoaWxkLl9fcjNmLmF0dGFjaCk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkLmlzT2JqZWN0M0QgJiYgcGFyZW50SW5zdGFuY2UuaXNPYmplY3QzRCkge1xuICAgICAgICB2YXIgX2NoaWxkJF9fcjNmNDtcbiAgICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAvLyBSZW1vdmUgaW50ZXJhY3Rpdml0eSBvbiB0aGUgaW5pdGlhbCByb290XG4gICAgICAgIGlmICgoX2NoaWxkJF9fcjNmNCA9IGNoaWxkLl9fcjNmKSAhPSBudWxsICYmIF9jaGlsZCRfX3IzZjQucm9vdCkge1xuICAgICAgICAgIHJlbW92ZUludGVyYWN0aXZpdHkoZmluZEluaXRpYWxSb290KGNoaWxkKSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsbG93IG9iamVjdHMgdG8gYmFpbCBvdXQgb2YgcmVjdXJzaXZlIGRpc3Bvc2UgYWx0b2dldGhlciBieSBwYXNzaW5nIGRpc3Bvc2U9e251bGx9XG4gICAgICAvLyBOZXZlciBkaXNwb3NlIG9mIHByaW1pdGl2ZXMgYmVjYXVzZSB0aGVpciBzdGF0ZSBtYXkgYmUga2VwdCBvdXRzaWRlIG9mIFJlYWN0IVxuICAgICAgLy8gSW4gb3JkZXIgZm9yIGFuIG9iamVjdCB0byBiZSBhYmxlIHRvIGRpc3Bvc2UgaXQgaGFzIHRvIGhhdmVcbiAgICAgIC8vICAgLSBhIGRpc3Bvc2UgbWV0aG9kLFxuICAgICAgLy8gICAtIGl0IGNhbm5vdCBiZSBhIDxwcmltaXRpdmUgb2JqZWN0PXsuLi59IC8+XG4gICAgICAvLyAgIC0gaXQgY2Fubm90IGJlIGEgVEhSRUUuU2NlbmUsIGJlY2F1c2UgdGhyZWUgaGFzIGJyb2tlbiBpdCdzIG93biBhcGlcbiAgICAgIC8vXG4gICAgICAvLyBTaW5jZSBkaXNwb3NhbCBpcyByZWN1cnNpdmUsIHdlIGNhbiBjaGVjayB0aGUgb3B0aW9uYWwgZGlzcG9zZSBhcmcsIHdoaWNoIHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgICAvLyB3aGVuIHRoZSByZWNvbmNpbGVyIGNhbGxzIGl0LCBidXQgdGhlbiBjYXJyeSBvdXIgb3duIGNoZWNrIHJlY3Vyc2l2ZWx5XG4gICAgICBjb25zdCBpc1ByaW1pdGl2ZSA9IChfY2hpbGQkX19yM2Y1ID0gY2hpbGQuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfY2hpbGQkX19yM2Y1LnByaW1pdGl2ZTtcbiAgICAgIGNvbnN0IHNob3VsZERpc3Bvc2UgPSAhaXNQcmltaXRpdmUgJiYgKGRpc3Bvc2UgPT09IHVuZGVmaW5lZCA/IGNoaWxkLmRpc3Bvc2UgIT09IG51bGwgOiBkaXNwb3NlKTtcblxuICAgICAgLy8gUmVtb3ZlIG5lc3RlZCBjaGlsZCBvYmplY3RzLiBQcmltaXRpdmVzIHNob3VsZCBub3QgaGF2ZSBvYmplY3RzIGFuZCBjaGlsZHJlbiB0aGF0IGFyZVxuICAgICAgLy8gYXR0YWNoZWQgdG8gdGhlbSBkZWNsYXJhdGl2ZWx5IC4uLlxuICAgICAgaWYgKCFpc1ByaW1pdGl2ZSkge1xuICAgICAgICB2YXIgX2NoaWxkJF9fcjNmNjtcbiAgICAgICAgcmVtb3ZlUmVjdXJzaXZlKChfY2hpbGQkX19yM2Y2ID0gY2hpbGQuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfY2hpbGQkX19yM2Y2Lm9iamVjdHMsIGNoaWxkLCBzaG91bGREaXNwb3NlKTtcbiAgICAgICAgcmVtb3ZlUmVjdXJzaXZlKGNoaWxkLmNoaWxkcmVuLCBjaGlsZCwgc2hvdWxkRGlzcG9zZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICBkZWxldGUgY2hpbGQuX19yM2Y7XG5cbiAgICAgIC8vIERpc3Bvc2UgaXRlbSB3aGVuZXZlciB0aGUgcmVjb25jaWxlciBmZWVscyBsaWtlIGl0XG4gICAgICBpZiAoc2hvdWxkRGlzcG9zZSAmJiBjaGlsZC5kaXNwb3NlICYmIGNoaWxkLnR5cGUgIT09ICdTY2VuZScpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNoaWxkLmRpc3Bvc2UoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiAuLi4gKi9cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2NoZWR1bGUgYXN5bmMgYXQgcnVudGltZSwgZmx1c2ggc3luYyBpbiB0ZXN0aW5nXG4gICAgICAgIGlmICh0eXBlb2YgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKHNjaGVkdWxlci51bnN0YWJsZV9JZGxlUHJpb3JpdHksIGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpbnZhbGlkYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzd2l0Y2hJbnN0YW5jZShpbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIGZpYmVyKSB7XG4gICAgdmFyIF9pbnN0YW5jZSRfX3IzZjtcbiAgICBjb25zdCBwYXJlbnQgPSAoX2luc3RhbmNlJF9fcjNmID0gaW5zdGFuY2UuX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkX19yM2YucGFyZW50O1xuICAgIGlmICghcGFyZW50KSByZXR1cm47XG4gICAgY29uc3QgbmV3SW5zdGFuY2UgPSBjcmVhdGVJbnN0YW5jZSh0eXBlLCBuZXdQcm9wcywgaW5zdGFuY2UuX19yM2Yucm9vdCk7XG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8xMzQ4XG4gICAgLy8gV2hlbiBhcmdzIGNoYW5nZSB0aGUgaW5zdGFuY2UgaGFzIHRvIGJlIHJlLWNvbnN0cnVjdGVkLCB3aGljaCB0aGVuXG4gICAgLy8gZm9yY2VzIHIzZiB0byByZS1wYXJlbnQgdGhlIGNoaWxkcmVuIGFuZCBub24tc2NlbmUgb2JqZWN0c1xuICAgIGlmIChpbnN0YW5jZS5jaGlsZHJlbikge1xuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBpbnN0YW5jZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoY2hpbGQuX19yM2YpIGFwcGVuZENoaWxkKG5ld0luc3RhbmNlLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5jaGlsZHJlbiA9IGluc3RhbmNlLmNoaWxkcmVuLmZpbHRlcihjaGlsZCA9PiAhY2hpbGQuX19yM2YpO1xuICAgIH1cbiAgICBpbnN0YW5jZS5fX3IzZi5vYmplY3RzLmZvckVhY2goY2hpbGQgPT4gYXBwZW5kQ2hpbGQobmV3SW5zdGFuY2UsIGNoaWxkKSk7XG4gICAgaW5zdGFuY2UuX19yM2Yub2JqZWN0cyA9IFtdO1xuICAgIGlmICghaW5zdGFuY2UuX19yM2YuYXV0b1JlbW92ZWRCZWZvcmVBcHBlbmQpIHtcbiAgICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAobmV3SW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBuZXdJbnN0YW5jZS5fX3IzZi5hdXRvUmVtb3ZlZEJlZm9yZUFwcGVuZCA9IHRydWU7XG4gICAgfVxuICAgIGFwcGVuZENoaWxkKHBhcmVudCwgbmV3SW5zdGFuY2UpO1xuXG4gICAgLy8gUmUtYmluZCBldmVudCBoYW5kbGVycyBvbiB0aGUgaW5pdGlhbCByb290XG4gICAgaWYgKG5ld0luc3RhbmNlLnJheWNhc3QgJiYgbmV3SW5zdGFuY2UuX19yM2YuZXZlbnRDb3VudCkge1xuICAgICAgY29uc3Qgcm9vdFN0YXRlID0gZmluZEluaXRpYWxSb290KG5ld0luc3RhbmNlKS5nZXRTdGF0ZSgpO1xuICAgICAgcm9vdFN0YXRlLmludGVybmFsLmludGVyYWN0aW9uLnB1c2gobmV3SW5zdGFuY2UpO1xuICAgIH1cbiAgICBbZmliZXIsIGZpYmVyLmFsdGVybmF0ZV0uZm9yRWFjaChmaWJlciA9PiB7XG4gICAgICBpZiAoZmliZXIgIT09IG51bGwpIHtcbiAgICAgICAgZmliZXIuc3RhdGVOb2RlID0gbmV3SW5zdGFuY2U7XG4gICAgICAgIGlmIChmaWJlci5yZWYpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpYmVyLnJlZiA9PT0gJ2Z1bmN0aW9uJykgZmliZXIucmVmKG5ld0luc3RhbmNlKTtlbHNlIGZpYmVyLnJlZi5jdXJyZW50ID0gbmV3SW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIERvbid0IGhhbmRsZSB0ZXh0IGluc3RhbmNlcywgbWFrZSBpdCBuby1vcFxuICBjb25zdCBoYW5kbGVUZXh0SW5zdGFuY2UgPSAoKSA9PiB7fTtcbiAgY29uc3QgcmVjb25jaWxlciA9IFJlY29uY2lsZXJfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKHtcbiAgICBjcmVhdGVJbnN0YW5jZSxcbiAgICByZW1vdmVDaGlsZCxcbiAgICBhcHBlbmRDaGlsZCxcbiAgICBhcHBlbmRJbml0aWFsQ2hpbGQ6IGFwcGVuZENoaWxkLFxuICAgIGluc2VydEJlZm9yZSxcbiAgICBzdXBwb3J0c011dGF0aW9uOiB0cnVlLFxuICAgIGlzUHJpbWFyeVJlbmRlcmVyOiBmYWxzZSxcbiAgICBzdXBwb3J0c1BlcnNpc3RlbmNlOiBmYWxzZSxcbiAgICBzdXBwb3J0c0h5ZHJhdGlvbjogZmFsc2UsXG4gICAgbm9UaW1lb3V0OiAtMSxcbiAgICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyOiAoY29udGFpbmVyLCBjaGlsZCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuXG4gICAgICAvLyBEb24ndCBhcHBlbmQgdG8gdW5tb3VudGVkIGNvbnRhaW5lclxuICAgICAgY29uc3Qgc2NlbmUgPSBjb250YWluZXIuZ2V0U3RhdGUoKS5zY2VuZTtcbiAgICAgIGlmICghc2NlbmUuX19yM2YpIHJldHVybjtcblxuICAgICAgLy8gTGluayBjdXJyZW50IHJvb3QgdG8gdGhlIGRlZmF1bHQgc2NlbmVcbiAgICAgIHNjZW5lLl9fcjNmLnJvb3QgPSBjb250YWluZXI7XG4gICAgICBhcHBlbmRDaGlsZChzY2VuZSwgY2hpbGQpO1xuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyOiAoY29udGFpbmVyLCBjaGlsZCkgPT4ge1xuICAgICAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuICAgICAgcmVtb3ZlQ2hpbGQoY29udGFpbmVyLmdldFN0YXRlKCkuc2NlbmUsIGNoaWxkKTtcbiAgICB9LFxuICAgIGluc2VydEluQ29udGFpbmVyQmVmb3JlOiAoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpID0+IHtcbiAgICAgIGlmICghY2hpbGQgfHwgIWJlZm9yZUNoaWxkKSByZXR1cm47XG5cbiAgICAgIC8vIERvbid0IGFwcGVuZCB0byB1bm1vdW50ZWQgY29udGFpbmVyXG4gICAgICBjb25zdCBzY2VuZSA9IGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lO1xuICAgICAgaWYgKCFzY2VuZS5fX3IzZikgcmV0dXJuO1xuICAgICAgaW5zZXJ0QmVmb3JlKHNjZW5lLCBjaGlsZCwgYmVmb3JlQ2hpbGQpO1xuICAgIH0sXG4gICAgZ2V0Um9vdEhvc3RDb250ZXh0OiAoKSA9PiBudWxsLFxuICAgIGdldENoaWxkSG9zdENvbnRleHQ6IHBhcmVudEhvc3RDb250ZXh0ID0+IHBhcmVudEhvc3RDb250ZXh0LFxuICAgIGZpbmFsaXplSW5pdGlhbENoaWxkcmVuKGluc3RhbmNlKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmMjtcbiAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAoX2luc3RhbmNlJF9fcjNmMiA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5fX3IzZikgIT0gbnVsbCA/IF9pbnN0YW5jZSRfX3IzZjIgOiB7fTtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMjAyNzFcbiAgICAgIC8vIFJldHVybmluZyB0cnVlIHdpbGwgdHJpZ2dlciBjb21taXRNb3VudFxuICAgICAgcmV0dXJuIEJvb2xlYW4obG9jYWxTdGF0ZS5oYW5kbGVycyk7XG4gICAgfSxcbiAgICBwcmVwYXJlVXBkYXRlKGluc3RhbmNlLCBfdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmMztcbiAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAoX2luc3RhbmNlJF9fcjNmMyA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5fX3IzZikgIT0gbnVsbCA/IF9pbnN0YW5jZSRfX3IzZjMgOiB7fTtcblxuICAgICAgLy8gQ3JlYXRlIGRpZmYtc2V0c1xuICAgICAgaWYgKGxvY2FsU3RhdGUucHJpbWl0aXZlICYmIG5ld1Byb3BzLm9iamVjdCAmJiBuZXdQcm9wcy5vYmplY3QgIT09IGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBbdHJ1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGEgZGF0YSBvYmplY3QsIGxldCdzIGV4dHJhY3QgY3JpdGljYWwgaW5mb3JtYXRpb24gYWJvdXQgaXRcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGFyZ3M6IGFyZ3NOZXcgPSBbXSxcbiAgICAgICAgICBjaGlsZHJlbjogY04sXG4gICAgICAgICAgLi4ucmVzdE5ld1xuICAgICAgICB9ID0gbmV3UHJvcHM7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhcmdzOiBhcmdzT2xkID0gW10sXG4gICAgICAgICAgY2hpbGRyZW46IGNPLFxuICAgICAgICAgIC4uLnJlc3RPbGRcbiAgICAgICAgfSA9IG9sZFByb3BzO1xuXG4gICAgICAgIC8vIFRocm93IGlmIGFuIG9iamVjdCBvciBsaXRlcmFsIHdhcyBwYXNzZWQgZm9yIGFyZ3NcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGFyZ3NOZXcpKSB0aHJvdyBuZXcgRXJyb3IoJ1IzRjogdGhlIGFyZ3MgcHJvcCBtdXN0IGJlIGFuIGFycmF5IScpO1xuXG4gICAgICAgIC8vIElmIGl0IGhhcyBuZXcgcHJvcHMgb3IgYXJndW1lbnRzLCB0aGVuIGl0IG5lZWRzIHRvIGJlIHJlLWluc3RhbnRpYXRlZFxuICAgICAgICBpZiAoYXJnc05ldy5zb21lKCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlICE9PSBhcmdzT2xkW2luZGV4XSkpIHJldHVybiBbdHJ1ZV07XG4gICAgICAgIC8vIENyZWF0ZSBhIGRpZmYtc2V0LCBmbGFnIGlmIHRoZXJlIGFyZSBhbnkgY2hhbmdlc1xuICAgICAgICBjb25zdCBkaWZmID0gZGlmZlByb3BzKGluc3RhbmNlLCByZXN0TmV3LCByZXN0T2xkLCB0cnVlKTtcbiAgICAgICAgaWYgKGRpZmYuY2hhbmdlcy5sZW5ndGgpIHJldHVybiBbZmFsc2UsIGRpZmZdO1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSBkbyBub3QgdG91Y2ggdGhlIGluc3RhbmNlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29tbWl0VXBkYXRlKGluc3RhbmNlLCBbcmVjb25zdHJ1Y3QsIGRpZmZdLCB0eXBlLCBfb2xkUHJvcHMsIG5ld1Byb3BzLCBmaWJlcikge1xuICAgICAgLy8gUmVjb25zdHJ1Y3Qgd2hlbiBhcmdzIG9yIDxwcmltaXRpdmUgb2JqZWN0PXsuLi59IGhhdmUgY2hhbmdlc1xuICAgICAgaWYgKHJlY29uc3RydWN0KSBzd2l0Y2hJbnN0YW5jZShpbnN0YW5jZSwgdHlwZSwgbmV3UHJvcHMsIGZpYmVyKTtcbiAgICAgIC8vIE90aGVyd2lzZSBqdXN0IG92ZXJ3cml0ZSBwcm9wc1xuICAgICAgZWxzZSBhcHBseVByb3BzJDEoaW5zdGFuY2UsIGRpZmYpO1xuICAgIH0sXG4gICAgY29tbWl0TW91bnQoaW5zdGFuY2UsIF90eXBlLCBfcHJvcHMsIF9pbnQpIHtcbiAgICAgIHZhciBfaW5zdGFuY2UkX19yM2Y0O1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8yMDI3MVxuICAgICAgLy8gVGhpcyB3aWxsIG1ha2Ugc3VyZSBldmVudHMgYXJlIG9ubHkgYWRkZWQgb25jZSB0byB0aGUgY2VudHJhbCBjb250YWluZXIgb24gdGhlIGluaXRpYWwgcm9vdFxuICAgICAgY29uc3QgbG9jYWxTdGF0ZSA9IChfaW5zdGFuY2UkX19yM2Y0ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y0IDoge307XG4gICAgICBpZiAoaW5zdGFuY2UucmF5Y2FzdCAmJiBsb2NhbFN0YXRlLmhhbmRsZXJzICYmIGxvY2FsU3RhdGUuZXZlbnRDb3VudCkge1xuICAgICAgICBmaW5kSW5pdGlhbFJvb3QoaW5zdGFuY2UpLmdldFN0YXRlKCkuaW50ZXJuYWwuaW50ZXJhY3Rpb24ucHVzaChpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRQdWJsaWNJbnN0YW5jZTogaW5zdGFuY2UgPT4gaW5zdGFuY2UsXG4gICAgcHJlcGFyZUZvckNvbW1pdDogKCkgPT4gbnVsbCxcbiAgICBwcmVwYXJlUG9ydGFsTW91bnQ6IGNvbnRhaW5lciA9PiBwcmVwYXJlKGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lKSxcbiAgICByZXNldEFmdGVyQ29tbWl0OiAoKSA9PiB7fSxcbiAgICBzaG91bGRTZXRUZXh0Q29udGVudDogKCkgPT4gZmFsc2UsXG4gICAgY2xlYXJDb250YWluZXI6ICgpID0+IGZhbHNlLFxuICAgIGhpZGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgICAgdmFyIF9pbnN0YW5jZSRfX3IzZjU7XG4gICAgICAvLyBEZXRhY2ggd2hpbGUgdGhlIGluc3RhbmNlIGlzIGhpZGRlblxuICAgICAgY29uc3Qge1xuICAgICAgICBhdHRhY2g6IHR5cGUsXG4gICAgICAgIHBhcmVudFxuICAgICAgfSA9IChfaW5zdGFuY2UkX19yM2Y1ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y1IDoge307XG4gICAgICBpZiAodHlwZSAmJiBwYXJlbnQpIGRldGFjaChwYXJlbnQsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIGlmIChpbnN0YW5jZS5pc09iamVjdDNEKSBpbnN0YW5jZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICBpbnZhbGlkYXRlSW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIH0sXG4gICAgdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UsIHByb3BzKSB7XG4gICAgICB2YXIgX2luc3RhbmNlJF9fcjNmNjtcbiAgICAgIC8vIFJlLWF0dGFjaCB3aGVuIHRoZSBpbnN0YW5jZSBpcyB1bmhpZGRlblxuICAgICAgY29uc3Qge1xuICAgICAgICBhdHRhY2g6IHR5cGUsXG4gICAgICAgIHBhcmVudFxuICAgICAgfSA9IChfaW5zdGFuY2UkX19yM2Y2ID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgPyBfaW5zdGFuY2UkX19yM2Y2IDoge307XG4gICAgICBpZiAodHlwZSAmJiBwYXJlbnQpIGF0dGFjaChwYXJlbnQsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIGlmIChpbnN0YW5jZS5pc09iamVjdDNEICYmIHByb3BzLnZpc2libGUgPT0gbnVsbCB8fCBwcm9wcy52aXNpYmxlKSBpbnN0YW5jZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIGludmFsaWRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgfSxcbiAgICBjcmVhdGVUZXh0SW5zdGFuY2U6IGhhbmRsZVRleHRJbnN0YW5jZSxcbiAgICBoaWRlVGV4dEluc3RhbmNlOiBoYW5kbGVUZXh0SW5zdGFuY2UsXG4gICAgdW5oaWRlVGV4dEluc3RhbmNlOiBoYW5kbGVUZXh0SW5zdGFuY2UsXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9wdWxsLzIzNjAjZGlzY3Vzc2lvbl9yOTE2MzU2ODc0XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGdldEN1cnJlbnRFdmVudFByaW9yaXR5OiAoKSA9PiBfZ2V0RXZlbnRQcmlvcml0eSA/IF9nZXRFdmVudFByaW9yaXR5KCkgOiBjb25zdGFudHMuRGVmYXVsdEV2ZW50UHJpb3JpdHksXG4gICAgYmVmb3JlQWN0aXZlSW5zdGFuY2VCbHVyOiAoKSA9PiB7fSxcbiAgICBhZnRlckFjdGl2ZUluc3RhbmNlQmx1cjogKCkgPT4ge30sXG4gICAgZGV0YWNoRGVsZXRlZEluc3RhbmNlOiAoKSA9PiB7fSxcbiAgICBub3c6IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXMuZnVuKHBlcmZvcm1hbmNlLm5vdykgPyBwZXJmb3JtYW5jZS5ub3cgOiBpcy5mdW4oRGF0ZS5ub3cpID8gRGF0ZS5ub3cgOiAoKSA9PiAwLFxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yMzYwI2Rpc2N1c3Npb25fcjkyMDg4MzUwM1xuICAgIHNjaGVkdWxlVGltZW91dDogaXMuZnVuKHNldFRpbWVvdXQpID8gc2V0VGltZW91dCA6IHVuZGVmaW5lZCxcbiAgICBjYW5jZWxUaW1lb3V0OiBpcy5mdW4oY2xlYXJUaW1lb3V0KSA/IGNsZWFyVGltZW91dCA6IHVuZGVmaW5lZFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICByZWNvbmNpbGVyLFxuICAgIGFwcGx5UHJvcHM6IGFwcGx5UHJvcHMkMVxuICB9O1xufVxuXG52YXIgX3dpbmRvdyRkb2N1bWVudCwgX3dpbmRvdyRuYXZpZ2F0b3I7XG4vKipcclxuICogUmV0dXJucyBgdHJ1ZWAgd2l0aCBjb3JyZWN0IFRTIHR5cGUgaW5mZXJlbmNlIGlmIGFuIG9iamVjdCBoYXMgYSBjb25maWd1cmFibGUgY29sb3Igc3BhY2UgKHNpbmNlIHIxNTIpLlxyXG4gKi9cbmNvbnN0IGhhc0NvbG9yU3BhY2UgPSBvYmplY3QgPT4gJ2NvbG9yU3BhY2UnIGluIG9iamVjdCB8fCAnb3V0cHV0Q29sb3JTcGFjZScgaW4gb2JqZWN0O1xuLyoqXHJcbiAqIFRoZSBjdXJyZW50IFRIUkVFLkNvbG9yTWFuYWdlbWVudCBpbnN0YW5jZSwgaWYgcHJlc2VudC5cclxuICovXG5jb25zdCBnZXRDb2xvck1hbmFnZW1lbnQgPSAoKSA9PiB7XG4gIHZhciBfQ29sb3JNYW5hZ2VtZW50O1xuICByZXR1cm4gKF9Db2xvck1hbmFnZW1lbnQgPSBjYXRhbG9ndWUuQ29sb3JNYW5hZ2VtZW50KSAhPSBudWxsID8gX0NvbG9yTWFuYWdlbWVudCA6IG51bGw7XG59O1xuY29uc3QgaXNPcnRob2dyYXBoaWNDYW1lcmEgPSBkZWYgPT4gZGVmICYmIGRlZi5pc09ydGhvZ3JhcGhpY0NhbWVyYTtcbmNvbnN0IGlzUmVmID0gb2JqID0+IG9iaiAmJiBvYmouaGFzT3duUHJvcGVydHkoJ2N1cnJlbnQnKTtcblxuLyoqXHJcbiAqIEFuIFNTUi1mcmllbmRseSB1c2VMYXlvdXRFZmZlY3QuXHJcbiAqXHJcbiAqIFJlYWN0IGN1cnJlbnRseSB0aHJvd3MgYSB3YXJuaW5nIHdoZW4gdXNpbmcgdXNlTGF5b3V0RWZmZWN0IG9uIHRoZSBzZXJ2ZXIuXHJcbiAqIFRvIGdldCBhcm91bmQgaXQsIHdlIGNhbiBjb25kaXRpb25hbGx5IHVzZUVmZmVjdCBvbiB0aGUgc2VydmVyIChuby1vcCkgYW5kXHJcbiAqIHVzZUxheW91dEVmZmVjdCBlbHNld2hlcmUuXHJcbiAqXHJcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xNDkyN1xyXG4gKi9cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoKF93aW5kb3ckZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQpICE9IG51bGwgJiYgX3dpbmRvdyRkb2N1bWVudC5jcmVhdGVFbGVtZW50IHx8ICgoX3dpbmRvdyRuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvdyRuYXZpZ2F0b3IucHJvZHVjdCkgPT09ICdSZWFjdE5hdGl2ZScpID8gUmVhY3RfX25hbWVzcGFjZS51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdDtcbmZ1bmN0aW9uIHVzZU11dGFibGVDYWxsYmFjayhmbikge1xuICBjb25zdCByZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihmbik7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4gdm9pZCAocmVmLmN1cnJlbnQgPSBmbiksIFtmbl0pO1xuICByZXR1cm4gcmVmO1xufVxuZnVuY3Rpb24gQmxvY2soe1xuICBzZXRcbn0pIHtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgc2V0KG5ldyBQcm9taXNlKCgpID0+IG51bGwpKTtcbiAgICByZXR1cm4gKCkgPT4gc2V0KGZhbHNlKTtcbiAgfSwgW3NldF0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdF9fbmFtZXNwYWNlLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXJyb3I6IGZhbHNlXG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnIpIHtcbiAgICB0aGlzLnByb3BzLnNldChlcnIpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciA/IG51bGwgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59XG5FcnJvckJvdW5kYXJ5LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciA9ICgpID0+ICh7XG4gIGVycm9yOiB0cnVlXG59KTtcbmNvbnN0IERFRkFVTFQgPSAnX19kZWZhdWx0JztcbmNvbnN0IERFRkFVTFRTID0gbmV3IE1hcCgpO1xuY29uc3QgaXNEaWZmU2V0ID0gZGVmID0+IGRlZiAmJiAhIWRlZi5tZW1vaXplZCAmJiAhIWRlZi5jaGFuZ2VzO1xuZnVuY3Rpb24gY2FsY3VsYXRlRHByKGRwcikge1xuICB2YXIgX3dpbmRvdyRkZXZpY2VQaXhlbFJhO1xuICAvLyBFcnIgb24gdGhlIHNpZGUgb2YgcHJvZ3Jlc3MgYnkgYXNzdW1pbmcgMnggZHByIGlmIHdlIGNhbid0IGRldGVjdCBpdFxuICAvLyBUaGlzIHdpbGwgaGFwcGVuIGluIHdvcmtlcnMgd2hlcmUgd2luZG93IGlzIGRlZmluZWQgYnV0IGRwciBpc24ndC5cbiAgY29uc3QgdGFyZ2V0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyAoX3dpbmRvdyRkZXZpY2VQaXhlbFJhID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pICE9IG51bGwgPyBfd2luZG93JGRldmljZVBpeGVsUmEgOiAyIDogMTtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZHByKSA/IE1hdGgubWluKE1hdGgubWF4KGRwclswXSwgdGFyZ2V0KSwgZHByWzFdKSA6IGRwcjtcbn1cblxuLyoqXHJcbiAqIFJldHVybnMgaW5zdGFuY2Ugcm9vdCBzdGF0ZVxyXG4gKi9cbmNvbnN0IGdldFJvb3RTdGF0ZSA9IG9iaiA9PiB7XG4gIHZhciBfcjNmO1xuICByZXR1cm4gKF9yM2YgPSBvYmouX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcjNmLnJvb3QuZ2V0U3RhdGUoKTtcbn07XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnN0YW5jZXMgaW5pdGlhbCAob3V0bW9zdCkgcm9vdFxyXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbml0aWFsUm9vdChjaGlsZCkge1xuICBsZXQgcm9vdCA9IGNoaWxkLl9fcjNmLnJvb3Q7XG4gIHdoaWxlIChyb290LmdldFN0YXRlKCkucHJldmlvdXNSb290KSByb290ID0gcm9vdC5nZXRTdGF0ZSgpLnByZXZpb3VzUm9vdDtcbiAgcmV0dXJuIHJvb3Q7XG59XG4vLyBBIGNvbGxlY3Rpb24gb2YgY29tcGFyZSBmdW5jdGlvbnNcbmNvbnN0IGlzID0ge1xuICBvYmo6IGEgPT4gYSA9PT0gT2JqZWN0KGEpICYmICFpcy5hcnIoYSkgJiYgdHlwZW9mIGEgIT09ICdmdW5jdGlvbicsXG4gIGZ1bjogYSA9PiB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyxcbiAgc3RyOiBhID0+IHR5cGVvZiBhID09PSAnc3RyaW5nJyxcbiAgbnVtOiBhID0+IHR5cGVvZiBhID09PSAnbnVtYmVyJyxcbiAgYm9vOiBhID0+IHR5cGVvZiBhID09PSAnYm9vbGVhbicsXG4gIHVuZDogYSA9PiBhID09PSB2b2lkIDAsXG4gIGFycjogYSA9PiBBcnJheS5pc0FycmF5KGEpLFxuICBlcXUoYSwgYiwge1xuICAgIGFycmF5cyA9ICdzaGFsbG93JyxcbiAgICBvYmplY3RzID0gJ3JlZmVyZW5jZScsXG4gICAgc3RyaWN0ID0gdHJ1ZVxuICB9ID0ge30pIHtcbiAgICAvLyBXcm9uZyB0eXBlIG9yIG9uZSBvZiB0aGUgdHdvIHVuZGVmaW5lZCwgZG9lc24ndCBtYXRjaFxuICAgIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIgfHwgISFhICE9PSAhIWIpIHJldHVybiBmYWxzZTtcbiAgICAvLyBBdG9taWMsIGp1c3QgY29tcGFyZSBhIGFnYWluc3QgYlxuICAgIGlmIChpcy5zdHIoYSkgfHwgaXMubnVtKGEpIHx8IGlzLmJvbyhhKSkgcmV0dXJuIGEgPT09IGI7XG4gICAgY29uc3QgaXNPYmogPSBpcy5vYmooYSk7XG4gICAgaWYgKGlzT2JqICYmIG9iamVjdHMgPT09ICdyZWZlcmVuY2UnKSByZXR1cm4gYSA9PT0gYjtcbiAgICBjb25zdCBpc0FyciA9IGlzLmFycihhKTtcbiAgICBpZiAoaXNBcnIgJiYgYXJyYXlzID09PSAncmVmZXJlbmNlJykgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gQXJyYXkgb3IgT2JqZWN0LCBzaGFsbG93IGNvbXBhcmUgZmlyc3QgdG8gc2VlIGlmIGl0J3MgYSBtYXRjaFxuICAgIGlmICgoaXNBcnIgfHwgaXNPYmopICYmIGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgIC8vIExhc3QgcmVzb3J0LCBnbyB0aHJvdWdoIGtleXNcbiAgICBsZXQgaTtcbiAgICAvLyBDaGVjayBpZiBhIGhhcyBhbGwgdGhlIGtleXMgb2YgYlxuICAgIGZvciAoaSBpbiBhKSBpZiAoIShpIGluIGIpKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gQ2hlY2sgaWYgdmFsdWVzIGJldHdlZW4ga2V5cyBtYXRjaFxuICAgIGlmIChpc09iaiAmJiBhcnJheXMgPT09ICdzaGFsbG93JyAmJiBvYmplY3RzID09PSAnc2hhbGxvdycpIHtcbiAgICAgIGZvciAoaSBpbiBzdHJpY3QgPyBiIDogYSkgaWYgKCFpcy5lcXUoYVtpXSwgYltpXSwge1xuICAgICAgICBzdHJpY3QsXG4gICAgICAgIG9iamVjdHM6ICdyZWZlcmVuY2UnXG4gICAgICB9KSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgaW4gc3RyaWN0ID8gYiA6IGEpIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIGkgaXMgdW5kZWZpbmVkXG4gICAgaWYgKGlzLnVuZChpKSkge1xuICAgICAgLy8gSWYgYm90aCBhcnJheXMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc0FyciAmJiBhLmxlbmd0aCA9PT0gMCAmJiBiLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAvLyBJZiBib3RoIG9iamVjdHMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc09iaiAmJiBPYmplY3Qua2V5cyhhKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXMoYikubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIE90aGVyd2lzZSBtYXRjaCB0aGVtIGJ5IHZhbHVlXG4gICAgICBpZiAoYSAhPT0gYikgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIENvbGxlY3RzIG5vZGVzIGFuZCBtYXRlcmlhbHMgZnJvbSBhIFRIUkVFLk9iamVjdDNELlxyXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkR3JhcGgob2JqZWN0KSB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbm9kZXM6IHt9LFxuICAgIG1hdGVyaWFsczoge31cbiAgfTtcbiAgaWYgKG9iamVjdCkge1xuICAgIG9iamVjdC50cmF2ZXJzZShvYmogPT4ge1xuICAgICAgaWYgKG9iai5uYW1lKSBkYXRhLm5vZGVzW29iai5uYW1lXSA9IG9iajtcbiAgICAgIGlmIChvYmoubWF0ZXJpYWwgJiYgIWRhdGEubWF0ZXJpYWxzW29iai5tYXRlcmlhbC5uYW1lXSkgZGF0YS5tYXRlcmlhbHNbb2JqLm1hdGVyaWFsLm5hbWVdID0gb2JqLm1hdGVyaWFsO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG4vLyBEaXNwb3NlcyBhbiBvYmplY3QgYW5kIGFsbCBpdHMgcHJvcGVydGllc1xuZnVuY3Rpb24gZGlzcG9zZShvYmopIHtcbiAgaWYgKG9iai5kaXNwb3NlICYmIG9iai50eXBlICE9PSAnU2NlbmUnKSBvYmouZGlzcG9zZSgpO1xuICBmb3IgKGNvbnN0IHAgaW4gb2JqKSB7XG4gICAgcC5kaXNwb3NlID09IG51bGwgPyB2b2lkIDAgOiBwLmRpc3Bvc2UoKTtcbiAgICBkZWxldGUgb2JqW3BdO1xuICB9XG59XG5cbi8vIEVhY2ggb2JqZWN0IGluIHRoZSBzY2VuZSBjYXJyaWVzIGEgc21hbGwgTG9jYWxTdGF0ZSBkZXNjcmlwdG9yXG5mdW5jdGlvbiBwcmVwYXJlKG9iamVjdCwgc3RhdGUpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBvYmplY3Q7XG4gIGluc3RhbmNlLl9fcjNmID0ge1xuICAgIHR5cGU6ICcnLFxuICAgIHJvb3Q6IG51bGwsXG4gICAgcHJldmlvdXNBdHRhY2g6IG51bGwsXG4gICAgbWVtb2l6ZWRQcm9wczoge30sXG4gICAgZXZlbnRDb3VudDogMCxcbiAgICBoYW5kbGVyczoge30sXG4gICAgb2JqZWN0czogW10sXG4gICAgcGFyZW50OiBudWxsLFxuICAgIC4uLnN0YXRlXG4gIH07XG4gIHJldHVybiBvYmplY3Q7XG59XG5mdW5jdGlvbiByZXNvbHZlKGluc3RhbmNlLCBrZXkpIHtcbiAgbGV0IHRhcmdldCA9IGluc3RhbmNlO1xuICBpZiAoa2V5LmluY2x1ZGVzKCctJykpIHtcbiAgICBjb25zdCBlbnRyaWVzID0ga2V5LnNwbGl0KCctJyk7XG4gICAgY29uc3QgbGFzdCA9IGVudHJpZXMucG9wKCk7XG4gICAgdGFyZ2V0ID0gZW50cmllcy5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2Nba2V5XSwgaW5zdGFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICB0YXJnZXQsXG4gICAgICBrZXk6IGxhc3RcbiAgICB9O1xuICB9IGVsc2UgcmV0dXJuIHtcbiAgICB0YXJnZXQsXG4gICAga2V5XG4gIH07XG59XG5cbi8vIENoZWNrcyBpZiBhIGRhc2gtY2FzZWQgc3RyaW5nIGVuZHMgd2l0aCBhbiBpbnRlZ2VyXG5jb25zdCBJTkRFWF9SRUdFWCA9IC8tXFxkKyQvO1xuZnVuY3Rpb24gYXR0YWNoKHBhcmVudCwgY2hpbGQsIHR5cGUpIHtcbiAgaWYgKGlzLnN0cih0eXBlKSkge1xuICAgIC8vIElmIGF0dGFjaGluZyBpbnRvIGFuIGFycmF5IChmb28tMCksIGNyZWF0ZSBvbmVcbiAgICBpZiAoSU5ERVhfUkVHRVgudGVzdCh0eXBlKSkge1xuICAgICAgY29uc3Qgcm9vdCA9IHR5cGUucmVwbGFjZShJTkRFWF9SRUdFWCwgJycpO1xuICAgICAgY29uc3Qge1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGtleVxuICAgICAgfSA9IHJlc29sdmUocGFyZW50LCByb290KTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0YXJnZXRba2V5XSkpIHRhcmdldFtrZXldID0gW107XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleVxuICAgIH0gPSByZXNvbHZlKHBhcmVudCwgdHlwZSk7XG4gICAgY2hpbGQuX19yM2YucHJldmlvdXNBdHRhY2ggPSB0YXJnZXRba2V5XTtcbiAgICB0YXJnZXRba2V5XSA9IGNoaWxkO1xuICB9IGVsc2UgY2hpbGQuX19yM2YucHJldmlvdXNBdHRhY2ggPSB0eXBlKHBhcmVudCwgY2hpbGQpO1xufVxuZnVuY3Rpb24gZGV0YWNoKHBhcmVudCwgY2hpbGQsIHR5cGUpIHtcbiAgdmFyIF9jaGlsZCRfX3IzZiwgX2NoaWxkJF9fcjNmMjtcbiAgaWYgKGlzLnN0cih0eXBlKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHRhcmdldCxcbiAgICAgIGtleVxuICAgIH0gPSByZXNvbHZlKHBhcmVudCwgdHlwZSk7XG4gICAgY29uc3QgcHJldmlvdXMgPSBjaGlsZC5fX3IzZi5wcmV2aW91c0F0dGFjaDtcbiAgICAvLyBXaGVuIHRoZSBwcmV2aW91cyB2YWx1ZSB3YXMgdW5kZWZpbmVkLCBpdCBtZWFucyB0aGUgdmFsdWUgd2FzIG5ldmVyIHNldCB0byBiZWdpbiB3aXRoXG4gICAgaWYgKHByZXZpb3VzID09PSB1bmRlZmluZWQpIGRlbGV0ZSB0YXJnZXRba2V5XTtcbiAgICAvLyBPdGhlcndpc2Ugc2V0IHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgIGVsc2UgdGFyZ2V0W2tleV0gPSBwcmV2aW91cztcbiAgfSBlbHNlIChfY2hpbGQkX19yM2YgPSBjaGlsZC5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jaGlsZCRfX3IzZi5wcmV2aW91c0F0dGFjaCA9PSBudWxsID8gdm9pZCAwIDogX2NoaWxkJF9fcjNmLnByZXZpb3VzQXR0YWNoKHBhcmVudCwgY2hpbGQpO1xuICAoX2NoaWxkJF9fcjNmMiA9IGNoaWxkLl9fcjNmKSA9PSBudWxsID8gdHJ1ZSA6IGRlbGV0ZSBfY2hpbGQkX19yM2YyLnByZXZpb3VzQXR0YWNoO1xufVxuLy8gVGhpcyBmdW5jdGlvbiBwcmVwYXJlcyBhIHNldCBvZiBjaGFuZ2VzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGluc3RhbmNlXG5mdW5jdGlvbiBkaWZmUHJvcHMoaW5zdGFuY2UsIHtcbiAgY2hpbGRyZW46IGNOLFxuICBrZXk6IGtOLFxuICByZWY6IHJOLFxuICAuLi5wcm9wc1xufSwge1xuICBjaGlsZHJlbjogY1AsXG4gIGtleToga1AsXG4gIHJlZjogclAsXG4gIC4uLnByZXZpb3VzXG59ID0ge30sIHJlbW92ZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGxvY2FsU3RhdGUgPSBpbnN0YW5jZS5fX3IzZjtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHByb3BzKTtcbiAgY29uc3QgY2hhbmdlcyA9IFtdO1xuXG4gIC8vIENhdGNoIHJlbW92ZWQgcHJvcHMsIHByZXBlbmQgdGhlbSBzbyB0aGV5IGNhbiBiZSByZXNldCBvciByZW1vdmVkXG4gIGlmIChyZW1vdmUpIHtcbiAgICBjb25zdCBwcmV2aW91c0tleXMgPSBPYmplY3Qua2V5cyhwcmV2aW91cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2aW91c0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcHJvcHMuaGFzT3duUHJvcGVydHkocHJldmlvdXNLZXlzW2ldKSkgZW50cmllcy51bnNoaWZ0KFtwcmV2aW91c0tleXNbaV0sIERFRkFVTFQgKyAncmVtb3ZlJ10pO1xuICAgIH1cbiAgfVxuICBlbnRyaWVzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHZhciBfaW5zdGFuY2UkX19yM2Y7XG4gICAgLy8gQmFpbCBvdXQgb24gcHJpbWl0aXZlIG9iamVjdFxuICAgIGlmICgoX2luc3RhbmNlJF9fcjNmID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgJiYgX2luc3RhbmNlJF9fcjNmLnByaW1pdGl2ZSAmJiBrZXkgPT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgLy8gV2hlbiBwcm9wcyBtYXRjaCBiYWlsIG91dFxuICAgIGlmIChpcy5lcXUodmFsdWUsIHByZXZpb3VzW2tleV0pKSByZXR1cm47XG4gICAgLy8gQ29sbGVjdCBoYW5kbGVycyBhbmQgYmFpbCBvdXRcbiAgICBpZiAoL15vbihQb2ludGVyfENsaWNrfERvdWJsZUNsaWNrfENvbnRleHRNZW51fFdoZWVsKS8udGVzdChrZXkpKSByZXR1cm4gY2hhbmdlcy5wdXNoKFtrZXksIHZhbHVlLCB0cnVlLCBbXV0pO1xuICAgIC8vIFNwbGl0IGRhc2hlZCBwcm9wc1xuICAgIGxldCBlbnRyaWVzID0gW107XG4gICAgaWYgKGtleS5pbmNsdWRlcygnLScpKSBlbnRyaWVzID0ga2V5LnNwbGl0KCctJyk7XG4gICAgY2hhbmdlcy5wdXNoKFtrZXksIHZhbHVlLCBmYWxzZSwgZW50cmllc10pO1xuXG4gICAgLy8gUmVzZXQgcGllcmNlZCBwcm9wc1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgICAgY29uc3QgdmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgoYCR7a2V5fS1gKSkgY2hhbmdlcy5wdXNoKFtwcm9wLCB2YWx1ZSwgZmFsc2UsIHByb3Auc3BsaXQoJy0nKV0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IG1lbW9pemVkID0ge1xuICAgIC4uLnByb3BzXG4gIH07XG4gIGlmIChsb2NhbFN0YXRlICE9IG51bGwgJiYgbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzICYmIGxvY2FsU3RhdGUgIT0gbnVsbCAmJiBsb2NhbFN0YXRlLm1lbW9pemVkUHJvcHMuYXJncykgbWVtb2l6ZWQuYXJncyA9IGxvY2FsU3RhdGUubWVtb2l6ZWRQcm9wcy5hcmdzO1xuICBpZiAobG9jYWxTdGF0ZSAhPSBudWxsICYmIGxvY2FsU3RhdGUubWVtb2l6ZWRQcm9wcyAmJiBsb2NhbFN0YXRlICE9IG51bGwgJiYgbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzLmF0dGFjaCkgbWVtb2l6ZWQuYXR0YWNoID0gbG9jYWxTdGF0ZS5tZW1vaXplZFByb3BzLmF0dGFjaDtcbiAgcmV0dXJuIHtcbiAgICBtZW1vaXplZCxcbiAgICBjaGFuZ2VzXG4gIH07XG59XG5jb25zdCBfX0RFVl9fID0gdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbic7XG5cbi8vIFRoaXMgZnVuY3Rpb24gYXBwbGllcyBhIHNldCBvZiBjaGFuZ2VzIHRvIHRoZSBpbnN0YW5jZVxuZnVuY3Rpb24gYXBwbHlQcm9wcyQxKGluc3RhbmNlLCBkYXRhKSB7XG4gIHZhciBfaW5zdGFuY2UkX19yM2YyO1xuICAvLyBGaWx0ZXIgZXF1YWxzLCBldmVudHMgYW5kIHJlc2VydmVkIHByb3BzXG4gIGNvbnN0IGxvY2FsU3RhdGUgPSBpbnN0YW5jZS5fX3IzZjtcbiAgY29uc3Qgcm9vdCA9IGxvY2FsU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IGxvY2FsU3RhdGUucm9vdDtcbiAgY29uc3Qgcm9vdFN0YXRlID0gcm9vdCA9PSBudWxsID8gdm9pZCAwIDogcm9vdC5nZXRTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcm9vdC5nZXRTdGF0ZSgpO1xuICBjb25zdCB7XG4gICAgbWVtb2l6ZWQsXG4gICAgY2hhbmdlc1xuICB9ID0gaXNEaWZmU2V0KGRhdGEpID8gZGF0YSA6IGRpZmZQcm9wcyhpbnN0YW5jZSwgZGF0YSk7XG4gIGNvbnN0IHByZXZIYW5kbGVycyA9IGxvY2FsU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IGxvY2FsU3RhdGUuZXZlbnRDb3VudDtcblxuICAvLyBQcmVwYXJlIG1lbW9pemVkIHByb3BzXG4gIGlmIChpbnN0YW5jZS5fX3IzZikgaW5zdGFuY2UuX19yM2YubWVtb2l6ZWRQcm9wcyA9IG1lbW9pemVkO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2tleSwgdmFsdWUsIGlzRXZlbnQsIGtleXNdID0gY2hhbmdlc1tpXTtcblxuICAgIC8vIEFsaWFzIChvdXRwdXQpZW5jb2RpbmcgPT4gKG91dHB1dCljb2xvclNwYWNlIChzaW5jZSByMTUyKVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yODI5XG4gICAgaWYgKGhhc0NvbG9yU3BhY2UoaW5zdGFuY2UpKSB7XG4gICAgICBjb25zdCBzUkdCRW5jb2RpbmcgPSAzMDAxO1xuICAgICAgY29uc3QgU1JHQkNvbG9yU3BhY2UgPSAnc3JnYic7XG4gICAgICBjb25zdCBMaW5lYXJTUkdCQ29sb3JTcGFjZSA9ICdzcmdiLWxpbmVhcic7XG4gICAgICBpZiAoa2V5ID09PSAnZW5jb2RpbmcnKSB7XG4gICAgICAgIGtleSA9ICdjb2xvclNwYWNlJztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gc1JHQkVuY29kaW5nID8gU1JHQkNvbG9yU3BhY2UgOiBMaW5lYXJTUkdCQ29sb3JTcGFjZTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnb3V0cHV0RW5jb2RpbmcnKSB7XG4gICAgICAgIGtleSA9ICdvdXRwdXRDb2xvclNwYWNlJztcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PT0gc1JHQkVuY29kaW5nID8gU1JHQkNvbG9yU3BhY2UgOiBMaW5lYXJTUkdCQ29sb3JTcGFjZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGN1cnJlbnRJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIGxldCB0YXJnZXRQcm9wID0gY3VycmVudEluc3RhbmNlW2tleV07XG5cbiAgICAvLyBSZXZvbHZlIGRhc2hlZCBwcm9wc1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0UHJvcCA9IGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjW2tleV0sIGluc3RhbmNlKTtcbiAgICAgIC8vIElmIHRoZSB0YXJnZXQgaXMgYXRvbWljLCBpdCBmb3JjZXMgdXMgdG8gc3dpdGNoIHRoZSByb290XG4gICAgICBpZiAoISh0YXJnZXRQcm9wICYmIHRhcmdldFByb3Auc2V0KSkge1xuICAgICAgICBjb25zdCBbbmFtZSwgLi4ucmV2ZXJzZUVudHJpZXNdID0ga2V5cy5yZXZlcnNlKCk7XG4gICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IHJldmVyc2VFbnRyaWVzLnJldmVyc2UoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2Nba2V5XSwgaW5zdGFuY2UpO1xuICAgICAgICBrZXkgPSBuYW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzIxMjA5XG4gICAgLy8gSE1SL2Zhc3QtcmVmcmVzaCByZWxpZXMgb24gdGhlIGFiaWxpdHkgdG8gY2FuY2VsIG91dCBwcm9wcywgYnV0IHRocmVlanNcbiAgICAvLyBoYXMgbm8gbWVhbnMgdG8gZG8gdGhpcy4gSGVuY2Ugd2UgY3VyYXRlIGEgc21hbGwgY29sbGVjdGlvbiBvZiB2YWx1ZS1jbGFzc2VzXG4gICAgLy8gd2l0aCB0aGVpciByZXNwZWN0aXZlIGNvbnN0cnVjdG9yL3NldCBhcmd1bWVudHNcbiAgICAvLyBGb3IgcmVtb3ZlZCBwcm9wcywgdHJ5IHRvIHNldCBkZWZhdWx0IHZhbHVlcywgaWYgcG9zc2libGVcbiAgICBpZiAodmFsdWUgPT09IERFRkFVTFQgKyAncmVtb3ZlJykge1xuICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAvLyBjcmVhdGUgYSBibGFuayBzbGF0ZSBvZiB0aGUgaW5zdGFuY2UgYW5kIGNvcHkgdGhlIHBhcnRpY3VsYXIgcGFyYW1ldGVyLlxuICAgICAgICBsZXQgY3RvciA9IERFRkFVTFRTLmdldChjdXJyZW50SW5zdGFuY2UuY29uc3RydWN0b3IpO1xuICAgICAgICBpZiAoIWN0b3IpIHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgY3RvciA9IG5ldyBjdXJyZW50SW5zdGFuY2UuY29uc3RydWN0b3IoKTtcbiAgICAgICAgICBERUZBVUxUUy5zZXQoY3VycmVudEluc3RhbmNlLmNvbnN0cnVjdG9yLCBjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGN0b3Jba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluc3RhbmNlIGRvZXMgbm90IGhhdmUgY29uc3RydWN0b3IsIGp1c3Qgc2V0IGl0IHRvIDBcbiAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlYWwgd2l0aCBwb2ludGVyIGV2ZW50cyAuLi5cbiAgICBpZiAoaXNFdmVudCAmJiBsb2NhbFN0YXRlKSB7XG4gICAgICBpZiAodmFsdWUpIGxvY2FsU3RhdGUuaGFuZGxlcnNba2V5XSA9IHZhbHVlO2Vsc2UgZGVsZXRlIGxvY2FsU3RhdGUuaGFuZGxlcnNba2V5XTtcbiAgICAgIGxvY2FsU3RhdGUuZXZlbnRDb3VudCA9IE9iamVjdC5rZXlzKGxvY2FsU3RhdGUuaGFuZGxlcnMpLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gU3BlY2lhbCB0cmVhdG1lbnQgZm9yIG9iamVjdHMgd2l0aCBzdXBwb3J0IGZvciBzZXQvY29weSwgYW5kIGxheWVyc1xuICAgIGVsc2UgaWYgKHRhcmdldFByb3AgJiYgdGFyZ2V0UHJvcC5zZXQgJiYgKHRhcmdldFByb3AuY29weSB8fCB0YXJnZXRQcm9wIGluc3RhbmNlb2YgVEhSRUVfX25hbWVzcGFjZS5MYXllcnMpKSB7XG4gICAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICh0YXJnZXRQcm9wLmZyb21BcnJheSkgdGFyZ2V0UHJvcC5mcm9tQXJyYXkodmFsdWUpO2Vsc2UgdGFyZ2V0UHJvcC5zZXQoLi4udmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gVGVzdCBhZ2FpbiB0YXJnZXQuY29weShjbGFzcykgbmV4dCAuLi5cbiAgICAgIGVsc2UgaWYgKHRhcmdldFByb3AuY29weSAmJiB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciAmJiAoXG4gICAgICAvLyBTb21lIGVudmlyb25tZW50cyBtYXkgYnJlYWsgc3RyaWN0IGlkZW50aXR5IGNoZWNrcyBieSBkdXBsaWNhdGluZyB2ZXJzaW9ucyBvZiB0aHJlZS5qcy5cbiAgICAgIC8vIExvb3NlbiB0byB1bm1pbmlmaWVkIG5hbWVzLCBpZ25vcmluZyBkZXNjZW5kZW50cy5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzI4NTZcbiAgICAgIC8vIFRPRE86IGZpeCB1cHN0cmVhbSBhbmQgcmVtb3ZlIGluIHY5XG4gICAgICBfX0RFVl9fID8gdGFyZ2V0UHJvcC5jb25zdHJ1Y3Rvci5uYW1lID09PSB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIDogdGFyZ2V0UHJvcC5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuY29uc3RydWN0b3IpKSB7XG4gICAgICAgIHRhcmdldFByb3AuY29weSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBJZiBub3RoaW5nIGVsc2UgZml0cywganVzdCBzZXQgdGhlIHNpbmdsZSB2YWx1ZSwgaWdub3JlIHVuZGVmaW5lZFxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9pc3N1ZXMvMjc0XG4gICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBfdGFyZ2V0UHJvcDtcbiAgICAgICAgY29uc3QgaXNDb2xvciA9IChfdGFyZ2V0UHJvcCA9IHRhcmdldFByb3ApID09IG51bGwgPyB2b2lkIDAgOiBfdGFyZ2V0UHJvcC5pc0NvbG9yO1xuICAgICAgICAvLyBBbGxvdyBzZXR0aW5nIGFycmF5IHNjYWxhcnNcbiAgICAgICAgaWYgKCFpc0NvbG9yICYmIHRhcmdldFByb3Auc2V0U2NhbGFyKSB0YXJnZXRQcm9wLnNldFNjYWxhcih2YWx1ZSk7XG4gICAgICAgIC8vIExheWVycyBoYXZlIG5vIGNvcHkgZnVuY3Rpb24sIHdlIG11c3QgdGhlcmVmb3JlIGNvcHkgdGhlIG1hc2sgcHJvcGVydHlcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0UHJvcCBpbnN0YW5jZW9mIFRIUkVFX19uYW1lc3BhY2UuTGF5ZXJzICYmIHZhbHVlIGluc3RhbmNlb2YgVEhSRUVfX25hbWVzcGFjZS5MYXllcnMpIHRhcmdldFByb3AubWFzayA9IHZhbHVlLm1hc2s7XG4gICAgICAgIC8vIE90aGVyd2lzZSBqdXN0IHNldCAuLi5cbiAgICAgICAgZWxzZSB0YXJnZXRQcm9wLnNldCh2YWx1ZSk7XG4gICAgICAgIC8vIEZvciB2ZXJzaW9ucyBvZiB0aHJlZSB3aGljaCBkb24ndCBzdXBwb3J0IFRIUkVFLkNvbG9yTWFuYWdlbWVudCxcbiAgICAgICAgLy8gQXV0by1jb252ZXJ0IHNSR0IgY29sb3JzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzM0NFxuICAgICAgICBpZiAoIWdldENvbG9yTWFuYWdlbWVudCgpICYmIHJvb3RTdGF0ZSAmJiAhcm9vdFN0YXRlLmxpbmVhciAmJiBpc0NvbG9yKSB0YXJnZXRQcm9wLmNvbnZlcnRTUkdCVG9MaW5lYXIoKTtcbiAgICAgIH1cbiAgICAgIC8vIEVsc2UsIGp1c3Qgb3ZlcndyaXRlIHRoZSB2YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX2N1cnJlbnRJbnN0YW5jZSRrZXk7XG4gICAgICBjdXJyZW50SW5zdGFuY2Vba2V5XSA9IHZhbHVlO1xuXG4gICAgICAvLyBBdXRvLWNvbnZlcnQgc1JHQiB0ZXh0dXJlcywgZm9yIG5vdyAuLi5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzM0NFxuICAgICAgaWYgKChfY3VycmVudEluc3RhbmNlJGtleSA9IGN1cnJlbnRJbnN0YW5jZVtrZXldKSAhPSBudWxsICYmIF9jdXJyZW50SW5zdGFuY2Uka2V5LmlzVGV4dHVyZSAmJlxuICAgICAgLy8gc1JHQiB0ZXh0dXJlcyBtdXN0IGJlIFJHQkE4IHNpbmNlIHIxMzcgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzMTI5XG4gICAgICBjdXJyZW50SW5zdGFuY2Vba2V5XS5mb3JtYXQgPT09IFRIUkVFX19uYW1lc3BhY2UuUkdCQUZvcm1hdCAmJiBjdXJyZW50SW5zdGFuY2Vba2V5XS50eXBlID09PSBUSFJFRV9fbmFtZXNwYWNlLlVuc2lnbmVkQnl0ZVR5cGUgJiYgcm9vdFN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBjdXJyZW50SW5zdGFuY2Vba2V5XTtcbiAgICAgICAgaWYgKGhhc0NvbG9yU3BhY2UodGV4dHVyZSkgJiYgaGFzQ29sb3JTcGFjZShyb290U3RhdGUuZ2wpKSB0ZXh0dXJlLmNvbG9yU3BhY2UgPSByb290U3RhdGUuZ2wub3V0cHV0Q29sb3JTcGFjZTtlbHNlIHRleHR1cmUuZW5jb2RpbmcgPSByb290U3RhdGUuZ2wub3V0cHV0RW5jb2Rpbmc7XG4gICAgICB9XG4gICAgfVxuICAgIGludmFsaWRhdGVJbnN0YW5jZShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKGxvY2FsU3RhdGUgJiYgbG9jYWxTdGF0ZS5wYXJlbnQgJiYgaW5zdGFuY2UucmF5Y2FzdCAmJiBwcmV2SGFuZGxlcnMgIT09IGxvY2FsU3RhdGUuZXZlbnRDb3VudCkge1xuICAgIC8vIEdldCB0aGUgaW5pdGlhbCByb290IHN0YXRlJ3MgaW50ZXJuYWxzXG4gICAgY29uc3QgaW50ZXJuYWwgPSBmaW5kSW5pdGlhbFJvb3QoaW5zdGFuY2UpLmdldFN0YXRlKCkuaW50ZXJuYWw7XG4gICAgLy8gUHJlLWVtcHRpdmVseSByZW1vdmUgdGhlIGluc3RhbmNlIGZyb20gdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICBjb25zdCBpbmRleCA9IGludGVybmFsLmludGVyYWN0aW9uLmluZGV4T2YoaW5zdGFuY2UpO1xuICAgIGlmIChpbmRleCA+IC0xKSBpbnRlcm5hbC5pbnRlcmFjdGlvbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIC8vIEFkZCB0aGUgaW5zdGFuY2UgdG8gdGhlIGludGVyYWN0aW9uIG1hbmFnZXIgb25seSB3aGVuIGl0IGhhcyBoYW5kbGVyc1xuICAgIGlmIChsb2NhbFN0YXRlLmV2ZW50Q291bnQpIGludGVybmFsLmludGVyYWN0aW9uLnB1c2goaW5zdGFuY2UpO1xuICB9XG5cbiAgLy8gQ2FsbCB0aGUgdXBkYXRlIGxpZmVjeWNsZSB3aGVuIGl0IGlzIGJlaW5nIHVwZGF0ZWQsIGJ1dCBvbmx5IHdoZW4gaXQgaXMgcGFydCBvZiB0aGUgc2NlbmUuXG4gIC8vIFNraXAgdXBkYXRlcyB0byB0aGUgYG9uVXBkYXRlYCBwcm9wIGl0c2VsZlxuICBjb25zdCBpc0NpcmN1bGFyID0gY2hhbmdlcy5sZW5ndGggPT09IDEgJiYgY2hhbmdlc1swXVswXSA9PT0gJ29uVXBkYXRlJztcbiAgaWYgKCFpc0NpcmN1bGFyICYmIGNoYW5nZXMubGVuZ3RoICYmIChfaW5zdGFuY2UkX19yM2YyID0gaW5zdGFuY2UuX19yM2YpICE9IG51bGwgJiYgX2luc3RhbmNlJF9fcjNmMi5wYXJlbnQpIHVwZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuZnVuY3Rpb24gaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIHZhciBfaW5zdGFuY2UkX19yM2YzLCBfaW5zdGFuY2UkX19yM2YzJHJvb3Q7XG4gIGNvbnN0IHN0YXRlID0gKF9pbnN0YW5jZSRfX3IzZjMgPSBpbnN0YW5jZS5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IChfaW5zdGFuY2UkX19yM2YzJHJvb3QgPSBfaW5zdGFuY2UkX19yM2YzLnJvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkX19yM2YzJHJvb3QuZ2V0U3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbnN0YW5jZSRfX3IzZjMkcm9vdC5nZXRTdGF0ZSgpO1xuICBpZiAoc3RhdGUgJiYgc3RhdGUuaW50ZXJuYWwuZnJhbWVzID09PSAwKSBzdGF0ZS5pbnZhbGlkYXRlKCk7XG59XG5mdW5jdGlvbiB1cGRhdGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5vblVwZGF0ZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2Uub25VcGRhdGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gdXBkYXRlQ2FtZXJhKGNhbWVyYSwgc2l6ZSkge1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy85MlxuICAvLyBEbyBub3QgbWVzcyB3aXRoIHRoZSBjYW1lcmEgaWYgaXQgYmVsb25ncyB0byB0aGUgdXNlclxuICBpZiAoIWNhbWVyYS5tYW51YWwpIHtcbiAgICBpZiAoaXNPcnRob2dyYXBoaWNDYW1lcmEoY2FtZXJhKSkge1xuICAgICAgY2FtZXJhLmxlZnQgPSBzaXplLndpZHRoIC8gLTI7XG4gICAgICBjYW1lcmEucmlnaHQgPSBzaXplLndpZHRoIC8gMjtcbiAgICAgIGNhbWVyYS50b3AgPSBzaXplLmhlaWdodCAvIDI7XG4gICAgICBjYW1lcmEuYm90dG9tID0gc2l6ZS5oZWlnaHQgLyAtMjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FtZXJhLmFzcGVjdCA9IHNpemUud2lkdGggLyBzaXplLmhlaWdodDtcbiAgICB9XG4gICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8xNzhcbiAgICAvLyBVcGRhdGUgbWF0cml4IHdvcmxkIHNpbmNlIHRoZSByZW5kZXJlciBpcyBhIGZyYW1lIGxhdGVcbiAgICBjYW1lcmEudXBkYXRlTWF0cml4V29ybGQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlSWQoZXZlbnQpIHtcbiAgcmV0dXJuIChldmVudC5ldmVudE9iamVjdCB8fCBldmVudC5vYmplY3QpLnV1aWQgKyAnLycgKyBldmVudC5pbmRleCArIGV2ZW50Lmluc3RhbmNlSWQ7XG59XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC90cmVlL21haW4vcGFja2FnZXMvcmVhY3QtcmVjb25jaWxlciNnZXRjdXJyZW50ZXZlbnRwcmlvcml0eVxuLy8gR2l2ZXMgUmVhY3QgYSBjbHVlIGFzIHRvIGhvdyBpbXBvcnQgdGhlIGN1cnJlbnQgaW50ZXJhY3Rpb24gaXNcbmZ1bmN0aW9uIGdldEV2ZW50UHJpb3JpdHkoKSB7XG4gIHZhciBfZ2xvYmFsU2NvcGUkZXZlbnQ7XG4gIC8vIEdldCBhIGhhbmRsZSB0byB0aGUgY3VycmVudCBnbG9iYWwgc2NvcGUgaW4gd2luZG93IGFuZCB3b3JrZXIgY29udGV4dHMgaWYgYWJsZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL3B1bGwvMjQ5M1xuICBjb25zdCBnbG9iYWxTY29wZSA9IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIHx8IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdztcbiAgaWYgKCFnbG9iYWxTY29wZSkgcmV0dXJuIGNvbnN0YW50cy5EZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgY29uc3QgbmFtZSA9IChfZ2xvYmFsU2NvcGUkZXZlbnQgPSBnbG9iYWxTY29wZS5ldmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nbG9iYWxTY29wZSRldmVudC50eXBlO1xuICBzd2l0Y2ggKG5hbWUpIHtcbiAgICBjYXNlICdjbGljayc6XG4gICAgY2FzZSAnY29udGV4dG1lbnUnOlxuICAgIGNhc2UgJ2RibGNsaWNrJzpcbiAgICBjYXNlICdwb2ludGVyY2FuY2VsJzpcbiAgICBjYXNlICdwb2ludGVyZG93bic6XG4gICAgY2FzZSAncG9pbnRlcnVwJzpcbiAgICAgIHJldHVybiBjb25zdGFudHMuRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgIGNhc2UgJ3BvaW50ZXJtb3ZlJzpcbiAgICBjYXNlICdwb2ludGVyb3V0JzpcbiAgICBjYXNlICdwb2ludGVyb3Zlcic6XG4gICAgY2FzZSAncG9pbnRlcmVudGVyJzpcbiAgICBjYXNlICdwb2ludGVybGVhdmUnOlxuICAgIGNhc2UgJ3doZWVsJzpcbiAgICAgIHJldHVybiBjb25zdGFudHMuQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBjb25zdGFudHMuRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gIH1cbn1cblxuLyoqXHJcbiAqIFJlbGVhc2UgcG9pbnRlciBjYXB0dXJlcy5cclxuICogVGhpcyBpcyBjYWxsZWQgYnkgcmVsZWFzZVBvaW50ZXJDYXB0dXJlIGluIHRoZSBBUEksIGFuZCB3aGVuIGFuIG9iamVjdCBpcyByZW1vdmVkLlxyXG4gKi9cbmZ1bmN0aW9uIHJlbGVhc2VJbnRlcm5hbFBvaW50ZXJDYXB0dXJlKGNhcHR1cmVkTWFwLCBvYmosIGNhcHR1cmVzLCBwb2ludGVySWQpIHtcbiAgY29uc3QgY2FwdHVyZURhdGEgPSBjYXB0dXJlcy5nZXQob2JqKTtcbiAgaWYgKGNhcHR1cmVEYXRhKSB7XG4gICAgY2FwdHVyZXMuZGVsZXRlKG9iaik7XG4gICAgLy8gSWYgdGhpcyB3YXMgdGhlIGxhc3QgY2FwdHVyaW5nIG9iamVjdCBmb3IgdGhpcyBwb2ludGVyXG4gICAgaWYgKGNhcHR1cmVzLnNpemUgPT09IDApIHtcbiAgICAgIGNhcHR1cmVkTWFwLmRlbGV0ZShwb2ludGVySWQpO1xuICAgICAgY2FwdHVyZURhdGEudGFyZ2V0LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShwb2ludGVySWQpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlSW50ZXJhY3Rpdml0eShzdG9yZSwgb2JqZWN0KSB7XG4gIGNvbnN0IHtcbiAgICBpbnRlcm5hbFxuICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgLy8gUmVtb3ZlcyBldmVyeSB0cmFjZSBvZiBhbiBvYmplY3QgZnJvbSB0aGUgZGF0YSBzdG9yZVxuICBpbnRlcm5hbC5pbnRlcmFjdGlvbiA9IGludGVybmFsLmludGVyYWN0aW9uLmZpbHRlcihvID0+IG8gIT09IG9iamVjdCk7XG4gIGludGVybmFsLmluaXRpYWxIaXRzID0gaW50ZXJuYWwuaW5pdGlhbEhpdHMuZmlsdGVyKG8gPT4gbyAhPT0gb2JqZWN0KTtcbiAgaW50ZXJuYWwuaG92ZXJlZC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaWYgKHZhbHVlLmV2ZW50T2JqZWN0ID09PSBvYmplY3QgfHwgdmFsdWUub2JqZWN0ID09PSBvYmplY3QpIHtcbiAgICAgIC8vIENsZWFyIG91dCBpbnRlcnNlY3RzLCB0aGV5IGFyZSBvdXRkYXRlZCBieSBub3dcbiAgICAgIGludGVybmFsLmhvdmVyZWQuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9KTtcbiAgaW50ZXJuYWwuY2FwdHVyZWRNYXAuZm9yRWFjaCgoY2FwdHVyZXMsIHBvaW50ZXJJZCkgPT4ge1xuICAgIHJlbGVhc2VJbnRlcm5hbFBvaW50ZXJDYXB0dXJlKGludGVybmFsLmNhcHR1cmVkTWFwLCBvYmplY3QsIGNhcHR1cmVzLCBwb2ludGVySWQpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50cyhzdG9yZSkge1xuICAvKiogQ2FsY3VsYXRlcyBkZWx0YSAqL1xuICBmdW5jdGlvbiBjYWxjdWxhdGVEaXN0YW5jZShldmVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGludGVybmFsXG4gICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgZHggPSBldmVudC5vZmZzZXRYIC0gaW50ZXJuYWwuaW5pdGlhbENsaWNrWzBdO1xuICAgIGNvbnN0IGR5ID0gZXZlbnQub2Zmc2V0WSAtIGludGVybmFsLmluaXRpYWxDbGlja1sxXTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm5zIHRydWUgaWYgYW4gaW5zdGFuY2UgaGFzIGEgdmFsaWQgcG9pbnRlci1ldmVudCByZWdpc3RlcmVkLCB0aGlzIGV4Y2x1ZGVzIHNjcm9sbCwgY2xpY2tzIGV0YyAqL1xuICBmdW5jdGlvbiBmaWx0ZXJQb2ludGVyRXZlbnRzKG9iamVjdHMpIHtcbiAgICByZXR1cm4gb2JqZWN0cy5maWx0ZXIob2JqID0+IFsnTW92ZScsICdPdmVyJywgJ0VudGVyJywgJ091dCcsICdMZWF2ZSddLnNvbWUobmFtZSA9PiB7XG4gICAgICB2YXIgX3IzZjtcbiAgICAgIHJldHVybiAoX3IzZiA9IG9iai5fX3IzZikgPT0gbnVsbCA/IHZvaWQgMCA6IF9yM2YuaGFuZGxlcnNbJ29uUG9pbnRlcicgKyBuYW1lXTtcbiAgICB9KSk7XG4gIH1cbiAgZnVuY3Rpb24gaW50ZXJzZWN0KGV2ZW50LCBmaWx0ZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgZHVwbGljYXRlcyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25zID0gW107XG4gICAgLy8gQWxsb3cgY2FsbGVycyB0byBlbGltaW5hdGUgZXZlbnQgb2JqZWN0c1xuICAgIGNvbnN0IGV2ZW50c09iamVjdHMgPSBmaWx0ZXIgPyBmaWx0ZXIoc3RhdGUuaW50ZXJuYWwuaW50ZXJhY3Rpb24pIDogc3RhdGUuaW50ZXJuYWwuaW50ZXJhY3Rpb247XG4gICAgLy8gUmVzZXQgYWxsIHJheWNhc3RlciBjYW1lcmFzIHRvIHVuZGVmaW5lZFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzT2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3RhdGUgPSBnZXRSb290U3RhdGUoZXZlbnRzT2JqZWN0c1tpXSk7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5wcmV2aW91c1Jvb3QpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSByb290LWxldmVsIHBvaW50ZXIgYW5kIHJheSBhcmUgc2V0IHVwXG4gICAgICBzdGF0ZS5ldmVudHMuY29tcHV0ZSA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUuZXZlbnRzLmNvbXB1dGUoZXZlbnQsIHN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmF5Y2FzdChvYmopIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Um9vdFN0YXRlKG9iaik7XG4gICAgICAvLyBTa2lwIGV2ZW50IGhhbmRsaW5nIHdoZW4gbm9FdmVudHMgaXMgc2V0LCBvciB3aGVuIHRoZSByYXljYXN0ZXJzIGNhbWVyYSBpcyBudWxsXG4gICAgICBpZiAoIXN0YXRlIHx8ICFzdGF0ZS5ldmVudHMuZW5hYmxlZCB8fCBzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID09PSBudWxsKSByZXR1cm4gW107XG5cbiAgICAgIC8vIFdoZW4gdGhlIGNhbWVyYSBpcyB1bmRlZmluZWQgd2UgaGF2ZSB0byBjYWxsIHRoZSBldmVudCBsYXllcnMgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICBpZiAoc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBfc3RhdGUkcHJldmlvdXNSb290O1xuICAgICAgICBzdGF0ZS5ldmVudHMuY29tcHV0ZSA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUuZXZlbnRzLmNvbXB1dGUoZXZlbnQsIHN0YXRlLCAoX3N0YXRlJHByZXZpb3VzUm9vdCA9IHN0YXRlLnByZXZpb3VzUm9vdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRwcmV2aW91c1Jvb3QuZ2V0U3RhdGUoKSk7XG4gICAgICAgIC8vIElmIHRoZSBjYW1lcmEgaXMgc3RpbGwgdW5kZWZpbmVkIHdlIGhhdmUgdG8gc2tpcCB0aGlzIGxheWVyIGVudGlyZWx5XG4gICAgICAgIGlmIChzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID09PSB1bmRlZmluZWQpIHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBJbnRlcnNlY3Qgb2JqZWN0IGJ5IG9iamVjdFxuICAgICAgcmV0dXJuIHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPyBzdGF0ZS5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0KG9iaiwgdHJ1ZSkgOiBbXTtcbiAgICB9XG5cbiAgICAvLyBDb2xsZWN0IGV2ZW50c1xuICAgIGxldCBoaXRzID0gZXZlbnRzT2JqZWN0c1xuICAgIC8vIEludGVyc2VjdCBvYmplY3RzXG4gICAgLmZsYXRNYXAoaGFuZGxlUmF5Y2FzdClcbiAgICAvLyBTb3J0IGJ5IGV2ZW50IHByaW9yaXR5IGFuZCBkaXN0YW5jZVxuICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhU3RhdGUgPSBnZXRSb290U3RhdGUoYS5vYmplY3QpO1xuICAgICAgY29uc3QgYlN0YXRlID0gZ2V0Um9vdFN0YXRlKGIub2JqZWN0KTtcbiAgICAgIGlmICghYVN0YXRlIHx8ICFiU3RhdGUpIHJldHVybiBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZTtcbiAgICAgIHJldHVybiBiU3RhdGUuZXZlbnRzLnByaW9yaXR5IC0gYVN0YXRlLmV2ZW50cy5wcmlvcml0eSB8fCBhLmRpc3RhbmNlIC0gYi5kaXN0YW5jZTtcbiAgICB9KVxuICAgIC8vIEZpbHRlciBvdXQgZHVwbGljYXRlc1xuICAgIC5maWx0ZXIoaXRlbSA9PiB7XG4gICAgICBjb25zdCBpZCA9IG1ha2VJZChpdGVtKTtcbiAgICAgIGlmIChkdXBsaWNhdGVzLmhhcyhpZCkpIHJldHVybiBmYWxzZTtcbiAgICAgIGR1cGxpY2F0ZXMuYWRkKGlkKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9pc3N1ZXMvMTYwMzFcbiAgICAvLyBBbGxvdyBjdXN0b20gdXNlcmxhbmQgaW50ZXJzZWN0IHNvcnQgb3JkZXIsIHRoaXMgbGlrZWx5IG9ubHkgbWFrZXMgc2Vuc2Ugb24gdGhlIHJvb3QgZmlsdGVyXG4gICAgaWYgKHN0YXRlLmV2ZW50cy5maWx0ZXIpIGhpdHMgPSBzdGF0ZS5ldmVudHMuZmlsdGVyKGhpdHMsIHN0YXRlKTtcblxuICAgIC8vIEJ1YmJsZSB1cCB0aGUgZXZlbnRzLCBmaW5kIHRoZSBldmVudCBzb3VyY2UgKGV2ZW50T2JqZWN0KVxuICAgIGZvciAoY29uc3QgaGl0IG9mIGhpdHMpIHtcbiAgICAgIGxldCBldmVudE9iamVjdCA9IGhpdC5vYmplY3Q7XG4gICAgICAvLyBCdWJibGUgZXZlbnQgdXBcbiAgICAgIHdoaWxlIChldmVudE9iamVjdCkge1xuICAgICAgICB2YXIgX3IzZjI7XG4gICAgICAgIGlmICgoX3IzZjIgPSBldmVudE9iamVjdC5fX3IzZikgIT0gbnVsbCAmJiBfcjNmMi5ldmVudENvdW50KSBpbnRlcnNlY3Rpb25zLnB1c2goe1xuICAgICAgICAgIC4uLmhpdCxcbiAgICAgICAgICBldmVudE9iamVjdFxuICAgICAgICB9KTtcbiAgICAgICAgZXZlbnRPYmplY3QgPSBldmVudE9iamVjdC5wYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGludGVyYWN0aW9uIGlzIGNhcHR1cmVkLCBtYWtlIGFsbCBjYXB0dXJpbmcgdGFyZ2V0cyBwYXJ0IG9mIHRoZSBpbnRlcnNlY3QuXG4gICAgaWYgKCdwb2ludGVySWQnIGluIGV2ZW50ICYmIHN0YXRlLmludGVybmFsLmNhcHR1cmVkTWFwLmhhcyhldmVudC5wb2ludGVySWQpKSB7XG4gICAgICBmb3IgKGxldCBjYXB0dXJlRGF0YSBvZiBzdGF0ZS5pbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoZXZlbnQucG9pbnRlcklkKS52YWx1ZXMoKSkge1xuICAgICAgICBpZiAoIWR1cGxpY2F0ZXMuaGFzKG1ha2VJZChjYXB0dXJlRGF0YS5pbnRlcnNlY3Rpb24pKSkgaW50ZXJzZWN0aW9ucy5wdXNoKGNhcHR1cmVEYXRhLmludGVyc2VjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuICB9XG5cbiAgLyoqICBIYW5kbGVzIGludGVyc2VjdGlvbnMgYnkgZm9yd2FyZGluZyB0aGVtIHRvIGhhbmRsZXJzICovXG4gIGZ1bmN0aW9uIGhhbmRsZUludGVyc2VjdHMoaW50ZXJzZWN0aW9ucywgZXZlbnQsIGRlbHRhLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHJvb3RTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAvLyBJZiBhbnl0aGluZyBoYXMgYmVlbiBmb3VuZCwgZm9yd2FyZCBpdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBsb2NhbFN0YXRlID0ge1xuICAgICAgICBzdG9wcGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIGZvciAoY29uc3QgaGl0IG9mIGludGVyc2VjdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRSb290U3RhdGUoaGl0Lm9iamVjdCkgfHwgcm9vdFN0YXRlO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgcmF5Y2FzdGVyLFxuICAgICAgICAgIHBvaW50ZXIsXG4gICAgICAgICAgY2FtZXJhLFxuICAgICAgICAgIGludGVybmFsXG4gICAgICAgIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgdW5wcm9qZWN0ZWRQb2ludCA9IG5ldyBUSFJFRV9fbmFtZXNwYWNlLlZlY3RvcjMocG9pbnRlci54LCBwb2ludGVyLnksIDApLnVucHJvamVjdChjYW1lcmEpO1xuICAgICAgICBjb25zdCBoYXNQb2ludGVyQ2FwdHVyZSA9IGlkID0+IHtcbiAgICAgICAgICB2YXIgX2ludGVybmFsJGNhcHR1cmVkTWFwLCBfaW50ZXJuYWwkY2FwdHVyZWRNYXAyO1xuICAgICAgICAgIHJldHVybiAoX2ludGVybmFsJGNhcHR1cmVkTWFwID0gKF9pbnRlcm5hbCRjYXB0dXJlZE1hcDIgPSBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoaWQpKSA9PSBudWxsID8gdm9pZCAwIDogX2ludGVybmFsJGNhcHR1cmVkTWFwMi5oYXMoaGl0LmV2ZW50T2JqZWN0KSkgIT0gbnVsbCA/IF9pbnRlcm5hbCRjYXB0dXJlZE1hcCA6IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXRQb2ludGVyQ2FwdHVyZSA9IGlkID0+IHtcbiAgICAgICAgICBjb25zdCBjYXB0dXJlRGF0YSA9IHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbjogaGl0LFxuICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChpbnRlcm5hbC5jYXB0dXJlZE1hcC5oYXMoaWQpKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcG9pbnRlcklkIHdhcyBwcmV2aW91c2x5IGNhcHR1cmVkLCB3ZSBhZGQgdGhlIGhpdCB0byB0aGVcbiAgICAgICAgICAgIC8vIGV2ZW50IGNhcHR1cmVkTWFwLlxuICAgICAgICAgICAgaW50ZXJuYWwuY2FwdHVyZWRNYXAuZ2V0KGlkKS5zZXQoaGl0LmV2ZW50T2JqZWN0LCBjYXB0dXJlRGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwb2ludGVySWQgd2FzIG5vdCBwcmV2aW91c2x5IGNhcHR1cmVkLCB3ZSBjcmVhdGUgYSBtYXBcbiAgICAgICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGhpdE9iamVjdCwgYW5kIHRoZSBoaXQuIGhpdE9iamVjdCBpcyB1c2VkIGZvclxuICAgICAgICAgICAgLy8gZmFzdGVyIGFjY2Vzcy5cbiAgICAgICAgICAgIGludGVybmFsLmNhcHR1cmVkTWFwLnNldChpZCwgbmV3IE1hcChbW2hpdC5ldmVudE9iamVjdCwgY2FwdHVyZURhdGFdXSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBldmVudC50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoaWQpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZWxlYXNlUG9pbnRlckNhcHR1cmUgPSBpZCA9PiB7XG4gICAgICAgICAgY29uc3QgY2FwdHVyZXMgPSBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoaWQpO1xuICAgICAgICAgIGlmIChjYXB0dXJlcykge1xuICAgICAgICAgICAgcmVsZWFzZUludGVybmFsUG9pbnRlckNhcHR1cmUoaW50ZXJuYWwuY2FwdHVyZWRNYXAsIGhpdC5ldmVudE9iamVjdCwgY2FwdHVyZXMsIGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIG5hdGl2ZSBldmVudCBwcm9wc1xuICAgICAgICBsZXQgZXh0cmFjdEV2ZW50UHJvcHMgPSB7fTtcbiAgICAgICAgLy8gVGhpcyBpdGVyYXRlcyBvdmVyIHRoZSBldmVudCdzIHByb3BlcnRpZXMgaW5jbHVkaW5nIHRoZSBpbmhlcml0ZWQgb25lcy4gTmF0aXZlIFBvaW50ZXJFdmVudHMgaGF2ZSBtb3N0IG9mIHRoZWlyIHByb3BzIGFzIGdldHRlcnMgd2hpY2ggYXJlIGluaGVyaXRlZCwgYnV0IHBvbHlmaWxsZWQgUG9pbnRlckV2ZW50cyBoYXZlIHRoZW0gYWxsIGFzIHRoZWlyIG93biBwcm9wZXJ0aWVzIChpLmUuIG5vdCBpbmhlcml0ZWQpLiBXZSBjYW4ndCB1c2UgT2JqZWN0LmtleXMoKSBvciBPYmplY3QuZW50cmllcygpIGFzIHRoZXkgb25seSByZXR1cm4gXCJvd25cIiBwcm9wZXJ0aWVzOyBub3IgT2JqZWN0LmdldFByb3RvdHlwZU9mKGV2ZW50KSBhcyB0aGF0ICpkb2Vzbid0KiByZXR1cm4gXCJvd25cIiBwcm9wZXJ0aWVzLCBvbmx5IGluaGVyaXRlZCBvbmVzLlxuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGV2ZW50KSB7XG4gICAgICAgICAgbGV0IHByb3BlcnR5ID0gZXZlbnRbcHJvcF07XG4gICAgICAgICAgLy8gT25seSBjb3B5IG92ZXIgYXRvbWljcywgbGVhdmUgZnVuY3Rpb25zIGFsb25lIGFzIHRoZXNlIHNob3VsZCBiZVxuICAgICAgICAgIC8vIGNhbGxlZCBhcyBldmVudC5uYXRpdmVFdmVudC5mbigpXG4gICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gJ2Z1bmN0aW9uJykgZXh0cmFjdEV2ZW50UHJvcHNbcHJvcF0gPSBwcm9wZXJ0eTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmF5Y2FzdEV2ZW50ID0ge1xuICAgICAgICAgIC4uLmhpdCxcbiAgICAgICAgICAuLi5leHRyYWN0RXZlbnRQcm9wcyxcbiAgICAgICAgICBwb2ludGVyLFxuICAgICAgICAgIGludGVyc2VjdGlvbnMsXG4gICAgICAgICAgc3RvcHBlZDogbG9jYWxTdGF0ZS5zdG9wcGVkLFxuICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgIHVucHJvamVjdGVkUG9pbnQsXG4gICAgICAgICAgcmF5OiByYXljYXN0ZXIucmF5LFxuICAgICAgICAgIGNhbWVyYTogY2FtZXJhLFxuICAgICAgICAgIC8vIEhpamFjayBzdG9wUHJvcGFnYXRpb24sIHdoaWNoIGp1c3Qgc2V0cyBhIGZsYWdcbiAgICAgICAgICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy81OTZcbiAgICAgICAgICAgIC8vIEV2ZW50cyBhcmUgbm90IGFsbG93ZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiBpZiB0aGUgcG9pbnRlciBoYXMgYmVlbiBjYXB0dXJlZFxuICAgICAgICAgICAgY29uc3QgY2FwdHVyZXNGb3JQb2ludGVyID0gJ3BvaW50ZXJJZCcgaW4gZXZlbnQgJiYgaW50ZXJuYWwuY2FwdHVyZWRNYXAuZ2V0KGV2ZW50LnBvaW50ZXJJZCk7XG5cbiAgICAgICAgICAgIC8vIFdlIG9ubHkgYXV0aG9yaXplIHN0b3BQcm9wYWdhdGlvbi4uLlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gLi4uaWYgdGhpcyBwb2ludGVyIGhhc24ndCBiZWVuIGNhcHR1cmVkXG4gICAgICAgICAgICAhY2FwdHVyZXNGb3JQb2ludGVyIHx8XG4gICAgICAgICAgICAvLyAuLi4gb3IgaWYgdGhlIGhpdCBvYmplY3QgaXMgY2FwdHVyaW5nIHRoZSBwb2ludGVyXG4gICAgICAgICAgICBjYXB0dXJlc0ZvclBvaW50ZXIuaGFzKGhpdC5ldmVudE9iamVjdCkpIHtcbiAgICAgICAgICAgICAgcmF5Y2FzdEV2ZW50LnN0b3BwZWQgPSBsb2NhbFN0YXRlLnN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAvLyBQcm9wYWdhdGlvbiBpcyBzdG9wcGVkLCByZW1vdmUgYWxsIG90aGVyIGhvdmVyIHJlY29yZHNcbiAgICAgICAgICAgICAgLy8gQW4gZXZlbnQgaGFuZGxlciBpcyBvbmx5IGFsbG93ZWQgdG8gZmx1c2ggb3RoZXIgaGFuZGxlcnMgaWYgaXQgaXMgaG92ZXJlZCBpdHNlbGZcbiAgICAgICAgICAgICAgaWYgKGludGVybmFsLmhvdmVyZWQuc2l6ZSAmJiBBcnJheS5mcm9tKGludGVybmFsLmhvdmVyZWQudmFsdWVzKCkpLmZpbmQoaSA9PiBpLmV2ZW50T2JqZWN0ID09PSBoaXQuZXZlbnRPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgLy8gT2JqZWN0cyBjYW5ub3QgZmx1c2ggb3V0IGhpZ2hlciB1cCBvYmplY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGNhdWdodCB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBoaWdoZXIgPSBpbnRlcnNlY3Rpb25zLnNsaWNlKDAsIGludGVyc2VjdGlvbnMuaW5kZXhPZihoaXQpKTtcbiAgICAgICAgICAgICAgICBjYW5jZWxQb2ludGVyKFsuLi5oaWdoZXIsIGhpdF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgYSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHRhcmdldCBhbmQgY3VycmVudFRhcmdldFxuICAgICAgICAgIHRhcmdldDoge1xuICAgICAgICAgICAgaGFzUG9pbnRlckNhcHR1cmUsXG4gICAgICAgICAgICBzZXRQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgIHJlbGVhc2VQb2ludGVyQ2FwdHVyZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VycmVudFRhcmdldDoge1xuICAgICAgICAgICAgaGFzUG9pbnRlckNhcHR1cmUsXG4gICAgICAgICAgICBzZXRQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgIHJlbGVhc2VQb2ludGVyQ2FwdHVyZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FsbCBzdWJzY3JpYmVyc1xuICAgICAgICBjYWxsYmFjayhyYXljYXN0RXZlbnQpO1xuICAgICAgICAvLyBFdmVudCBidWJibGluZyBtYXkgYmUgaW50ZXJydXB0ZWQgYnkgc3RvcFByb3BhZ2F0aW9uXG4gICAgICAgIGlmIChsb2NhbFN0YXRlLnN0b3BwZWQgPT09IHRydWUpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0aW9ucztcbiAgfVxuICBmdW5jdGlvbiBjYW5jZWxQb2ludGVyKGludGVyc2VjdGlvbnMpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbnRlcm5hbFxuICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGZvciAoY29uc3QgaG92ZXJlZE9iaiBvZiBpbnRlcm5hbC5ob3ZlcmVkLnZhbHVlcygpKSB7XG4gICAgICAvLyBXaGVuIG5vIG9iamVjdHMgd2VyZSBoaXQgb3IgdGhlIHRoZSBob3ZlcmVkIG9iamVjdCB3YXNuJ3QgZm91bmQgdW5kZXJuZWF0aCB0aGUgY3Vyc29yXG4gICAgICAvLyB3ZSBjYWxsIG9uUG9pbnRlck91dCBhbmQgZGVsZXRlIHRoZSBvYmplY3QgZnJvbSB0aGUgaG92ZXJlZC1lbGVtZW50cyBtYXBcbiAgICAgIGlmICghaW50ZXJzZWN0aW9ucy5sZW5ndGggfHwgIWludGVyc2VjdGlvbnMuZmluZChoaXQgPT4gaGl0Lm9iamVjdCA9PT0gaG92ZXJlZE9iai5vYmplY3QgJiYgaGl0LmluZGV4ID09PSBob3ZlcmVkT2JqLmluZGV4ICYmIGhpdC5pbnN0YW5jZUlkID09PSBob3ZlcmVkT2JqLmluc3RhbmNlSWQpKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50T2JqZWN0ID0gaG92ZXJlZE9iai5ldmVudE9iamVjdDtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBldmVudE9iamVjdC5fX3IzZjtcbiAgICAgICAgY29uc3QgaGFuZGxlcnMgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuaGFuZGxlcnM7XG4gICAgICAgIGludGVybmFsLmhvdmVyZWQuZGVsZXRlKG1ha2VJZChob3ZlcmVkT2JqKSk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsICYmIGluc3RhbmNlLmV2ZW50Q291bnQpIHtcbiAgICAgICAgICAvLyBDbGVhciBvdXQgaW50ZXJzZWN0cywgdGhleSBhcmUgb3V0ZGF0ZWQgYnkgbm93XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIC4uLmhvdmVyZWRPYmosXG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25zXG4gICAgICAgICAgfTtcbiAgICAgICAgICBoYW5kbGVycy5vblBvaW50ZXJPdXQgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXJzLm9uUG9pbnRlck91dChkYXRhKTtcbiAgICAgICAgICBoYW5kbGVycy5vblBvaW50ZXJMZWF2ZSA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyTGVhdmUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcG9pbnRlck1pc3NlZChldmVudCwgb2JqZWN0cykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBvYmplY3RzW2ldLl9fcjNmO1xuICAgICAgaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmhhbmRsZXJzLm9uUG9pbnRlck1pc3NlZCA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuaGFuZGxlcnMub25Qb2ludGVyTWlzc2VkKGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlcihuYW1lKSB7XG4gICAgLy8gRGVhbCB3aXRoIGNhbmNlbGF0aW9uXG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdvblBvaW50ZXJMZWF2ZSc6XG4gICAgICBjYXNlICdvblBvaW50ZXJDYW5jZWwnOlxuICAgICAgICByZXR1cm4gKCkgPT4gY2FuY2VsUG9pbnRlcihbXSk7XG4gICAgICBjYXNlICdvbkxvc3RQb2ludGVyQ2FwdHVyZSc6XG4gICAgICAgIHJldHVybiBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW50ZXJuYWxcbiAgICAgICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBpZiAoJ3BvaW50ZXJJZCcgaW4gZXZlbnQgJiYgaW50ZXJuYWwuY2FwdHVyZWRNYXAuaGFzKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgZXZlbnQgaW50ZXJmYWNlIGhhZCBvbkxvc3RQb2ludGVyQ2FwdHVyZSwgd2UnZCBjYWxsIGl0IGhlcmUgb24gZXZlcnlcbiAgICAgICAgICAgIC8vIG9iamVjdCB0aGF0J3MgZ2V0dGluZyByZW1vdmVkLiBXZSBjYWxsIGl0IG9uIHRoZSBuZXh0IGZyYW1lIGJlY2F1c2Ugb25Mb3N0UG9pbnRlckNhcHR1cmVcbiAgICAgICAgICAgIC8vIGZpcmVzIGJlZm9yZSBvblBvaW50ZXJVcC4gT3RoZXJ3aXNlIHBvaW50ZXJVcCB3b3VsZCBuZXZlciBiZSBjYWxsZWQgaWYgdGhlIGV2ZW50IGRpZG4ndFxuICAgICAgICAgICAgLy8gaGFwcGVuIGluIHRoZSBvYmplY3QgaXQgb3JpZ2luYXRlZCBmcm9tLCBsZWF2aW5nIGNvbXBvbmVudHMgaW4gYSBpbi1iZXR3ZWVuIHN0YXRlLlxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgLy8gT25seSByZWxlYXNlIGlmIHBvaW50ZXItdXAgZGlkbid0IGRvIGl0IGFscmVhZHlcbiAgICAgICAgICAgICAgaWYgKGludGVybmFsLmNhcHR1cmVkTWFwLmhhcyhldmVudC5wb2ludGVySWQpKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWwuY2FwdHVyZWRNYXAuZGVsZXRlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgY2FuY2VsUG9pbnRlcihbXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBbnkgb3RoZXIgcG9pbnRlciBnb2VzIGhlcmUgLi4uXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIG9uUG9pbnRlck1pc3NlZCxcbiAgICAgICAgaW50ZXJuYWxcbiAgICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAvLyBwcmVwYXJlUmF5KGV2ZW50KVxuICAgICAgaW50ZXJuYWwubGFzdEV2ZW50LmN1cnJlbnQgPSBldmVudDtcblxuICAgICAgLy8gR2V0IGZyZXNoIGludGVyc2VjdHNcbiAgICAgIGNvbnN0IGlzUG9pbnRlck1vdmUgPSBuYW1lID09PSAnb25Qb2ludGVyTW92ZSc7XG4gICAgICBjb25zdCBpc0NsaWNrRXZlbnQgPSBuYW1lID09PSAnb25DbGljaycgfHwgbmFtZSA9PT0gJ29uQ29udGV4dE1lbnUnIHx8IG5hbWUgPT09ICdvbkRvdWJsZUNsaWNrJztcbiAgICAgIGNvbnN0IGZpbHRlciA9IGlzUG9pbnRlck1vdmUgPyBmaWx0ZXJQb2ludGVyRXZlbnRzIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgaGl0cyA9IGludGVyc2VjdChldmVudCwgZmlsdGVyKTtcbiAgICAgIGNvbnN0IGRlbHRhID0gaXNDbGlja0V2ZW50ID8gY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQpIDogMDtcblxuICAgICAgLy8gU2F2ZSBpbml0aWFsIGNvb3JkaW5hdGVzIG9uIHBvaW50ZXItZG93blxuICAgICAgaWYgKG5hbWUgPT09ICdvblBvaW50ZXJEb3duJykge1xuICAgICAgICBpbnRlcm5hbC5pbml0aWFsQ2xpY2sgPSBbZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07XG4gICAgICAgIGludGVybmFsLmluaXRpYWxIaXRzID0gaGl0cy5tYXAoaGl0ID0+IGhpdC5ldmVudE9iamVjdCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGEgY2xpY2sgeWllbGRzIG5vIHJlc3VsdHMsIHBhc3MgaXQgYmFjayB0byB0aGUgdXNlciBhcyBhIG1pc3NcbiAgICAgIC8vIE1pc3NlZCBldmVudHMgaGF2ZSB0byBjb21lIGZpcnN0IGluIG9yZGVyIHRvIGVzdGFibGlzaCB1c2VyLWxhbmQgc2lkZS1lZmZlY3QgY2xlYW4gdXBcbiAgICAgIGlmIChpc0NsaWNrRXZlbnQgJiYgIWhpdHMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChkZWx0YSA8PSAyKSB7XG4gICAgICAgICAgcG9pbnRlck1pc3NlZChldmVudCwgaW50ZXJuYWwuaW50ZXJhY3Rpb24pO1xuICAgICAgICAgIGlmIChvblBvaW50ZXJNaXNzZWQpIG9uUG9pbnRlck1pc3NlZChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFRha2UgY2FyZSBvZiB1bmhvdmVyXG4gICAgICBpZiAoaXNQb2ludGVyTW92ZSkgY2FuY2VsUG9pbnRlcihoaXRzKTtcbiAgICAgIGZ1bmN0aW9uIG9uSW50ZXJzZWN0KGRhdGEpIHtcbiAgICAgICAgY29uc3QgZXZlbnRPYmplY3QgPSBkYXRhLmV2ZW50T2JqZWN0O1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGV2ZW50T2JqZWN0Ll9fcjNmO1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5oYW5kbGVycztcblxuICAgICAgICAvLyBDaGVjayBwcmVzZW5jZSBvZiBoYW5kbGVyc1xuICAgICAgICBpZiAoIShpbnN0YW5jZSAhPSBudWxsICYmIGluc3RhbmNlLmV2ZW50Q291bnQpKSByZXR1cm47XG5cbiAgICAgICAgLypcclxuICAgICAgICBNQVlCRSBUT0RPLCBERUxFVEUgSUYgTk9UOiBcclxuICAgICAgICAgIENoZWNrIGlmIHRoZSBvYmplY3QgaXMgY2FwdHVyZWQsIGNhcHR1cmVkIGV2ZW50cyBzaG91bGQgbm90IGhhdmUgaW50ZXJzZWN0cyBydW5uaW5nIGluIHBhcmFsbGVsXHJcbiAgICAgICAgICBCdXQgd291bGRuJ3QgaXQgYmUgYmV0dGVyIHRvIGp1c3QgcmVwbGFjZSBjYXB0dXJlZE1hcCB3aXRoIGEgc2luZ2xlIGVudHJ5P1xyXG4gICAgICAgICAgQWxzbywgYXJlIHdlIE9LIHdpdGggc3RyYWlnaHQgdXAgbWFraW5nIHBpY2tpbmcgdXAgbXVsdGlwbGUgb2JqZWN0cyBpbXBvc3NpYmxlP1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcG9pbnRlcklkID0gKGRhdGEgYXMgVGhyZWVFdmVudDxQb2ludGVyRXZlbnQ+KS5wb2ludGVySWQgICAgICAgIFxyXG4gICAgICAgIGlmIChwb2ludGVySWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgY29uc3QgY2FwdHVyZWRNZXNoU2V0ID0gaW50ZXJuYWwuY2FwdHVyZWRNYXAuZ2V0KHBvaW50ZXJJZClcclxuICAgICAgICAgIGlmIChjYXB0dXJlZE1lc2hTZXQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FwdHVyZWQgPSBjYXB0dXJlZE1lc2hTZXQuZ2V0KGV2ZW50T2JqZWN0KVxyXG4gICAgICAgICAgICBpZiAoY2FwdHVyZWQgJiYgY2FwdHVyZWQubG9jYWxTdGF0ZS5zdG9wcGVkKSByZXR1cm5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9Ki9cblxuICAgICAgICBpZiAoaXNQb2ludGVyTW92ZSkge1xuICAgICAgICAgIC8vIE1vdmUgZXZlbnQgLi4uXG4gICAgICAgICAgaWYgKGhhbmRsZXJzLm9uUG9pbnRlck92ZXIgfHwgaGFuZGxlcnMub25Qb2ludGVyRW50ZXIgfHwgaGFuZGxlcnMub25Qb2ludGVyT3V0IHx8IGhhbmRsZXJzLm9uUG9pbnRlckxlYXZlKSB7XG4gICAgICAgICAgICAvLyBXaGVuIGVudGVyIG9yIG91dCBpcyBwcmVzZW50IHRha2UgY2FyZSBvZiBob3Zlci1zdGF0ZVxuICAgICAgICAgICAgY29uc3QgaWQgPSBtYWtlSWQoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBob3ZlcmVkSXRlbSA9IGludGVybmFsLmhvdmVyZWQuZ2V0KGlkKTtcbiAgICAgICAgICAgIGlmICghaG92ZXJlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCB3YXNuJ3QgcHJldmlvdXNseSBob3ZlcmVkLCBib29rIGl0IGFuZCBjYWxsIGl0cyBoYW5kbGVyXG4gICAgICAgICAgICAgIGludGVybmFsLmhvdmVyZWQuc2V0KGlkLCBkYXRhKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMub25Qb2ludGVyT3ZlciA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyT3ZlcihkYXRhKTtcbiAgICAgICAgICAgICAgaGFuZGxlcnMub25Qb2ludGVyRW50ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXJzLm9uUG9pbnRlckVudGVyKGRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChob3ZlcmVkSXRlbS5zdG9wcGVkKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3Qgd2FzIHByZXZpb3VzbHkgaG92ZXJlZCBhbmQgc3RvcHBlZCwgd2Ugc2hvdWxkbid0IGFsbG93IG90aGVyIGl0ZW1zIHRvIHByb2NlZWRcbiAgICAgICAgICAgICAgZGF0YS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2FsbCBtb3VzZSBtb3ZlXG4gICAgICAgICAgaGFuZGxlcnMub25Qb2ludGVyTW92ZSA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyTW92ZShkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBbGwgb3RoZXIgZXZlbnRzIC4uLlxuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1tuYW1lXTtcbiAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgLy8gRm9yd2FyZCBhbGwgZXZlbnRzIGJhY2sgdG8gdGhlaXIgcmVzcGVjdGl2ZSBoYW5kbGVycyB3aXRoIHRoZSBleGNlcHRpb24gb2YgY2xpY2sgZXZlbnRzLFxuICAgICAgICAgICAgLy8gd2hpY2ggbXVzdCB1c2UgdGhlIGluaXRpYWwgdGFyZ2V0XG4gICAgICAgICAgICBpZiAoIWlzQ2xpY2tFdmVudCB8fCBpbnRlcm5hbC5pbml0aWFsSGl0cy5pbmNsdWRlcyhldmVudE9iamVjdCkpIHtcbiAgICAgICAgICAgICAgLy8gTWlzc2VkIGV2ZW50cyBoYXZlIHRvIGNvbWUgZmlyc3RcbiAgICAgICAgICAgICAgcG9pbnRlck1pc3NlZChldmVudCwgaW50ZXJuYWwuaW50ZXJhY3Rpb24uZmlsdGVyKG9iamVjdCA9PiAhaW50ZXJuYWwuaW5pdGlhbEhpdHMuaW5jbHVkZXMob2JqZWN0KSkpO1xuICAgICAgICAgICAgICAvLyBOb3cgY2FsbCB0aGUgaGFuZGxlclxuICAgICAgICAgICAgICBoYW5kbGVyKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcmlnZ2VyIG9uUG9pbnRlck1pc3NlZCBvbiBhbGwgZWxlbWVudHMgdGhhdCBoYXZlIHBvaW50ZXIgb3Zlci9vdXQgaGFuZGxlcnMsIGJ1dCBub3QgY2xpY2sgYW5kIHdlcmVuJ3QgaGl0XG4gICAgICAgICAgICBpZiAoaXNDbGlja0V2ZW50ICYmIGludGVybmFsLmluaXRpYWxIaXRzLmluY2x1ZGVzKGV2ZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgICBwb2ludGVyTWlzc2VkKGV2ZW50LCBpbnRlcm5hbC5pbnRlcmFjdGlvbi5maWx0ZXIob2JqZWN0ID0+ICFpbnRlcm5hbC5pbml0aWFsSGl0cy5pbmNsdWRlcyhvYmplY3QpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBoYW5kbGVJbnRlcnNlY3RzKGhpdHMsIGV2ZW50LCBkZWx0YSwgb25JbnRlcnNlY3QpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBoYW5kbGVQb2ludGVyXG4gIH07XG59XG5cbi8vIEtleXMgdGhhdCBzaG91bGRuJ3QgYmUgY29waWVkIGJldHdlZW4gUjNGIHN0b3Jlc1xuY29uc3QgcHJpdmF0ZUtleXMgPSBbJ3NldCcsICdnZXQnLCAnc2V0U2l6ZScsICdzZXRGcmFtZWxvb3AnLCAnc2V0RHByJywgJ2V2ZW50cycsICdpbnZhbGlkYXRlJywgJ2FkdmFuY2UnLCAnc2l6ZScsICd2aWV3cG9ydCddO1xuY29uc3QgaXNSZW5kZXJlciA9IGRlZiA9PiAhIShkZWYgIT0gbnVsbCAmJiBkZWYucmVuZGVyKTtcbmNvbnN0IGNvbnRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3RfX25hbWVzcGFjZS5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgY3JlYXRlU3RvcmUgPSAoaW52YWxpZGF0ZSwgYWR2YW5jZSkgPT4ge1xuICBjb25zdCByb290U3RhdGUgPSBjcmVhdGVfX2RlZmF1bHRbXCJkZWZhdWx0XCJdKChzZXQsIGdldCkgPT4ge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFRIUkVFX19uYW1lc3BhY2UuVmVjdG9yMygpO1xuICAgIGNvbnN0IGRlZmF1bHRUYXJnZXQgPSBuZXcgVEhSRUVfX25hbWVzcGFjZS5WZWN0b3IzKCk7XG4gICAgY29uc3QgdGVtcFRhcmdldCA9IG5ldyBUSFJFRV9fbmFtZXNwYWNlLlZlY3RvcjMoKTtcbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Vmlld3BvcnQoY2FtZXJhID0gZ2V0KCkuY2FtZXJhLCB0YXJnZXQgPSBkZWZhdWx0VGFyZ2V0LCBzaXplID0gZ2V0KCkuc2l6ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0b3AsXG4gICAgICAgIGxlZnRcbiAgICAgIH0gPSBzaXplO1xuICAgICAgY29uc3QgYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgICBpZiAodGFyZ2V0LmlzVmVjdG9yMykgdGVtcFRhcmdldC5jb3B5KHRhcmdldCk7ZWxzZSB0ZW1wVGFyZ2V0LnNldCguLi50YXJnZXQpO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYW1lcmEuZ2V0V29ybGRQb3NpdGlvbihwb3NpdGlvbikuZGlzdGFuY2VUbyh0ZW1wVGFyZ2V0KTtcbiAgICAgIGlmIChpc09ydGhvZ3JhcGhpY0NhbWVyYShjYW1lcmEpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoIC8gY2FtZXJhLnpvb20sXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLyBjYW1lcmEuem9vbSxcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdCxcbiAgICAgICAgICBmYWN0b3I6IDEsXG4gICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgYXNwZWN0XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmb3YgPSBjYW1lcmEuZm92ICogTWF0aC5QSSAvIDE4MDsgLy8gY29udmVydCB2ZXJ0aWNhbCBmb3YgdG8gcmFkaWFuc1xuICAgICAgICBjb25zdCBoID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogZGlzdGFuY2U7IC8vIHZpc2libGUgaGVpZ2h0XG4gICAgICAgIGNvbnN0IHcgPSBoICogKHdpZHRoIC8gaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgdG9wLFxuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgZmFjdG9yOiB3aWR0aCAvIHcsXG4gICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgYXNwZWN0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBwZXJmb3JtYW5jZVRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc2V0UGVyZm9ybWFuY2VDdXJyZW50ID0gY3VycmVudCA9PiBzZXQoc3RhdGUgPT4gKHtcbiAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIC4uLnN0YXRlLnBlcmZvcm1hbmNlLFxuICAgICAgICBjdXJyZW50XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGNvbnN0IHBvaW50ZXIgPSBuZXcgVEhSRUVfX25hbWVzcGFjZS5WZWN0b3IyKCk7XG4gICAgY29uc3Qgcm9vdFN0YXRlID0ge1xuICAgICAgc2V0LFxuICAgICAgZ2V0LFxuICAgICAgLy8gTW9jayBvYmplY3RzIHRoYXQgaGF2ZSB0byBiZSBjb25maWd1cmVkXG4gICAgICBnbDogbnVsbCxcbiAgICAgIGNhbWVyYTogbnVsbCxcbiAgICAgIHJheWNhc3RlcjogbnVsbCxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBwcmlvcml0eTogMSxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgY29ubmVjdGVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHhyOiBudWxsLFxuICAgICAgc2NlbmU6IG51bGwsXG4gICAgICBpbnZhbGlkYXRlOiAoZnJhbWVzID0gMSkgPT4gaW52YWxpZGF0ZShnZXQoKSwgZnJhbWVzKSxcbiAgICAgIGFkdmFuY2U6ICh0aW1lc3RhbXAsIHJ1bkdsb2JhbEVmZmVjdHMpID0+IGFkdmFuY2UodGltZXN0YW1wLCBydW5HbG9iYWxFZmZlY3RzLCBnZXQoKSksXG4gICAgICBsZWdhY3k6IGZhbHNlLFxuICAgICAgbGluZWFyOiBmYWxzZSxcbiAgICAgIGZsYXQ6IGZhbHNlLFxuICAgICAgY29udHJvbHM6IG51bGwsXG4gICAgICBjbG9jazogbmV3IFRIUkVFX19uYW1lc3BhY2UuQ2xvY2soKSxcbiAgICAgIHBvaW50ZXIsXG4gICAgICBtb3VzZTogcG9pbnRlcixcbiAgICAgIGZyYW1lbG9vcDogJ2Fsd2F5cycsXG4gICAgICBvblBvaW50ZXJNaXNzZWQ6IHVuZGVmaW5lZCxcbiAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIG1pbjogMC41LFxuICAgICAgICBtYXg6IDEsXG4gICAgICAgIGRlYm91bmNlOiAyMDAsXG4gICAgICAgIHJlZ3Jlc3M6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IGdldCgpO1xuICAgICAgICAgIC8vIENsZWFyIHRpbWVvdXRcbiAgICAgICAgICBpZiAocGVyZm9ybWFuY2VUaW1lb3V0KSBjbGVhclRpbWVvdXQocGVyZm9ybWFuY2VUaW1lb3V0KTtcbiAgICAgICAgICAvLyBTZXQgbG93ZXIgYm91bmQgcGVyZm9ybWFuY2VcbiAgICAgICAgICBpZiAoc3RhdGUucGVyZm9ybWFuY2UuY3VycmVudCAhPT0gc3RhdGUucGVyZm9ybWFuY2UubWluKSBzZXRQZXJmb3JtYW5jZUN1cnJlbnQoc3RhdGUucGVyZm9ybWFuY2UubWluKTtcbiAgICAgICAgICAvLyBHbyBiYWNrIHRvIHVwcGVyIGJvdW5kIHBlcmZvcm1hbmNlIGFmdGVyIGEgd2hpbGUgdW5sZXNzIHNvbWV0aGluZyByZWdyZXNzZXMgbWVhbndoaWxlXG4gICAgICAgICAgcGVyZm9ybWFuY2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBzZXRQZXJmb3JtYW5jZUN1cnJlbnQoZ2V0KCkucGVyZm9ybWFuY2UubWF4KSwgc3RhdGUucGVyZm9ybWFuY2UuZGVib3VuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHVwZGF0ZVN0eWxlOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgIGluaXRpYWxEcHI6IDAsXG4gICAgICAgIGRwcjogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBhc3BlY3Q6IDAsXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgICBmYWN0b3I6IDAsXG4gICAgICAgIGdldEN1cnJlbnRWaWV3cG9ydFxuICAgICAgfSxcbiAgICAgIHNldEV2ZW50czogZXZlbnRzID0+IHNldChzdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgLi4uc3RhdGUuZXZlbnRzLFxuICAgICAgICAgIC4uLmV2ZW50c1xuICAgICAgICB9XG4gICAgICB9KSksXG4gICAgICBzZXRTaXplOiAod2lkdGgsIGhlaWdodCwgdXBkYXRlU3R5bGUsIHRvcCwgbGVmdCkgPT4ge1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBnZXQoKS5jYW1lcmE7XG4gICAgICAgIGNvbnN0IHNpemUgPSB7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIHRvcDogdG9wIHx8IDAsXG4gICAgICAgICAgbGVmdDogbGVmdCB8fCAwLFxuICAgICAgICAgIHVwZGF0ZVN0eWxlXG4gICAgICAgIH07XG4gICAgICAgIHNldChzdGF0ZSA9PiAoe1xuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnZpZXdwb3J0LFxuICAgICAgICAgICAgLi4uZ2V0Q3VycmVudFZpZXdwb3J0KGNhbWVyYSwgZGVmYXVsdFRhcmdldCwgc2l6ZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBzZXREcHI6IGRwciA9PiBzZXQoc3RhdGUgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGNhbGN1bGF0ZURwcihkcHIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAgIGRwcjogcmVzb2x2ZWQsXG4gICAgICAgICAgICBpbml0aWFsRHByOiBzdGF0ZS52aWV3cG9ydC5pbml0aWFsRHByIHx8IHJlc29sdmVkXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzZXRGcmFtZWxvb3A6IChmcmFtZWxvb3AgPSAnYWx3YXlzJykgPT4ge1xuICAgICAgICBjb25zdCBjbG9jayA9IGdldCgpLmNsb2NrO1xuXG4gICAgICAgIC8vIGlmIGZyYW1lbG9vcCA9PT0gXCJuZXZlclwiIGNsb2NrLmVsYXBzZWRUaW1lIGlzIHVwZGF0ZWQgdXNpbmcgYWR2YW5jZSh0aW1lc3RhbXApXG4gICAgICAgIGNsb2NrLnN0b3AoKTtcbiAgICAgICAgY2xvY2suZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgICBpZiAoZnJhbWVsb29wICE9PSAnbmV2ZXInKSB7XG4gICAgICAgICAgY2xvY2suc3RhcnQoKTtcbiAgICAgICAgICBjbG9jay5lbGFwc2VkVGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgc2V0KCgpID0+ICh7XG4gICAgICAgICAgZnJhbWVsb29wXG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBwcmV2aW91c1Jvb3Q6IHVuZGVmaW5lZCxcbiAgICAgIGludGVybmFsOiB7XG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIHByaW9yaXR5OiAwLFxuICAgICAgICBmcmFtZXM6IDAsXG4gICAgICAgIGxhc3RFdmVudDogLyojX19QVVJFX18qL1JlYWN0X19uYW1lc3BhY2UuY3JlYXRlUmVmKCksXG4gICAgICAgIGludGVyYWN0aW9uOiBbXSxcbiAgICAgICAgaG92ZXJlZDogbmV3IE1hcCgpLFxuICAgICAgICBzdWJzY3JpYmVyczogW10sXG4gICAgICAgIGluaXRpYWxDbGljazogWzAsIDBdLFxuICAgICAgICBpbml0aWFsSGl0czogW10sXG4gICAgICAgIGNhcHR1cmVkTWFwOiBuZXcgTWFwKCksXG4gICAgICAgIHN1YnNjcmliZTogKHJlZiwgcHJpb3JpdHksIHN0b3JlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaW50ZXJuYWwgPSBnZXQoKS5pbnRlcm5hbDtcbiAgICAgICAgICAvLyBJZiB0aGlzIHN1YnNjcmlwdGlvbiB3YXMgZ2l2ZW4gYSBwcmlvcml0eSwgaXQgdGFrZXMgcmVuZGVyaW5nIGludG8gaXRzIG93biBoYW5kc1xuICAgICAgICAgIC8vIEZvciB0aGF0IHJlYXNvbiB3ZSBzd2l0Y2ggb2ZmIGF1dG9tYXRpYyByZW5kZXJpbmcgYW5kIGluY3JlYXNlIHRoZSBtYW51YWwgZmxhZ1xuICAgICAgICAgIC8vIEFzIGxvbmcgYXMgdGhpcyBmbGFnIGlzIHBvc2l0aXZlIHRoZXJlIGNhbiBiZSBubyBpbnRlcm5hbCByZW5kZXJpbmcgYXQgYWxsXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBtdWx0aXBsZSByZW5kZXIgc3Vic2NyaXB0aW9uc1xuICAgICAgICAgIGludGVybmFsLnByaW9yaXR5ID0gaW50ZXJuYWwucHJpb3JpdHkgKyAocHJpb3JpdHkgPiAwID8gMSA6IDApO1xuICAgICAgICAgIGludGVybmFsLnN1YnNjcmliZXJzLnB1c2goe1xuICAgICAgICAgICAgcmVmLFxuICAgICAgICAgICAgcHJpb3JpdHksXG4gICAgICAgICAgICBzdG9yZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIFJlZ2lzdGVyIHN1YnNjcmliZXIgYW5kIHNvcnQgbGF5ZXJzIGZyb20gbG93ZXN0IHRvIGhpZ2hlc3QsIG1lYW5pbmcsXG4gICAgICAgICAgLy8gaGlnaGVzdCBwcmlvcml0eSByZW5kZXJzIGxhc3QgKG9uIHRvcCBvZiB0aGUgb3RoZXIgZnJhbWVzKVxuICAgICAgICAgIGludGVybmFsLnN1YnNjcmliZXJzID0gaW50ZXJuYWwuc3Vic2NyaWJlcnMuc29ydCgoYSwgYikgPT4gYS5wcmlvcml0eSAtIGIucHJpb3JpdHkpO1xuICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcm5hbCA9IGdldCgpLmludGVybmFsO1xuICAgICAgICAgICAgaWYgKGludGVybmFsICE9IG51bGwgJiYgaW50ZXJuYWwuc3Vic2NyaWJlcnMpIHtcbiAgICAgICAgICAgICAgLy8gRGVjcmVhc2UgbWFudWFsIGZsYWcgaWYgdGhpcyBzdWJzY3JpcHRpb24gaGFkIGEgcHJpb3JpdHlcbiAgICAgICAgICAgICAgaW50ZXJuYWwucHJpb3JpdHkgPSBpbnRlcm5hbC5wcmlvcml0eSAtIChwcmlvcml0eSA+IDAgPyAxIDogMCk7XG4gICAgICAgICAgICAgIC8vIFJlbW92ZSBzdWJzY3JpYmVyIGZyb20gbGlzdFxuICAgICAgICAgICAgICBpbnRlcm5hbC5zdWJzY3JpYmVycyA9IGludGVybmFsLnN1YnNjcmliZXJzLmZpbHRlcihzID0+IHMucmVmICE9PSByZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByb290U3RhdGU7XG4gIH0pO1xuICBjb25zdCBzdGF0ZSA9IHJvb3RTdGF0ZS5nZXRTdGF0ZSgpO1xuICBsZXQgb2xkU2l6ZSA9IHN0YXRlLnNpemU7XG4gIGxldCBvbGREcHIgPSBzdGF0ZS52aWV3cG9ydC5kcHI7XG4gIGxldCBvbGRDYW1lcmEgPSBzdGF0ZS5jYW1lcmE7XG4gIHJvb3RTdGF0ZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGNhbWVyYSxcbiAgICAgIHNpemUsXG4gICAgICB2aWV3cG9ydCxcbiAgICAgIGdsLFxuICAgICAgc2V0XG4gICAgfSA9IHJvb3RTdGF0ZS5nZXRTdGF0ZSgpO1xuXG4gICAgLy8gUmVzaXplIGNhbWVyYSBhbmQgcmVuZGVyZXIgb24gY2hhbmdlcyB0byBzaXplIGFuZCBwaXhlbHJhdGlvXG4gICAgaWYgKHNpemUud2lkdGggIT09IG9sZFNpemUud2lkdGggfHwgc2l6ZS5oZWlnaHQgIT09IG9sZFNpemUuaGVpZ2h0IHx8IHZpZXdwb3J0LmRwciAhPT0gb2xkRHByKSB7XG4gICAgICB2YXIgX3NpemUkdXBkYXRlU3R5bGU7XG4gICAgICBvbGRTaXplID0gc2l6ZTtcbiAgICAgIG9sZERwciA9IHZpZXdwb3J0LmRwcjtcbiAgICAgIC8vIFVwZGF0ZSBjYW1lcmEgJiByZW5kZXJlclxuICAgICAgdXBkYXRlQ2FtZXJhKGNhbWVyYSwgc2l6ZSk7XG4gICAgICBnbC5zZXRQaXhlbFJhdGlvKHZpZXdwb3J0LmRwcik7XG4gICAgICBjb25zdCB1cGRhdGVTdHlsZSA9IChfc2l6ZSR1cGRhdGVTdHlsZSA9IHNpemUudXBkYXRlU3R5bGUpICE9IG51bGwgPyBfc2l6ZSR1cGRhdGVTdHlsZSA6IHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2wuZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgICAgZ2wuc2V0U2l6ZShzaXplLndpZHRoLCBzaXplLmhlaWdodCwgdXBkYXRlU3R5bGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB2aWV3cG9ydCBvbmNlIHRoZSBjYW1lcmEgY2hhbmdlc1xuICAgIGlmIChjYW1lcmEgIT09IG9sZENhbWVyYSkge1xuICAgICAgb2xkQ2FtZXJhID0gY2FtZXJhO1xuICAgICAgLy8gVXBkYXRlIHZpZXdwb3J0XG4gICAgICBzZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydC5nZXRDdXJyZW50Vmlld3BvcnQoY2FtZXJhKVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBJbnZhbGlkYXRlIG9uIGFueSBjaGFuZ2VcbiAgcm9vdFN0YXRlLnN1YnNjcmliZShzdGF0ZSA9PiBpbnZhbGlkYXRlKHN0YXRlKSk7XG5cbiAgLy8gUmV0dXJuIHJvb3Qgc3RhdGVcbiAgcmV0dXJuIHJvb3RTdGF0ZTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVN1YnMoY2FsbGJhY2ssIHN1YnMpIHtcbiAgY29uc3Qgc3ViID0ge1xuICAgIGNhbGxiYWNrXG4gIH07XG4gIHN1YnMuYWRkKHN1Yik7XG4gIHJldHVybiAoKSA9PiB2b2lkIHN1YnMuZGVsZXRlKHN1Yik7XG59XG5sZXQgaTtcbmxldCBnbG9iYWxFZmZlY3RzID0gbmV3IFNldCgpO1xubGV0IGdsb2JhbEFmdGVyRWZmZWN0cyA9IG5ldyBTZXQoKTtcbmxldCBnbG9iYWxUYWlsRWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuLyoqXHJcbiAqIEFkZHMgYSBnbG9iYWwgcmVuZGVyIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBlYWNoIGZyYW1lLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9hZGRpdGlvbmFsLWV4cG9ydHMjYWRkRWZmZWN0XHJcbiAqL1xuY29uc3QgYWRkRWZmZWN0ID0gY2FsbGJhY2sgPT4gY3JlYXRlU3VicyhjYWxsYmFjaywgZ2xvYmFsRWZmZWN0cyk7XG5cbi8qKlxyXG4gKiBBZGRzIGEgZ2xvYmFsIGFmdGVyLXJlbmRlciBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgZWFjaCBmcmFtZS5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvYWRkaXRpb25hbC1leHBvcnRzI2FkZEFmdGVyRWZmZWN0XHJcbiAqL1xuY29uc3QgYWRkQWZ0ZXJFZmZlY3QgPSBjYWxsYmFjayA9PiBjcmVhdGVTdWJzKGNhbGxiYWNrLCBnbG9iYWxBZnRlckVmZmVjdHMpO1xuXG4vKipcclxuICogQWRkcyBhIGdsb2JhbCBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiByZW5kZXJpbmcgc3RvcHMuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyNhZGRUYWlsXHJcbiAqL1xuY29uc3QgYWRkVGFpbCA9IGNhbGxiYWNrID0+IGNyZWF0ZVN1YnMoY2FsbGJhY2ssIGdsb2JhbFRhaWxFZmZlY3RzKTtcbmZ1bmN0aW9uIHJ1bihlZmZlY3RzLCB0aW1lc3RhbXApIHtcbiAgaWYgKCFlZmZlY3RzLnNpemUpIHJldHVybjtcbiAgZm9yIChjb25zdCB7XG4gICAgY2FsbGJhY2tcbiAgfSBvZiBlZmZlY3RzLnZhbHVlcygpKSB7XG4gICAgY2FsbGJhY2sodGltZXN0YW1wKTtcbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hHbG9iYWxFZmZlY3RzKHR5cGUsIHRpbWVzdGFtcCkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdiZWZvcmUnOlxuICAgICAgcmV0dXJuIHJ1bihnbG9iYWxFZmZlY3RzLCB0aW1lc3RhbXApO1xuICAgIGNhc2UgJ2FmdGVyJzpcbiAgICAgIHJldHVybiBydW4oZ2xvYmFsQWZ0ZXJFZmZlY3RzLCB0aW1lc3RhbXApO1xuICAgIGNhc2UgJ3RhaWwnOlxuICAgICAgcmV0dXJuIHJ1bihnbG9iYWxUYWlsRWZmZWN0cywgdGltZXN0YW1wKTtcbiAgfVxufVxubGV0IHN1YnNjcmliZXJzO1xubGV0IHN1YnNjcmlwdGlvbjtcbmZ1bmN0aW9uIHJlbmRlciQxKHRpbWVzdGFtcCwgc3RhdGUsIGZyYW1lKSB7XG4gIC8vIFJ1biBsb2NhbCBlZmZlY3RzXG4gIGxldCBkZWx0YSA9IHN0YXRlLmNsb2NrLmdldERlbHRhKCk7XG4gIC8vIEluIGZyYW1lbG9vcD0nbmV2ZXInIG1vZGUsIGNsb2NrIHRpbWVzIGFyZSB1cGRhdGVkIHVzaW5nIHRoZSBwcm92aWRlZCB0aW1lc3RhbXBcbiAgaWYgKHN0YXRlLmZyYW1lbG9vcCA9PT0gJ25ldmVyJyAmJiB0eXBlb2YgdGltZXN0YW1wID09PSAnbnVtYmVyJykge1xuICAgIGRlbHRhID0gdGltZXN0YW1wIC0gc3RhdGUuY2xvY2suZWxhcHNlZFRpbWU7XG4gICAgc3RhdGUuY2xvY2sub2xkVGltZSA9IHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lO1xuICAgIHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lID0gdGltZXN0YW1wO1xuICB9XG4gIC8vIENhbGwgc3Vic2NyaWJlcnMgKHVzZUZyYW1lKVxuICBzdWJzY3JpYmVycyA9IHN0YXRlLmludGVybmFsLnN1YnNjcmliZXJzO1xuICBmb3IgKGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBzdWJzY3JpcHRpb24ucmVmLmN1cnJlbnQoc3Vic2NyaXB0aW9uLnN0b3JlLmdldFN0YXRlKCksIGRlbHRhLCBmcmFtZSk7XG4gIH1cbiAgLy8gUmVuZGVyIGNvbnRlbnRcbiAgaWYgKCFzdGF0ZS5pbnRlcm5hbC5wcmlvcml0eSAmJiBzdGF0ZS5nbC5yZW5kZXIpIHN0YXRlLmdsLnJlbmRlcihzdGF0ZS5zY2VuZSwgc3RhdGUuY2FtZXJhKTtcbiAgLy8gRGVjcmVhc2UgZnJhbWUgY291bnRcbiAgc3RhdGUuaW50ZXJuYWwuZnJhbWVzID0gTWF0aC5tYXgoMCwgc3RhdGUuaW50ZXJuYWwuZnJhbWVzIC0gMSk7XG4gIHJldHVybiBzdGF0ZS5mcmFtZWxvb3AgPT09ICdhbHdheXMnID8gMSA6IHN0YXRlLmludGVybmFsLmZyYW1lcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvb3Aocm9vdHMpIHtcbiAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgbGV0IHVzZUZyYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICBsZXQgcmVwZWF0O1xuICBsZXQgZnJhbWU7XG4gIGxldCBzdGF0ZTtcbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcbiAgICBmcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICByZXBlYXQgPSAwO1xuXG4gICAgLy8gUnVuIGVmZmVjdHNcbiAgICBmbHVzaEdsb2JhbEVmZmVjdHMoJ2JlZm9yZScsIHRpbWVzdGFtcCk7XG5cbiAgICAvLyBSZW5kZXIgYWxsIHJvb3RzXG4gICAgdXNlRnJhbWVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IHJvb3Qgb2Ygcm9vdHMudmFsdWVzKCkpIHtcbiAgICAgIHZhciBfc3RhdGUkZ2wkeHI7XG4gICAgICBzdGF0ZSA9IHJvb3Quc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIC8vIElmIHRoZSBmcmFtZWxvb3AgaXMgaW52YWxpZGF0ZWQsIGRvIG5vdCBydW4gYW5vdGhlciBmcmFtZVxuICAgICAgaWYgKHN0YXRlLmludGVybmFsLmFjdGl2ZSAmJiAoc3RhdGUuZnJhbWVsb29wID09PSAnYWx3YXlzJyB8fCBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgPiAwKSAmJiAhKChfc3RhdGUkZ2wkeHIgPSBzdGF0ZS5nbC54cikgIT0gbnVsbCAmJiBfc3RhdGUkZ2wkeHIuaXNQcmVzZW50aW5nKSkge1xuICAgICAgICByZXBlYXQgKz0gcmVuZGVyJDEodGltZXN0YW1wLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZUZyYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgLy8gUnVuIGFmdGVyLWVmZmVjdHNcbiAgICBmbHVzaEdsb2JhbEVmZmVjdHMoJ2FmdGVyJywgdGltZXN0YW1wKTtcblxuICAgIC8vIFN0b3AgdGhlIGxvb3AgaWYgbm90aGluZyBpbnZhbGlkYXRlcyBpdFxuICAgIGlmIChyZXBlYXQgPT09IDApIHtcbiAgICAgIC8vIFRhaWwgY2FsbCBlZmZlY3RzLCB0aGV5IGFyZSBjYWxsZWQgd2hlbiByZW5kZXJpbmcgc3RvcHNcbiAgICAgIGZsdXNoR2xvYmFsRWZmZWN0cygndGFpbCcsIHRpbWVzdGFtcCk7XG5cbiAgICAgIC8vIEZsYWcgZW5kIG9mIG9wZXJhdGlvblxuICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaW52YWxpZGF0ZShzdGF0ZSwgZnJhbWVzID0gMSkge1xuICAgIHZhciBfc3RhdGUkZ2wkeHIyO1xuICAgIGlmICghc3RhdGUpIHJldHVybiByb290cy5mb3JFYWNoKHJvb3QgPT4gaW52YWxpZGF0ZShyb290LnN0b3JlLmdldFN0YXRlKCksIGZyYW1lcykpO1xuICAgIGlmICgoX3N0YXRlJGdsJHhyMiA9IHN0YXRlLmdsLnhyKSAhPSBudWxsICYmIF9zdGF0ZSRnbCR4cjIuaXNQcmVzZW50aW5nIHx8ICFzdGF0ZS5pbnRlcm5hbC5hY3RpdmUgfHwgc3RhdGUuZnJhbWVsb29wID09PSAnbmV2ZXInKSByZXR1cm47XG4gICAgaWYgKGZyYW1lcyA+IDEpIHtcbiAgICAgIC8vIGxlZ2FjeSBzdXBwb3J0IGZvciBwZW9wbGUgdXNpbmcgZnJhbWVzIHBhcmFtZXRlcnNcbiAgICAgIC8vIEluY3JlYXNlIGZyYW1lcywgZG8gbm90IGdvIGhpZ2hlciB0aGFuIDYwXG4gICAgICBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgPSBNYXRoLm1pbig2MCwgc3RhdGUuaW50ZXJuYWwuZnJhbWVzICsgZnJhbWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHVzZUZyYW1lSW5Qcm9ncmVzcykge1xuICAgICAgICAvL2NhbGxlZCBmcm9tIHdpdGhpbiBhIHVzZUZyYW1lLCBpdCBtZWFucyB0aGUgdXNlciB3YW50cyBhbiBhZGRpdGlvbmFsIGZyYW1lXG4gICAgICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL3RoZSB1c2VyIG5lZWQgYSBuZXcgZnJhbWUsIG5vIG5lZWQgdG8gaW5jcmVtZW50IGZ1cnRoZXIgdGhhbiAxXG4gICAgICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHJlbmRlci1sb29wIGlzbid0IGFjdGl2ZSwgc3RhcnQgaXRcbiAgICBpZiAoIXJ1bm5pbmcpIHtcbiAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhZHZhbmNlKHRpbWVzdGFtcCwgcnVuR2xvYmFsRWZmZWN0cyA9IHRydWUsIHN0YXRlLCBmcmFtZSkge1xuICAgIGlmIChydW5HbG9iYWxFZmZlY3RzKSBmbHVzaEdsb2JhbEVmZmVjdHMoJ2JlZm9yZScsIHRpbWVzdGFtcCk7XG4gICAgaWYgKCFzdGF0ZSkgZm9yIChjb25zdCByb290IG9mIHJvb3RzLnZhbHVlcygpKSByZW5kZXIkMSh0aW1lc3RhbXAsIHJvb3Quc3RvcmUuZ2V0U3RhdGUoKSk7ZWxzZSByZW5kZXIkMSh0aW1lc3RhbXAsIHN0YXRlLCBmcmFtZSk7XG4gICAgaWYgKHJ1bkdsb2JhbEVmZmVjdHMpIGZsdXNoR2xvYmFsRWZmZWN0cygnYWZ0ZXInLCB0aW1lc3RhbXApO1xuICB9XG4gIHJldHVybiB7XG4gICAgbG9vcCxcbiAgICBpbnZhbGlkYXRlLFxuICAgIGFkdmFuY2VcbiAgfTtcbn1cblxuLyoqXHJcbiAqIEV4cG9zZXMgYW4gb2JqZWN0J3Mge0BsaW5rIExvY2FsU3RhdGV9LlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9hZGRpdGlvbmFsLWV4cG9ydHMjdXNlSW5zdGFuY2VIYW5kbGVcclxuICpcclxuICogKipOb3RlKio6IHRoaXMgaXMgYW4gZXNjYXBlIGhhdGNoIHRvIHJlYWN0LWludGVybmFsIGZpZWxkcy4gRXhwZWN0IHRoaXMgdG8gY2hhbmdlIHNpZ25pZmljYW50bHkgYmV0d2VlbiB2ZXJzaW9ucy5cclxuICovXG5mdW5jdGlvbiB1c2VJbnN0YW5jZUhhbmRsZShyZWYpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB2b2lkIChpbnN0YW5jZS5jdXJyZW50ID0gcmVmLmN1cnJlbnQuX19yM2YpLCBbcmVmXSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIHVzZVN0b3JlKCkge1xuICBjb25zdCBzdG9yZSA9IFJlYWN0X19uYW1lc3BhY2UudXNlQ29udGV4dChjb250ZXh0KTtcbiAgaWYgKCFzdG9yZSkgdGhyb3cgbmV3IEVycm9yKCdSM0Y6IEhvb2tzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIHRoZSBDYW52YXMgY29tcG9uZW50IScpO1xuICByZXR1cm4gc3RvcmU7XG59XG5cbi8qKlxyXG4gKiBBY2Nlc3NlcyBSM0YncyBpbnRlcm5hbCBzdGF0ZSwgY29udGFpbmluZyByZW5kZXJlciwgY2FudmFzLCBzY2VuZSwgZXRjLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2V0aHJlZVxyXG4gKi9cbmZ1bmN0aW9uIHVzZVRocmVlKHNlbGVjdG9yID0gc3RhdGUgPT4gc3RhdGUsIGVxdWFsaXR5Rm4pIHtcbiAgcmV0dXJuIHVzZVN0b3JlKCkoc2VsZWN0b3IsIGVxdWFsaXR5Rm4pO1xufVxuXG4vKipcclxuICogRXhlY3V0ZXMgYSBjYWxsYmFjayBiZWZvcmUgcmVuZGVyIGluIGEgc2hhcmVkIGZyYW1lIGxvb3AuXHJcbiAqIENhbiBvcmRlciBlZmZlY3RzIHdpdGggcmVuZGVyIHByaW9yaXR5IG9yIG1hbnVhbGx5IHJlbmRlciB3aXRoIGEgcG9zaXRpdmUgcHJpb3JpdHkuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2hvb2tzI3VzZWZyYW1lXHJcbiAqL1xuZnVuY3Rpb24gdXNlRnJhbWUoY2FsbGJhY2ssIHJlbmRlclByaW9yaXR5ID0gMCkge1xuICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IHN1YnNjcmliZSA9IHN0b3JlLmdldFN0YXRlKCkuaW50ZXJuYWwuc3Vic2NyaWJlO1xuICAvLyBNZW1vaXplIHJlZlxuICBjb25zdCByZWYgPSB1c2VNdXRhYmxlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAvLyBTdWJzY3JpYmUgb24gbW91bnQsIHVuc3Vic2NyaWJlIG9uIHVubW91bnRcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiBzdWJzY3JpYmUocmVmLCByZW5kZXJQcmlvcml0eSwgc3RvcmUpLCBbcmVuZGVyUHJpb3JpdHksIHN1YnNjcmliZSwgc3RvcmVdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGEgbm9kZSBncmFwaCBvZiBhbiBvYmplY3Qgd2l0aCBuYW1lZCBub2RlcyAmIG1hdGVyaWFscy5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvaG9va3MjdXNlZ3JhcGhcclxuICovXG5mdW5jdGlvbiB1c2VHcmFwaChvYmplY3QpIHtcbiAgcmV0dXJuIFJlYWN0X19uYW1lc3BhY2UudXNlTWVtbygoKSA9PiBidWlsZEdyYXBoKG9iamVjdCksIFtvYmplY3RdKTtcbn1cbmNvbnN0IG1lbW9pemVkTG9hZGVycyA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBsb2FkaW5nRm4oZXh0ZW5zaW9ucywgb25Qcm9ncmVzcykge1xuICByZXR1cm4gZnVuY3Rpb24gKFByb3RvLCAuLi5pbnB1dCkge1xuICAgIC8vIENvbnN0cnVjdCBuZXcgbG9hZGVyIGFuZCBydW4gZXh0ZW5zaW9uc1xuICAgIGxldCBsb2FkZXIgPSBtZW1vaXplZExvYWRlcnMuZ2V0KFByb3RvKTtcbiAgICBpZiAoIWxvYWRlcikge1xuICAgICAgbG9hZGVyID0gbmV3IFByb3RvKCk7XG4gICAgICBtZW1vaXplZExvYWRlcnMuc2V0KFByb3RvLCBsb2FkZXIpO1xuICAgIH1cbiAgICBpZiAoZXh0ZW5zaW9ucykgZXh0ZW5zaW9ucyhsb2FkZXIpO1xuICAgIC8vIEdvIHRocm91Z2ggdGhlIHVybHMgYW5kIGxvYWQgdGhlbVxuICAgIHJldHVybiBQcm9taXNlLmFsbChpbnB1dC5tYXAoaW5wdXQgPT4gbmV3IFByb21pc2UoKHJlcywgcmVqZWN0KSA9PiBsb2FkZXIubG9hZChpbnB1dCwgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS5zY2VuZSkgT2JqZWN0LmFzc2lnbihkYXRhLCBidWlsZEdyYXBoKGRhdGEuc2NlbmUpKTtcbiAgICAgIHJlcyhkYXRhKTtcbiAgICB9LCBvblByb2dyZXNzLCBlcnJvciA9PiByZWplY3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCAke2lucHV0fTogJHtlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZX1gKSkpKSkpO1xuICB9O1xufVxuLyoqXHJcbiAqIFN5bmNocm9ub3VzbHkgbG9hZHMgYW5kIGNhY2hlcyBhc3NldHMgd2l0aCBhIHRocmVlIGxvYWRlci5cclxuICpcclxuICogTm90ZTogdGhpcyBob29rJ3MgY2FsbGVyIG11c3QgYmUgd3JhcHBlZCB3aXRoIGBSZWFjdC5TdXNwZW5zZWBcclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvaG9va3MjdXNlbG9hZGVyXHJcbiAqL1xuZnVuY3Rpb24gdXNlTG9hZGVyKFByb3RvLCBpbnB1dCwgZXh0ZW5zaW9ucywgb25Qcm9ncmVzcykge1xuICAvLyBVc2Ugc3VzcGVuc2UgdG8gbG9hZCBhc3luYyBhc3NldHNcbiAgY29uc3Qga2V5cyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdO1xuICBjb25zdCByZXN1bHRzID0gc3VzcGVuZFJlYWN0LnN1c3BlbmQobG9hZGluZ0ZuKGV4dGVuc2lvbnMsIG9uUHJvZ3Jlc3MpLCBbUHJvdG8sIC4uLmtleXNdLCB7XG4gICAgZXF1YWw6IGlzLmVxdVxuICB9KTtcbiAgLy8gUmV0dXJuIHRoZSBvYmplY3Qvc1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnB1dCkgPyByZXN1bHRzIDogcmVzdWx0c1swXTtcbn1cblxuLyoqXHJcbiAqIFByZWxvYWRzIGFuIGFzc2V0IGludG8gY2FjaGUgYXMgYSBzaWRlLWVmZmVjdC5cclxuICovXG51c2VMb2FkZXIucHJlbG9hZCA9IGZ1bmN0aW9uIChQcm90bywgaW5wdXQsIGV4dGVuc2lvbnMpIHtcbiAgY29uc3Qga2V5cyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdO1xuICByZXR1cm4gc3VzcGVuZFJlYWN0LnByZWxvYWQobG9hZGluZ0ZuKGV4dGVuc2lvbnMpLCBbUHJvdG8sIC4uLmtleXNdKTtcbn07XG5cbi8qKlxyXG4gKiBSZW1vdmVzIGEgbG9hZGVkIGFzc2V0IGZyb20gY2FjaGUuXHJcbiAqL1xudXNlTG9hZGVyLmNsZWFyID0gZnVuY3Rpb24gKFByb3RvLCBpbnB1dCkge1xuICBjb25zdCBrZXlzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIHJldHVybiBzdXNwZW5kUmVhY3QuY2xlYXIoW1Byb3RvLCAuLi5rZXlzXSk7XG59O1xuXG5jb25zdCByb290cyA9IG5ldyBNYXAoKTtcbmNvbnN0IHtcbiAgaW52YWxpZGF0ZSxcbiAgYWR2YW5jZVxufSA9IGNyZWF0ZUxvb3Aocm9vdHMpO1xuY29uc3Qge1xuICByZWNvbmNpbGVyLFxuICBhcHBseVByb3BzXG59ID0gY3JlYXRlUmVuZGVyZXIocm9vdHMsIGdldEV2ZW50UHJpb3JpdHkpO1xuY29uc3Qgc2hhbGxvd0xvb3NlID0ge1xuICBvYmplY3RzOiAnc2hhbGxvdycsXG4gIHN0cmljdDogZmFsc2Vcbn07XG5jb25zdCBjcmVhdGVSZW5kZXJlckluc3RhbmNlID0gKGdsLCBjYW52YXMpID0+IHtcbiAgY29uc3QgY3VzdG9tUmVuZGVyZXIgPSB0eXBlb2YgZ2wgPT09ICdmdW5jdGlvbicgPyBnbChjYW52YXMpIDogZ2w7XG4gIGlmIChpc1JlbmRlcmVyKGN1c3RvbVJlbmRlcmVyKSkgcmV0dXJuIGN1c3RvbVJlbmRlcmVyO2Vsc2UgcmV0dXJuIG5ldyBUSFJFRV9fbmFtZXNwYWNlLldlYkdMUmVuZGVyZXIoe1xuICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgIGNhbnZhczogY2FudmFzLFxuICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICBhbHBoYTogdHJ1ZSxcbiAgICAuLi5nbFxuICB9KTtcbn07XG5mdW5jdGlvbiBjb21wdXRlSW5pdGlhbFNpemUoY2FudmFzLCBkZWZhdWx0U2l6ZSkge1xuICBjb25zdCBkZWZhdWx0U3R5bGUgPSB0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICBpZiAoZGVmYXVsdFNpemUpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHRvcCxcbiAgICAgIGxlZnQsXG4gICAgICB1cGRhdGVTdHlsZSA9IGRlZmF1bHRTdHlsZVxuICAgIH0gPSBkZWZhdWx0U2l6ZTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB0b3AsXG4gICAgICBsZWZ0LFxuICAgICAgdXBkYXRlU3R5bGVcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQgJiYgY2FudmFzLnBhcmVudEVsZW1lbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHRvcCxcbiAgICAgIGxlZnRcbiAgICB9ID0gY2FudmFzLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgdG9wLFxuICAgICAgbGVmdCxcbiAgICAgIHVwZGF0ZVN0eWxlOiBkZWZhdWx0U3R5bGVcbiAgICB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmIGNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHVwZGF0ZVN0eWxlOiBkZWZhdWx0U3R5bGVcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSb290KGNhbnZhcykge1xuICAvLyBDaGVjayBhZ2FpbnN0IG1pc3Rha2VuIHVzZSBvZiBjcmVhdGVSb290XG4gIGNvbnN0IHByZXZSb290ID0gcm9vdHMuZ2V0KGNhbnZhcyk7XG4gIGNvbnN0IHByZXZGaWJlciA9IHByZXZSb290ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Um9vdC5maWJlcjtcbiAgY29uc3QgcHJldlN0b3JlID0gcHJldlJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZSb290LnN0b3JlO1xuICBpZiAocHJldlJvb3QpIGNvbnNvbGUud2FybignUjNGLmNyZWF0ZVJvb3Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhJyk7XG5cbiAgLy8gUmVwb3J0IHdoZW4gYW4gZXJyb3Igd2FzIGRldGVjdGVkIGluIGEgcHJldmlvdXMgcmVuZGVyXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yMjYxXG4gIGNvbnN0IGxvZ1JlY292ZXJhYmxlRXJyb3IgPSB0eXBlb2YgcmVwb3J0RXJyb3IgPT09ICdmdW5jdGlvbicgP1xuICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMsIHJlcG9ydEVycm9yIHdpbGwgZGlzcGF0Y2ggYW4gZXJyb3IgZXZlbnQsXG4gIC8vIGVtdWxhdGluZyBhbiB1bmNhdWdodCBKYXZhU2NyaXB0IGVycm9yLlxuICByZXBvcnRFcnJvciA6XG4gIC8vIEluIG9sZGVyIGJyb3dzZXJzIGFuZCB0ZXN0IGVudmlyb25tZW50cywgZmFsbGJhY2sgdG8gY29uc29sZS5lcnJvci5cbiAgY29uc29sZS5lcnJvcjtcblxuICAvLyBDcmVhdGUgc3RvcmVcbiAgY29uc3Qgc3RvcmUgPSBwcmV2U3RvcmUgfHwgY3JlYXRlU3RvcmUoaW52YWxpZGF0ZSwgYWR2YW5jZSk7XG4gIC8vIENyZWF0ZSByZW5kZXJlclxuICBjb25zdCBmaWJlciA9IHByZXZGaWJlciB8fCByZWNvbmNpbGVyLmNyZWF0ZUNvbnRhaW5lcihzdG9yZSwgY29uc3RhbnRzLkNvbmN1cnJlbnRSb290LCBudWxsLCBmYWxzZSwgbnVsbCwgJycsIGxvZ1JlY292ZXJhYmxlRXJyb3IsIG51bGwpO1xuICAvLyBNYXAgaXRcbiAgaWYgKCFwcmV2Um9vdCkgcm9vdHMuc2V0KGNhbnZhcywge1xuICAgIGZpYmVyLFxuICAgIHN0b3JlXG4gIH0pO1xuXG4gIC8vIExvY2Fsc1xuICBsZXQgb25DcmVhdGVkO1xuICBsZXQgY29uZmlndXJlZCA9IGZhbHNlO1xuICBsZXQgbGFzdENhbWVyYTtcbiAgcmV0dXJuIHtcbiAgICBjb25maWd1cmUocHJvcHMgPSB7fSkge1xuICAgICAgbGV0IHtcbiAgICAgICAgZ2w6IGdsQ29uZmlnLFxuICAgICAgICBzaXplOiBwcm9wc1NpemUsXG4gICAgICAgIHNjZW5lOiBzY2VuZU9wdGlvbnMsXG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgb25DcmVhdGVkOiBvbkNyZWF0ZWRDYWxsYmFjayxcbiAgICAgICAgc2hhZG93cyA9IGZhbHNlLFxuICAgICAgICBsaW5lYXIgPSBmYWxzZSxcbiAgICAgICAgZmxhdCA9IGZhbHNlLFxuICAgICAgICBsZWdhY3kgPSBmYWxzZSxcbiAgICAgICAgb3J0aG9ncmFwaGljID0gZmFsc2UsXG4gICAgICAgIGZyYW1lbG9vcCA9ICdhbHdheXMnLFxuICAgICAgICBkcHIgPSBbMSwgMl0sXG4gICAgICAgIHBlcmZvcm1hbmNlLFxuICAgICAgICByYXljYXN0ZXI6IHJheWNhc3RPcHRpb25zLFxuICAgICAgICBjYW1lcmE6IGNhbWVyYU9wdGlvbnMsXG4gICAgICAgIG9uUG9pbnRlck1pc3NlZFxuICAgICAgfSA9IHByb3BzO1xuICAgICAgbGV0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcblxuICAgICAgLy8gU2V0IHVwIHJlbmRlcmVyIChvbmUgdGltZSBvbmx5ISlcbiAgICAgIGxldCBnbCA9IHN0YXRlLmdsO1xuICAgICAgaWYgKCFzdGF0ZS5nbCkgc3RhdGUuc2V0KHtcbiAgICAgICAgZ2w6IGdsID0gY3JlYXRlUmVuZGVyZXJJbnN0YW5jZShnbENvbmZpZywgY2FudmFzKVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFNldCB1cCByYXljYXN0ZXIgKG9uZSB0aW1lIG9ubHkhKVxuICAgICAgbGV0IHJheWNhc3RlciA9IHN0YXRlLnJheWNhc3RlcjtcbiAgICAgIGlmICghcmF5Y2FzdGVyKSBzdGF0ZS5zZXQoe1xuICAgICAgICByYXljYXN0ZXI6IHJheWNhc3RlciA9IG5ldyBUSFJFRV9fbmFtZXNwYWNlLlJheWNhc3RlcigpXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHJheWNhc3RlciBvcHRpb25zXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA9IHJheWNhc3RPcHRpb25zIHx8IHt9O1xuICAgICAgaWYgKCFpcy5lcXUob3B0aW9ucywgcmF5Y2FzdGVyLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKHJheWNhc3Rlciwge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGlmICghaXMuZXF1KHBhcmFtcywgcmF5Y2FzdGVyLnBhcmFtcywgc2hhbGxvd0xvb3NlKSkgYXBwbHlQcm9wcyhyYXljYXN0ZXIsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgLi4ucmF5Y2FzdGVyLnBhcmFtcyxcbiAgICAgICAgICAuLi5wYXJhbXNcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGNhbWVyYSwgZG9uJ3Qgb3ZlcndyaXRlIGFueSB1c2VyLXNldCBzdGF0ZVxuICAgICAgaWYgKCFzdGF0ZS5jYW1lcmEgfHwgc3RhdGUuY2FtZXJhID09PSBsYXN0Q2FtZXJhICYmICFpcy5lcXUobGFzdENhbWVyYSwgY2FtZXJhT3B0aW9ucywgc2hhbGxvd0xvb3NlKSkge1xuICAgICAgICBsYXN0Q2FtZXJhID0gY2FtZXJhT3B0aW9ucztcbiAgICAgICAgY29uc3QgaXNDYW1lcmEgPSBjYW1lcmFPcHRpb25zIGluc3RhbmNlb2YgVEhSRUVfX25hbWVzcGFjZS5DYW1lcmE7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IGlzQ2FtZXJhID8gY2FtZXJhT3B0aW9ucyA6IG9ydGhvZ3JhcGhpYyA/IG5ldyBUSFJFRV9fbmFtZXNwYWNlLk9ydGhvZ3JhcGhpY0NhbWVyYSgwLCAwLCAwLCAwLCAwLjEsIDEwMDApIDogbmV3IFRIUkVFX19uYW1lc3BhY2UuUGVyc3BlY3RpdmVDYW1lcmEoNzUsIDAsIDAuMSwgMTAwMCk7XG4gICAgICAgIGlmICghaXNDYW1lcmEpIHtcbiAgICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IDU7XG4gICAgICAgICAgaWYgKGNhbWVyYU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFwcGx5UHJvcHMoY2FtZXJhLCBjYW1lcmFPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHVzZXItZGVmaW5lZCBmcnVzdHVtIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8zMTYwXG4gICAgICAgICAgICBpZiAoJ2FzcGVjdCcgaW4gY2FtZXJhT3B0aW9ucyB8fCAnbGVmdCcgaW4gY2FtZXJhT3B0aW9ucyB8fCAncmlnaHQnIGluIGNhbWVyYU9wdGlvbnMgfHwgJ2JvdHRvbScgaW4gY2FtZXJhT3B0aW9ucyB8fCAndG9wJyBpbiBjYW1lcmFPcHRpb25zKSB7XG4gICAgICAgICAgICAgIGNhbWVyYS5tYW51YWwgPSB0cnVlO1xuICAgICAgICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBbHdheXMgbG9vayBhdCBjZW50ZXIgYnkgZGVmYXVsdFxuICAgICAgICAgIGlmICghc3RhdGUuY2FtZXJhICYmICEoY2FtZXJhT3B0aW9ucyAhPSBudWxsICYmIGNhbWVyYU9wdGlvbnMucm90YXRpb24pKSBjYW1lcmEubG9va0F0KDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLnNldCh7XG4gICAgICAgICAgY2FtZXJhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyZSByYXljYXN0ZXJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC14ci9pc3N1ZXMvMzAwXG4gICAgICAgIHJheWNhc3Rlci5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB1cCBzY2VuZSAob25lIHRpbWUgb25seSEpXG4gICAgICBpZiAoIXN0YXRlLnNjZW5lKSB7XG4gICAgICAgIGxldCBzY2VuZTtcbiAgICAgICAgaWYgKHNjZW5lT3B0aW9ucyAhPSBudWxsICYmIHNjZW5lT3B0aW9ucy5pc1NjZW5lKSB7XG4gICAgICAgICAgc2NlbmUgPSBzY2VuZU9wdGlvbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NlbmUgPSBuZXcgVEhSRUVfX25hbWVzcGFjZS5TY2VuZSgpO1xuICAgICAgICAgIGlmIChzY2VuZU9wdGlvbnMpIGFwcGx5UHJvcHMoc2NlbmUsIHNjZW5lT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuc2V0KHtcbiAgICAgICAgICBzY2VuZTogcHJlcGFyZShzY2VuZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB1cCBYUiAob25lIHRpbWUgb25seSEpXG4gICAgICBpZiAoIXN0YXRlLnhyKSB7XG4gICAgICAgIHZhciBfZ2wkeHI7XG4gICAgICAgIC8vIEhhbmRsZSBmcmFtZSBiZWhhdmlvciBpbiBXZWJYUlxuICAgICAgICBjb25zdCBoYW5kbGVYUkZyYW1lID0gKHRpbWVzdGFtcCwgZnJhbWUpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgaWYgKHN0YXRlLmZyYW1lbG9vcCA9PT0gJ25ldmVyJykgcmV0dXJuO1xuICAgICAgICAgIGFkdmFuY2UodGltZXN0YW1wLCB0cnVlLCBzdGF0ZSwgZnJhbWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRvZ2dsZSByZW5kZXIgc3dpdGNoaW5nIG9uIHNlc3Npb25cbiAgICAgICAgY29uc3QgaGFuZGxlU2Vzc2lvbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgc3RhdGUuZ2wueHIuZW5hYmxlZCA9IHN0YXRlLmdsLnhyLmlzUHJlc2VudGluZztcbiAgICAgICAgICBzdGF0ZS5nbC54ci5zZXRBbmltYXRpb25Mb29wKHN0YXRlLmdsLnhyLmlzUHJlc2VudGluZyA/IGhhbmRsZVhSRnJhbWUgOiBudWxsKTtcbiAgICAgICAgICBpZiAoIXN0YXRlLmdsLnhyLmlzUHJlc2VudGluZykgaW52YWxpZGF0ZShzdGF0ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gV2ViWFIgc2Vzc2lvbiBtYW5hZ2VyXG4gICAgICAgIGNvbnN0IHhyID0ge1xuICAgICAgICAgIGNvbm5lY3QoKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHN0b3JlLmdldFN0YXRlKCkuZ2w7XG4gICAgICAgICAgICBnbC54ci5hZGRFdmVudExpc3RlbmVyKCdzZXNzaW9uc3RhcnQnLCBoYW5kbGVTZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICAgIGdsLnhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Nlc3Npb25lbmQnLCBoYW5kbGVTZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc2Nvbm5lY3QoKSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHN0b3JlLmdldFN0YXRlKCkuZ2w7XG4gICAgICAgICAgICBnbC54ci5yZW1vdmVFdmVudExpc3RlbmVyKCdzZXNzaW9uc3RhcnQnLCBoYW5kbGVTZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICAgIGdsLnhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nlc3Npb25lbmQnLCBoYW5kbGVTZXNzaW9uQ2hhbmdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIFdlYlhSIHNlc3Npb24gZXZlbnRzXG4gICAgICAgIGlmICh0eXBlb2YgKChfZ2wkeHIgPSBnbC54cikgPT0gbnVsbCA/IHZvaWQgMCA6IF9nbCR4ci5hZGRFdmVudExpc3RlbmVyKSA9PT0gJ2Z1bmN0aW9uJykgeHIuY29ubmVjdCgpO1xuICAgICAgICBzdGF0ZS5zZXQoe1xuICAgICAgICAgIHhyXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgc2hhZG93bWFwXG4gICAgICBpZiAoZ2wuc2hhZG93TWFwKSB7XG4gICAgICAgIGNvbnN0IG9sZEVuYWJsZWQgPSBnbC5zaGFkb3dNYXAuZW5hYmxlZDtcbiAgICAgICAgY29uc3Qgb2xkVHlwZSA9IGdsLnNoYWRvd01hcC50eXBlO1xuICAgICAgICBnbC5zaGFkb3dNYXAuZW5hYmxlZCA9ICEhc2hhZG93cztcbiAgICAgICAgaWYgKGlzLmJvbyhzaGFkb3dzKSkge1xuICAgICAgICAgIGdsLnNoYWRvd01hcC50eXBlID0gVEhSRUVfX25hbWVzcGFjZS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgICB9IGVsc2UgaWYgKGlzLnN0cihzaGFkb3dzKSkge1xuICAgICAgICAgIHZhciBfdHlwZXMkc2hhZG93cztcbiAgICAgICAgICBjb25zdCB0eXBlcyA9IHtcbiAgICAgICAgICAgIGJhc2ljOiBUSFJFRV9fbmFtZXNwYWNlLkJhc2ljU2hhZG93TWFwLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogVEhSRUVfX25hbWVzcGFjZS5QQ0ZTaGFkb3dNYXAsXG4gICAgICAgICAgICBzb2Z0OiBUSFJFRV9fbmFtZXNwYWNlLlBDRlNvZnRTaGFkb3dNYXAsXG4gICAgICAgICAgICB2YXJpYW5jZTogVEhSRUVfX25hbWVzcGFjZS5WU01TaGFkb3dNYXBcbiAgICAgICAgICB9O1xuICAgICAgICAgIGdsLnNoYWRvd01hcC50eXBlID0gKF90eXBlcyRzaGFkb3dzID0gdHlwZXNbc2hhZG93c10pICE9IG51bGwgPyBfdHlwZXMkc2hhZG93cyA6IFRIUkVFX19uYW1lc3BhY2UuUENGU29mdFNoYWRvd01hcDtcbiAgICAgICAgfSBlbHNlIGlmIChpcy5vYmooc2hhZG93cykpIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGdsLnNoYWRvd01hcCwgc2hhZG93cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZEVuYWJsZWQgIT09IGdsLnNoYWRvd01hcC5lbmFibGVkIHx8IG9sZFR5cGUgIT09IGdsLnNoYWRvd01hcC50eXBlKSBnbC5zaGFkb3dNYXAubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBTYWZlbHkgc2V0IGNvbG9yIG1hbmFnZW1lbnQgaWYgYXZhaWxhYmxlLlxuICAgICAgLy8gQXZvaWQgYWNjZXNzaW5nIFRIUkVFLkNvbG9yTWFuYWdlbWVudCB0byBwbGF5IG5pY2Ugd2l0aCBvbGRlciB2ZXJzaW9uc1xuICAgICAgY29uc3QgQ29sb3JNYW5hZ2VtZW50ID0gZ2V0Q29sb3JNYW5hZ2VtZW50KCk7XG4gICAgICBpZiAoQ29sb3JNYW5hZ2VtZW50KSB7XG4gICAgICAgIGlmICgnZW5hYmxlZCcgaW4gQ29sb3JNYW5hZ2VtZW50KSBDb2xvck1hbmFnZW1lbnQuZW5hYmxlZCA9ICFsZWdhY3k7ZWxzZSBpZiAoJ2xlZ2FjeU1vZGUnIGluIENvbG9yTWFuYWdlbWVudCkgQ29sb3JNYW5hZ2VtZW50LmxlZ2FjeU1vZGUgPSBsZWdhY3k7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbmZpZ3VyZWQpIHtcbiAgICAgICAgLy8gU2V0IGNvbG9yIHNwYWNlIGFuZCB0b25lbWFwcGluZyBwcmVmZXJlbmNlcywgb25jZVxuICAgICAgICBjb25zdCBMaW5lYXJFbmNvZGluZyA9IDMwMDA7XG4gICAgICAgIGNvbnN0IHNSR0JFbmNvZGluZyA9IDMwMDE7XG4gICAgICAgIGFwcGx5UHJvcHMoZ2wsIHtcbiAgICAgICAgICBvdXRwdXRFbmNvZGluZzogbGluZWFyID8gTGluZWFyRW5jb2RpbmcgOiBzUkdCRW5jb2RpbmcsXG4gICAgICAgICAgdG9uZU1hcHBpbmc6IGZsYXQgPyBUSFJFRV9fbmFtZXNwYWNlLk5vVG9uZU1hcHBpbmcgOiBUSFJFRV9fbmFtZXNwYWNlLkFDRVNGaWxtaWNUb25lTWFwcGluZ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGNvbG9yIG1hbmFnZW1lbnQgc3RhdGVcbiAgICAgIGlmIChzdGF0ZS5sZWdhY3kgIT09IGxlZ2FjeSkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGxlZ2FjeVxuICAgICAgfSkpO1xuICAgICAgaWYgKHN0YXRlLmxpbmVhciAhPT0gbGluZWFyKSBzdGF0ZS5zZXQoKCkgPT4gKHtcbiAgICAgICAgbGluZWFyXG4gICAgICB9KSk7XG4gICAgICBpZiAoc3RhdGUuZmxhdCAhPT0gZmxhdCkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGZsYXRcbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IGdsIHByb3BzXG4gICAgICBpZiAoZ2xDb25maWcgJiYgIWlzLmZ1bihnbENvbmZpZykgJiYgIWlzUmVuZGVyZXIoZ2xDb25maWcpICYmICFpcy5lcXUoZ2xDb25maWcsIGdsLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKGdsLCBnbENvbmZpZyk7XG4gICAgICAvLyBTdG9yZSBldmVudHMgaW50ZXJuYWxseVxuICAgICAgaWYgKGV2ZW50cyAmJiAhc3RhdGUuZXZlbnRzLmhhbmRsZXJzKSBzdGF0ZS5zZXQoe1xuICAgICAgICBldmVudHM6IGV2ZW50cyhzdG9yZSlcbiAgICAgIH0pO1xuICAgICAgLy8gQ2hlY2sgc2l6ZSwgYWxsb3cgaXQgdG8gdGFrZSBvbiBjb250YWluZXIgYm91bmRzIGluaXRpYWxseVxuICAgICAgY29uc3Qgc2l6ZSA9IGNvbXB1dGVJbml0aWFsU2l6ZShjYW52YXMsIHByb3BzU2l6ZSk7XG4gICAgICBpZiAoIWlzLmVxdShzaXplLCBzdGF0ZS5zaXplLCBzaGFsbG93TG9vc2UpKSB7XG4gICAgICAgIHN0YXRlLnNldFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQsIHNpemUudXBkYXRlU3R5bGUsIHNpemUudG9wLCBzaXplLmxlZnQpO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgcGl4ZWxyYXRpb1xuICAgICAgaWYgKGRwciAmJiBzdGF0ZS52aWV3cG9ydC5kcHIgIT09IGNhbGN1bGF0ZURwcihkcHIpKSBzdGF0ZS5zZXREcHIoZHByKTtcbiAgICAgIC8vIENoZWNrIGZyYW1lbG9vcFxuICAgICAgaWYgKHN0YXRlLmZyYW1lbG9vcCAhPT0gZnJhbWVsb29wKSBzdGF0ZS5zZXRGcmFtZWxvb3AoZnJhbWVsb29wKTtcbiAgICAgIC8vIENoZWNrIHBvaW50ZXIgbWlzc2VkXG4gICAgICBpZiAoIXN0YXRlLm9uUG9pbnRlck1pc3NlZCkgc3RhdGUuc2V0KHtcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkXG4gICAgICB9KTtcbiAgICAgIC8vIENoZWNrIHBlcmZvcm1hbmNlXG4gICAgICBpZiAocGVyZm9ybWFuY2UgJiYgIWlzLmVxdShwZXJmb3JtYW5jZSwgc3RhdGUucGVyZm9ybWFuY2UsIHNoYWxsb3dMb29zZSkpIHN0YXRlLnNldChzdGF0ZSA9PiAoe1xuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIC4uLnN0YXRlLnBlcmZvcm1hbmNlLFxuICAgICAgICAgIC4uLnBlcmZvcm1hbmNlXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IGxvY2Fsc1xuICAgICAgb25DcmVhdGVkID0gb25DcmVhdGVkQ2FsbGJhY2s7XG4gICAgICBjb25maWd1cmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgcmVuZGVyKGNoaWxkcmVuKSB7XG4gICAgICAvLyBUaGUgcm9vdCBoYXMgdG8gYmUgY29uZmlndXJlZCBiZWZvcmUgaXQgY2FuIGJlIHJlbmRlcmVkXG4gICAgICBpZiAoIWNvbmZpZ3VyZWQpIHRoaXMuY29uZmlndXJlKCk7XG4gICAgICByZWNvbmNpbGVyLnVwZGF0ZUNvbnRhaW5lciggLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KFByb3ZpZGVyLCB7XG4gICAgICAgIHN0b3JlOiBzdG9yZSxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICBvbkNyZWF0ZWQ6IG9uQ3JlYXRlZCxcbiAgICAgICAgcm9vdEVsZW1lbnQ6IGNhbnZhc1xuICAgICAgfSksIGZpYmVyLCBudWxsLCAoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH0sXG4gICAgdW5tb3VudCgpIHtcbiAgICAgIHVubW91bnRDb21wb25lbnRBdE5vZGUoY2FudmFzKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiByZW5kZXIoY2hpbGRyZW4sIGNhbnZhcywgY29uZmlnKSB7XG4gIGNvbnNvbGUud2FybignUjNGLnJlbmRlciBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGluIFJlYWN0IDE4LiBVc2UgY3JlYXRlUm9vdCBpbnN0ZWFkIScpO1xuICBjb25zdCByb290ID0gY3JlYXRlUm9vdChjYW52YXMpO1xuICByb290LmNvbmZpZ3VyZShjb25maWcpO1xuICByZXR1cm4gcm9vdC5yZW5kZXIoY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gUHJvdmlkZXIoe1xuICBzdG9yZSxcbiAgY2hpbGRyZW4sXG4gIG9uQ3JlYXRlZCxcbiAgcm9vdEVsZW1lbnRcbn0pIHtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIC8vIEZsYWcgdGhlIGNhbnZhcyBhY3RpdmUsIHJlbmRlcmluZyB3aWxsIG5vdyBiZWdpblxuICAgIHN0YXRlLnNldChzdGF0ZSA9PiAoe1xuICAgICAgaW50ZXJuYWw6IHtcbiAgICAgICAgLi4uc3RhdGUuaW50ZXJuYWwsXG4gICAgICAgIGFjdGl2ZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pKTtcbiAgICAvLyBOb3RpZml5IHRoYXQgaW5pdCBpcyBjb21wbGV0ZWQsIHRoZSBzY2VuZSBncmFwaCBleGlzdHMsIGJ1dCBub3RoaW5nIGhhcyB5ZXQgcmVuZGVyZWRcbiAgICBpZiAob25DcmVhdGVkKSBvbkNyZWF0ZWQoc3RhdGUpO1xuICAgIC8vIENvbm5lY3QgZXZlbnRzIHRvIHRoZSB0YXJnZXRzIHBhcmVudCwgdGhpcyBpcyBkb25lIHRvIGVuc3VyZSBldmVudHMgYXJlIHJlZ2lzdGVyZWQgb25cbiAgICAvLyBhIHNoYXJlZCB0YXJnZXQsIGFuZCBub3Qgb24gdGhlIGNhbnZhcyBpdHNlbGZcbiAgICBpZiAoIXN0b3JlLmdldFN0YXRlKCkuZXZlbnRzLmNvbm5lY3RlZCkgc3RhdGUuZXZlbnRzLmNvbm5lY3QgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb25uZWN0KHJvb3RFbGVtZW50KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3hSdW50aW1lLmpzeChjb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0b3JlLFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KTtcbn1cbmZ1bmN0aW9uIHVubW91bnRDb21wb25lbnRBdE5vZGUoY2FudmFzLCBjYWxsYmFjaykge1xuICBjb25zdCByb290ID0gcm9vdHMuZ2V0KGNhbnZhcyk7XG4gIGNvbnN0IGZpYmVyID0gcm9vdCA9PSBudWxsID8gdm9pZCAwIDogcm9vdC5maWJlcjtcbiAgaWYgKGZpYmVyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSByb290ID09IG51bGwgPyB2b2lkIDAgOiByb290LnN0b3JlLmdldFN0YXRlKCk7XG4gICAgaWYgKHN0YXRlKSBzdGF0ZS5pbnRlcm5hbC5hY3RpdmUgPSBmYWxzZTtcbiAgICByZWNvbmNpbGVyLnVwZGF0ZUNvbnRhaW5lcihudWxsLCBmaWJlciwgbnVsbCwgKCkgPT4ge1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgX3N0YXRlJGdsLCBfc3RhdGUkZ2wkcmVuZGVyTGlzdHMsIF9zdGF0ZSRnbDIsIF9zdGF0ZSRnbDM7XG4gICAgICAgICAgICBzdGF0ZS5ldmVudHMuZGlzY29ubmVjdCA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUuZXZlbnRzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIChfc3RhdGUkZ2wgPSBzdGF0ZS5nbCkgPT0gbnVsbCA/IHZvaWQgMCA6IChfc3RhdGUkZ2wkcmVuZGVyTGlzdHMgPSBfc3RhdGUkZ2wucmVuZGVyTGlzdHMpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkZ2wkcmVuZGVyTGlzdHMuZGlzcG9zZSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGdsJHJlbmRlckxpc3RzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIChfc3RhdGUkZ2wyID0gc3RhdGUuZ2wpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkZ2wyLmZvcmNlQ29udGV4dExvc3MgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRnbDIuZm9yY2VDb250ZXh0TG9zcygpO1xuICAgICAgICAgICAgaWYgKChfc3RhdGUkZ2wzID0gc3RhdGUuZ2wpICE9IG51bGwgJiYgX3N0YXRlJGdsMy54cikgc3RhdGUueHIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZGlzcG9zZShzdGF0ZSk7XG4gICAgICAgICAgICByb290cy5kZWxldGUoY2FudmFzKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soY2FudmFzKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiAuLi4gKi9cbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyLCBzdGF0ZSkge1xuICByZXR1cm4gLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KFBvcnRhbCwge1xuICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICBzdGF0ZTogc3RhdGVcbiAgfSwgY29udGFpbmVyLnV1aWQpO1xufVxuZnVuY3Rpb24gUG9ydGFsKHtcbiAgc3RhdGUgPSB7fSxcbiAgY2hpbGRyZW4sXG4gIGNvbnRhaW5lclxufSkge1xuICAvKiogVGhpcyBoYXMgdG8gYmUgYSBjb21wb25lbnQgYmVjYXVzZSBpdCB3b3VsZCBub3QgYmUgYWJsZSB0byBjYWxsIHVzZVRocmVlL3VzZVN0b3JlIG90aGVyd2lzZSBzaW5jZVxyXG4gICAqICBpZiB0aGlzIGlzIG91ciBlbnZpcm9ubWVudCwgdGhlbiB3ZSBhcmUgbm90IGluIHIzZidzIHJlbmRlcmVyIGJ1dCBpbiByZWFjdC1kb20sIGl0IHdvdWxkIHRyaWdnZXJcclxuICAgKiAgdGhlIFwiUjNGIGhvb2tzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIHRoZSBDYW52YXMgY29tcG9uZW50IVwiIHdhcm5pbmc6XHJcbiAgICogIDxDYW52YXM+XHJcbiAgICogICAge2NyZWF0ZVBvcnRhbCguLi4pfSAqL1xuICBjb25zdCB7XG4gICAgZXZlbnRzLFxuICAgIHNpemUsXG4gICAgLi4ucmVzdFxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHByZXZpb3VzUm9vdCA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IFtyYXljYXN0ZXJdID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgoKSA9PiBuZXcgVEhSRUVfX25hbWVzcGFjZS5SYXljYXN0ZXIoKSk7XG4gIGNvbnN0IFtwb2ludGVyXSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoKCkgPT4gbmV3IFRIUkVFX19uYW1lc3BhY2UuVmVjdG9yMigpKTtcbiAgY29uc3QgaW5qZWN0ID0gUmVhY3RfX25hbWVzcGFjZS51c2VDYWxsYmFjaygocm9vdFN0YXRlLCBpbmplY3RTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGludGVyc2VjdCA9IHtcbiAgICAgIC4uLnJvb3RTdGF0ZVxuICAgIH07IC8vIGFsbCBwcmV2IHN0YXRlIHByb3BzXG5cbiAgICAvLyBPbmx5IHRoZSBmaWVsZHMgb2YgXCJyb290U3RhdGVcIiB0aGF0IGRvIG5vdCBkaWZmZXIgZnJvbSBpbmplY3RTdGF0ZVxuICAgIC8vIFNvbWUgcHJvcHMgc2hvdWxkIGJlIG9mZi1saW1pdHNcbiAgICAvLyBPdGhlcndpc2UgZmlsdGVyIG91dCB0aGUgcHJvcHMgdGhhdCBhcmUgZGlmZmVyZW50IGFuZCBsZXQgdGhlIGluamVjdCBsYXllciB0YWtlIHByZWNlZGVuY2VcbiAgICBPYmplY3Qua2V5cyhyb290U3RhdGUpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGlmIChcbiAgICAgIC8vIFNvbWUgcHJvcHMgc2hvdWxkIGJlIG9mZi1saW1pdHNcbiAgICAgIHByaXZhdGVLZXlzLmluY2x1ZGVzKGtleSkgfHxcbiAgICAgIC8vIE90aGVyd2lzZSBmaWx0ZXIgb3V0IHRoZSBwcm9wcyB0aGF0IGFyZSBkaWZmZXJlbnQgYW5kIGxldCB0aGUgaW5qZWN0IGxheWVyIHRha2UgcHJlY2VkZW5jZVxuICAgICAgLy8gVW5sZXNzIHRoZSBpbmplY3QgbGF5ZXIgcHJvcHMgaXMgdW5kZWZpbmVkLCB0aGVuIHdlIGtlZXAgdGhlIHJvb3QgbGF5ZXJcbiAgICAgIHJvb3RTdGF0ZVtrZXldICE9PSBpbmplY3RTdGF0ZVtrZXldICYmIGluamVjdFN0YXRlW2tleV0pIHtcbiAgICAgICAgZGVsZXRlIGludGVyc2VjdFtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCB2aWV3cG9ydCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaW5qZWN0U3RhdGUgJiYgc2l6ZSkge1xuICAgICAgY29uc3QgY2FtZXJhID0gaW5qZWN0U3RhdGUuY2FtZXJhO1xuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvdmVycmlkZSB2aWV3cG9ydCwgaWYgcHJlc2VudFxuICAgICAgdmlld3BvcnQgPSByb290U3RhdGUudmlld3BvcnQuZ2V0Q3VycmVudFZpZXdwb3J0KGNhbWVyYSwgbmV3IFRIUkVFX19uYW1lc3BhY2UuVmVjdG9yMygpLCBzaXplKTtcbiAgICAgIC8vIFVwZGF0ZSB0aGUgcG9ydGFsIGNhbWVyYSwgaWYgaXQgZGlmZmVycyBmcm9tIHRoZSBwcmV2aW91cyBsYXllclxuICAgICAgaWYgKGNhbWVyYSAhPT0gcm9vdFN0YXRlLmNhbWVyYSkgdXBkYXRlQ2FtZXJhKGNhbWVyYSwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAvLyBUaGUgaW50ZXJzZWN0IGNvbnNpc3RzIG9mIHRoZSBwcmV2aW91cyByb290IHN0YXRlXG4gICAgICAuLi5pbnRlcnNlY3QsXG4gICAgICAvLyBQb3J0YWxzIGhhdmUgdGhlaXIgb3duIHNjZW5lLCB3aGljaCBmb3JtcyB0aGUgcm9vdCwgYSByYXljYXN0ZXIgYW5kIGEgcG9pbnRlclxuICAgICAgc2NlbmU6IGNvbnRhaW5lcixcbiAgICAgIHJheWNhc3RlcixcbiAgICAgIHBvaW50ZXIsXG4gICAgICBtb3VzZTogcG9pbnRlcixcbiAgICAgIC8vIFRoZWlyIHByZXZpb3VzIHJvb3QgaXMgdGhlIGxheWVyIGJlZm9yZSBpdFxuICAgICAgcHJldmlvdXNSb290LFxuICAgICAgLy8gRXZlbnRzLCBzaXplIGFuZCB2aWV3cG9ydCBjYW4gYmUgb3ZlcnJpZGRlbiBieSB0aGUgaW5qZWN0IGxheWVyXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgLi4ucm9vdFN0YXRlLmV2ZW50cyxcbiAgICAgICAgLi4uKGluamVjdFN0YXRlID09IG51bGwgPyB2b2lkIDAgOiBpbmplY3RTdGF0ZS5ldmVudHMpLFxuICAgICAgICAuLi5ldmVudHNcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIC4uLnJvb3RTdGF0ZS5zaXplLFxuICAgICAgICAuLi5zaXplXG4gICAgICB9LFxuICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgLi4ucm9vdFN0YXRlLnZpZXdwb3J0LFxuICAgICAgICAuLi52aWV3cG9ydFxuICAgICAgfSxcbiAgICAgIC4uLnJlc3RcbiAgICB9O1xuICB9LFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIFtzdGF0ZV0pO1xuICBjb25zdCBbdXNlUG9ydGFsU3RvcmVdID0gUmVhY3RfX25hbWVzcGFjZS51c2VTdGF0ZSgoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgbWlycm9yZWQgc3RvcmUsIGJhc2VkIG9uIHRoZSBwcmV2aW91cyByb290IHdpdGggYSBmZXcgb3ZlcnJpZGVzIC4uLlxuICAgIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwcmV2aW91c1Jvb3QuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBzdG9yZSA9IGNyZWF0ZV9fZGVmYXVsdFtcImRlZmF1bHRcIl0oKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgLi4ucHJldmlvdXNTdGF0ZSxcbiAgICAgIHNjZW5lOiBjb250YWluZXIsXG4gICAgICByYXljYXN0ZXIsXG4gICAgICBwb2ludGVyLFxuICAgICAgbW91c2U6IHBvaW50ZXIsXG4gICAgICBwcmV2aW91c1Jvb3QsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgLi4ucHJldmlvdXNTdGF0ZS5ldmVudHMsXG4gICAgICAgIC4uLmV2ZW50c1xuICAgICAgfSxcbiAgICAgIHNpemU6IHtcbiAgICAgICAgLi4ucHJldmlvdXNTdGF0ZS5zaXplLFxuICAgICAgICAuLi5zaXplXG4gICAgICB9LFxuICAgICAgLi4ucmVzdCxcbiAgICAgIC8vIFNldCBhbmQgZ2V0IHJlZmVyIHRvIHRoaXMgcm9vdC1zdGF0ZVxuICAgICAgc2V0LFxuICAgICAgZ2V0LFxuICAgICAgLy8gTGF5ZXJzIGFyZSBhbGxvd2VkIHRvIG92ZXJyaWRlIGV2ZW50c1xuICAgICAgc2V0RXZlbnRzOiBldmVudHMgPT4gc2V0KHN0YXRlID0+ICh7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5ldmVudHMsXG4gICAgICAgICAgLi4uZXZlbnRzXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgIH0pKTtcbiAgICByZXR1cm4gc3RvcmU7XG4gIH0pO1xuICBSZWFjdF9fbmFtZXNwYWNlLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU3Vic2NyaWJlIHRvIHByZXZpb3VzIHJvb3Qtc3RhdGUgYW5kIGNvcHkgY2hhbmdlcyBvdmVyIHRvIHRoZSBtaXJyb3JlZCBwb3J0YWwtc3RhdGVcbiAgICBjb25zdCB1bnN1YiA9IHByZXZpb3VzUm9vdC5zdWJzY3JpYmUocHJldiA9PiB1c2VQb3J0YWxTdG9yZS5zZXRTdGF0ZShzdGF0ZSA9PiBpbmplY3QocHJldiwgc3RhdGUpKSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3ViKCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtpbmplY3RdKTtcbiAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVzZVBvcnRhbFN0b3JlLnNldFN0YXRlKGluamVjdFN0YXRlID0+IGluamVjdChwcmV2aW91c1Jvb3QuZ2V0U3RhdGUoKSwgaW5qZWN0U3RhdGUpKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtpbmplY3RdKTtcbiAgUmVhY3RfX25hbWVzcGFjZS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1c2VQb3J0YWxTdG9yZS5kZXN0cm95KCk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3hSdW50aW1lLmpzeChqc3hSdW50aW1lLkZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHJlY29uY2lsZXIuY3JlYXRlUG9ydGFsKCAvKiNfX1BVUkVfXyovanN4UnVudGltZS5qc3goY29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHVzZVBvcnRhbFN0b3JlLFxuICAgICAgY2hpbGRyZW46IGNoaWxkcmVuXG4gICAgfSksIHVzZVBvcnRhbFN0b3JlLCBudWxsKVxuICB9KTtcbn1cblxuLyoqXHJcbiAqIEZvcmNlIFJlYWN0IHRvIGZsdXNoIGFueSB1cGRhdGVzIGluc2lkZSB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgc3luY2hyb25vdXNseSBhbmQgaW1tZWRpYXRlbHkuXHJcbiAqIEFsbCB0aGUgc2FtZSBjYXZlYXRzIGRvY3VtZW50ZWQgZm9yIHJlYWN0LWRvbSdzIGBmbHVzaFN5bmNgIGFwcGx5IGhlcmUgKHNlZSBodHRwczovL3JlYWN0LmRldi9yZWZlcmVuY2UvcmVhY3QtZG9tL2ZsdXNoU3luYykuXHJcbiAqIE5ldmVydGhlbGVzcywgc29tZXRpbWVzIG9uZSBuZWVkcyB0byByZW5kZXIgc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgdG8ga2VlcCBET00gYW5kIDNEIGNoYW5nZXMgaW4gbG9jay1zdGVwIHdpdGhvdXRcclxuICogaGF2aW5nIHRvIHJldmVydCB0byBhIG5vbi1SZWFjdCBzb2x1dGlvbi5cclxuICovXG5mdW5jdGlvbiBmbHVzaFN5bmMoZm4pIHtcbiAgLy8gYGZsdXNoU3luY2AgaW1wbGVtZW50YXRpb24gb25seSB0YWtlcyBvbmUgYXJndW1lbnQuIEkgZG9uJ3Qga25vdyB3aGF0J3MgdXAgd2l0aCB0aGUgdHlwZSBkZWNsYXJhdGlvbiBmb3IgaXQuXG4gIHJldHVybiByZWNvbmNpbGVyLmZsdXNoU3luYyhmbiwgdW5kZWZpbmVkKTtcbn1cbnJlY29uY2lsZXIuaW5qZWN0SW50b0RldlRvb2xzKHtcbiAgYnVuZGxlVHlwZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IDAgOiAxLFxuICByZW5kZXJlclBhY2thZ2VOYW1lOiAnQHJlYWN0LXRocmVlL2ZpYmVyJyxcbiAgdmVyc2lvbjogUmVhY3RfX25hbWVzcGFjZS52ZXJzaW9uXG59KTtcbmNvbnN0IGFjdCA9IFJlYWN0X19uYW1lc3BhY2UudW5zdGFibGVfYWN0O1xuXG5jb25zdCBET01fRVZFTlRTID0ge1xuICBvbkNsaWNrOiBbJ2NsaWNrJywgZmFsc2VdLFxuICBvbkNvbnRleHRNZW51OiBbJ2NvbnRleHRtZW51JywgZmFsc2VdLFxuICBvbkRvdWJsZUNsaWNrOiBbJ2RibGNsaWNrJywgZmFsc2VdLFxuICBvbldoZWVsOiBbJ3doZWVsJywgdHJ1ZV0sXG4gIG9uUG9pbnRlckRvd246IFsncG9pbnRlcmRvd24nLCB0cnVlXSxcbiAgb25Qb2ludGVyVXA6IFsncG9pbnRlcnVwJywgdHJ1ZV0sXG4gIG9uUG9pbnRlckxlYXZlOiBbJ3BvaW50ZXJsZWF2ZScsIHRydWVdLFxuICBvblBvaW50ZXJNb3ZlOiBbJ3BvaW50ZXJtb3ZlJywgdHJ1ZV0sXG4gIG9uUG9pbnRlckNhbmNlbDogWydwb2ludGVyY2FuY2VsJywgdHJ1ZV0sXG4gIG9uTG9zdFBvaW50ZXJDYXB0dXJlOiBbJ2xvc3Rwb2ludGVyY2FwdHVyZScsIHRydWVdXG59O1xuXG4vKiogRGVmYXVsdCBSM0YgZXZlbnQgbWFuYWdlciBmb3Igd2ViICovXG5mdW5jdGlvbiBjcmVhdGVQb2ludGVyRXZlbnRzKHN0b3JlKSB7XG4gIGNvbnN0IHtcbiAgICBoYW5kbGVQb2ludGVyXG4gIH0gPSBjcmVhdGVFdmVudHMoc3RvcmUpO1xuICByZXR1cm4ge1xuICAgIHByaW9yaXR5OiAxLFxuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgY29tcHV0ZShldmVudCwgc3RhdGUsIHByZXZpb3VzKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL3B1bGwvNzgyXG4gICAgICAvLyBFdmVudHMgdHJpZ2dlciBvdXRzaWRlIG9mIGNhbnZhcyB3aGVuIG1vdmVkLCB1c2Ugb2Zmc2V0WC9ZIGJ5IGRlZmF1bHQgYW5kIGFsbG93IG92ZXJyaWRlc1xuICAgICAgc3RhdGUucG9pbnRlci5zZXQoZXZlbnQub2Zmc2V0WCAvIHN0YXRlLnNpemUud2lkdGggKiAyIC0gMSwgLShldmVudC5vZmZzZXRZIC8gc3RhdGUuc2l6ZS5oZWlnaHQpICogMiArIDEpO1xuICAgICAgc3RhdGUucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEoc3RhdGUucG9pbnRlciwgc3RhdGUuY2FtZXJhKTtcbiAgICB9LFxuICAgIGNvbm5lY3RlZDogdW5kZWZpbmVkLFxuICAgIGhhbmRsZXJzOiBPYmplY3Qua2V5cyhET01fRVZFTlRTKS5yZWR1Y2UoKGFjYywga2V5KSA9PiAoe1xuICAgICAgLi4uYWNjLFxuICAgICAgW2tleV06IGhhbmRsZVBvaW50ZXIoa2V5KVxuICAgIH0pLCB7fSksXG4gICAgdXBkYXRlOiAoKSA9PiB7XG4gICAgICB2YXIgX2ludGVybmFsJGxhc3RFdmVudDtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZXZlbnRzLFxuICAgICAgICBpbnRlcm5hbFxuICAgICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBpZiAoKF9pbnRlcm5hbCRsYXN0RXZlbnQgPSBpbnRlcm5hbC5sYXN0RXZlbnQpICE9IG51bGwgJiYgX2ludGVybmFsJGxhc3RFdmVudC5jdXJyZW50ICYmIGV2ZW50cy5oYW5kbGVycykgZXZlbnRzLmhhbmRsZXJzLm9uUG9pbnRlck1vdmUoaW50ZXJuYWwubGFzdEV2ZW50LmN1cnJlbnQpO1xuICAgIH0sXG4gICAgY29ubmVjdDogdGFyZ2V0ID0+IHtcbiAgICAgIHZhciBfZXZlbnRzJGhhbmRsZXJzO1xuICAgICAgY29uc3Qge1xuICAgICAgICBzZXQsXG4gICAgICAgIGV2ZW50c1xuICAgICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBldmVudHMuZGlzY29ubmVjdCA9PSBudWxsID8gdm9pZCAwIDogZXZlbnRzLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHNldChzdGF0ZSA9PiAoe1xuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5ldmVudHMsXG4gICAgICAgICAgY29ubmVjdGVkOiB0YXJnZXRcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgICAgT2JqZWN0LmVudHJpZXMoKF9ldmVudHMkaGFuZGxlcnMgPSBldmVudHMuaGFuZGxlcnMpICE9IG51bGwgPyBfZXZlbnRzJGhhbmRsZXJzIDogW10pLmZvckVhY2goKFtuYW1lLCBldmVudF0pID0+IHtcbiAgICAgICAgY29uc3QgW2V2ZW50TmFtZSwgcGFzc2l2ZV0gPSBET01fRVZFTlRTW25hbWVdO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50LCB7XG4gICAgICAgICAgcGFzc2l2ZVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGlzY29ubmVjdDogKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBzZXQsXG4gICAgICAgIGV2ZW50c1xuICAgICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICBpZiAoZXZlbnRzLmNvbm5lY3RlZCkge1xuICAgICAgICB2YXIgX2V2ZW50cyRoYW5kbGVyczI7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKChfZXZlbnRzJGhhbmRsZXJzMiA9IGV2ZW50cy5oYW5kbGVycykgIT0gbnVsbCA/IF9ldmVudHMkaGFuZGxlcnMyIDogW10pLmZvckVhY2goKFtuYW1lLCBldmVudF0pID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnRzICYmIGV2ZW50cy5jb25uZWN0ZWQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgW2V2ZW50TmFtZV0gPSBET01fRVZFTlRTW25hbWVdO1xuICAgICAgICAgICAgZXZlbnRzLmNvbm5lY3RlZC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldChzdGF0ZSA9PiAoe1xuICAgICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgLi4uc3RhdGUuZXZlbnRzLFxuICAgICAgICAgICAgY29ubmVjdGVkOiB1bmRlZmluZWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydHMuQmxvY2sgPSBCbG9jaztcbmV4cG9ydHMuRXJyb3JCb3VuZGFyeSA9IEVycm9yQm91bmRhcnk7XG5leHBvcnRzLmFjdCA9IGFjdDtcbmV4cG9ydHMuYWRkQWZ0ZXJFZmZlY3QgPSBhZGRBZnRlckVmZmVjdDtcbmV4cG9ydHMuYWRkRWZmZWN0ID0gYWRkRWZmZWN0O1xuZXhwb3J0cy5hZGRUYWlsID0gYWRkVGFpbDtcbmV4cG9ydHMuYWR2YW5jZSA9IGFkdmFuY2U7XG5leHBvcnRzLmFwcGx5UHJvcHMgPSBhcHBseVByb3BzO1xuZXhwb3J0cy5idWlsZEdyYXBoID0gYnVpbGRHcmFwaDtcbmV4cG9ydHMuY29udGV4dCA9IGNvbnRleHQ7XG5leHBvcnRzLmNyZWF0ZUV2ZW50cyA9IGNyZWF0ZUV2ZW50cztcbmV4cG9ydHMuY3JlYXRlUG9pbnRlckV2ZW50cyA9IGNyZWF0ZVBvaW50ZXJFdmVudHM7XG5leHBvcnRzLmNyZWF0ZVBvcnRhbCA9IGNyZWF0ZVBvcnRhbDtcbmV4cG9ydHMuY3JlYXRlUm9vdCA9IGNyZWF0ZVJvb3Q7XG5leHBvcnRzLmRpc3Bvc2UgPSBkaXNwb3NlO1xuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5leHBvcnRzLmZsdXNoR2xvYmFsRWZmZWN0cyA9IGZsdXNoR2xvYmFsRWZmZWN0cztcbmV4cG9ydHMuZmx1c2hTeW5jID0gZmx1c2hTeW5jO1xuZXhwb3J0cy5nZXRSb290U3RhdGUgPSBnZXRSb290U3RhdGU7XG5leHBvcnRzLmludmFsaWRhdGUgPSBpbnZhbGlkYXRlO1xuZXhwb3J0cy5pc1JlZiA9IGlzUmVmO1xuZXhwb3J0cy5yZWNvbmNpbGVyID0gcmVjb25jaWxlcjtcbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuZXhwb3J0cy5yb290cyA9IHJvb3RzO1xuZXhwb3J0cy50aHJlZVR5cGVzID0gdGhyZWVUeXBlcztcbmV4cG9ydHMudW5tb3VudENvbXBvbmVudEF0Tm9kZSA9IHVubW91bnRDb21wb25lbnRBdE5vZGU7XG5leHBvcnRzLnVzZUZyYW1lID0gdXNlRnJhbWU7XG5leHBvcnRzLnVzZUdyYXBoID0gdXNlR3JhcGg7XG5leHBvcnRzLnVzZUluc3RhbmNlSGFuZGxlID0gdXNlSW5zdGFuY2VIYW5kbGU7XG5leHBvcnRzLnVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0O1xuZXhwb3J0cy51c2VMb2FkZXIgPSB1c2VMb2FkZXI7XG5leHBvcnRzLnVzZU11dGFibGVDYWxsYmFjayA9IHVzZU11dGFibGVDYWxsYmFjaztcbmV4cG9ydHMudXNlU3RvcmUgPSB1c2VTdG9yZTtcbmV4cG9ydHMudXNlVGhyZWUgPSB1c2VUaHJlZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/events-d0566a2e.cjs.dev.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.dev.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.dev.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar events = __webpack_require__(/*! ./events-d0566a2e.cjs.dev.js */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-d0566a2e.cjs.dev.js\");\nvar React = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\nvar THREE = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.cjs\");\nvar useMeasure = __webpack_require__(/*! react-use-measure */ \"(ssr)/./node_modules/react-use-measure/dist/index.cjs\");\nvar itsFine = __webpack_require__(/*! its-fine */ \"(ssr)/./node_modules/its-fine/dist/index.cjs\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n__webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\n__webpack_require__(/*! zustand */ \"(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js\");\n__webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.cjs.js\");\n__webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\n__webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n\nfunction _interopDefault (e) { return e && e.__esModule ? e : { 'default': e }; }\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\nvar THREE__namespace = /*#__PURE__*/_interopNamespace(THREE);\nvar useMeasure__default = /*#__PURE__*/_interopDefault(useMeasure);\n\nconst CanvasImpl = /*#__PURE__*/React__namespace.forwardRef(function Canvas({\n  children,\n  fallback,\n  resize,\n  style,\n  gl,\n  events: events$1 = events.createPointerEvents,\n  eventSource,\n  eventPrefix,\n  shadows,\n  linear,\n  flat,\n  legacy,\n  orthographic,\n  frameloop,\n  dpr,\n  performance,\n  raycaster,\n  camera,\n  scene,\n  onPointerMissed,\n  onCreated,\n  ...props\n}, forwardedRef) {\n  // Create a known catalogue of Threejs-native elements\n  // This will include the entire THREE namespace by default, users can extend\n  // their own elements by using the createRoot API instead\n  React__namespace.useMemo(() => events.extend(THREE__namespace), []);\n  const Bridge = itsFine.useContextBridge();\n  const [containerRef, containerRect] = useMeasure__default[\"default\"]({\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    },\n    ...resize\n  });\n  const canvasRef = React__namespace.useRef(null);\n  const divRef = React__namespace.useRef(null);\n  React__namespace.useImperativeHandle(forwardedRef, () => canvasRef.current);\n  const handlePointerMissed = events.useMutableCallback(onPointerMissed);\n  const [block, setBlock] = React__namespace.useState(false);\n  const [error, setError] = React__namespace.useState(false);\n\n  // Suspend this component if block is a promise (2nd run)\n  if (block) throw block;\n  // Throw exception outwards if anything within canvas throws\n  if (error) throw error;\n  const root = React__namespace.useRef(null);\n  events.useIsomorphicLayoutEffect(() => {\n    const canvas = canvasRef.current;\n    if (containerRect.width > 0 && containerRect.height > 0 && canvas) {\n      if (!root.current) root.current = events.createRoot(canvas);\n      root.current.configure({\n        gl,\n        events: events$1,\n        shadows,\n        linear,\n        flat,\n        legacy,\n        orthographic,\n        frameloop,\n        dpr,\n        performance,\n        raycaster,\n        camera,\n        scene,\n        size: containerRect,\n        // Pass mutable reference to onPointerMissed so it's free to update\n        onPointerMissed: (...args) => handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...args),\n        onCreated: state => {\n          // Connect to event source\n          state.events.connect == null ? void 0 : state.events.connect(eventSource ? events.isRef(eventSource) ? eventSource.current : eventSource : divRef.current);\n          // Set up compute function\n          if (eventPrefix) {\n            state.setEvents({\n              compute: (event, state) => {\n                const x = event[eventPrefix + 'X'];\n                const y = event[eventPrefix + 'Y'];\n                state.pointer.set(x / state.size.width * 2 - 1, -(y / state.size.height) * 2 + 1);\n                state.raycaster.setFromCamera(state.pointer, state.camera);\n              }\n            });\n          }\n          // Call onCreated callback\n          onCreated == null ? void 0 : onCreated(state);\n        }\n      });\n      root.current.render( /*#__PURE__*/jsxRuntime.jsx(Bridge, {\n        children: /*#__PURE__*/jsxRuntime.jsx(events.ErrorBoundary, {\n          set: setError,\n          children: /*#__PURE__*/jsxRuntime.jsx(React__namespace.Suspense, {\n            fallback: /*#__PURE__*/jsxRuntime.jsx(events.Block, {\n              set: setBlock\n            }),\n            children: children != null ? children : null\n          })\n        })\n      }));\n    }\n  });\n  React__namespace.useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas) return () => events.unmountComponentAtNode(canvas);\n  }, []);\n\n  // When the event source is not this div, we need to set pointer-events to none\n  // Or else the canvas will block events from reaching the event source\n  const pointerEvents = eventSource ? 'none' : 'auto';\n  return /*#__PURE__*/jsxRuntime.jsx(\"div\", {\n    ref: divRef,\n    style: {\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      overflow: 'hidden',\n      pointerEvents,\n      ...style\n    },\n    ...props,\n    children: /*#__PURE__*/jsxRuntime.jsx(\"div\", {\n      ref: containerRef,\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      children: /*#__PURE__*/jsxRuntime.jsx(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          display: 'block'\n        },\n        children: fallback\n      })\n    })\n  });\n});\n\n/**\r\n * A DOM canvas which accepts threejs elements as children.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\r\n */\nconst Canvas = /*#__PURE__*/React__namespace.forwardRef(function CanvasWrapper(props, ref) {\n  return /*#__PURE__*/jsxRuntime.jsx(itsFine.FiberProvider, {\n    children: /*#__PURE__*/jsxRuntime.jsx(CanvasImpl, {\n      ...props,\n      ref: ref\n    })\n  });\n});\n\nexports.ReactThreeFiber = events.threeTypes;\nexports._roots = events.roots;\nexports.act = events.act;\nexports.addAfterEffect = events.addAfterEffect;\nexports.addEffect = events.addEffect;\nexports.addTail = events.addTail;\nexports.advance = events.advance;\nexports.applyProps = events.applyProps;\nexports.buildGraph = events.buildGraph;\nexports.context = events.context;\nexports.createEvents = events.createEvents;\nexports.createPointerEvents = events.createPointerEvents;\nexports.createPortal = events.createPortal;\nexports.createRoot = events.createRoot;\nexports.dispose = events.dispose;\nexports.events = events.createPointerEvents;\nexports.extend = events.extend;\nexports.flushGlobalEffects = events.flushGlobalEffects;\nexports.flushSync = events.flushSync;\nexports.getRootState = events.getRootState;\nexports.invalidate = events.invalidate;\nexports.reconciler = events.reconciler;\nexports.render = events.render;\nexports.unmountComponentAtNode = events.unmountComponentAtNode;\nexports.useFrame = events.useFrame;\nexports.useGraph = events.useGraph;\nexports.useInstanceHandle = events.useInstanceHandle;\nexports.useLoader = events.useLoader;\nexports.useStore = events.useStore;\nexports.useThree = events.useThree;\nexports.Canvas = Canvas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuY2pzLmRldi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELGFBQWEsbUJBQU8sQ0FBQyw2R0FBOEI7QUFDbkQsWUFBWSxtQkFBTyxDQUFDLHdHQUFPO0FBQzNCLFlBQVksbUJBQU8sQ0FBQyx5REFBTztBQUMzQixpQkFBaUIsbUJBQU8sQ0FBQyxnRkFBbUI7QUFDNUMsY0FBYyxtQkFBTyxDQUFDLDhEQUFVO0FBQ2hDLGlCQUFpQixtQkFBTyxDQUFDLGdJQUFtQjtBQUM1QyxtQkFBTyxDQUFDLHNGQUE0QjtBQUNwQyxtQkFBTyxDQUFDLDBGQUFTO0FBQ2pCLG1CQUFPLENBQUMsc0VBQWU7QUFDdkIsbUJBQU8sQ0FBQyx3RUFBa0I7QUFDMUIsbUJBQU8sQ0FBQywwREFBVzs7QUFFbkIsK0JBQStCLGlDQUFpQzs7QUFFaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCx1QkFBdUI7QUFDdkIsY0FBYztBQUNkLFdBQVc7QUFDWCxzQkFBc0I7QUFDdEIsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZixlQUFlO0FBQ2Ysa0JBQWtCO0FBQ2xCLGtCQUFrQjtBQUNsQixlQUFlO0FBQ2Ysb0JBQW9CO0FBQ3BCLDJCQUEyQjtBQUMzQixvQkFBb0I7QUFDcEIsa0JBQWtCO0FBQ2xCLGVBQWU7QUFDZixjQUFjO0FBQ2QsY0FBYztBQUNkLDBCQUEwQjtBQUMxQixpQkFBaUI7QUFDakIsb0JBQW9CO0FBQ3BCLGtCQUFrQjtBQUNsQixrQkFBa0I7QUFDbEIsY0FBYztBQUNkLDhCQUE4QjtBQUM5QixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLHlCQUF5QjtBQUN6QixpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BhY2Vwb3J0Zm9saW8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuY2pzLmRldi5qcz8zNzg3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGV2ZW50cyA9IHJlcXVpcmUoJy4vZXZlbnRzLWQwNTY2YTJlLmNqcy5kZXYuanMnKTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpO1xudmFyIHVzZU1lYXN1cmUgPSByZXF1aXJlKCdyZWFjdC11c2UtbWVhc3VyZScpO1xudmFyIGl0c0ZpbmUgPSByZXF1aXJlKCdpdHMtZmluZScpO1xudmFyIGpzeFJ1bnRpbWUgPSByZXF1aXJlKCdyZWFjdC9qc3gtcnVudGltZScpO1xucmVxdWlyZSgncmVhY3QtcmVjb25jaWxlci9jb25zdGFudHMnKTtcbnJlcXVpcmUoJ3p1c3RhbmQnKTtcbnJlcXVpcmUoJ3N1c3BlbmQtcmVhY3QnKTtcbnJlcXVpcmUoJ3JlYWN0LXJlY29uY2lsZXInKTtcbnJlcXVpcmUoJ3NjaGVkdWxlcicpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQgKGUpIHsgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgJ2RlZmF1bHQnOiBlIH07IH1cblxuZnVuY3Rpb24gX2ludGVyb3BOYW1lc3BhY2UoZSkge1xuICBpZiAoZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlO1xuICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChlKSB7XG4gICAgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgaWYgKGsgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgayk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBrLCBkLmdldCA/IGQgOiB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVba107IH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbltcImRlZmF1bHRcIl0gPSBlO1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShuKTtcbn1cblxudmFyIFJlYWN0X19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoUmVhY3QpO1xudmFyIFRIUkVFX19uYW1lc3BhY2UgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BOYW1lc3BhY2UoVEhSRUUpO1xudmFyIHVzZU1lYXN1cmVfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX2ludGVyb3BEZWZhdWx0KHVzZU1lYXN1cmUpO1xuXG5jb25zdCBDYW52YXNJbXBsID0gLyojX19QVVJFX18qL1JlYWN0X19uYW1lc3BhY2UuZm9yd2FyZFJlZihmdW5jdGlvbiBDYW52YXMoe1xuICBjaGlsZHJlbixcbiAgZmFsbGJhY2ssXG4gIHJlc2l6ZSxcbiAgc3R5bGUsXG4gIGdsLFxuICBldmVudHM6IGV2ZW50cyQxID0gZXZlbnRzLmNyZWF0ZVBvaW50ZXJFdmVudHMsXG4gIGV2ZW50U291cmNlLFxuICBldmVudFByZWZpeCxcbiAgc2hhZG93cyxcbiAgbGluZWFyLFxuICBmbGF0LFxuICBsZWdhY3ksXG4gIG9ydGhvZ3JhcGhpYyxcbiAgZnJhbWVsb29wLFxuICBkcHIsXG4gIHBlcmZvcm1hbmNlLFxuICByYXljYXN0ZXIsXG4gIGNhbWVyYSxcbiAgc2NlbmUsXG4gIG9uUG9pbnRlck1pc3NlZCxcbiAgb25DcmVhdGVkLFxuICAuLi5wcm9wc1xufSwgZm9yd2FyZGVkUmVmKSB7XG4gIC8vIENyZWF0ZSBhIGtub3duIGNhdGFsb2d1ZSBvZiBUaHJlZWpzLW5hdGl2ZSBlbGVtZW50c1xuICAvLyBUaGlzIHdpbGwgaW5jbHVkZSB0aGUgZW50aXJlIFRIUkVFIG5hbWVzcGFjZSBieSBkZWZhdWx0LCB1c2VycyBjYW4gZXh0ZW5kXG4gIC8vIHRoZWlyIG93biBlbGVtZW50cyBieSB1c2luZyB0aGUgY3JlYXRlUm9vdCBBUEkgaW5zdGVhZFxuICBSZWFjdF9fbmFtZXNwYWNlLnVzZU1lbW8oKCkgPT4gZXZlbnRzLmV4dGVuZChUSFJFRV9fbmFtZXNwYWNlKSwgW10pO1xuICBjb25zdCBCcmlkZ2UgPSBpdHNGaW5lLnVzZUNvbnRleHRCcmlkZ2UoKTtcbiAgY29uc3QgW2NvbnRhaW5lclJlZiwgY29udGFpbmVyUmVjdF0gPSB1c2VNZWFzdXJlX19kZWZhdWx0W1wiZGVmYXVsdFwiXSh7XG4gICAgc2Nyb2xsOiB0cnVlLFxuICAgIGRlYm91bmNlOiB7XG4gICAgICBzY3JvbGw6IDUwLFxuICAgICAgcmVzaXplOiAwXG4gICAgfSxcbiAgICAuLi5yZXNpemVcbiAgfSk7XG4gIGNvbnN0IGNhbnZhc1JlZiA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKG51bGwpO1xuICBjb25zdCBkaXZSZWYgPSBSZWFjdF9fbmFtZXNwYWNlLnVzZVJlZihudWxsKTtcbiAgUmVhY3RfX25hbWVzcGFjZS51c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRlZFJlZiwgKCkgPT4gY2FudmFzUmVmLmN1cnJlbnQpO1xuICBjb25zdCBoYW5kbGVQb2ludGVyTWlzc2VkID0gZXZlbnRzLnVzZU11dGFibGVDYWxsYmFjayhvblBvaW50ZXJNaXNzZWQpO1xuICBjb25zdCBbYmxvY2ssIHNldEJsb2NrXSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IFJlYWN0X19uYW1lc3BhY2UudXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFN1c3BlbmQgdGhpcyBjb21wb25lbnQgaWYgYmxvY2sgaXMgYSBwcm9taXNlICgybmQgcnVuKVxuICBpZiAoYmxvY2spIHRocm93IGJsb2NrO1xuICAvLyBUaHJvdyBleGNlcHRpb24gb3V0d2FyZHMgaWYgYW55dGhpbmcgd2l0aGluIGNhbnZhcyB0aHJvd3NcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgY29uc3Qgcm9vdCA9IFJlYWN0X19uYW1lc3BhY2UudXNlUmVmKG51bGwpO1xuICBldmVudHMudXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNvbnRhaW5lclJlY3Qud2lkdGggPiAwICYmIGNvbnRhaW5lclJlY3QuaGVpZ2h0ID4gMCAmJiBjYW52YXMpIHtcbiAgICAgIGlmICghcm9vdC5jdXJyZW50KSByb290LmN1cnJlbnQgPSBldmVudHMuY3JlYXRlUm9vdChjYW52YXMpO1xuICAgICAgcm9vdC5jdXJyZW50LmNvbmZpZ3VyZSh7XG4gICAgICAgIGdsLFxuICAgICAgICBldmVudHM6IGV2ZW50cyQxLFxuICAgICAgICBzaGFkb3dzLFxuICAgICAgICBsaW5lYXIsXG4gICAgICAgIGZsYXQsXG4gICAgICAgIGxlZ2FjeSxcbiAgICAgICAgb3J0aG9ncmFwaGljLFxuICAgICAgICBmcmFtZWxvb3AsXG4gICAgICAgIGRwcixcbiAgICAgICAgcGVyZm9ybWFuY2UsXG4gICAgICAgIHJheWNhc3RlcixcbiAgICAgICAgY2FtZXJhLFxuICAgICAgICBzY2VuZSxcbiAgICAgICAgc2l6ZTogY29udGFpbmVyUmVjdCxcbiAgICAgICAgLy8gUGFzcyBtdXRhYmxlIHJlZmVyZW5jZSB0byBvblBvaW50ZXJNaXNzZWQgc28gaXQncyBmcmVlIHRvIHVwZGF0ZVxuICAgICAgICBvblBvaW50ZXJNaXNzZWQ6ICguLi5hcmdzKSA9PiBoYW5kbGVQb2ludGVyTWlzc2VkLmN1cnJlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZVBvaW50ZXJNaXNzZWQuY3VycmVudCguLi5hcmdzKSxcbiAgICAgICAgb25DcmVhdGVkOiBzdGF0ZSA9PiB7XG4gICAgICAgICAgLy8gQ29ubmVjdCB0byBldmVudCBzb3VyY2VcbiAgICAgICAgICBzdGF0ZS5ldmVudHMuY29ubmVjdCA9PSBudWxsID8gdm9pZCAwIDogc3RhdGUuZXZlbnRzLmNvbm5lY3QoZXZlbnRTb3VyY2UgPyBldmVudHMuaXNSZWYoZXZlbnRTb3VyY2UpID8gZXZlbnRTb3VyY2UuY3VycmVudCA6IGV2ZW50U291cmNlIDogZGl2UmVmLmN1cnJlbnQpO1xuICAgICAgICAgIC8vIFNldCB1cCBjb21wdXRlIGZ1bmN0aW9uXG4gICAgICAgICAgaWYgKGV2ZW50UHJlZml4KSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXRFdmVudHMoe1xuICAgICAgICAgICAgICBjb21wdXRlOiAoZXZlbnQsIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50W2V2ZW50UHJlZml4ICsgJ1gnXTtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnRbZXZlbnRQcmVmaXggKyAnWSddO1xuICAgICAgICAgICAgICAgIHN0YXRlLnBvaW50ZXIuc2V0KHggLyBzdGF0ZS5zaXplLndpZHRoICogMiAtIDEsIC0oeSAvIHN0YXRlLnNpemUuaGVpZ2h0KSAqIDIgKyAxKTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5yYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShzdGF0ZS5wb2ludGVyLCBzdGF0ZS5jYW1lcmEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ2FsbCBvbkNyZWF0ZWQgY2FsbGJhY2tcbiAgICAgICAgICBvbkNyZWF0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ3JlYXRlZChzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcm9vdC5jdXJyZW50LnJlbmRlciggLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KEJyaWRnZSwge1xuICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KGV2ZW50cy5FcnJvckJvdW5kYXJ5LCB7XG4gICAgICAgICAgc2V0OiBzZXRFcnJvcixcbiAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KFJlYWN0X19uYW1lc3BhY2UuU3VzcGVuc2UsIHtcbiAgICAgICAgICAgIGZhbGxiYWNrOiAvKiNfX1BVUkVfXyovanN4UnVudGltZS5qc3goZXZlbnRzLkJsb2NrLCB7XG4gICAgICAgICAgICAgIHNldDogc2V0QmxvY2tcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuICE9IG51bGwgPyBjaGlsZHJlbiA6IG51bGxcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSk7XG4gIFJlYWN0X19uYW1lc3BhY2UudXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoY2FudmFzKSByZXR1cm4gKCkgPT4gZXZlbnRzLnVubW91bnRDb21wb25lbnRBdE5vZGUoY2FudmFzKTtcbiAgfSwgW10pO1xuXG4gIC8vIFdoZW4gdGhlIGV2ZW50IHNvdXJjZSBpcyBub3QgdGhpcyBkaXYsIHdlIG5lZWQgdG8gc2V0IHBvaW50ZXItZXZlbnRzIHRvIG5vbmVcbiAgLy8gT3IgZWxzZSB0aGUgY2FudmFzIHdpbGwgYmxvY2sgZXZlbnRzIGZyb20gcmVhY2hpbmcgdGhlIGV2ZW50IHNvdXJjZVxuICBjb25zdCBwb2ludGVyRXZlbnRzID0gZXZlbnRTb3VyY2UgPyAnbm9uZScgOiAnYXV0byc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4UnVudGltZS5qc3goXCJkaXZcIiwge1xuICAgIHJlZjogZGl2UmVmLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgIHBvaW50ZXJFdmVudHMsXG4gICAgICAuLi5zdHlsZVxuICAgIH0sXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9qc3hSdW50aW1lLmpzeChcImRpdlwiLCB7XG4gICAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9qc3hSdW50aW1lLmpzeChcImNhbnZhc1wiLCB7XG4gICAgICAgIHJlZjogY2FudmFzUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGZhbGxiYWNrXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufSk7XG5cbi8qKlxyXG4gKiBBIERPTSBjYW52YXMgd2hpY2ggYWNjZXB0cyB0aHJlZWpzIGVsZW1lbnRzIGFzIGNoaWxkcmVuLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9jYW52YXNcclxuICovXG5jb25zdCBDYW52YXMgPSAvKiNfX1BVUkVfXyovUmVhY3RfX25hbWVzcGFjZS5mb3J3YXJkUmVmKGZ1bmN0aW9uIENhbnZhc1dyYXBwZXIocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyojX19QVVJFX18qL2pzeFJ1bnRpbWUuanN4KGl0c0ZpbmUuRmliZXJQcm92aWRlciwge1xuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4UnVudGltZS5qc3goQ2FudmFzSW1wbCwge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IHJlZlxuICAgIH0pXG4gIH0pO1xufSk7XG5cbmV4cG9ydHMuUmVhY3RUaHJlZUZpYmVyID0gZXZlbnRzLnRocmVlVHlwZXM7XG5leHBvcnRzLl9yb290cyA9IGV2ZW50cy5yb290cztcbmV4cG9ydHMuYWN0ID0gZXZlbnRzLmFjdDtcbmV4cG9ydHMuYWRkQWZ0ZXJFZmZlY3QgPSBldmVudHMuYWRkQWZ0ZXJFZmZlY3Q7XG5leHBvcnRzLmFkZEVmZmVjdCA9IGV2ZW50cy5hZGRFZmZlY3Q7XG5leHBvcnRzLmFkZFRhaWwgPSBldmVudHMuYWRkVGFpbDtcbmV4cG9ydHMuYWR2YW5jZSA9IGV2ZW50cy5hZHZhbmNlO1xuZXhwb3J0cy5hcHBseVByb3BzID0gZXZlbnRzLmFwcGx5UHJvcHM7XG5leHBvcnRzLmJ1aWxkR3JhcGggPSBldmVudHMuYnVpbGRHcmFwaDtcbmV4cG9ydHMuY29udGV4dCA9IGV2ZW50cy5jb250ZXh0O1xuZXhwb3J0cy5jcmVhdGVFdmVudHMgPSBldmVudHMuY3JlYXRlRXZlbnRzO1xuZXhwb3J0cy5jcmVhdGVQb2ludGVyRXZlbnRzID0gZXZlbnRzLmNyZWF0ZVBvaW50ZXJFdmVudHM7XG5leHBvcnRzLmNyZWF0ZVBvcnRhbCA9IGV2ZW50cy5jcmVhdGVQb3J0YWw7XG5leHBvcnRzLmNyZWF0ZVJvb3QgPSBldmVudHMuY3JlYXRlUm9vdDtcbmV4cG9ydHMuZGlzcG9zZSA9IGV2ZW50cy5kaXNwb3NlO1xuZXhwb3J0cy5ldmVudHMgPSBldmVudHMuY3JlYXRlUG9pbnRlckV2ZW50cztcbmV4cG9ydHMuZXh0ZW5kID0gZXZlbnRzLmV4dGVuZDtcbmV4cG9ydHMuZmx1c2hHbG9iYWxFZmZlY3RzID0gZXZlbnRzLmZsdXNoR2xvYmFsRWZmZWN0cztcbmV4cG9ydHMuZmx1c2hTeW5jID0gZXZlbnRzLmZsdXNoU3luYztcbmV4cG9ydHMuZ2V0Um9vdFN0YXRlID0gZXZlbnRzLmdldFJvb3RTdGF0ZTtcbmV4cG9ydHMuaW52YWxpZGF0ZSA9IGV2ZW50cy5pbnZhbGlkYXRlO1xuZXhwb3J0cy5yZWNvbmNpbGVyID0gZXZlbnRzLnJlY29uY2lsZXI7XG5leHBvcnRzLnJlbmRlciA9IGV2ZW50cy5yZW5kZXI7XG5leHBvcnRzLnVubW91bnRDb21wb25lbnRBdE5vZGUgPSBldmVudHMudW5tb3VudENvbXBvbmVudEF0Tm9kZTtcbmV4cG9ydHMudXNlRnJhbWUgPSBldmVudHMudXNlRnJhbWU7XG5leHBvcnRzLnVzZUdyYXBoID0gZXZlbnRzLnVzZUdyYXBoO1xuZXhwb3J0cy51c2VJbnN0YW5jZUhhbmRsZSA9IGV2ZW50cy51c2VJbnN0YW5jZUhhbmRsZTtcbmV4cG9ydHMudXNlTG9hZGVyID0gZXZlbnRzLnVzZUxvYWRlcjtcbmV4cG9ydHMudXNlU3RvcmUgPSBldmVudHMudXNlU3RvcmU7XG5leHBvcnRzLnVzZVRocmVlID0gZXZlbnRzLnVzZVRocmVlO1xuZXhwb3J0cy5DYW52YXMgPSBDYW52YXM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.dev.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.js ***!
  \***********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./react-three-fiber.cjs.dev.js */ \"(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.dev.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuY2pzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx1SkFBMEQ7QUFDNUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGFjZXBvcnRmb2xpby8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZmliZXIvZGlzdC9yZWFjdC10aHJlZS1maWJlci5janMuanM/ZDhhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9yZWFjdC10aHJlZS1maWJlci5janMucHJvZC5qc1wiKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vcmVhY3QtdGhyZWUtZmliZXIuY2pzLmRldi5qc1wiKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.cjs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction createStore(createState) {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (nextState !== state) {\n      const previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribeWithSelector = (listener, selector = getState, equalityFn = Object.is) => {\n    console.warn(\"[DEPRECATED] Please use `subscribeWithSelector` middleware\");\n    let currentSlice = selector(state);\n    function listenerToAdd() {\n      const nextSlice = selector(state);\n      if (!equalityFn(currentSlice, nextSlice)) {\n        const previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, previousSlice);\n      }\n    }\n    listeners.add(listenerToAdd);\n    return () => listeners.delete(listenerToAdd);\n  };\n  const subscribe = (listener, selector, equalityFn) => {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => listeners.clear();\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nconst isSSR = typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\nconst useIsomorphicLayoutEffect = isSSR ? react__WEBPACK_IMPORTED_MODULE_0__.useEffect : react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect;\nfunction create(createState) {\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useStore = (selector = api.getState, equalityFn = Object.is) => {\n    const [, forceUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)((c) => c + 1, 0);\n    const state = api.getState();\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    const selectorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(selector);\n    const equalityFnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(equalityFn);\n    const erroredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    const currentSliceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    if (currentSliceRef.current === void 0) {\n      currentSliceRef.current = selector(state);\n    }\n    let newStateSlice;\n    let hasNewStateSlice = false;\n    if (stateRef.current !== state || selectorRef.current !== selector || equalityFnRef.current !== equalityFn || erroredRef.current) {\n      newStateSlice = selector(state);\n      hasNewStateSlice = !equalityFn(currentSliceRef.current, newStateSlice);\n    }\n    useIsomorphicLayoutEffect(() => {\n      if (hasNewStateSlice) {\n        currentSliceRef.current = newStateSlice;\n      }\n      stateRef.current = state;\n      selectorRef.current = selector;\n      equalityFnRef.current = equalityFn;\n      erroredRef.current = false;\n    });\n    const stateBeforeSubscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n    useIsomorphicLayoutEffect(() => {\n      const listener = () => {\n        try {\n          const nextState = api.getState();\n          const nextStateSlice = selectorRef.current(nextState);\n          if (!equalityFnRef.current(currentSliceRef.current, nextStateSlice)) {\n            stateRef.current = nextState;\n            currentSliceRef.current = nextStateSlice;\n            forceUpdate();\n          }\n        } catch (error) {\n          erroredRef.current = true;\n          forceUpdate();\n        }\n      };\n      const unsubscribe = api.subscribe(listener);\n      if (api.getState() !== stateBeforeSubscriptionRef.current) {\n        listener();\n      }\n      return unsubscribe;\n    }, []);\n    const sliceToReturn = hasNewStateSlice ? newStateSlice : currentSliceRef.current;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(sliceToReturn);\n    return sliceToReturn;\n  };\n  Object.assign(useStore, api);\n  useStore[Symbol.iterator] = function() {\n    console.warn(\"[useStore, api] = create() is deprecated and will be removed in v4\");\n    const items = [useStore, api];\n    return {\n      next() {\n        const done = items.length <= 0;\n        return { value: items.shift(), done };\n      }\n    };\n  };\n  return useStore;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Y7O0FBRXRGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyw0Q0FBUyxHQUFHLGtEQUFlO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpREFBVTtBQUN0QztBQUNBLHFCQUFxQiw2Q0FBTTtBQUMzQix3QkFBd0IsNkNBQU07QUFDOUIsMEJBQTBCLDZDQUFNO0FBQ2hDLHVCQUF1Qiw2Q0FBTTtBQUM3Qiw0QkFBNEIsNkNBQU07QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx1Q0FBdUMsNkNBQU07QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSSxvREFBYTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGFjZXBvcnRmb2xpby8uL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZmliZXIvbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL2luZGV4LmpzPzFjYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVkdWNlciwgdXNlUmVmLCB1c2VEZWJ1Z1ZhbHVlLCB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoY3JlYXRlU3RhdGUpIHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAobmV4dFN0YXRlICE9PSBzdGF0ZSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSByZXBsYWNlID8gbmV4dFN0YXRlIDogT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5leHRTdGF0ZSk7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHN0YXRlLCBwcmV2aW91c1N0YXRlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmVXaXRoU2VsZWN0b3IgPSAobGlzdGVuZXIsIHNlbGVjdG9yID0gZ2V0U3RhdGUsIGVxdWFsaXR5Rm4gPSBPYmplY3QuaXMpID0+IHtcbiAgICBjb25zb2xlLndhcm4oXCJbREVQUkVDQVRFRF0gUGxlYXNlIHVzZSBgc3Vic2NyaWJlV2l0aFNlbGVjdG9yYCBtaWRkbGV3YXJlXCIpO1xuICAgIGxldCBjdXJyZW50U2xpY2UgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgZnVuY3Rpb24gbGlzdGVuZXJUb0FkZCgpIHtcbiAgICAgIGNvbnN0IG5leHRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICAgIGlmICghZXF1YWxpdHlGbihjdXJyZW50U2xpY2UsIG5leHRTbGljZSkpIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNTbGljZSA9IGN1cnJlbnRTbGljZTtcbiAgICAgICAgbGlzdGVuZXIoY3VycmVudFNsaWNlID0gbmV4dFNsaWNlLCBwcmV2aW91c1NsaWNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lclRvQWRkKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lclRvQWRkKTtcbiAgfTtcbiAgY29uc3Qgc3Vic2NyaWJlID0gKGxpc3RlbmVyLCBzZWxlY3RvciwgZXF1YWxpdHlGbikgPT4ge1xuICAgIGlmIChzZWxlY3RvciB8fCBlcXVhbGl0eUZuKSB7XG4gICAgICByZXR1cm4gc3Vic2NyaWJlV2l0aFNlbGVjdG9yKGxpc3RlbmVyLCBzZWxlY3RvciwgZXF1YWxpdHlGbik7XG4gICAgfVxuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9ICgpID0+IGxpc3RlbmVycy5jbGVhcigpO1xuICBjb25zdCBhcGkgPSB7IHNldFN0YXRlLCBnZXRTdGF0ZSwgc3Vic2NyaWJlLCBkZXN0cm95IH07XG4gIHN0YXRlID0gY3JlYXRlU3RhdGUoc2V0U3RhdGUsIGdldFN0YXRlLCBhcGkpO1xuICByZXR1cm4gYXBpO1xufVxuXG5jb25zdCBpc1NTUiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIXdpbmRvdy5uYXZpZ2F0b3IgfHwgL1NlcnZlclNpZGVSZW5kZXJpbmd8XkRlbm9cXC8vLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuY29uc3QgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IGlzU1NSID8gdXNlRWZmZWN0IDogdXNlTGF5b3V0RWZmZWN0O1xuZnVuY3Rpb24gY3JlYXRlKGNyZWF0ZVN0YXRlKSB7XG4gIGNvbnN0IGFwaSA9IHR5cGVvZiBjcmVhdGVTdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gY3JlYXRlU3RvcmUoY3JlYXRlU3RhdGUpIDogY3JlYXRlU3RhdGU7XG4gIGNvbnN0IHVzZVN0b3JlID0gKHNlbGVjdG9yID0gYXBpLmdldFN0YXRlLCBlcXVhbGl0eUZuID0gT2JqZWN0LmlzKSA9PiB7XG4gICAgY29uc3QgWywgZm9yY2VVcGRhdGVdID0gdXNlUmVkdWNlcigoYykgPT4gYyArIDEsIDApO1xuICAgIGNvbnN0IHN0YXRlID0gYXBpLmdldFN0YXRlKCk7XG4gICAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYoc3RhdGUpO1xuICAgIGNvbnN0IHNlbGVjdG9yUmVmID0gdXNlUmVmKHNlbGVjdG9yKTtcbiAgICBjb25zdCBlcXVhbGl0eUZuUmVmID0gdXNlUmVmKGVxdWFsaXR5Rm4pO1xuICAgIGNvbnN0IGVycm9yZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IGN1cnJlbnRTbGljZVJlZiA9IHVzZVJlZigpO1xuICAgIGlmIChjdXJyZW50U2xpY2VSZWYuY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICBjdXJyZW50U2xpY2VSZWYuY3VycmVudCA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICB9XG4gICAgbGV0IG5ld1N0YXRlU2xpY2U7XG4gICAgbGV0IGhhc05ld1N0YXRlU2xpY2UgPSBmYWxzZTtcbiAgICBpZiAoc3RhdGVSZWYuY3VycmVudCAhPT0gc3RhdGUgfHwgc2VsZWN0b3JSZWYuY3VycmVudCAhPT0gc2VsZWN0b3IgfHwgZXF1YWxpdHlGblJlZi5jdXJyZW50ICE9PSBlcXVhbGl0eUZuIHx8IGVycm9yZWRSZWYuY3VycmVudCkge1xuICAgICAgbmV3U3RhdGVTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICAgIGhhc05ld1N0YXRlU2xpY2UgPSAhZXF1YWxpdHlGbihjdXJyZW50U2xpY2VSZWYuY3VycmVudCwgbmV3U3RhdGVTbGljZSk7XG4gICAgfVxuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGhhc05ld1N0YXRlU2xpY2UpIHtcbiAgICAgICAgY3VycmVudFNsaWNlUmVmLmN1cnJlbnQgPSBuZXdTdGF0ZVNsaWNlO1xuICAgICAgfVxuICAgICAgc3RhdGVSZWYuY3VycmVudCA9IHN0YXRlO1xuICAgICAgc2VsZWN0b3JSZWYuY3VycmVudCA9IHNlbGVjdG9yO1xuICAgICAgZXF1YWxpdHlGblJlZi5jdXJyZW50ID0gZXF1YWxpdHlGbjtcbiAgICAgIGVycm9yZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGNvbnN0IHN0YXRlQmVmb3JlU3Vic2NyaXB0aW9uUmVmID0gdXNlUmVmKHN0YXRlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG5leHRTdGF0ZSA9IGFwaS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGNvbnN0IG5leHRTdGF0ZVNsaWNlID0gc2VsZWN0b3JSZWYuY3VycmVudChuZXh0U3RhdGUpO1xuICAgICAgICAgIGlmICghZXF1YWxpdHlGblJlZi5jdXJyZW50KGN1cnJlbnRTbGljZVJlZi5jdXJyZW50LCBuZXh0U3RhdGVTbGljZSkpIHtcbiAgICAgICAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICBjdXJyZW50U2xpY2VSZWYuY3VycmVudCA9IG5leHRTdGF0ZVNsaWNlO1xuICAgICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZXJyb3JlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBhcGkuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgICAgIGlmIChhcGkuZ2V0U3RhdGUoKSAhPT0gc3RhdGVCZWZvcmVTdWJzY3JpcHRpb25SZWYuY3VycmVudCkge1xuICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBzbGljZVRvUmV0dXJuID0gaGFzTmV3U3RhdGVTbGljZSA/IG5ld1N0YXRlU2xpY2UgOiBjdXJyZW50U2xpY2VSZWYuY3VycmVudDtcbiAgICB1c2VEZWJ1Z1ZhbHVlKHNsaWNlVG9SZXR1cm4pO1xuICAgIHJldHVybiBzbGljZVRvUmV0dXJuO1xuICB9O1xuICBPYmplY3QuYXNzaWduKHVzZVN0b3JlLCBhcGkpO1xuICB1c2VTdG9yZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS53YXJuKFwiW3VzZVN0b3JlLCBhcGldID0gY3JlYXRlKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHY0XCIpO1xuICAgIGNvbnN0IGl0ZW1zID0gW3VzZVN0b3JlLCBhcGldO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0KCkge1xuICAgICAgICBjb25zdCBkb25lID0gaXRlbXMubGVuZ3RoIDw9IDA7XG4gICAgICAgIHJldHVybiB7IHZhbHVlOiBpdGVtcy5zaGlmdCgpLCBkb25lIH07XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHVzZVN0b3JlO1xufVxuXG5leHBvcnQgeyBjcmVhdGUgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/node_modules/zustand/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/node_modules/@monogrid/gainmap-js/dist/decode.umd.cjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@react-three/drei/node_modules/@monogrid/gainmap-js/dist/decode.umd.cjs ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("/**\n * @monogrid/gainmap-js v3.1.0\n * With ❤️, by MONOGRID <rnd@monogrid.com>\n */\n\n(function (global, factory) {\n     true ? factory(exports, __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.cjs\")) :\n    0;\n})(this, (function (exports, three) { 'use strict';\n\n    const getBufferForType = (type, width, height) => {\n        let out;\n        switch (type) {\n            case three.UnsignedByteType:\n                out = new Uint8ClampedArray(width * height * 4);\n                break;\n            case three.HalfFloatType:\n                out = new Uint16Array(width * height * 4);\n                break;\n            case three.UnsignedIntType:\n                out = new Uint32Array(width * height * 4);\n                break;\n            case three.ByteType:\n                out = new Int8Array(width * height * 4);\n                break;\n            case three.ShortType:\n                out = new Int16Array(width * height * 4);\n                break;\n            case three.IntType:\n                out = new Int32Array(width * height * 4);\n                break;\n            case three.FloatType:\n                out = new Float32Array(width * height * 4);\n                break;\n            default:\n                throw new Error('Unsupported data type');\n        }\n        return out;\n    };\n    let _canReadPixelsResult;\n    /**\n     * Test if this browser implementation can correctly read pixels from the specified\n     * Render target type.\n     *\n     * Runs only once\n     *\n     * @param type\n     * @param renderer\n     * @param camera\n     * @param renderTargetOptions\n     * @returns\n     */\n    const canReadPixels = (type, renderer, camera, renderTargetOptions) => {\n        if (_canReadPixelsResult !== undefined)\n            return _canReadPixelsResult;\n        const testRT = new three.WebGLRenderTarget(1, 1, renderTargetOptions);\n        renderer.setRenderTarget(testRT);\n        const mesh = new three.Mesh(new three.PlaneGeometry(), new three.MeshBasicMaterial({ color: 0xffffff }));\n        renderer.render(mesh, camera);\n        renderer.setRenderTarget(null);\n        const out = getBufferForType(type, testRT.width, testRT.height);\n        renderer.readRenderTargetPixels(testRT, 0, 0, testRT.width, testRT.height, out);\n        testRT.dispose();\n        mesh.geometry.dispose();\n        mesh.material.dispose();\n        _canReadPixelsResult = out[0] !== 0;\n        return _canReadPixelsResult;\n    };\n    /**\n     * Utility class used for rendering a texture with a material\n     *\n     * @category Core\n     * @group Core\n     */\n    class QuadRenderer {\n        /**\n         * Constructs a new QuadRenderer\n         *\n         * @param options Parameters for this QuadRenderer\n         */\n        constructor(options) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\n            this._rendererIsDisposable = false;\n            this._supportsReadPixels = true;\n            /**\n             * Renders the input texture using the specified material\n             */\n            this.render = () => {\n                this._renderer.setRenderTarget(this._renderTarget);\n                try {\n                    this._renderer.render(this._scene, this._camera);\n                }\n                catch (e) {\n                    this._renderer.setRenderTarget(null);\n                    throw e;\n                }\n                this._renderer.setRenderTarget(null);\n            };\n            this._width = options.width;\n            this._height = options.height;\n            this._type = options.type;\n            this._colorSpace = options.colorSpace;\n            const rtOptions = {\n                // fixed options\n                format: three.RGBAFormat,\n                depthBuffer: false,\n                stencilBuffer: false,\n                // user options\n                type: this._type, // set in class property\n                colorSpace: this._colorSpace, // set in class property\n                anisotropy: ((_a = options.renderTargetOptions) === null || _a === void 0 ? void 0 : _a.anisotropy) !== undefined ? (_b = options.renderTargetOptions) === null || _b === void 0 ? void 0 : _b.anisotropy : 1,\n                generateMipmaps: ((_c = options.renderTargetOptions) === null || _c === void 0 ? void 0 : _c.generateMipmaps) !== undefined ? (_d = options.renderTargetOptions) === null || _d === void 0 ? void 0 : _d.generateMipmaps : false,\n                magFilter: ((_e = options.renderTargetOptions) === null || _e === void 0 ? void 0 : _e.magFilter) !== undefined ? (_f = options.renderTargetOptions) === null || _f === void 0 ? void 0 : _f.magFilter : three.LinearFilter,\n                minFilter: ((_g = options.renderTargetOptions) === null || _g === void 0 ? void 0 : _g.minFilter) !== undefined ? (_h = options.renderTargetOptions) === null || _h === void 0 ? void 0 : _h.minFilter : three.LinearFilter,\n                samples: ((_j = options.renderTargetOptions) === null || _j === void 0 ? void 0 : _j.samples) !== undefined ? (_k = options.renderTargetOptions) === null || _k === void 0 ? void 0 : _k.samples : undefined,\n                wrapS: ((_l = options.renderTargetOptions) === null || _l === void 0 ? void 0 : _l.wrapS) !== undefined ? (_m = options.renderTargetOptions) === null || _m === void 0 ? void 0 : _m.wrapS : three.ClampToEdgeWrapping,\n                wrapT: ((_o = options.renderTargetOptions) === null || _o === void 0 ? void 0 : _o.wrapT) !== undefined ? (_p = options.renderTargetOptions) === null || _p === void 0 ? void 0 : _p.wrapT : three.ClampToEdgeWrapping\n            };\n            this._material = options.material;\n            if (options.renderer) {\n                this._renderer = options.renderer;\n            }\n            else {\n                this._renderer = QuadRenderer.instantiateRenderer();\n                this._rendererIsDisposable = true;\n            }\n            this._scene = new three.Scene();\n            this._camera = new three.OrthographicCamera();\n            this._camera.position.set(0, 0, 10);\n            this._camera.left = -0.5;\n            this._camera.right = 0.5;\n            this._camera.top = 0.5;\n            this._camera.bottom = -0.5;\n            this._camera.updateProjectionMatrix();\n            if (!canReadPixels(this._type, this._renderer, this._camera, rtOptions)) {\n                let alternativeType;\n                switch (this._type) {\n                    case three.HalfFloatType:\n                        alternativeType = this._renderer.extensions.has('EXT_color_buffer_float') ? three.FloatType : undefined;\n                        break;\n                }\n                if (alternativeType !== undefined) {\n                    console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${three.FloatType}`);\n                    this._type = alternativeType;\n                }\n                else {\n                    this._supportsReadPixels = false;\n                    console.warn('This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown');\n                }\n            }\n            this._quad = new three.Mesh(new three.PlaneGeometry(), this._material);\n            this._quad.geometry.computeBoundingBox();\n            this._scene.add(this._quad);\n            this._renderTarget = new three.WebGLRenderTarget(this.width, this.height, rtOptions);\n            this._renderTarget.texture.mapping = ((_q = options.renderTargetOptions) === null || _q === void 0 ? void 0 : _q.mapping) !== undefined ? (_r = options.renderTargetOptions) === null || _r === void 0 ? void 0 : _r.mapping : three.UVMapping;\n        }\n        /**\n         * Instantiates a temporary renderer\n         *\n         * @returns\n         */\n        static instantiateRenderer() {\n            const renderer = new three.WebGLRenderer();\n            renderer.setSize(128, 128);\n            // renderer.outputColorSpace = SRGBColorSpace\n            // renderer.toneMapping = LinearToneMapping\n            // renderer.debug.checkShaderErrors = false\n            // this._rendererIsDisposable = true\n            return renderer;\n        }\n        /**\n         * Obtains a Buffer containing the rendered texture.\n         *\n         * @throws Error if the browser cannot read pixels from this RenderTarget type.\n         * @returns a TypedArray containing RGBA values from this renderer\n         */\n        toArray() {\n            if (!this._supportsReadPixels)\n                throw new Error('Can\\'t read pixels in this browser');\n            const out = getBufferForType(this._type, this._width, this._height);\n            this._renderer.readRenderTargetPixels(this._renderTarget, 0, 0, this._width, this._height, out);\n            return out;\n        }\n        /**\n         * Performs a readPixel operation in the renderTarget\n         * and returns a DataTexture containing the read data\n         *\n         * @param options options\n         * @returns\n         */\n        toDataTexture(options) {\n            const returnValue = new three.DataTexture(\n            // fixed values\n            this.toArray(), this.width, this.height, three.RGBAFormat, this._type, \n            // user values\n            (options === null || options === void 0 ? void 0 : options.mapping) || three.UVMapping, (options === null || options === void 0 ? void 0 : options.wrapS) || three.ClampToEdgeWrapping, (options === null || options === void 0 ? void 0 : options.wrapT) || three.ClampToEdgeWrapping, (options === null || options === void 0 ? void 0 : options.magFilter) || three.LinearFilter, (options === null || options === void 0 ? void 0 : options.minFilter) || three.LinearFilter, (options === null || options === void 0 ? void 0 : options.anisotropy) || 1, \n            // fixed value\n            three.LinearSRGBColorSpace);\n            // set this afterwards, we can't set it in constructor\n            returnValue.generateMipmaps = (options === null || options === void 0 ? void 0 : options.generateMipmaps) !== undefined ? options === null || options === void 0 ? void 0 : options.generateMipmaps : false;\n            return returnValue;\n        }\n        /**\n         * If using a disposable renderer, it will dispose it.\n         */\n        disposeOnDemandRenderer() {\n            this._renderer.setRenderTarget(null);\n            if (this._rendererIsDisposable) {\n                this._renderer.dispose();\n                this._renderer.forceContextLoss();\n            }\n        }\n        /**\n         * Will dispose of **all** assets used by this renderer.\n         *\n         *\n         * @param disposeRenderTarget will dispose of the renderTarget which will not be usable later\n         * set this to true if you passed the `renderTarget.texture` to a `PMREMGenerator`\n         * or are otherwise done with it.\n         *\n         * @example\n         * ```js\n         * const loader = new HDRJPGLoader(renderer)\n         * const result = await loader.loadAsync('gainmap.jpeg')\n         * const mesh = new Mesh(geometry, new MeshBasicMaterial({ map: result.renderTarget.texture }) )\n         * // DO NOT dispose the renderTarget here,\n         * // it is used directly in the material\n         * result.dispose()\n         * ```\n         *\n         * @example\n         * ```js\n         * const loader = new HDRJPGLoader(renderer)\n         * const pmremGenerator = new PMREMGenerator( renderer );\n         * const result = await loader.loadAsync('gainmap.jpeg')\n         * const envMap = pmremGenerator.fromEquirectangular(result.renderTarget.texture)\n         * const mesh = new Mesh(geometry, new MeshStandardMaterial({ envMap }) )\n         * // renderTarget can be disposed here\n         * // because it was used to generate a PMREM texture\n         * result.dispose(true)\n         * ```\n         */\n        dispose(disposeRenderTarget) {\n            this.disposeOnDemandRenderer();\n            if (disposeRenderTarget) {\n                this.renderTarget.dispose();\n            }\n            // dispose shader material texture uniforms\n            if (this.material instanceof three.ShaderMaterial) {\n                Object.values(this.material.uniforms).forEach(v => {\n                    if (v.value instanceof three.Texture)\n                        v.value.dispose();\n                });\n            }\n            // dispose other material properties\n            Object.values(this.material).forEach(value => {\n                if (value instanceof three.Texture)\n                    value.dispose();\n            });\n            this.material.dispose();\n            this._quad.geometry.dispose();\n        }\n        /**\n         * Width of the texture\n         */\n        get width() { return this._width; }\n        set width(value) {\n            this._width = value;\n            this._renderTarget.setSize(this._width, this._height);\n        }\n        /**\n         * Height of the texture\n         */\n        get height() { return this._height; }\n        set height(value) {\n            this._height = value;\n            this._renderTarget.setSize(this._width, this._height);\n        }\n        /**\n         * The renderer used\n         */\n        get renderer() { return this._renderer; }\n        /**\n         * The `WebGLRenderTarget` used.\n         */\n        get renderTarget() { return this._renderTarget; }\n        set renderTarget(value) {\n            this._renderTarget = value;\n            this._width = value.width;\n            this._height = value.height;\n            // this._type = value.texture.type\n        }\n        /**\n         * The `Material` used.\n         */\n        get material() { return this._material; }\n        /**\n         *\n         */\n        get type() { return this._type; }\n        get colorSpace() { return this._colorSpace; }\n    }\n\n    const vertexShader = /* glsl */ `\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n`;\n    const fragmentShader = /* glsl */ `\n// min half float value\n#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )\n// max half float value\n#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )\n\nuniform sampler2D sdr;\nuniform sampler2D gainMap;\nuniform vec3 gamma;\nuniform vec3 offsetHdr;\nuniform vec3 offsetSdr;\nuniform vec3 gainMapMin;\nuniform vec3 gainMapMax;\nuniform float weightFactor;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec3 rgb = texture2D( sdr, vUv ).rgb;\n  vec3 recovery = texture2D( gainMap, vUv ).rgb;\n  vec3 logRecovery = pow( recovery, gamma );\n  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;\n  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;\n  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));\n  gl_FragColor = vec4( clampedHdrColor , 1.0 );\n}\n`;\n    /**\n     * A Material which is able to decode the Gainmap into a full HDR Representation\n     *\n     * @category Materials\n     * @group Materials\n     */\n    class GainMapDecoderMaterial extends three.ShaderMaterial {\n        /**\n         *\n         * @param params\n         */\n        constructor({ gamma, offsetHdr, offsetSdr, gainMapMin, gainMapMax, maxDisplayBoost, hdrCapacityMin, hdrCapacityMax, sdr, gainMap }) {\n            super({\n                name: 'GainMapDecoderMaterial',\n                vertexShader,\n                fragmentShader,\n                uniforms: {\n                    sdr: { value: sdr },\n                    gainMap: { value: gainMap },\n                    gamma: { value: new three.Vector3(1.0 / gamma[0], 1.0 / gamma[1], 1.0 / gamma[2]) },\n                    offsetHdr: { value: new three.Vector3().fromArray(offsetHdr) },\n                    offsetSdr: { value: new three.Vector3().fromArray(offsetSdr) },\n                    gainMapMin: { value: new three.Vector3().fromArray(gainMapMin) },\n                    gainMapMax: { value: new three.Vector3().fromArray(gainMapMax) },\n                    weightFactor: {\n                        value: (Math.log2(maxDisplayBoost) - hdrCapacityMin) / (hdrCapacityMax - hdrCapacityMin)\n                    }\n                },\n                blending: three.NoBlending,\n                depthTest: false,\n                depthWrite: false\n            });\n            this._maxDisplayBoost = maxDisplayBoost;\n            this._hdrCapacityMin = hdrCapacityMin;\n            this._hdrCapacityMax = hdrCapacityMax;\n            this.needsUpdate = true;\n            this.uniformsNeedUpdate = true;\n        }\n        get sdr() { return this.uniforms.sdr.value; }\n        set sdr(value) { this.uniforms.sdr.value = value; }\n        get gainMap() { return this.uniforms.gainMap.value; }\n        set gainMap(value) { this.uniforms.gainMap.value = value; }\n        /**\n         * @see {@link GainMapMetadata.offsetHdr}\n         */\n        get offsetHdr() { return this.uniforms.offsetHdr.value.toArray(); }\n        set offsetHdr(value) { this.uniforms.offsetHdr.value.fromArray(value); }\n        /**\n         * @see {@link GainMapMetadata.offsetSdr}\n         */\n        get offsetSdr() { return this.uniforms.offsetSdr.value.toArray(); }\n        set offsetSdr(value) { this.uniforms.offsetSdr.value.fromArray(value); }\n        /**\n         * @see {@link GainMapMetadata.gainMapMin}\n         */\n        get gainMapMin() { return this.uniforms.gainMapMin.value.toArray(); }\n        set gainMapMin(value) { this.uniforms.gainMapMin.value.fromArray(value); }\n        /**\n         * @see {@link GainMapMetadata.gainMapMax}\n         */\n        get gainMapMax() { return this.uniforms.gainMapMax.value.toArray(); }\n        set gainMapMax(value) { this.uniforms.gainMapMax.value.fromArray(value); }\n        /**\n         * @see {@link GainMapMetadata.gamma}\n         */\n        get gamma() {\n            const g = this.uniforms.gamma.value;\n            return [1 / g.x, 1 / g.y, 1 / g.z];\n        }\n        set gamma(value) {\n            const g = this.uniforms.gamma.value;\n            g.x = 1.0 / value[0];\n            g.y = 1.0 / value[1];\n            g.z = 1.0 / value[2];\n        }\n        /**\n         * @see {@link GainMapMetadata.hdrCapacityMin}\n         * @remarks Logarithmic space\n         */\n        get hdrCapacityMin() { return this._hdrCapacityMin; }\n        set hdrCapacityMin(value) {\n            this._hdrCapacityMin = value;\n            this.calculateWeight();\n        }\n        /**\n         * @see {@link GainMapMetadata.hdrCapacityMin}\n         * @remarks Logarithmic space\n         */\n        get hdrCapacityMax() { return this._hdrCapacityMax; }\n        set hdrCapacityMax(value) {\n            this._hdrCapacityMax = value;\n            this.calculateWeight();\n        }\n        /**\n         * @see {@link GainmapDecodingParameters.maxDisplayBoost}\n         * @remarks Non Logarithmic space\n         */\n        get maxDisplayBoost() { return this._maxDisplayBoost; }\n        set maxDisplayBoost(value) {\n            this._maxDisplayBoost = Math.max(1, Math.min(65504, value));\n            this.calculateWeight();\n        }\n        calculateWeight() {\n            const val = (Math.log2(this._maxDisplayBoost) - this._hdrCapacityMin) / (this._hdrCapacityMax - this._hdrCapacityMin);\n            this.uniforms.weightFactor.value = Math.max(0, Math.min(1, val));\n        }\n    }\n\n    /**\n     * Decodes a gain map using a WebGLRenderTarget\n     *\n     * @category Decoding Functions\n     * @group Decoding Functions\n     * @example\n     * import { decode } from '@monogrid/gainmap-js'\n     * import {\n     *   Mesh,\n     *   MeshBasicMaterial,\n     *   PerspectiveCamera,\n     *   PlaneGeometry,\n     *   Scene,\n     *   TextureLoader,\n     *   WebGLRenderer\n     * } from 'three'\n     *\n     * const renderer = new WebGLRenderer()\n     *\n     * const textureLoader = new TextureLoader()\n     *\n     * // load SDR Representation\n     * const sdr = await textureLoader.loadAsync('sdr.jpg')\n     * // load Gain map recovery image\n     * const gainMap = await textureLoader.loadAsync('gainmap.jpg')\n     * // load metadata\n     * const metadata = await (await fetch('metadata.json')).json()\n     *\n     * const result = await decode({\n     *   sdr,\n     *   gainMap,\n     *   // this allows to use `result.renderTarget.texture` directly\n     *   renderer,\n     *   // this will restore the full HDR range\n     *   maxDisplayBoost: Math.pow(2, metadata.hdrCapacityMax),\n     *   ...metadata\n     * })\n     *\n     * const scene = new Scene()\n     * // `result` can be used to populate a Texture\n     * const mesh = new Mesh(\n     *   new PlaneGeometry(),\n     *   new MeshBasicMaterial({ map: result.renderTarget.texture })\n     * )\n     * scene.add(mesh)\n     * renderer.render(scene, new PerspectiveCamera())\n     *\n     * // result must be manually disposed\n     * // when you are done using it\n     * result.dispose()\n     *\n     * @param params\n     * @returns\n     * @throws {Error} if the WebGLRenderer fails to render the gain map\n     */\n    const decode = (params) => {\n        const { sdr, gainMap, renderer } = params;\n        if (sdr.colorSpace !== three.SRGBColorSpace) {\n            console.warn('SDR Colorspace needs to be *SRGBColorSpace*, setting it automatically');\n            sdr.colorSpace = three.SRGBColorSpace;\n        }\n        sdr.needsUpdate = true;\n        if (gainMap.colorSpace !== three.LinearSRGBColorSpace) {\n            console.warn('Gainmap Colorspace needs to be *LinearSRGBColorSpace*, setting it automatically');\n            gainMap.colorSpace = three.LinearSRGBColorSpace;\n        }\n        gainMap.needsUpdate = true;\n        const material = new GainMapDecoderMaterial({\n            ...params,\n            sdr,\n            gainMap\n        });\n        const quadRenderer = new QuadRenderer({\n            // TODO: three types are generic, eslint complains here, see how we can solve\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n            width: sdr.image.width,\n            // TODO: three types are generic, eslint complains here, see how we can solve\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n            height: sdr.image.height,\n            type: three.HalfFloatType,\n            colorSpace: three.LinearSRGBColorSpace,\n            material,\n            renderer,\n            renderTargetOptions: params.renderTargetOptions\n        });\n        try {\n            quadRenderer.render();\n        }\n        catch (e) {\n            quadRenderer.disposeOnDemandRenderer();\n            throw e;\n        }\n        return quadRenderer;\n    };\n\n    class GainMapNotFoundError extends Error {\n    }\n\n    class XMPMetadataNotFoundError extends Error {\n    }\n\n    const getXMLValue = (xml, tag, defaultValue) => {\n        // Check for attribute format first: tag=\"value\"\n        const attributeMatch = new RegExp(`${tag}=\"([^\"]*)\"`, 'i').exec(xml);\n        if (attributeMatch)\n            return attributeMatch[1];\n        // Check for tag format: <tag>value</tag> or <tag><rdf:li>value</rdf:li>...</tag>\n        const tagMatch = new RegExp(`<${tag}[^>]*>([\\\\s\\\\S]*?)</${tag}>`, 'i').exec(xml);\n        if (tagMatch) {\n            // Check if it contains rdf:li elements\n            const liValues = tagMatch[1].match(/<rdf:li>([^<]*)<\\/rdf:li>/g);\n            if (liValues && liValues.length === 3) {\n                return liValues.map(v => v.replace(/<\\/?rdf:li>/g, ''));\n            }\n            return tagMatch[1].trim();\n        }\n        if (defaultValue !== undefined)\n            return defaultValue;\n        throw new Error(`Can't find ${tag} in gainmap metadata`);\n    };\n    const extractXMP = (input) => {\n        let str;\n        // support node test environment\n        if (typeof TextDecoder !== 'undefined')\n            str = new TextDecoder().decode(input);\n        else\n            str = input.toString();\n        let start = str.indexOf('<x:xmpmeta');\n        while (start !== -1) {\n            const end = str.indexOf('x:xmpmeta>', start);\n            const xmpBlock = str.slice(start, end + 10);\n            try {\n                const gainMapMin = getXMLValue(xmpBlock, 'hdrgm:GainMapMin', '0');\n                const gainMapMax = getXMLValue(xmpBlock, 'hdrgm:GainMapMax');\n                const gamma = getXMLValue(xmpBlock, 'hdrgm:Gamma', '1');\n                const offsetSDR = getXMLValue(xmpBlock, 'hdrgm:OffsetSDR', '0.015625');\n                const offsetHDR = getXMLValue(xmpBlock, 'hdrgm:OffsetHDR', '0.015625');\n                // These are always attributes, so we can use a simpler regex\n                const hdrCapacityMinMatch = /hdrgm:HDRCapacityMin=\"([^\"]*)\"/.exec(xmpBlock);\n                const hdrCapacityMin = hdrCapacityMinMatch ? hdrCapacityMinMatch[1] : '0';\n                const hdrCapacityMaxMatch = /hdrgm:HDRCapacityMax=\"([^\"]*)\"/.exec(xmpBlock);\n                if (!hdrCapacityMaxMatch)\n                    throw new Error('Incomplete gainmap metadata');\n                const hdrCapacityMax = hdrCapacityMaxMatch[1];\n                return {\n                    gainMapMin: Array.isArray(gainMapMin) ? gainMapMin.map(v => parseFloat(v)) : [parseFloat(gainMapMin), parseFloat(gainMapMin), parseFloat(gainMapMin)],\n                    gainMapMax: Array.isArray(gainMapMax) ? gainMapMax.map(v => parseFloat(v)) : [parseFloat(gainMapMax), parseFloat(gainMapMax), parseFloat(gainMapMax)],\n                    gamma: Array.isArray(gamma) ? gamma.map(v => parseFloat(v)) : [parseFloat(gamma), parseFloat(gamma), parseFloat(gamma)],\n                    offsetSdr: Array.isArray(offsetSDR) ? offsetSDR.map(v => parseFloat(v)) : [parseFloat(offsetSDR), parseFloat(offsetSDR), parseFloat(offsetSDR)],\n                    offsetHdr: Array.isArray(offsetHDR) ? offsetHDR.map(v => parseFloat(v)) : [parseFloat(offsetHDR), parseFloat(offsetHDR), parseFloat(offsetHDR)],\n                    hdrCapacityMin: parseFloat(hdrCapacityMin),\n                    hdrCapacityMax: parseFloat(hdrCapacityMax)\n                };\n            }\n            catch (e) {\n                // Continue searching for another xmpmeta block if this one fails\n            }\n            start = str.indexOf('<x:xmpmeta', end);\n        }\n    };\n\n    /**\n     * MPF Extractor (Multi Picture Format Extractor)\n     * By Henrik S Nilsson 2019\n     *\n     * Extracts images stored in images based on the MPF format (found here: https://www.cipa.jp/e/std/std-sec.html\n     * under \"CIPA DC-007-Translation-2021 Multi-Picture Format\"\n     *\n     * Overly commented, and without intention of being complete or production ready.\n     * Created to extract depth maps from iPhone images, and to learn about image metadata.\n     * Kudos to: Phil Harvey (exiftool), Jaume Sanchez (android-lens-blur-depth-extractor)\n     */\n    class MPFExtractor {\n        constructor(options) {\n            this.options = {\n                debug: options && options.debug !== undefined ? options.debug : false,\n                extractFII: options && options.extractFII !== undefined ? options.extractFII : true,\n                extractNonFII: options && options.extractNonFII !== undefined ? options.extractNonFII : true\n            };\n        }\n        extract(imageArrayBuffer) {\n            return new Promise((resolve, reject) => {\n                const debug = this.options.debug;\n                const dataView = new DataView(imageArrayBuffer.buffer);\n                // If you're executing this line on a big endian machine, it'll be reversed.\n                // bigEnd further down though, refers to the endianness of the image itself.\n                if (dataView.getUint16(0) !== 0xffd8) {\n                    reject(new Error('Not a valid jpeg'));\n                    return;\n                }\n                const length = dataView.byteLength;\n                let offset = 2;\n                let loops = 0;\n                let marker; // APP# marker\n                while (offset < length) {\n                    if (++loops > 250) {\n                        reject(new Error(`Found no marker after ${loops} loops 😵`));\n                        return;\n                    }\n                    if (dataView.getUint8(offset) !== 0xff) {\n                        reject(new Error(`Not a valid marker at offset 0x${offset.toString(16)}, found: 0x${dataView.getUint8(offset).toString(16)}`));\n                        return;\n                    }\n                    marker = dataView.getUint8(offset + 1);\n                    if (debug)\n                        console.log(`Marker: ${marker.toString(16)}`);\n                    if (marker === 0xe2) {\n                        if (debug)\n                            console.log('Found APP2 marker (0xffe2)');\n                        // Works for iPhone 8 Plus, X, and XSMax. Or any photos of MPF format.\n                        // Great way to visualize image information in html is using Exiftool. E.g.:\n                        // ./exiftool.exe -htmldump -wantTrailer photo.jpg > photo.html\n                        const formatPt = offset + 4;\n                        /*\n                         *  Structure of the MP Format Identifier\n                         *\n                         *  Offset Addr.  | Code (Hex)  | Description\n                         *  +00             ff            Marker Prefix      <-- offset\n                         *  +01             e2            APP2\n                         *  +02             #n            APP2 Field Length\n                         *  +03             #n            APP2 Field Length\n                         *  +04             4d            'M'                <-- formatPt\n                         *  +05             50            'P'\n                         *  +06             46            'F'\n                         *  +07             00            NULL\n                         *                                                   <-- tiffOffset\n                         */\n                        if (dataView.getUint32(formatPt) === 0x4d504600) {\n                            // Found MPF tag, so we start dig out sub images\n                            const tiffOffset = formatPt + 4;\n                            let bigEnd; // Endianness from TIFF header\n                            // Test for TIFF validity and endianness\n                            // 0x4949 and 0x4D4D ('II' and 'MM') marks Little Endian and Big Endian\n                            if (dataView.getUint16(tiffOffset) === 0x4949) {\n                                bigEnd = false;\n                            }\n                            else if (dataView.getUint16(tiffOffset) === 0x4d4d) {\n                                bigEnd = true;\n                            }\n                            else {\n                                reject(new Error('No valid endianness marker found in TIFF header'));\n                                return;\n                            }\n                            if (dataView.getUint16(tiffOffset + 2, !bigEnd) !== 0x002a) {\n                                reject(new Error('Not valid TIFF data! (no 0x002A marker)'));\n                                return;\n                            }\n                            // 32 bit number stating the offset from the start of the 8 Byte MP Header\n                            // to MP Index IFD Least possible value is thus 8 (means 0 offset)\n                            const firstIFDOffset = dataView.getUint32(tiffOffset + 4, !bigEnd);\n                            if (firstIFDOffset < 0x00000008) {\n                                reject(new Error('Not valid TIFF data! (First offset less than 8)'));\n                                return;\n                            }\n                            // Move ahead to MP Index IFD\n                            // Assume we're at the first IFD, so firstIFDOffset points to\n                            // MP Index IFD and not MP Attributes IFD. (If we try extract from a sub image,\n                            // we fail silently here due to this assumption)\n                            // Count (2 Byte) | MP Index Fields a.k.a. MP Entries (count * 12 Byte) | Offset of Next IFD (4 Byte)\n                            const dirStart = tiffOffset + firstIFDOffset; // Start of IFD (Image File Directory)\n                            const count = dataView.getUint16(dirStart, !bigEnd); // Count of MPEntries (2 Byte)\n                            // Extract info from MPEntries (starting after Count)\n                            const entriesStart = dirStart + 2;\n                            let numberOfImages = 0;\n                            for (let i = entriesStart; i < entriesStart + 12 * count; i += 12) {\n                                // Each entry is 12 Bytes long\n                                // Check MP Index IFD tags, here we only take tag 0xb001 = Number of images\n                                if (dataView.getUint16(i, !bigEnd) === 0xb001) {\n                                    // stored in Last 4 bytes of its 12 Byte entry.\n                                    numberOfImages = dataView.getUint32(i + 8, !bigEnd);\n                                }\n                            }\n                            const nextIFDOffsetLen = 4; // 4 Byte offset field that appears after MP Index IFD tags\n                            const MPImageListValPt = dirStart + 2 + count * 12 + nextIFDOffsetLen;\n                            const images = [];\n                            for (let i = MPImageListValPt; i < MPImageListValPt + numberOfImages * 16; i += 16) {\n                                const image = {\n                                    MPType: dataView.getUint32(i, !bigEnd),\n                                    size: dataView.getUint32(i + 4, !bigEnd),\n                                    // This offset is specified relative to the address of the MP Endian\n                                    // field in the MP Header, unless the image is a First Individual Image,\n                                    // in which case the value of the offset shall be NULL (0x00000000).\n                                    dataOffset: dataView.getUint32(i + 8, !bigEnd),\n                                    dependantImages: dataView.getUint32(i + 12, !bigEnd),\n                                    start: -1,\n                                    end: -1,\n                                    isFII: false\n                                };\n                                if (!image.dataOffset) {\n                                    // dataOffset is 0x00000000 for First Individual Image\n                                    image.start = 0;\n                                    image.isFII = true;\n                                }\n                                else {\n                                    image.start = tiffOffset + image.dataOffset;\n                                    image.isFII = false;\n                                }\n                                image.end = image.start + image.size;\n                                images.push(image);\n                            }\n                            if (this.options.extractNonFII && images.length) {\n                                const bufferBlob = new Blob([dataView]);\n                                const imgs = [];\n                                for (const image of images) {\n                                    if (image.isFII && !this.options.extractFII) {\n                                        continue; // Skip FII\n                                    }\n                                    const imageBlob = bufferBlob.slice(image.start, image.end + 1, 'image/jpeg');\n                                    // we don't need this\n                                    // const imageUrl = URL.createObjectURL(imageBlob)\n                                    // image.img = document.createElement('img')\n                                    // image.img.src = imageUrl\n                                    imgs.push(imageBlob);\n                                }\n                                resolve(imgs);\n                            }\n                        }\n                    }\n                    offset += 2 + dataView.getUint16(offset + 2);\n                }\n            });\n        }\n    }\n\n    /**\n     * Extracts XMP Metadata and the gain map recovery image\n     * from a single JPEG file.\n     *\n     * @category Decoding Functions\n     * @group Decoding Functions\n     * @param jpegFile an `Uint8Array` containing and encoded JPEG file\n     * @returns an sdr `Uint8Array` compressed in JPEG, a gainMap `Uint8Array` compressed in JPEG and the XMP parsed XMP metadata\n     * @throws Error if XMP Metadata is not found\n     * @throws Error if Gain map image is not found\n     * @example\n     * import { FileLoader } from 'three'\n     * import { extractGainmapFromJPEG } from '@monogrid/gainmap-js'\n     *\n     * const jpegFile = await new FileLoader()\n     *  .setResponseType('arraybuffer')\n     *  .loadAsync('image.jpg')\n     *\n     * const { sdr, gainMap, metadata } = extractGainmapFromJPEG(jpegFile)\n     */\n    const extractGainmapFromJPEG = async (jpegFile) => {\n        const metadata = extractXMP(jpegFile);\n        if (!metadata)\n            throw new XMPMetadataNotFoundError('Gain map XMP metadata not found');\n        const mpfExtractor = new MPFExtractor({ extractFII: true, extractNonFII: true });\n        const images = await mpfExtractor.extract(jpegFile);\n        if (images.length !== 2)\n            throw new GainMapNotFoundError('Gain map recovery image not found');\n        return {\n            sdr: new Uint8Array(await images[0].arrayBuffer()),\n            gainMap: new Uint8Array(await images[1].arrayBuffer()),\n            metadata\n        };\n    };\n\n    /**\n     * private function, async get image from blob\n     *\n     * @param blob\n     * @returns\n     */\n    const getHTMLImageFromBlob = (blob) => {\n        return new Promise((resolve, reject) => {\n            const img = document.createElement('img');\n            img.onload = () => { resolve(img); };\n            img.onerror = (e) => { reject(e); };\n            img.src = URL.createObjectURL(blob);\n        });\n    };\n\n    class LoaderBase extends three.Loader {\n        /**\n         *\n         * @param renderer\n         * @param manager\n         */\n        constructor(renderer, manager) {\n            super(manager);\n            if (renderer)\n                this._renderer = renderer;\n            this._internalLoadingManager = new three.LoadingManager();\n        }\n        /**\n         * Specify the renderer to use when rendering the gain map\n         *\n         * @param renderer\n         * @returns\n         */\n        setRenderer(renderer) {\n            this._renderer = renderer;\n            return this;\n        }\n        /**\n         * Specify the renderTarget options to use when rendering the gain map\n         *\n         * @param options\n         * @returns\n         */\n        setRenderTargetOptions(options) {\n            this._renderTargetOptions = options;\n            return this;\n        }\n        /**\n         * @private\n         * @returns\n         */\n        prepareQuadRenderer() {\n            if (!this._renderer)\n                console.warn('WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.');\n            // temporary values\n            const material = new GainMapDecoderMaterial({\n                gainMapMax: [1, 1, 1],\n                gainMapMin: [0, 0, 0],\n                gamma: [1, 1, 1],\n                offsetHdr: [1, 1, 1],\n                offsetSdr: [1, 1, 1],\n                hdrCapacityMax: 1,\n                hdrCapacityMin: 0,\n                maxDisplayBoost: 1,\n                gainMap: new three.Texture(),\n                sdr: new three.Texture()\n            });\n            return new QuadRenderer({\n                width: 16,\n                height: 16,\n                type: three.HalfFloatType,\n                colorSpace: three.LinearSRGBColorSpace,\n                material,\n                renderer: this._renderer,\n                renderTargetOptions: this._renderTargetOptions\n            });\n        }\n        /**\n       * @private\n       * @param quadRenderer\n       * @param metadata\n       * @param sdrBuffer\n       * @param gainMapBuffer\n       */\n        async render(quadRenderer, metadata, sdrBuffer, gainMapBuffer) {\n            // this is optional, will render a black gain-map if not present\n            const gainMapBlob = gainMapBuffer ? new Blob([gainMapBuffer], { type: 'image/jpeg' }) : undefined;\n            const sdrBlob = new Blob([sdrBuffer], { type: 'image/jpeg' });\n            let sdrImage;\n            let gainMapImage;\n            let needsFlip = false;\n            if (typeof createImageBitmap === 'undefined') {\n                const res = await Promise.all([\n                    gainMapBlob ? getHTMLImageFromBlob(gainMapBlob) : Promise.resolve(undefined),\n                    getHTMLImageFromBlob(sdrBlob)\n                ]);\n                gainMapImage = res[0];\n                sdrImage = res[1];\n                needsFlip = true;\n            }\n            else {\n                const res = await Promise.all([\n                    gainMapBlob ? createImageBitmap(gainMapBlob, { imageOrientation: 'flipY' }) : Promise.resolve(undefined),\n                    createImageBitmap(sdrBlob, { imageOrientation: 'flipY' })\n                ]);\n                gainMapImage = res[0];\n                sdrImage = res[1];\n            }\n            const gainMap = new three.Texture(gainMapImage || new ImageData(2, 2), three.UVMapping, three.ClampToEdgeWrapping, three.ClampToEdgeWrapping, three.LinearFilter, three.LinearMipMapLinearFilter, three.RGBAFormat, three.UnsignedByteType, 1, three.LinearSRGBColorSpace);\n            gainMap.flipY = needsFlip;\n            gainMap.needsUpdate = true;\n            const sdr = new three.Texture(sdrImage, three.UVMapping, three.ClampToEdgeWrapping, three.ClampToEdgeWrapping, three.LinearFilter, three.LinearMipMapLinearFilter, three.RGBAFormat, three.UnsignedByteType, 1, three.SRGBColorSpace);\n            sdr.flipY = needsFlip;\n            sdr.needsUpdate = true;\n            quadRenderer.width = sdrImage.width;\n            quadRenderer.height = sdrImage.height;\n            quadRenderer.material.gainMap = gainMap;\n            quadRenderer.material.sdr = sdr;\n            quadRenderer.material.gainMapMin = metadata.gainMapMin;\n            quadRenderer.material.gainMapMax = metadata.gainMapMax;\n            quadRenderer.material.offsetHdr = metadata.offsetHdr;\n            quadRenderer.material.offsetSdr = metadata.offsetSdr;\n            quadRenderer.material.gamma = metadata.gamma;\n            quadRenderer.material.hdrCapacityMin = metadata.hdrCapacityMin;\n            quadRenderer.material.hdrCapacityMax = metadata.hdrCapacityMax;\n            quadRenderer.material.maxDisplayBoost = Math.pow(2, metadata.hdrCapacityMax);\n            quadRenderer.material.needsUpdate = true;\n            quadRenderer.render();\n        }\n    }\n\n    /**\n     * A Three.js Loader for the gain map format.\n     *\n     * @category Loaders\n     * @group Loaders\n     *\n     * @example\n     * import { GainMapLoader } from '@monogrid/gainmap-js'\n     * import {\n     *   EquirectangularReflectionMapping,\n     *   LinearFilter,\n     *   Mesh,\n     *   MeshBasicMaterial,\n     *   PerspectiveCamera,\n     *   PlaneGeometry,\n     *   Scene,\n     *   WebGLRenderer\n     * } from 'three'\n     *\n     * const renderer = new WebGLRenderer()\n     *\n     * const loader = new GainMapLoader(renderer)\n     *\n     * const result = await loader.loadAsync(['sdr.jpeg', 'gainmap.jpeg', 'metadata.json'])\n     * // `result` can be used to populate a Texture\n     *\n     * const scene = new Scene()\n     * const mesh = new Mesh(\n     *   new PlaneGeometry(),\n     *   new MeshBasicMaterial({ map: result.renderTarget.texture })\n     * )\n     * scene.add(mesh)\n     * renderer.render(scene, new PerspectiveCamera())\n     *\n     * // Starting from three.js r159\n     * // `result.renderTarget.texture` can\n     * // also be used as Equirectangular scene background\n     * //\n     * // it was previously needed to convert it\n     * // to a DataTexture with `result.toDataTexture()`\n     * scene.background = result.renderTarget.texture\n     * scene.background.mapping = EquirectangularReflectionMapping\n     *\n     * // result must be manually disposed\n     * // when you are done using it\n     * result.dispose()\n     *\n     */\n    class GainMapLoader extends LoaderBase {\n        /**\n         * Loads a gainmap using separate data\n         * * sdr image\n         * * gain map image\n         * * metadata json\n         *\n         * useful for webp gain maps\n         *\n         * @param urls An array in the form of [sdr.jpg, gainmap.jpg, metadata.json]\n         * @param onLoad Load complete callback, will receive the result\n         * @param onProgress Progress callback, will receive a {@link ProgressEvent}\n         * @param onError Error callback\n         * @returns\n         */\n        load([sdrUrl, gainMapUrl, metadataUrl], onLoad, onProgress, onError) {\n            const quadRenderer = this.prepareQuadRenderer();\n            let sdr;\n            let gainMap;\n            let metadata;\n            const loadCheck = async () => {\n                if (sdr && gainMap && metadata) {\n                    // solves #16\n                    try {\n                        await this.render(quadRenderer, metadata, sdr, gainMap);\n                    }\n                    catch (error) {\n                        this.manager.itemError(sdrUrl);\n                        this.manager.itemError(gainMapUrl);\n                        this.manager.itemError(metadataUrl);\n                        if (typeof onError === 'function')\n                            onError(error);\n                        quadRenderer.disposeOnDemandRenderer();\n                        return;\n                    }\n                    if (typeof onLoad === 'function')\n                        onLoad(quadRenderer);\n                    this.manager.itemEnd(sdrUrl);\n                    this.manager.itemEnd(gainMapUrl);\n                    this.manager.itemEnd(metadataUrl);\n                    quadRenderer.disposeOnDemandRenderer();\n                }\n            };\n            let sdrLengthComputable = true;\n            let sdrTotal = 0;\n            let sdrLoaded = 0;\n            let gainMapLengthComputable = true;\n            let gainMapTotal = 0;\n            let gainMapLoaded = 0;\n            let metadataLengthComputable = true;\n            let metadataTotal = 0;\n            let metadataLoaded = 0;\n            const progressHandler = () => {\n                if (typeof onProgress === 'function') {\n                    const total = sdrTotal + gainMapTotal + metadataTotal;\n                    const loaded = sdrLoaded + gainMapLoaded + metadataLoaded;\n                    const lengthComputable = sdrLengthComputable && gainMapLengthComputable && metadataLengthComputable;\n                    onProgress(new ProgressEvent('progress', { lengthComputable, loaded, total }));\n                }\n            };\n            this.manager.itemStart(sdrUrl);\n            this.manager.itemStart(gainMapUrl);\n            this.manager.itemStart(metadataUrl);\n            const sdrLoader = new three.FileLoader(this._internalLoadingManager);\n            sdrLoader.setResponseType('arraybuffer');\n            sdrLoader.setRequestHeader(this.requestHeader);\n            sdrLoader.setPath(this.path);\n            sdrLoader.setWithCredentials(this.withCredentials);\n            sdrLoader.load(sdrUrl, async (buffer) => {\n                /* istanbul ignore if\n                 this condition exists only because of three.js types + strict mode\n                */\n                if (typeof buffer === 'string')\n                    throw new Error('Invalid sdr buffer');\n                sdr = buffer;\n                await loadCheck();\n            }, (e) => {\n                sdrLengthComputable = e.lengthComputable;\n                sdrLoaded = e.loaded;\n                sdrTotal = e.total;\n                progressHandler();\n            }, (error) => {\n                this.manager.itemError(sdrUrl);\n                if (typeof onError === 'function')\n                    onError(error);\n            });\n            const gainMapLoader = new three.FileLoader(this._internalLoadingManager);\n            gainMapLoader.setResponseType('arraybuffer');\n            gainMapLoader.setRequestHeader(this.requestHeader);\n            gainMapLoader.setPath(this.path);\n            gainMapLoader.setWithCredentials(this.withCredentials);\n            gainMapLoader.load(gainMapUrl, async (buffer) => {\n                /* istanbul ignore if\n                 this condition exists only because of three.js types + strict mode\n                */\n                if (typeof buffer === 'string')\n                    throw new Error('Invalid gainmap buffer');\n                gainMap = buffer;\n                await loadCheck();\n            }, (e) => {\n                gainMapLengthComputable = e.lengthComputable;\n                gainMapLoaded = e.loaded;\n                gainMapTotal = e.total;\n                progressHandler();\n            }, (error) => {\n                this.manager.itemError(gainMapUrl);\n                if (typeof onError === 'function')\n                    onError(error);\n            });\n            const metadataLoader = new three.FileLoader(this._internalLoadingManager);\n            // metadataLoader.setResponseType('json')\n            metadataLoader.setRequestHeader(this.requestHeader);\n            metadataLoader.setPath(this.path);\n            metadataLoader.setWithCredentials(this.withCredentials);\n            metadataLoader.load(metadataUrl, async (json) => {\n                /* istanbul ignore if\n                 this condition exists only because of three.js types + strict mode\n                */\n                if (typeof json !== 'string')\n                    throw new Error('Invalid metadata string');\n                // TODO: implement check on JSON file and remove this eslint disable\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                metadata = JSON.parse(json);\n                await loadCheck();\n            }, (e) => {\n                metadataLengthComputable = e.lengthComputable;\n                metadataLoaded = e.loaded;\n                metadataTotal = e.total;\n                progressHandler();\n            }, (error) => {\n                this.manager.itemError(metadataUrl);\n                if (typeof onError === 'function')\n                    onError(error);\n            });\n            return quadRenderer;\n        }\n    }\n\n    /**\n     * A Three.js Loader for a JPEG with embedded gainmap metadata.\n     *\n     * @category Loaders\n     * @group Loaders\n     *\n     * @example\n     * import { HDRJPGLoader } from '@monogrid/gainmap-js'\n     * import {\n     *   EquirectangularReflectionMapping,\n     *   LinearFilter,\n     *   Mesh,\n     *   MeshBasicMaterial,\n     *   PerspectiveCamera,\n     *   PlaneGeometry,\n     *   Scene,\n     *   WebGLRenderer\n     * } from 'three'\n     *\n     * const renderer = new WebGLRenderer()\n     *\n     * const loader = new HDRJPGLoader(renderer)\n     *\n     * const result = await loader.loadAsync('gainmap.jpeg')\n     * // `result` can be used to populate a Texture\n     *\n     * const scene = new Scene()\n     * const mesh = new Mesh(\n     *   new PlaneGeometry(),\n     *   new MeshBasicMaterial({ map: result.renderTarget.texture })\n     * )\n     * scene.add(mesh)\n     * renderer.render(scene, new PerspectiveCamera())\n     *\n     * // Starting from three.js r159\n     * // `result.renderTarget.texture` can\n     * // also be used as Equirectangular scene background\n     * //\n     * // it was previously needed to convert it\n     * // to a DataTexture with `result.toDataTexture()`\n     * scene.background = result.renderTarget.texture\n     * scene.background.mapping = EquirectangularReflectionMapping\n     *\n     * // result must be manually disposed\n     * // when you are done using it\n     * result.dispose()\n     *\n     */\n    class HDRJPGLoader extends LoaderBase {\n        /**\n         * Loads a JPEG containing gain map metadata\n         * Renders a normal SDR image if gainmap data is not found\n         *\n         * @param url An array in the form of [sdr.jpg, gainmap.jpg, metadata.json]\n         * @param onLoad Load complete callback, will receive the result\n         * @param onProgress Progress callback, will receive a {@link ProgressEvent}\n         * @param onError Error callback\n         * @returns\n         */\n        load(url, onLoad, onProgress, onError) {\n            const quadRenderer = this.prepareQuadRenderer();\n            const loader = new three.FileLoader(this._internalLoadingManager);\n            loader.setResponseType('arraybuffer');\n            loader.setRequestHeader(this.requestHeader);\n            loader.setPath(this.path);\n            loader.setWithCredentials(this.withCredentials);\n            this.manager.itemStart(url);\n            loader.load(url, async (jpeg) => {\n                /* istanbul ignore if\n                 this condition exists only because of three.js types + strict mode\n                */\n                if (typeof jpeg === 'string')\n                    throw new Error('Invalid buffer, received [string], was expecting [ArrayBuffer]');\n                const jpegBuffer = new Uint8Array(jpeg);\n                let sdrJPEG;\n                let gainMapJPEG;\n                let metadata;\n                try {\n                    const extractionResult = await extractGainmapFromJPEG(jpegBuffer);\n                    // gain map is successfully reconstructed\n                    sdrJPEG = extractionResult.sdr;\n                    gainMapJPEG = extractionResult.gainMap;\n                    metadata = extractionResult.metadata;\n                }\n                catch (e) {\n                    // render the SDR version if this is not a gainmap\n                    if (e instanceof XMPMetadataNotFoundError || e instanceof GainMapNotFoundError) {\n                        console.warn(`Failure to reconstruct an HDR image from ${url}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`);\n                        metadata = {\n                            gainMapMin: [0, 0, 0],\n                            gainMapMax: [1, 1, 1],\n                            gamma: [1, 1, 1],\n                            hdrCapacityMin: 0,\n                            hdrCapacityMax: 1,\n                            offsetHdr: [0, 0, 0],\n                            offsetSdr: [0, 0, 0]\n                        };\n                        sdrJPEG = jpegBuffer;\n                    }\n                    else {\n                        throw e;\n                    }\n                }\n                // solves #16\n                try {\n                    await this.render(quadRenderer, metadata, sdrJPEG, gainMapJPEG);\n                }\n                catch (error) {\n                    this.manager.itemError(url);\n                    if (typeof onError === 'function')\n                        onError(error);\n                    quadRenderer.disposeOnDemandRenderer();\n                    return;\n                }\n                if (typeof onLoad === 'function')\n                    onLoad(quadRenderer);\n                this.manager.itemEnd(url);\n                quadRenderer.disposeOnDemandRenderer();\n            }, onProgress, (error) => {\n                this.manager.itemError(url);\n                if (typeof onError === 'function')\n                    onError(error);\n            });\n            return quadRenderer;\n        }\n    }\n\n    exports.GainMapDecoderMaterial = GainMapDecoderMaterial;\n    exports.GainMapLoader = GainMapLoader;\n    exports.HDRJPGLoader = HDRJPGLoader;\n    exports.JPEGRLoader = HDRJPGLoader;\n    exports.MPFExtractor = MPFExtractor;\n    exports.QuadRenderer = QuadRenderer;\n    exports.decode = decode;\n    exports.extractGainmapFromJPEG = extractGainmapFromJPEG;\n    exports.extractXMP = extractXMP;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbm9kZV9tb2R1bGVzL0Btb25vZ3JpZC9nYWlubWFwLWpzL2Rpc3QvZGVjb2RlLnVtZC5janMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLEtBQTRELG9CQUFvQixtQkFBTyxDQUFDLHlEQUFPO0FBQ25HLElBQUksQ0FDc0k7QUFDMUksQ0FBQyxxQ0FBcUM7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsaUJBQWlCO0FBQzlHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BhY2Vwb3J0Zm9saW8vLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvbm9kZV9tb2R1bGVzL0Btb25vZ3JpZC9nYWlubWFwLWpzL2Rpc3QvZGVjb2RlLnVtZC5janM/OGFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBtb25vZ3JpZC9nYWlubWFwLWpzIHYzLjEuMFxuICogV2l0aCDinaTvuI8sIGJ5IE1PTk9HUklEIDxybmRAbW9ub2dyaWQuY29tPlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCd0aHJlZScpKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICd0aHJlZSddLCBmYWN0b3J5KSA6XG4gICAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWxbXCJAbW9ub2dyaWQvZ2Fpbm1hcC1qc1wiXSA9IHt9LCBnbG9iYWwudGhyZWUpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cywgdGhyZWUpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgY29uc3QgZ2V0QnVmZmVyRm9yVHlwZSA9ICh0eXBlLCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSB0aHJlZS5VbnNpZ25lZEJ5dGVUeXBlOlxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0aHJlZS5IYWxmRmxvYXRUeXBlOlxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBVaW50MTZBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0aHJlZS5VbnNpZ25lZEludFR5cGU6XG4gICAgICAgICAgICAgICAgb3V0ID0gbmV3IFVpbnQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRocmVlLkJ5dGVUeXBlOlxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBJbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhyZWUuU2hvcnRUeXBlOlxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBJbnQxNkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRocmVlLkludFR5cGU6XG4gICAgICAgICAgICAgICAgb3V0ID0gbmV3IEludDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhyZWUuRmxvYXRUeXBlOlxuICAgICAgICAgICAgICAgIG91dCA9IG5ldyBGbG9hdDMyQXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBkYXRhIHR5cGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgbGV0IF9jYW5SZWFkUGl4ZWxzUmVzdWx0O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyBicm93c2VyIGltcGxlbWVudGF0aW9uIGNhbiBjb3JyZWN0bHkgcmVhZCBwaXhlbHMgZnJvbSB0aGUgc3BlY2lmaWVkXG4gICAgICogUmVuZGVyIHRhcmdldCB0eXBlLlxuICAgICAqXG4gICAgICogUnVucyBvbmx5IG9uY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHBhcmFtIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIGNhbWVyYVxuICAgICAqIEBwYXJhbSByZW5kZXJUYXJnZXRPcHRpb25zXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBjb25zdCBjYW5SZWFkUGl4ZWxzID0gKHR5cGUsIHJlbmRlcmVyLCBjYW1lcmEsIHJlbmRlclRhcmdldE9wdGlvbnMpID0+IHtcbiAgICAgICAgaWYgKF9jYW5SZWFkUGl4ZWxzUmVzdWx0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gX2NhblJlYWRQaXhlbHNSZXN1bHQ7XG4gICAgICAgIGNvbnN0IHRlc3RSVCA9IG5ldyB0aHJlZS5XZWJHTFJlbmRlclRhcmdldCgxLCAxLCByZW5kZXJUYXJnZXRPcHRpb25zKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHRlc3RSVCk7XG4gICAgICAgIGNvbnN0IG1lc2ggPSBuZXcgdGhyZWUuTWVzaChuZXcgdGhyZWUuUGxhbmVHZW9tZXRyeSgpLCBuZXcgdGhyZWUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmZmYgfSkpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXIobWVzaCwgY2FtZXJhKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO1xuICAgICAgICBjb25zdCBvdXQgPSBnZXRCdWZmZXJGb3JUeXBlKHR5cGUsIHRlc3RSVC53aWR0aCwgdGVzdFJULmhlaWdodCk7XG4gICAgICAgIHJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHModGVzdFJULCAwLCAwLCB0ZXN0UlQud2lkdGgsIHRlc3RSVC5oZWlnaHQsIG91dCk7XG4gICAgICAgIHRlc3RSVC5kaXNwb3NlKCk7XG4gICAgICAgIG1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICBtZXNoLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgX2NhblJlYWRQaXhlbHNSZXN1bHQgPSBvdXRbMF0gIT09IDA7XG4gICAgICAgIHJldHVybiBfY2FuUmVhZFBpeGVsc1Jlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgY2xhc3MgdXNlZCBmb3IgcmVuZGVyaW5nIGEgdGV4dHVyZSB3aXRoIGEgbWF0ZXJpYWxcbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSBDb3JlXG4gICAgICogQGdyb3VwIENvcmVcbiAgICAgKi9cbiAgICBjbGFzcyBRdWFkUmVuZGVyZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0cyBhIG5ldyBRdWFkUmVuZGVyZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgUGFyYW1ldGVycyBmb3IgdGhpcyBRdWFkUmVuZGVyZXJcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfcjtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVySXNEaXNwb3NhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9zdXBwb3J0c1JlYWRQaXhlbHMgPSB0cnVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJzIHRoZSBpbnB1dCB0ZXh0dXJlIHVzaW5nIHRoZSBzcGVjaWZpZWQgbWF0ZXJpYWxcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHRoaXMuX3JlbmRlclRhcmdldCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMuX3NjZW5lLCB0aGlzLl9jYW1lcmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChudWxsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgICAgICB0aGlzLl9jb2xvclNwYWNlID0gb3B0aW9ucy5jb2xvclNwYWNlO1xuICAgICAgICAgICAgY29uc3QgcnRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC8vIGZpeGVkIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHRocmVlLlJHQkFGb3JtYXQsXG4gICAgICAgICAgICAgICAgZGVwdGhCdWZmZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHN0ZW5jaWxCdWZmZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIC8vIHVzZXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuX3R5cGUsIC8vIHNldCBpbiBjbGFzcyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGNvbG9yU3BhY2U6IHRoaXMuX2NvbG9yU3BhY2UsIC8vIHNldCBpbiBjbGFzcyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGFuaXNvdHJvcHk6ICgoX2EgPSBvcHRpb25zLnJlbmRlclRhcmdldE9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hbmlzb3Ryb3B5KSAhPT0gdW5kZWZpbmVkID8gKF9iID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYW5pc290cm9weSA6IDEsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVNaXBtYXBzOiAoKF9jID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZ2VuZXJhdGVNaXBtYXBzKSAhPT0gdW5kZWZpbmVkID8gKF9kID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZ2VuZXJhdGVNaXBtYXBzIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWFnRmlsdGVyOiAoKF9lID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UubWFnRmlsdGVyKSAhPT0gdW5kZWZpbmVkID8gKF9mID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YubWFnRmlsdGVyIDogdGhyZWUuTGluZWFyRmlsdGVyLFxuICAgICAgICAgICAgICAgIG1pbkZpbHRlcjogKChfZyA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLm1pbkZpbHRlcikgIT09IHVuZGVmaW5lZCA/IChfaCA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLm1pbkZpbHRlciA6IHRocmVlLkxpbmVhckZpbHRlcixcbiAgICAgICAgICAgICAgICBzYW1wbGVzOiAoKF9qID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouc2FtcGxlcykgIT09IHVuZGVmaW5lZCA/IChfayA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLnNhbXBsZXMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgd3JhcFM6ICgoX2wgPSBvcHRpb25zLnJlbmRlclRhcmdldE9wdGlvbnMpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC53cmFwUykgIT09IHVuZGVmaW5lZCA/IChfbSA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLndyYXBTIDogdGhyZWUuQ2xhbXBUb0VkZ2VXcmFwcGluZyxcbiAgICAgICAgICAgICAgICB3cmFwVDogKChfbyA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLndyYXBUKSAhPT0gdW5kZWZpbmVkID8gKF9wID0gb3B0aW9ucy5yZW5kZXJUYXJnZXRPcHRpb25zKSA9PT0gbnVsbCB8fCBfcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Aud3JhcFQgOiB0aHJlZS5DbGFtcFRvRWRnZVdyYXBwaW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBvcHRpb25zLm1hdGVyaWFsO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IG9wdGlvbnMucmVuZGVyZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IFF1YWRSZW5kZXJlci5pbnN0YW50aWF0ZVJlbmRlcmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXJJc0Rpc3Bvc2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgdGhyZWUuU2NlbmUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYSA9IG5ldyB0aHJlZS5PcnRob2dyYXBoaWNDYW1lcmEoKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgMTApO1xuICAgICAgICAgICAgdGhpcy5fY2FtZXJhLmxlZnQgPSAtMC41O1xuICAgICAgICAgICAgdGhpcy5fY2FtZXJhLnJpZ2h0ID0gMC41O1xuICAgICAgICAgICAgdGhpcy5fY2FtZXJhLnRvcCA9IDAuNTtcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYS5ib3R0b20gPSAtMC41O1xuICAgICAgICAgICAgdGhpcy5fY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIGlmICghY2FuUmVhZFBpeGVscyh0aGlzLl90eXBlLCB0aGlzLl9yZW5kZXJlciwgdGhpcy5fY2FtZXJhLCBydE9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFsdGVybmF0aXZlVHlwZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSB0aHJlZS5IYWxmRmxvYXRUeXBlOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpdmVUeXBlID0gdGhpcy5fcmVuZGVyZXIuZXh0ZW5zaW9ucy5oYXMoJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKSA/IHRocmVlLkZsb2F0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWx0ZXJuYXRpdmVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCByZWFkaW5nIHBpeGVscyBmcm9tICR7dGhpcy5fdHlwZX0gUmVuZGVyVGFyZ2V0cywgc3dpdGNoaW5nIHRvICR7dGhyZWUuRmxvYXRUeXBlfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gYWx0ZXJuYXRpdmVUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwcG9ydHNSZWFkUGl4ZWxzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhpcyBicm93c2VyIGRvcyBub3Qgc3VwcG9ydCB0b0FycmF5IG9yIHRvRGF0YVRleHR1cmUsIGNhbGxzIHRvIHRob3NlIG1ldGhvZHMgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3IgdGhyb3duJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcXVhZCA9IG5ldyB0aHJlZS5NZXNoKG5ldyB0aHJlZS5QbGFuZUdlb21ldHJ5KCksIHRoaXMuX21hdGVyaWFsKTtcbiAgICAgICAgICAgIHRoaXMuX3F1YWQuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7XG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5hZGQodGhpcy5fcXVhZCk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQgPSBuZXcgdGhyZWUuV2ViR0xSZW5kZXJUYXJnZXQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHJ0T3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZS5tYXBwaW5nID0gKChfcSA9IG9wdGlvbnMucmVuZGVyVGFyZ2V0T3B0aW9ucykgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLm1hcHBpbmcpICE9PSB1bmRlZmluZWQgPyAoX3IgPSBvcHRpb25zLnJlbmRlclRhcmdldE9wdGlvbnMpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5tYXBwaW5nIDogdGhyZWUuVVZNYXBwaW5nO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW50aWF0ZXMgYSB0ZW1wb3JhcnkgcmVuZGVyZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBpbnN0YW50aWF0ZVJlbmRlcmVyKCkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgdGhyZWUuV2ViR0xSZW5kZXJlcigpO1xuICAgICAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZSgxMjgsIDEyOCk7XG4gICAgICAgICAgICAvLyByZW5kZXJlci5vdXRwdXRDb2xvclNwYWNlID0gU1JHQkNvbG9yU3BhY2VcbiAgICAgICAgICAgIC8vIHJlbmRlcmVyLnRvbmVNYXBwaW5nID0gTGluZWFyVG9uZU1hcHBpbmdcbiAgICAgICAgICAgIC8vIHJlbmRlcmVyLmRlYnVnLmNoZWNrU2hhZGVyRXJyb3JzID0gZmFsc2VcbiAgICAgICAgICAgIC8vIHRoaXMuX3JlbmRlcmVySXNEaXNwb3NhYmxlID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPYnRhaW5zIGEgQnVmZmVyIGNvbnRhaW5pbmcgdGhlIHJlbmRlcmVkIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGJyb3dzZXIgY2Fubm90IHJlYWQgcGl4ZWxzIGZyb20gdGhpcyBSZW5kZXJUYXJnZXQgdHlwZS5cbiAgICAgICAgICogQHJldHVybnMgYSBUeXBlZEFycmF5IGNvbnRhaW5pbmcgUkdCQSB2YWx1ZXMgZnJvbSB0aGlzIHJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICB0b0FycmF5KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdXBwb3J0c1JlYWRQaXhlbHMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IHJlYWQgcGl4ZWxzIGluIHRoaXMgYnJvd3NlcicpO1xuICAgICAgICAgICAgY29uc3Qgb3V0ID0gZ2V0QnVmZmVyRm9yVHlwZSh0aGlzLl90eXBlLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHModGhpcy5fcmVuZGVyVGFyZ2V0LCAwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCBvdXQpO1xuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUGVyZm9ybXMgYSByZWFkUGl4ZWwgb3BlcmF0aW9uIGluIHRoZSByZW5kZXJUYXJnZXRcbiAgICAgICAgICogYW5kIHJldHVybnMgYSBEYXRhVGV4dHVyZSBjb250YWluaW5nIHRoZSByZWFkIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgb3B0aW9uc1xuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgdG9EYXRhVGV4dHVyZShvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IG5ldyB0aHJlZS5EYXRhVGV4dHVyZShcbiAgICAgICAgICAgIC8vIGZpeGVkIHZhbHVlc1xuICAgICAgICAgICAgdGhpcy50b0FycmF5KCksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aHJlZS5SR0JBRm9ybWF0LCB0aGlzLl90eXBlLCBcbiAgICAgICAgICAgIC8vIHVzZXIgdmFsdWVzXG4gICAgICAgICAgICAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1hcHBpbmcpIHx8IHRocmVlLlVWTWFwcGluZywgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53cmFwUykgfHwgdGhyZWUuQ2xhbXBUb0VkZ2VXcmFwcGluZywgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53cmFwVCkgfHwgdGhyZWUuQ2xhbXBUb0VkZ2VXcmFwcGluZywgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tYWdGaWx0ZXIpIHx8IHRocmVlLkxpbmVhckZpbHRlciwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5taW5GaWx0ZXIpIHx8IHRocmVlLkxpbmVhckZpbHRlciwgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hbmlzb3Ryb3B5KSB8fCAxLCBcbiAgICAgICAgICAgIC8vIGZpeGVkIHZhbHVlXG4gICAgICAgICAgICB0aHJlZS5MaW5lYXJTUkdCQ29sb3JTcGFjZSk7XG4gICAgICAgICAgICAvLyBzZXQgdGhpcyBhZnRlcndhcmRzLCB3ZSBjYW4ndCBzZXQgaXQgaW4gY29uc3RydWN0b3JcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmdlbmVyYXRlTWlwbWFwcyA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2VuZXJhdGVNaXBtYXBzKSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmdlbmVyYXRlTWlwbWFwcyA6IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB1c2luZyBhIGRpc3Bvc2FibGUgcmVuZGVyZXIsIGl0IHdpbGwgZGlzcG9zZSBpdC5cbiAgICAgICAgICovXG4gICAgICAgIGRpc3Bvc2VPbkRlbWFuZFJlbmRlcmVyKCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVySXNEaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyLmZvcmNlQ29udGV4dExvc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2lsbCBkaXNwb3NlIG9mICoqYWxsKiogYXNzZXRzIHVzZWQgYnkgdGhpcyByZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGRpc3Bvc2VSZW5kZXJUYXJnZXQgd2lsbCBkaXNwb3NlIG9mIHRoZSByZW5kZXJUYXJnZXQgd2hpY2ggd2lsbCBub3QgYmUgdXNhYmxlIGxhdGVyXG4gICAgICAgICAqIHNldCB0aGlzIHRvIHRydWUgaWYgeW91IHBhc3NlZCB0aGUgYHJlbmRlclRhcmdldC50ZXh0dXJlYCB0byBhIGBQTVJFTUdlbmVyYXRvcmBcbiAgICAgICAgICogb3IgYXJlIG90aGVyd2lzZSBkb25lIHdpdGggaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBIRFJKUEdMb2FkZXIocmVuZGVyZXIpXG4gICAgICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvYWRlci5sb2FkQXN5bmMoJ2dhaW5tYXAuanBlZycpXG4gICAgICAgICAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgbWFwOiByZXN1bHQucmVuZGVyVGFyZ2V0LnRleHR1cmUgfSkgKVxuICAgICAgICAgKiAvLyBETyBOT1QgZGlzcG9zZSB0aGUgcmVuZGVyVGFyZ2V0IGhlcmUsXG4gICAgICAgICAqIC8vIGl0IGlzIHVzZWQgZGlyZWN0bHkgaW4gdGhlIG1hdGVyaWFsXG4gICAgICAgICAqIHJlc3VsdC5kaXNwb3NlKClcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBIRFJKUEdMb2FkZXIocmVuZGVyZXIpXG4gICAgICAgICAqIGNvbnN0IHBtcmVtR2VuZXJhdG9yID0gbmV3IFBNUkVNR2VuZXJhdG9yKCByZW5kZXJlciApO1xuICAgICAgICAgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBsb2FkZXIubG9hZEFzeW5jKCdnYWlubWFwLmpwZWcnKVxuICAgICAgICAgKiBjb25zdCBlbnZNYXAgPSBwbXJlbUdlbmVyYXRvci5mcm9tRXF1aXJlY3Rhbmd1bGFyKHJlc3VsdC5yZW5kZXJUYXJnZXQudGV4dHVyZSlcbiAgICAgICAgICogY29uc3QgbWVzaCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBlbnZNYXAgfSkgKVxuICAgICAgICAgKiAvLyByZW5kZXJUYXJnZXQgY2FuIGJlIGRpc3Bvc2VkIGhlcmVcbiAgICAgICAgICogLy8gYmVjYXVzZSBpdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSBhIFBNUkVNIHRleHR1cmVcbiAgICAgICAgICogcmVzdWx0LmRpc3Bvc2UodHJ1ZSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwb3NlKGRpc3Bvc2VSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZU9uRGVtYW5kUmVuZGVyZXIoKTtcbiAgICAgICAgICAgIGlmIChkaXNwb3NlUmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGlzcG9zZSBzaGFkZXIgbWF0ZXJpYWwgdGV4dHVyZSB1bmlmb3Jtc1xuICAgICAgICAgICAgaWYgKHRoaXMubWF0ZXJpYWwgaW5zdGFuY2VvZiB0aHJlZS5TaGFkZXJNYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5tYXRlcmlhbC51bmlmb3JtcykuZm9yRWFjaCh2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYudmFsdWUgaW5zdGFuY2VvZiB0aHJlZS5UZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdi52YWx1ZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkaXNwb3NlIG90aGVyIG1hdGVyaWFsIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5tYXRlcmlhbCkuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhyZWUuVGV4dHVyZSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3F1YWQuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaWR0aCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHdpZHRoKCkgeyByZXR1cm4gdGhpcy5fd2lkdGg7IH1cbiAgICAgICAgc2V0IHdpZHRoKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGFyZ2V0LnNldFNpemUodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhlaWdodCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMuX2hlaWdodDsgfVxuICAgICAgICBzZXQgaGVpZ2h0KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcmdldC5zZXRTaXplKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdXNlZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHJlbmRlcmVyKCkgeyByZXR1cm4gdGhpcy5fcmVuZGVyZXI7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgV2ViR0xSZW5kZXJUYXJnZXRgIHVzZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgcmVuZGVyVGFyZ2V0KCkgeyByZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0OyB9XG4gICAgICAgIHNldCByZW5kZXJUYXJnZXQodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlLmhlaWdodDtcbiAgICAgICAgICAgIC8vIHRoaXMuX3R5cGUgPSB2YWx1ZS50ZXh0dXJlLnR5cGVcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBNYXRlcmlhbGAgdXNlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldCBtYXRlcmlhbCgpIHsgcmV0dXJuIHRoaXMuX21hdGVyaWFsOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLl90eXBlOyB9XG4gICAgICAgIGdldCBjb2xvclNwYWNlKCkgeyByZXR1cm4gdGhpcy5fY29sb3JTcGFjZTsgfVxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IC8qIGdsc2wgKi8gYFxudmFyeWluZyB2ZWMyIHZVdjtcblxudm9pZCBtYWluKCkge1xuICB2VXYgPSB1djtcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcbn1cbmA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSAvKiBnbHNsICovIGBcbi8vIG1pbiBoYWxmIGZsb2F0IHZhbHVlXG4jZGVmaW5lIEhBTEZfRkxPQVRfTUlOIHZlYzMoIC02NTUwNCwgLTY1NTA0LCAtNjU1MDQgKVxuLy8gbWF4IGhhbGYgZmxvYXQgdmFsdWVcbiNkZWZpbmUgSEFMRl9GTE9BVF9NQVggdmVjMyggNjU1MDQsIDY1NTA0LCA2NTUwNCApXG5cbnVuaWZvcm0gc2FtcGxlcjJEIHNkcjtcbnVuaWZvcm0gc2FtcGxlcjJEIGdhaW5NYXA7XG51bmlmb3JtIHZlYzMgZ2FtbWE7XG51bmlmb3JtIHZlYzMgb2Zmc2V0SGRyO1xudW5pZm9ybSB2ZWMzIG9mZnNldFNkcjtcbnVuaWZvcm0gdmVjMyBnYWluTWFwTWluO1xudW5pZm9ybSB2ZWMzIGdhaW5NYXBNYXg7XG51bmlmb3JtIGZsb2F0IHdlaWdodEZhY3RvcjtcblxudmFyeWluZyB2ZWMyIHZVdjtcblxudm9pZCBtYWluKCkge1xuICB2ZWMzIHJnYiA9IHRleHR1cmUyRCggc2RyLCB2VXYgKS5yZ2I7XG4gIHZlYzMgcmVjb3ZlcnkgPSB0ZXh0dXJlMkQoIGdhaW5NYXAsIHZVdiApLnJnYjtcbiAgdmVjMyBsb2dSZWNvdmVyeSA9IHBvdyggcmVjb3ZlcnksIGdhbW1hICk7XG4gIHZlYzMgbG9nQm9vc3QgPSBnYWluTWFwTWluICogKCAxLjAgLSBsb2dSZWNvdmVyeSApICsgZ2Fpbk1hcE1heCAqIGxvZ1JlY292ZXJ5O1xuICB2ZWMzIGhkckNvbG9yID0gKHJnYiArIG9mZnNldFNkcikgKiBleHAyKCBsb2dCb29zdCAqIHdlaWdodEZhY3RvciApIC0gb2Zmc2V0SGRyO1xuICB2ZWMzIGNsYW1wZWRIZHJDb2xvciA9IG1heCggSEFMRl9GTE9BVF9NSU4sIG1pbiggSEFMRl9GTE9BVF9NQVgsIGhkckNvbG9yICkpO1xuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KCBjbGFtcGVkSGRyQ29sb3IgLCAxLjAgKTtcbn1cbmA7XG4gICAgLyoqXG4gICAgICogQSBNYXRlcmlhbCB3aGljaCBpcyBhYmxlIHRvIGRlY29kZSB0aGUgR2Fpbm1hcCBpbnRvIGEgZnVsbCBIRFIgUmVwcmVzZW50YXRpb25cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSBNYXRlcmlhbHNcbiAgICAgKiBAZ3JvdXAgTWF0ZXJpYWxzXG4gICAgICovXG4gICAgY2xhc3MgR2Fpbk1hcERlY29kZXJNYXRlcmlhbCBleHRlbmRzIHRocmVlLlNoYWRlck1hdGVyaWFsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHsgZ2FtbWEsIG9mZnNldEhkciwgb2Zmc2V0U2RyLCBnYWluTWFwTWluLCBnYWluTWFwTWF4LCBtYXhEaXNwbGF5Qm9vc3QsIGhkckNhcGFjaXR5TWluLCBoZHJDYXBhY2l0eU1heCwgc2RyLCBnYWluTWFwIH0pIHtcbiAgICAgICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnR2Fpbk1hcERlY29kZXJNYXRlcmlhbCcsXG4gICAgICAgICAgICAgICAgdmVydGV4U2hhZGVyLFxuICAgICAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyLFxuICAgICAgICAgICAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHNkcjogeyB2YWx1ZTogc2RyIH0sXG4gICAgICAgICAgICAgICAgICAgIGdhaW5NYXA6IHsgdmFsdWU6IGdhaW5NYXAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2FtbWE6IHsgdmFsdWU6IG5ldyB0aHJlZS5WZWN0b3IzKDEuMCAvIGdhbW1hWzBdLCAxLjAgLyBnYW1tYVsxXSwgMS4wIC8gZ2FtbWFbMl0pIH0sXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldEhkcjogeyB2YWx1ZTogbmV3IHRocmVlLlZlY3RvcjMoKS5mcm9tQXJyYXkob2Zmc2V0SGRyKSB9LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRTZHI6IHsgdmFsdWU6IG5ldyB0aHJlZS5WZWN0b3IzKCkuZnJvbUFycmF5KG9mZnNldFNkcikgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2Fpbk1hcE1pbjogeyB2YWx1ZTogbmV3IHRocmVlLlZlY3RvcjMoKS5mcm9tQXJyYXkoZ2Fpbk1hcE1pbikgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2Fpbk1hcE1heDogeyB2YWx1ZTogbmV3IHRocmVlLlZlY3RvcjMoKS5mcm9tQXJyYXkoZ2Fpbk1hcE1heCkgfSxcbiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0RmFjdG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKE1hdGgubG9nMihtYXhEaXNwbGF5Qm9vc3QpIC0gaGRyQ2FwYWNpdHlNaW4pIC8gKGhkckNhcGFjaXR5TWF4IC0gaGRyQ2FwYWNpdHlNaW4pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJsZW5kaW5nOiB0aHJlZS5Ob0JsZW5kaW5nLFxuICAgICAgICAgICAgICAgIGRlcHRoVGVzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGVwdGhXcml0ZTogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbWF4RGlzcGxheUJvb3N0ID0gbWF4RGlzcGxheUJvb3N0O1xuICAgICAgICAgICAgdGhpcy5faGRyQ2FwYWNpdHlNaW4gPSBoZHJDYXBhY2l0eU1pbjtcbiAgICAgICAgICAgIHRoaXMuX2hkckNhcGFjaXR5TWF4ID0gaGRyQ2FwYWNpdHlNYXg7XG4gICAgICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgc2RyKCkgeyByZXR1cm4gdGhpcy51bmlmb3Jtcy5zZHIudmFsdWU7IH1cbiAgICAgICAgc2V0IHNkcih2YWx1ZSkgeyB0aGlzLnVuaWZvcm1zLnNkci52YWx1ZSA9IHZhbHVlOyB9XG4gICAgICAgIGdldCBnYWluTWFwKCkgeyByZXR1cm4gdGhpcy51bmlmb3Jtcy5nYWluTWFwLnZhbHVlOyB9XG4gICAgICAgIHNldCBnYWluTWFwKHZhbHVlKSB7IHRoaXMudW5pZm9ybXMuZ2Fpbk1hcC52YWx1ZSA9IHZhbHVlOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc2VlIHtAbGluayBHYWluTWFwTWV0YWRhdGEub2Zmc2V0SGRyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IG9mZnNldEhkcigpIHsgcmV0dXJuIHRoaXMudW5pZm9ybXMub2Zmc2V0SGRyLnZhbHVlLnRvQXJyYXkoKTsgfVxuICAgICAgICBzZXQgb2Zmc2V0SGRyKHZhbHVlKSB7IHRoaXMudW5pZm9ybXMub2Zmc2V0SGRyLnZhbHVlLmZyb21BcnJheSh2YWx1ZSk7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzZWUge0BsaW5rIEdhaW5NYXBNZXRhZGF0YS5vZmZzZXRTZHJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQgb2Zmc2V0U2RyKCkgeyByZXR1cm4gdGhpcy51bmlmb3Jtcy5vZmZzZXRTZHIudmFsdWUudG9BcnJheSgpOyB9XG4gICAgICAgIHNldCBvZmZzZXRTZHIodmFsdWUpIHsgdGhpcy51bmlmb3Jtcy5vZmZzZXRTZHIudmFsdWUuZnJvbUFycmF5KHZhbHVlKTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgR2Fpbk1hcE1ldGFkYXRhLmdhaW5NYXBNaW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQgZ2Fpbk1hcE1pbigpIHsgcmV0dXJuIHRoaXMudW5pZm9ybXMuZ2Fpbk1hcE1pbi52YWx1ZS50b0FycmF5KCk7IH1cbiAgICAgICAgc2V0IGdhaW5NYXBNaW4odmFsdWUpIHsgdGhpcy51bmlmb3Jtcy5nYWluTWFwTWluLnZhbHVlLmZyb21BcnJheSh2YWx1ZSk7IH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBzZWUge0BsaW5rIEdhaW5NYXBNZXRhZGF0YS5nYWluTWFwTWF4fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGdhaW5NYXBNYXgoKSB7IHJldHVybiB0aGlzLnVuaWZvcm1zLmdhaW5NYXBNYXgudmFsdWUudG9BcnJheSgpOyB9XG4gICAgICAgIHNldCBnYWluTWFwTWF4KHZhbHVlKSB7IHRoaXMudW5pZm9ybXMuZ2Fpbk1hcE1heC52YWx1ZS5mcm9tQXJyYXkodmFsdWUpOyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAc2VlIHtAbGluayBHYWluTWFwTWV0YWRhdGEuZ2FtbWF9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQgZ2FtbWEoKSB7XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy51bmlmb3Jtcy5nYW1tYS52YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBbMSAvIGcueCwgMSAvIGcueSwgMSAvIGcuel07XG4gICAgICAgIH1cbiAgICAgICAgc2V0IGdhbW1hKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBnID0gdGhpcy51bmlmb3Jtcy5nYW1tYS52YWx1ZTtcbiAgICAgICAgICAgIGcueCA9IDEuMCAvIHZhbHVlWzBdO1xuICAgICAgICAgICAgZy55ID0gMS4wIC8gdmFsdWVbMV07XG4gICAgICAgICAgICBnLnogPSAxLjAgLyB2YWx1ZVsyXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgR2Fpbk1hcE1ldGFkYXRhLmhkckNhcGFjaXR5TWlufVxuICAgICAgICAgKiBAcmVtYXJrcyBMb2dhcml0aG1pYyBzcGFjZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGhkckNhcGFjaXR5TWluKCkgeyByZXR1cm4gdGhpcy5faGRyQ2FwYWNpdHlNaW47IH1cbiAgICAgICAgc2V0IGhkckNhcGFjaXR5TWluKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZHJDYXBhY2l0eU1pbiA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVXZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgR2Fpbk1hcE1ldGFkYXRhLmhkckNhcGFjaXR5TWlufVxuICAgICAgICAgKiBAcmVtYXJrcyBMb2dhcml0aG1pYyBzcGFjZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IGhkckNhcGFjaXR5TWF4KCkgeyByZXR1cm4gdGhpcy5faGRyQ2FwYWNpdHlNYXg7IH1cbiAgICAgICAgc2V0IGhkckNhcGFjaXR5TWF4KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZHJDYXBhY2l0eU1heCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVXZWlnaHQoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgR2Fpbm1hcERlY29kaW5nUGFyYW1ldGVycy5tYXhEaXNwbGF5Qm9vc3R9XG4gICAgICAgICAqIEByZW1hcmtzIE5vbiBMb2dhcml0aG1pYyBzcGFjZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0IG1heERpc3BsYXlCb29zdCgpIHsgcmV0dXJuIHRoaXMuX21heERpc3BsYXlCb29zdDsgfVxuICAgICAgICBzZXQgbWF4RGlzcGxheUJvb3N0KHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXhEaXNwbGF5Qm9vc3QgPSBNYXRoLm1heCgxLCBNYXRoLm1pbig2NTUwNCwgdmFsdWUpKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlV2VpZ2h0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsY3VsYXRlV2VpZ2h0KCkge1xuICAgICAgICAgICAgY29uc3QgdmFsID0gKE1hdGgubG9nMih0aGlzLl9tYXhEaXNwbGF5Qm9vc3QpIC0gdGhpcy5faGRyQ2FwYWNpdHlNaW4pIC8gKHRoaXMuX2hkckNhcGFjaXR5TWF4IC0gdGhpcy5faGRyQ2FwYWNpdHlNaW4pO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy53ZWlnaHRGYWN0b3IudmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB2YWwpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYSBnYWluIG1hcCB1c2luZyBhIFdlYkdMUmVuZGVyVGFyZ2V0XG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgRGVjb2RpbmcgRnVuY3Rpb25zXG4gICAgICogQGdyb3VwIERlY29kaW5nIEZ1bmN0aW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogaW1wb3J0IHsgZGVjb2RlIH0gZnJvbSAnQG1vbm9ncmlkL2dhaW5tYXAtanMnXG4gICAgICogaW1wb3J0IHtcbiAgICAgKiAgIE1lc2gsXG4gICAgICogICBNZXNoQmFzaWNNYXRlcmlhbCxcbiAgICAgKiAgIFBlcnNwZWN0aXZlQ2FtZXJhLFxuICAgICAqICAgUGxhbmVHZW9tZXRyeSxcbiAgICAgKiAgIFNjZW5lLFxuICAgICAqICAgVGV4dHVyZUxvYWRlcixcbiAgICAgKiAgIFdlYkdMUmVuZGVyZXJcbiAgICAgKiB9IGZyb20gJ3RocmVlJ1xuICAgICAqXG4gICAgICogY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcigpXG4gICAgICpcbiAgICAgKiBjb25zdCB0ZXh0dXJlTG9hZGVyID0gbmV3IFRleHR1cmVMb2FkZXIoKVxuICAgICAqXG4gICAgICogLy8gbG9hZCBTRFIgUmVwcmVzZW50YXRpb25cbiAgICAgKiBjb25zdCBzZHIgPSBhd2FpdCB0ZXh0dXJlTG9hZGVyLmxvYWRBc3luYygnc2RyLmpwZycpXG4gICAgICogLy8gbG9hZCBHYWluIG1hcCByZWNvdmVyeSBpbWFnZVxuICAgICAqIGNvbnN0IGdhaW5NYXAgPSBhd2FpdCB0ZXh0dXJlTG9hZGVyLmxvYWRBc3luYygnZ2Fpbm1hcC5qcGcnKVxuICAgICAqIC8vIGxvYWQgbWV0YWRhdGFcbiAgICAgKiBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IChhd2FpdCBmZXRjaCgnbWV0YWRhdGEuanNvbicpKS5qc29uKClcbiAgICAgKlxuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlY29kZSh7XG4gICAgICogICBzZHIsXG4gICAgICogICBnYWluTWFwLFxuICAgICAqICAgLy8gdGhpcyBhbGxvd3MgdG8gdXNlIGByZXN1bHQucmVuZGVyVGFyZ2V0LnRleHR1cmVgIGRpcmVjdGx5XG4gICAgICogICByZW5kZXJlcixcbiAgICAgKiAgIC8vIHRoaXMgd2lsbCByZXN0b3JlIHRoZSBmdWxsIEhEUiByYW5nZVxuICAgICAqICAgbWF4RGlzcGxheUJvb3N0OiBNYXRoLnBvdygyLCBtZXRhZGF0YS5oZHJDYXBhY2l0eU1heCksXG4gICAgICogICAuLi5tZXRhZGF0YVxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBjb25zdCBzY2VuZSA9IG5ldyBTY2VuZSgpXG4gICAgICogLy8gYHJlc3VsdGAgY2FuIGJlIHVzZWQgdG8gcG9wdWxhdGUgYSBUZXh0dXJlXG4gICAgICogY29uc3QgbWVzaCA9IG5ldyBNZXNoKFxuICAgICAqICAgbmV3IFBsYW5lR2VvbWV0cnkoKSxcbiAgICAgKiAgIG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7IG1hcDogcmVzdWx0LnJlbmRlclRhcmdldC50ZXh0dXJlIH0pXG4gICAgICogKVxuICAgICAqIHNjZW5lLmFkZChtZXNoKVxuICAgICAqIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKCkpXG4gICAgICpcbiAgICAgKiAvLyByZXN1bHQgbXVzdCBiZSBtYW51YWxseSBkaXNwb3NlZFxuICAgICAqIC8vIHdoZW4geW91IGFyZSBkb25lIHVzaW5nIGl0XG4gICAgICogcmVzdWx0LmRpc3Bvc2UoKVxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqIEByZXR1cm5zXG4gICAgICogQHRocm93cyB7RXJyb3J9IGlmIHRoZSBXZWJHTFJlbmRlcmVyIGZhaWxzIHRvIHJlbmRlciB0aGUgZ2FpbiBtYXBcbiAgICAgKi9cbiAgICBjb25zdCBkZWNvZGUgPSAocGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc2RyLCBnYWluTWFwLCByZW5kZXJlciB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoc2RyLmNvbG9yU3BhY2UgIT09IHRocmVlLlNSR0JDb2xvclNwYWNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NEUiBDb2xvcnNwYWNlIG5lZWRzIHRvIGJlICpTUkdCQ29sb3JTcGFjZSosIHNldHRpbmcgaXQgYXV0b21hdGljYWxseScpO1xuICAgICAgICAgICAgc2RyLmNvbG9yU3BhY2UgPSB0aHJlZS5TUkdCQ29sb3JTcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBzZHIubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICBpZiAoZ2Fpbk1hcC5jb2xvclNwYWNlICE9PSB0aHJlZS5MaW5lYXJTUkdCQ29sb3JTcGFjZSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdHYWlubWFwIENvbG9yc3BhY2UgbmVlZHMgdG8gYmUgKkxpbmVhclNSR0JDb2xvclNwYWNlKiwgc2V0dGluZyBpdCBhdXRvbWF0aWNhbGx5Jyk7XG4gICAgICAgICAgICBnYWluTWFwLmNvbG9yU3BhY2UgPSB0aHJlZS5MaW5lYXJTUkdCQ29sb3JTcGFjZTtcbiAgICAgICAgfVxuICAgICAgICBnYWluTWFwLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgR2Fpbk1hcERlY29kZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBzZHIsXG4gICAgICAgICAgICBnYWluTWFwXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBxdWFkUmVuZGVyZXIgPSBuZXcgUXVhZFJlbmRlcmVyKHtcbiAgICAgICAgICAgIC8vIFRPRE86IHRocmVlIHR5cGVzIGFyZSBnZW5lcmljLCBlc2xpbnQgY29tcGxhaW5zIGhlcmUsIHNlZSBob3cgd2UgY2FuIHNvbHZlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgIHdpZHRoOiBzZHIuaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgICAvLyBUT0RPOiB0aHJlZSB0eXBlcyBhcmUgZ2VuZXJpYywgZXNsaW50IGNvbXBsYWlucyBoZXJlLCBzZWUgaG93IHdlIGNhbiBzb2x2ZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICBoZWlnaHQ6IHNkci5pbWFnZS5oZWlnaHQsXG4gICAgICAgICAgICB0eXBlOiB0aHJlZS5IYWxmRmxvYXRUeXBlLFxuICAgICAgICAgICAgY29sb3JTcGFjZTogdGhyZWUuTGluZWFyU1JHQkNvbG9yU3BhY2UsXG4gICAgICAgICAgICBtYXRlcmlhbCxcbiAgICAgICAgICAgIHJlbmRlcmVyLFxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0T3B0aW9uczogcGFyYW1zLnJlbmRlclRhcmdldE9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci5kaXNwb3NlT25EZW1hbmRSZW5kZXJlcigpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVhZFJlbmRlcmVyO1xuICAgIH07XG5cbiAgICBjbGFzcyBHYWluTWFwTm90Rm91bmRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB9XG5cbiAgICBjbGFzcyBYTVBNZXRhZGF0YU5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgfVxuXG4gICAgY29uc3QgZ2V0WE1MVmFsdWUgPSAoeG1sLCB0YWcsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgICAgICAvLyBDaGVjayBmb3IgYXR0cmlidXRlIGZvcm1hdCBmaXJzdDogdGFnPVwidmFsdWVcIlxuICAgICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IG5ldyBSZWdFeHAoYCR7dGFnfT1cIihbXlwiXSopXCJgLCAnaScpLmV4ZWMoeG1sKTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZU1hdGNoWzFdO1xuICAgICAgICAvLyBDaGVjayBmb3IgdGFnIGZvcm1hdDogPHRhZz52YWx1ZTwvdGFnPiBvciA8dGFnPjxyZGY6bGk+dmFsdWU8L3JkZjpsaT4uLi48L3RhZz5cbiAgICAgICAgY29uc3QgdGFnTWF0Y2ggPSBuZXcgUmVnRXhwKGA8JHt0YWd9W14+XSo+KFtcXFxcc1xcXFxTXSo/KTwvJHt0YWd9PmAsICdpJykuZXhlYyh4bWwpO1xuICAgICAgICBpZiAodGFnTWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0IGNvbnRhaW5zIHJkZjpsaSBlbGVtZW50c1xuICAgICAgICAgICAgY29uc3QgbGlWYWx1ZXMgPSB0YWdNYXRjaFsxXS5tYXRjaCgvPHJkZjpsaT4oW148XSopPFxcL3JkZjpsaT4vZyk7XG4gICAgICAgICAgICBpZiAobGlWYWx1ZXMgJiYgbGlWYWx1ZXMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpVmFsdWVzLm1hcCh2ID0+IHYucmVwbGFjZSgvPFxcLz9yZGY6bGk+L2csICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFnTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZmluZCAke3RhZ30gaW4gZ2Fpbm1hcCBtZXRhZGF0YWApO1xuICAgIH07XG4gICAgY29uc3QgZXh0cmFjdFhNUCA9IChpbnB1dCkgPT4ge1xuICAgICAgICBsZXQgc3RyO1xuICAgICAgICAvLyBzdXBwb3J0IG5vZGUgdGVzdCBlbnZpcm9ubWVudFxuICAgICAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHN0ciA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShpbnB1dCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0ciA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgICAgIGxldCBzdGFydCA9IHN0ci5pbmRleE9mKCc8eDp4bXBtZXRhJyk7XG4gICAgICAgIHdoaWxlIChzdGFydCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0ci5pbmRleE9mKCd4OnhtcG1ldGE+Jywgc3RhcnQpO1xuICAgICAgICAgICAgY29uc3QgeG1wQmxvY2sgPSBzdHIuc2xpY2Uoc3RhcnQsIGVuZCArIDEwKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2Fpbk1hcE1pbiA9IGdldFhNTFZhbHVlKHhtcEJsb2NrLCAnaGRyZ206R2Fpbk1hcE1pbicsICcwJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2Fpbk1hcE1heCA9IGdldFhNTFZhbHVlKHhtcEJsb2NrLCAnaGRyZ206R2Fpbk1hcE1heCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdhbW1hID0gZ2V0WE1MVmFsdWUoeG1wQmxvY2ssICdoZHJnbTpHYW1tYScsICcxJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0U0RSID0gZ2V0WE1MVmFsdWUoeG1wQmxvY2ssICdoZHJnbTpPZmZzZXRTRFInLCAnMC4wMTU2MjUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRIRFIgPSBnZXRYTUxWYWx1ZSh4bXBCbG9jaywgJ2hkcmdtOk9mZnNldEhEUicsICcwLjAxNTYyNScpO1xuICAgICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSBhbHdheXMgYXR0cmlidXRlcywgc28gd2UgY2FuIHVzZSBhIHNpbXBsZXIgcmVnZXhcbiAgICAgICAgICAgICAgICBjb25zdCBoZHJDYXBhY2l0eU1pbk1hdGNoID0gL2hkcmdtOkhEUkNhcGFjaXR5TWluPVwiKFteXCJdKilcIi8uZXhlYyh4bXBCbG9jayk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGRyQ2FwYWNpdHlNaW4gPSBoZHJDYXBhY2l0eU1pbk1hdGNoID8gaGRyQ2FwYWNpdHlNaW5NYXRjaFsxXSA6ICcwJztcbiAgICAgICAgICAgICAgICBjb25zdCBoZHJDYXBhY2l0eU1heE1hdGNoID0gL2hkcmdtOkhEUkNhcGFjaXR5TWF4PVwiKFteXCJdKilcIi8uZXhlYyh4bXBCbG9jayk7XG4gICAgICAgICAgICAgICAgaWYgKCFoZHJDYXBhY2l0eU1heE1hdGNoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29tcGxldGUgZ2Fpbm1hcCBtZXRhZGF0YScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhkckNhcGFjaXR5TWF4ID0gaGRyQ2FwYWNpdHlNYXhNYXRjaFsxXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBnYWluTWFwTWluOiBBcnJheS5pc0FycmF5KGdhaW5NYXBNaW4pID8gZ2Fpbk1hcE1pbi5tYXAodiA9PiBwYXJzZUZsb2F0KHYpKSA6IFtwYXJzZUZsb2F0KGdhaW5NYXBNaW4pLCBwYXJzZUZsb2F0KGdhaW5NYXBNaW4pLCBwYXJzZUZsb2F0KGdhaW5NYXBNaW4pXSxcbiAgICAgICAgICAgICAgICAgICAgZ2Fpbk1hcE1heDogQXJyYXkuaXNBcnJheShnYWluTWFwTWF4KSA/IGdhaW5NYXBNYXgubWFwKHYgPT4gcGFyc2VGbG9hdCh2KSkgOiBbcGFyc2VGbG9hdChnYWluTWFwTWF4KSwgcGFyc2VGbG9hdChnYWluTWFwTWF4KSwgcGFyc2VGbG9hdChnYWluTWFwTWF4KV0sXG4gICAgICAgICAgICAgICAgICAgIGdhbW1hOiBBcnJheS5pc0FycmF5KGdhbW1hKSA/IGdhbW1hLm1hcCh2ID0+IHBhcnNlRmxvYXQodikpIDogW3BhcnNlRmxvYXQoZ2FtbWEpLCBwYXJzZUZsb2F0KGdhbW1hKSwgcGFyc2VGbG9hdChnYW1tYSldLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRTZHI6IEFycmF5LmlzQXJyYXkob2Zmc2V0U0RSKSA/IG9mZnNldFNEUi5tYXAodiA9PiBwYXJzZUZsb2F0KHYpKSA6IFtwYXJzZUZsb2F0KG9mZnNldFNEUiksIHBhcnNlRmxvYXQob2Zmc2V0U0RSKSwgcGFyc2VGbG9hdChvZmZzZXRTRFIpXSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0SGRyOiBBcnJheS5pc0FycmF5KG9mZnNldEhEUikgPyBvZmZzZXRIRFIubWFwKHYgPT4gcGFyc2VGbG9hdCh2KSkgOiBbcGFyc2VGbG9hdChvZmZzZXRIRFIpLCBwYXJzZUZsb2F0KG9mZnNldEhEUiksIHBhcnNlRmxvYXQob2Zmc2V0SERSKV0sXG4gICAgICAgICAgICAgICAgICAgIGhkckNhcGFjaXR5TWluOiBwYXJzZUZsb2F0KGhkckNhcGFjaXR5TWluKSxcbiAgICAgICAgICAgICAgICAgICAgaGRyQ2FwYWNpdHlNYXg6IHBhcnNlRmxvYXQoaGRyQ2FwYWNpdHlNYXgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29udGludWUgc2VhcmNoaW5nIGZvciBhbm90aGVyIHhtcG1ldGEgYmxvY2sgaWYgdGhpcyBvbmUgZmFpbHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gc3RyLmluZGV4T2YoJzx4OnhtcG1ldGEnLCBlbmQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1QRiBFeHRyYWN0b3IgKE11bHRpIFBpY3R1cmUgRm9ybWF0IEV4dHJhY3RvcilcbiAgICAgKiBCeSBIZW5yaWsgUyBOaWxzc29uIDIwMTlcbiAgICAgKlxuICAgICAqIEV4dHJhY3RzIGltYWdlcyBzdG9yZWQgaW4gaW1hZ2VzIGJhc2VkIG9uIHRoZSBNUEYgZm9ybWF0IChmb3VuZCBoZXJlOiBodHRwczovL3d3dy5jaXBhLmpwL2Uvc3RkL3N0ZC1zZWMuaHRtbFxuICAgICAqIHVuZGVyIFwiQ0lQQSBEQy0wMDctVHJhbnNsYXRpb24tMjAyMSBNdWx0aS1QaWN0dXJlIEZvcm1hdFwiXG4gICAgICpcbiAgICAgKiBPdmVybHkgY29tbWVudGVkLCBhbmQgd2l0aG91dCBpbnRlbnRpb24gb2YgYmVpbmcgY29tcGxldGUgb3IgcHJvZHVjdGlvbiByZWFkeS5cbiAgICAgKiBDcmVhdGVkIHRvIGV4dHJhY3QgZGVwdGggbWFwcyBmcm9tIGlQaG9uZSBpbWFnZXMsIGFuZCB0byBsZWFybiBhYm91dCBpbWFnZSBtZXRhZGF0YS5cbiAgICAgKiBLdWRvcyB0bzogUGhpbCBIYXJ2ZXkgKGV4aWZ0b29sKSwgSmF1bWUgU2FuY2hleiAoYW5kcm9pZC1sZW5zLWJsdXItZGVwdGgtZXh0cmFjdG9yKVxuICAgICAqL1xuICAgIGNsYXNzIE1QRkV4dHJhY3RvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBkZWJ1Zzogb3B0aW9ucyAmJiBvcHRpb25zLmRlYnVnICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmRlYnVnIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXh0cmFjdEZJSTogb3B0aW9ucyAmJiBvcHRpb25zLmV4dHJhY3RGSUkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZXh0cmFjdEZJSSA6IHRydWUsXG4gICAgICAgICAgICAgICAgZXh0cmFjdE5vbkZJSTogb3B0aW9ucyAmJiBvcHRpb25zLmV4dHJhY3ROb25GSUkgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZXh0cmFjdE5vbkZJSSA6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZXh0cmFjdChpbWFnZUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlYnVnID0gdGhpcy5vcHRpb25zLmRlYnVnO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGltYWdlQXJyYXlCdWZmZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UncmUgZXhlY3V0aW5nIHRoaXMgbGluZSBvbiBhIGJpZyBlbmRpYW4gbWFjaGluZSwgaXQnbGwgYmUgcmV2ZXJzZWQuXG4gICAgICAgICAgICAgICAgLy8gYmlnRW5kIGZ1cnRoZXIgZG93biB0aG91Z2gsIHJlZmVycyB0byB0aGUgZW5kaWFubmVzcyBvZiB0aGUgaW1hZ2UgaXRzZWxmLlxuICAgICAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYoMCkgIT09IDB4ZmZkOCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdOb3QgYSB2YWxpZCBqcGVnJykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGFWaWV3LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDI7XG4gICAgICAgICAgICAgICAgbGV0IGxvb3BzID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgbWFya2VyOyAvLyBBUFAjIG1hcmtlclxuICAgICAgICAgICAgICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCsrbG9vcHMgPiAyNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZvdW5kIG5vIG1hcmtlciBhZnRlciAke2xvb3BzfSBsb29wcyDwn5i1YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpICE9PSAweGZmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBOb3QgYSB2YWxpZCBtYXJrZXIgYXQgb2Zmc2V0IDB4JHtvZmZzZXQudG9TdHJpbmcoMTYpfSwgZm91bmQ6IDB4JHtkYXRhVmlldy5nZXRVaW50OChvZmZzZXQpLnRvU3RyaW5nKDE2KX1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFya2VyID0gZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBNYXJrZXI6ICR7bWFya2VyLnRvU3RyaW5nKDE2KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtlciA9PT0gMHhlMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBBUFAyIG1hcmtlciAoMHhmZmUyKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV29ya3MgZm9yIGlQaG9uZSA4IFBsdXMsIFgsIGFuZCBYU01heC4gT3IgYW55IHBob3RvcyBvZiBNUEYgZm9ybWF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JlYXQgd2F5IHRvIHZpc3VhbGl6ZSBpbWFnZSBpbmZvcm1hdGlvbiBpbiBodG1sIGlzIHVzaW5nIEV4aWZ0b29sLiBFLmcuOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gLi9leGlmdG9vbC5leGUgLWh0bWxkdW1wIC13YW50VHJhaWxlciBwaG90by5qcGcgPiBwaG90by5odG1sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXRQdCA9IG9mZnNldCArIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogIFN0cnVjdHVyZSBvZiB0aGUgTVAgRm9ybWF0IElkZW50aWZpZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAgT2Zmc2V0IEFkZHIuICB8IENvZGUgKEhleCkgIHwgRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqICArMDAgICAgICAgICAgICAgZmYgICAgICAgICAgICBNYXJrZXIgUHJlZml4ICAgICAgPC0tIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICswMSAgICAgICAgICAgICBlMiAgICAgICAgICAgIEFQUDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICArMDIgICAgICAgICAgICAgI24gICAgICAgICAgICBBUFAyIEZpZWxkIExlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICswMyAgICAgICAgICAgICAjbiAgICAgICAgICAgIEFQUDIgRmllbGQgTGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiAgKzA0ICAgICAgICAgICAgIDRkICAgICAgICAgICAgJ00nICAgICAgICAgICAgICAgIDwtLSBmb3JtYXRQdFxuICAgICAgICAgICAgICAgICAgICAgICAgICogICswNSAgICAgICAgICAgICA1MCAgICAgICAgICAgICdQJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogICswNiAgICAgICAgICAgICA0NiAgICAgICAgICAgICdGJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogICswNyAgICAgICAgICAgICAwMCAgICAgICAgICAgIE5VTExcbiAgICAgICAgICAgICAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC0tIHRpZmZPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQzMihmb3JtYXRQdCkgPT09IDB4NGQ1MDQ2MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBNUEYgdGFnLCBzbyB3ZSBzdGFydCBkaWcgb3V0IHN1YiBpbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aWZmT2Zmc2V0ID0gZm9ybWF0UHQgKyA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiaWdFbmQ7IC8vIEVuZGlhbm5lc3MgZnJvbSBUSUZGIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlc3QgZm9yIFRJRkYgdmFsaWRpdHkgYW5kIGVuZGlhbm5lc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAweDQ5NDkgYW5kIDB4NEQ0RCAoJ0lJJyBhbmQgJ01NJykgbWFya3MgTGl0dGxlIEVuZGlhbiBhbmQgQmlnIEVuZGlhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCkgPT09IDB4NDk0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaWdFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVZpZXcuZ2V0VWludDE2KHRpZmZPZmZzZXQpID09PSAweDRkNGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmlnRW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHZhbGlkIGVuZGlhbm5lc3MgbWFya2VyIGZvdW5kIGluIFRJRkYgaGVhZGVyJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYodGlmZk9mZnNldCArIDIsICFiaWdFbmQpICE9PSAweDAwMmEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm90IHZhbGlkIFRJRkYgZGF0YSEgKG5vIDB4MDAyQSBtYXJrZXIpJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMyIGJpdCBudW1iZXIgc3RhdGluZyB0aGUgb2Zmc2V0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSA4IEJ5dGUgTVAgSGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gTVAgSW5kZXggSUZEIExlYXN0IHBvc3NpYmxlIHZhbHVlIGlzIHRodXMgOCAobWVhbnMgMCBvZmZzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJRkRPZmZzZXQgPSBkYXRhVmlldy5nZXRVaW50MzIodGlmZk9mZnNldCArIDQsICFiaWdFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdElGRE9mZnNldCA8IDB4MDAwMDAwMDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm90IHZhbGlkIFRJRkYgZGF0YSEgKEZpcnN0IG9mZnNldCBsZXNzIHRoYW4gOCknKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBhaGVhZCB0byBNUCBJbmRleCBJRkRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgd2UncmUgYXQgdGhlIGZpcnN0IElGRCwgc28gZmlyc3RJRkRPZmZzZXQgcG9pbnRzIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTVAgSW5kZXggSUZEIGFuZCBub3QgTVAgQXR0cmlidXRlcyBJRkQuIChJZiB3ZSB0cnkgZXh0cmFjdCBmcm9tIGEgc3ViIGltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGZhaWwgc2lsZW50bHkgaGVyZSBkdWUgdG8gdGhpcyBhc3N1bXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50ICgyIEJ5dGUpIHwgTVAgSW5kZXggRmllbGRzIGEuay5hLiBNUCBFbnRyaWVzIChjb3VudCAqIDEyIEJ5dGUpIHwgT2Zmc2V0IG9mIE5leHQgSUZEICg0IEJ5dGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlyU3RhcnQgPSB0aWZmT2Zmc2V0ICsgZmlyc3RJRkRPZmZzZXQ7IC8vIFN0YXJ0IG9mIElGRCAoSW1hZ2UgRmlsZSBEaXJlY3RvcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBkYXRhVmlldy5nZXRVaW50MTYoZGlyU3RhcnQsICFiaWdFbmQpOyAvLyBDb3VudCBvZiBNUEVudHJpZXMgKDIgQnl0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGluZm8gZnJvbSBNUEVudHJpZXMgKHN0YXJ0aW5nIGFmdGVyIENvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJpZXNTdGFydCA9IGRpclN0YXJ0ICsgMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnVtYmVyT2ZJbWFnZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBlbnRyaWVzU3RhcnQ7IGkgPCBlbnRyaWVzU3RhcnQgKyAxMiAqIGNvdW50OyBpICs9IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggZW50cnkgaXMgMTIgQnl0ZXMgbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBNUCBJbmRleCBJRkQgdGFncywgaGVyZSB3ZSBvbmx5IHRha2UgdGFnIDB4YjAwMSA9IE51bWJlciBvZiBpbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNihpLCAhYmlnRW5kKSA9PT0gMHhiMDAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZWQgaW4gTGFzdCA0IGJ5dGVzIG9mIGl0cyAxMiBCeXRlIGVudHJ5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZJbWFnZXMgPSBkYXRhVmlldy5nZXRVaW50MzIoaSArIDgsICFiaWdFbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJRkRPZmZzZXRMZW4gPSA0OyAvLyA0IEJ5dGUgb2Zmc2V0IGZpZWxkIHRoYXQgYXBwZWFycyBhZnRlciBNUCBJbmRleCBJRkQgdGFnc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IE1QSW1hZ2VMaXN0VmFsUHQgPSBkaXJTdGFydCArIDIgKyBjb3VudCAqIDEyICsgbmV4dElGRE9mZnNldExlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gTVBJbWFnZUxpc3RWYWxQdDsgaSA8IE1QSW1hZ2VMaXN0VmFsUHQgKyBudW1iZXJPZkltYWdlcyAqIDE2OyBpICs9IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTVBUeXBlOiBkYXRhVmlldy5nZXRVaW50MzIoaSwgIWJpZ0VuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBkYXRhVmlldy5nZXRVaW50MzIoaSArIDQsICFiaWdFbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBvZmZzZXQgaXMgc3BlY2lmaWVkIHJlbGF0aXZlIHRvIHRoZSBhZGRyZXNzIG9mIHRoZSBNUCBFbmRpYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpZWxkIGluIHRoZSBNUCBIZWFkZXIsIHVubGVzcyB0aGUgaW1hZ2UgaXMgYSBGaXJzdCBJbmRpdmlkdWFsIEltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gd2hpY2ggY2FzZSB0aGUgdmFsdWUgb2YgdGhlIG9mZnNldCBzaGFsbCBiZSBOVUxMICgweDAwMDAwMDAwKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPZmZzZXQ6IGRhdGFWaWV3LmdldFVpbnQzMihpICsgOCwgIWJpZ0VuZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBlbmRhbnRJbWFnZXM6IGRhdGFWaWV3LmdldFVpbnQzMihpICsgMTIsICFiaWdFbmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRklJOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltYWdlLmRhdGFPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRhdGFPZmZzZXQgaXMgMHgwMDAwMDAwMCBmb3IgRmlyc3QgSW5kaXZpZHVhbCBJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuaXNGSUkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3RhcnQgPSB0aWZmT2Zmc2V0ICsgaW1hZ2UuZGF0YU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLmlzRklJID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuZW5kID0gaW1hZ2Uuc3RhcnQgKyBpbWFnZS5zaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXh0cmFjdE5vbkZJSSAmJiBpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlckJsb2IgPSBuZXcgQmxvYihbZGF0YVZpZXddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1ncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGltYWdlIG9mIGltYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmlzRklJICYmICF0aGlzLm9wdGlvbnMuZXh0cmFjdEZJSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIEZJSVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VCbG9iID0gYnVmZmVyQmxvYi5zbGljZShpbWFnZS5zdGFydCwgaW1hZ2UuZW5kICsgMSwgJ2ltYWdlL2pwZWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlQmxvYilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGltYWdlLmltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbWFnZS5pbWcuc3JjID0gaW1hZ2VVcmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ3MucHVzaChpbWFnZUJsb2IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaW1ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAyICsgZGF0YVZpZXcuZ2V0VWludDE2KG9mZnNldCArIDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgWE1QIE1ldGFkYXRhIGFuZCB0aGUgZ2FpbiBtYXAgcmVjb3ZlcnkgaW1hZ2VcbiAgICAgKiBmcm9tIGEgc2luZ2xlIEpQRUcgZmlsZS5cbiAgICAgKlxuICAgICAqIEBjYXRlZ29yeSBEZWNvZGluZyBGdW5jdGlvbnNcbiAgICAgKiBAZ3JvdXAgRGVjb2RpbmcgRnVuY3Rpb25zXG4gICAgICogQHBhcmFtIGpwZWdGaWxlIGFuIGBVaW50OEFycmF5YCBjb250YWluaW5nIGFuZCBlbmNvZGVkIEpQRUcgZmlsZVxuICAgICAqIEByZXR1cm5zIGFuIHNkciBgVWludDhBcnJheWAgY29tcHJlc3NlZCBpbiBKUEVHLCBhIGdhaW5NYXAgYFVpbnQ4QXJyYXlgIGNvbXByZXNzZWQgaW4gSlBFRyBhbmQgdGhlIFhNUCBwYXJzZWQgWE1QIG1ldGFkYXRhXG4gICAgICogQHRocm93cyBFcnJvciBpZiBYTVAgTWV0YWRhdGEgaXMgbm90IGZvdW5kXG4gICAgICogQHRocm93cyBFcnJvciBpZiBHYWluIG1hcCBpbWFnZSBpcyBub3QgZm91bmRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGltcG9ydCB7IEZpbGVMb2FkZXIgfSBmcm9tICd0aHJlZSdcbiAgICAgKiBpbXBvcnQgeyBleHRyYWN0R2Fpbm1hcEZyb21KUEVHIH0gZnJvbSAnQG1vbm9ncmlkL2dhaW5tYXAtanMnXG4gICAgICpcbiAgICAgKiBjb25zdCBqcGVnRmlsZSA9IGF3YWl0IG5ldyBGaWxlTG9hZGVyKClcbiAgICAgKiAgLnNldFJlc3BvbnNlVHlwZSgnYXJyYXlidWZmZXInKVxuICAgICAqICAubG9hZEFzeW5jKCdpbWFnZS5qcGcnKVxuICAgICAqXG4gICAgICogY29uc3QgeyBzZHIsIGdhaW5NYXAsIG1ldGFkYXRhIH0gPSBleHRyYWN0R2Fpbm1hcEZyb21KUEVHKGpwZWdGaWxlKVxuICAgICAqL1xuICAgIGNvbnN0IGV4dHJhY3RHYWlubWFwRnJvbUpQRUcgPSBhc3luYyAoanBlZ0ZpbGUpID0+IHtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBleHRyYWN0WE1QKGpwZWdGaWxlKTtcbiAgICAgICAgaWYgKCFtZXRhZGF0YSlcbiAgICAgICAgICAgIHRocm93IG5ldyBYTVBNZXRhZGF0YU5vdEZvdW5kRXJyb3IoJ0dhaW4gbWFwIFhNUCBtZXRhZGF0YSBub3QgZm91bmQnKTtcbiAgICAgICAgY29uc3QgbXBmRXh0cmFjdG9yID0gbmV3IE1QRkV4dHJhY3Rvcih7IGV4dHJhY3RGSUk6IHRydWUsIGV4dHJhY3ROb25GSUk6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGltYWdlcyA9IGF3YWl0IG1wZkV4dHJhY3Rvci5leHRyYWN0KGpwZWdGaWxlKTtcbiAgICAgICAgaWYgKGltYWdlcy5sZW5ndGggIT09IDIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgR2Fpbk1hcE5vdEZvdW5kRXJyb3IoJ0dhaW4gbWFwIHJlY292ZXJ5IGltYWdlIG5vdCBmb3VuZCcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2RyOiBuZXcgVWludDhBcnJheShhd2FpdCBpbWFnZXNbMF0uYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICBnYWluTWFwOiBuZXcgVWludDhBcnJheShhd2FpdCBpbWFnZXNbMV0uYXJyYXlCdWZmZXIoKSksXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIGZ1bmN0aW9uLCBhc3luYyBnZXQgaW1hZ2UgZnJvbSBibG9iXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmxvYlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgY29uc3QgZ2V0SFRNTEltYWdlRnJvbUJsb2IgPSAoYmxvYikgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4geyByZXNvbHZlKGltZyk7IH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IChlKSA9PiB7IHJlamVjdChlKTsgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2xhc3MgTG9hZGVyQmFzZSBleHRlbmRzIHRocmVlLkxvYWRlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcmVuZGVyZXJcbiAgICAgICAgICogQHBhcmFtIG1hbmFnZXJcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBtYW5hZ2VyKSB7XG4gICAgICAgICAgICBzdXBlcihtYW5hZ2VyKTtcbiAgICAgICAgICAgIGlmIChyZW5kZXJlcilcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxMb2FkaW5nTWFuYWdlciA9IG5ldyB0aHJlZS5Mb2FkaW5nTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZ5IHRoZSByZW5kZXJlciB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGdhaW4gbWFwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSByZW5kZXJlclxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmeSB0aGUgcmVuZGVyVGFyZ2V0IG9wdGlvbnMgdG8gdXNlIHdoZW4gcmVuZGVyaW5nIHRoZSBnYWluIG1hcFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0UmVuZGVyVGFyZ2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKi9cbiAgICAgICAgcHJlcGFyZVF1YWRSZW5kZXJlcigpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVuZGVyZXIpXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBBbiBleGlzdGluZyBXZWJHTCBSZW5kZXJlciB3YXMgbm90IHBhc3NlZCB0byB0aGlzIExvYWRlciBjb25zdHJ1Y3RvciBvciBpbiBzZXRSZW5kZXJlciwgdGhlIHJlc3VsdCBvZiB0aGlzIExvYWRlciB3aWxsIG5lZWQgdG8gYmUgY29udmVydGVkIHRvIGEgRGF0YSBUZXh0dXJlIHdpdGggdG9EYXRhVGV4dHVyZSgpIGJlZm9yZSB5b3UgY2FuIHVzZSBpdCBpbiB5b3VyIHJlbmRlcmVyLicpO1xuICAgICAgICAgICAgLy8gdGVtcG9yYXJ5IHZhbHVlc1xuICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgR2Fpbk1hcERlY29kZXJNYXRlcmlhbCh7XG4gICAgICAgICAgICAgICAgZ2Fpbk1hcE1heDogWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIGdhaW5NYXBNaW46IFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICBnYW1tYTogWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIG9mZnNldEhkcjogWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIG9mZnNldFNkcjogWzEsIDEsIDFdLFxuICAgICAgICAgICAgICAgIGhkckNhcGFjaXR5TWF4OiAxLFxuICAgICAgICAgICAgICAgIGhkckNhcGFjaXR5TWluOiAwLFxuICAgICAgICAgICAgICAgIG1heERpc3BsYXlCb29zdDogMSxcbiAgICAgICAgICAgICAgICBnYWluTWFwOiBuZXcgdGhyZWUuVGV4dHVyZSgpLFxuICAgICAgICAgICAgICAgIHNkcjogbmV3IHRocmVlLlRleHR1cmUoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFF1YWRSZW5kZXJlcih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDE2LFxuICAgICAgICAgICAgICAgIGhlaWdodDogMTYsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhyZWUuSGFsZkZsb2F0VHlwZSxcbiAgICAgICAgICAgICAgICBjb2xvclNwYWNlOiB0aHJlZS5MaW5lYXJTUkdCQ29sb3JTcGFjZSxcbiAgICAgICAgICAgICAgICBtYXRlcmlhbCxcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogdGhpcy5fcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgcmVuZGVyVGFyZ2V0T3B0aW9uczogdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHBhcmFtIHF1YWRSZW5kZXJlclxuICAgICAgICogQHBhcmFtIG1ldGFkYXRhXG4gICAgICAgKiBAcGFyYW0gc2RyQnVmZmVyXG4gICAgICAgKiBAcGFyYW0gZ2Fpbk1hcEJ1ZmZlclxuICAgICAgICovXG4gICAgICAgIGFzeW5jIHJlbmRlcihxdWFkUmVuZGVyZXIsIG1ldGFkYXRhLCBzZHJCdWZmZXIsIGdhaW5NYXBCdWZmZXIpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb3B0aW9uYWwsIHdpbGwgcmVuZGVyIGEgYmxhY2sgZ2Fpbi1tYXAgaWYgbm90IHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IGdhaW5NYXBCbG9iID0gZ2Fpbk1hcEJ1ZmZlciA/IG5ldyBCbG9iKFtnYWluTWFwQnVmZmVyXSwgeyB0eXBlOiAnaW1hZ2UvanBlZycgfSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBzZHJCbG9iID0gbmV3IEJsb2IoW3NkckJ1ZmZlcl0sIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pO1xuICAgICAgICAgICAgbGV0IHNkckltYWdlO1xuICAgICAgICAgICAgbGV0IGdhaW5NYXBJbWFnZTtcbiAgICAgICAgICAgIGxldCBuZWVkc0ZsaXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBnYWluTWFwQmxvYiA/IGdldEhUTUxJbWFnZUZyb21CbG9iKGdhaW5NYXBCbG9iKSA6IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBnZXRIVE1MSW1hZ2VGcm9tQmxvYihzZHJCbG9iKVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGdhaW5NYXBJbWFnZSA9IHJlc1swXTtcbiAgICAgICAgICAgICAgICBzZHJJbWFnZSA9IHJlc1sxXTtcbiAgICAgICAgICAgICAgICBuZWVkc0ZsaXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBnYWluTWFwQmxvYiA/IGNyZWF0ZUltYWdlQml0bWFwKGdhaW5NYXBCbG9iLCB7IGltYWdlT3JpZW50YXRpb246ICdmbGlwWScgfSkgOiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlSW1hZ2VCaXRtYXAoc2RyQmxvYiwgeyBpbWFnZU9yaWVudGF0aW9uOiAnZmxpcFknIH0pXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgZ2Fpbk1hcEltYWdlID0gcmVzWzBdO1xuICAgICAgICAgICAgICAgIHNkckltYWdlID0gcmVzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZ2Fpbk1hcCA9IG5ldyB0aHJlZS5UZXh0dXJlKGdhaW5NYXBJbWFnZSB8fCBuZXcgSW1hZ2VEYXRhKDIsIDIpLCB0aHJlZS5VVk1hcHBpbmcsIHRocmVlLkNsYW1wVG9FZGdlV3JhcHBpbmcsIHRocmVlLkNsYW1wVG9FZGdlV3JhcHBpbmcsIHRocmVlLkxpbmVhckZpbHRlciwgdGhyZWUuTGluZWFyTWlwTWFwTGluZWFyRmlsdGVyLCB0aHJlZS5SR0JBRm9ybWF0LCB0aHJlZS5VbnNpZ25lZEJ5dGVUeXBlLCAxLCB0aHJlZS5MaW5lYXJTUkdCQ29sb3JTcGFjZSk7XG4gICAgICAgICAgICBnYWluTWFwLmZsaXBZID0gbmVlZHNGbGlwO1xuICAgICAgICAgICAgZ2Fpbk1hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBzZHIgPSBuZXcgdGhyZWUuVGV4dHVyZShzZHJJbWFnZSwgdGhyZWUuVVZNYXBwaW5nLCB0aHJlZS5DbGFtcFRvRWRnZVdyYXBwaW5nLCB0aHJlZS5DbGFtcFRvRWRnZVdyYXBwaW5nLCB0aHJlZS5MaW5lYXJGaWx0ZXIsIHRocmVlLkxpbmVhck1pcE1hcExpbmVhckZpbHRlciwgdGhyZWUuUkdCQUZvcm1hdCwgdGhyZWUuVW5zaWduZWRCeXRlVHlwZSwgMSwgdGhyZWUuU1JHQkNvbG9yU3BhY2UpO1xuICAgICAgICAgICAgc2RyLmZsaXBZID0gbmVlZHNGbGlwO1xuICAgICAgICAgICAgc2RyLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci53aWR0aCA9IHNkckltYWdlLndpZHRoO1xuICAgICAgICAgICAgcXVhZFJlbmRlcmVyLmhlaWdodCA9IHNkckltYWdlLmhlaWdodDtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci5tYXRlcmlhbC5nYWluTWFwID0gZ2Fpbk1hcDtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci5tYXRlcmlhbC5zZHIgPSBzZHI7XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIubWF0ZXJpYWwuZ2Fpbk1hcE1pbiA9IG1ldGFkYXRhLmdhaW5NYXBNaW47XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIubWF0ZXJpYWwuZ2Fpbk1hcE1heCA9IG1ldGFkYXRhLmdhaW5NYXBNYXg7XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIubWF0ZXJpYWwub2Zmc2V0SGRyID0gbWV0YWRhdGEub2Zmc2V0SGRyO1xuICAgICAgICAgICAgcXVhZFJlbmRlcmVyLm1hdGVyaWFsLm9mZnNldFNkciA9IG1ldGFkYXRhLm9mZnNldFNkcjtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci5tYXRlcmlhbC5nYW1tYSA9IG1ldGFkYXRhLmdhbW1hO1xuICAgICAgICAgICAgcXVhZFJlbmRlcmVyLm1hdGVyaWFsLmhkckNhcGFjaXR5TWluID0gbWV0YWRhdGEuaGRyQ2FwYWNpdHlNaW47XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIubWF0ZXJpYWwuaGRyQ2FwYWNpdHlNYXggPSBtZXRhZGF0YS5oZHJDYXBhY2l0eU1heDtcbiAgICAgICAgICAgIHF1YWRSZW5kZXJlci5tYXRlcmlhbC5tYXhEaXNwbGF5Qm9vc3QgPSBNYXRoLnBvdygyLCBtZXRhZGF0YS5oZHJDYXBhY2l0eU1heCk7XG4gICAgICAgICAgICBxdWFkUmVuZGVyZXIubWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgcXVhZFJlbmRlcmVyLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBUaHJlZS5qcyBMb2FkZXIgZm9yIHRoZSBnYWluIG1hcCBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBAY2F0ZWdvcnkgTG9hZGVyc1xuICAgICAqIEBncm91cCBMb2FkZXJzXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGltcG9ydCB7IEdhaW5NYXBMb2FkZXIgfSBmcm9tICdAbW9ub2dyaWQvZ2Fpbm1hcC1qcydcbiAgICAgKiBpbXBvcnQge1xuICAgICAqICAgRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmcsXG4gICAgICogICBMaW5lYXJGaWx0ZXIsXG4gICAgICogICBNZXNoLFxuICAgICAqICAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gICAgICogICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgICAgKiAgIFBsYW5lR2VvbWV0cnksXG4gICAgICogICBTY2VuZSxcbiAgICAgKiAgIFdlYkdMUmVuZGVyZXJcbiAgICAgKiB9IGZyb20gJ3RocmVlJ1xuICAgICAqXG4gICAgICogY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcigpXG4gICAgICpcbiAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgR2Fpbk1hcExvYWRlcihyZW5kZXJlcilcbiAgICAgKlxuICAgICAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGxvYWRlci5sb2FkQXN5bmMoWydzZHIuanBlZycsICdnYWlubWFwLmpwZWcnLCAnbWV0YWRhdGEuanNvbiddKVxuICAgICAqIC8vIGByZXN1bHRgIGNhbiBiZSB1c2VkIHRvIHBvcHVsYXRlIGEgVGV4dHVyZVxuICAgICAqXG4gICAgICogY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmUoKVxuICAgICAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChcbiAgICAgKiAgIG5ldyBQbGFuZUdlb21ldHJ5KCksXG4gICAgICogICBuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoeyBtYXA6IHJlc3VsdC5yZW5kZXJUYXJnZXQudGV4dHVyZSB9KVxuICAgICAqIClcbiAgICAgKiBzY2VuZS5hZGQobWVzaClcbiAgICAgKiByZW5kZXJlci5yZW5kZXIoc2NlbmUsIG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSgpKVxuICAgICAqXG4gICAgICogLy8gU3RhcnRpbmcgZnJvbSB0aHJlZS5qcyByMTU5XG4gICAgICogLy8gYHJlc3VsdC5yZW5kZXJUYXJnZXQudGV4dHVyZWAgY2FuXG4gICAgICogLy8gYWxzbyBiZSB1c2VkIGFzIEVxdWlyZWN0YW5ndWxhciBzY2VuZSBiYWNrZ3JvdW5kXG4gICAgICogLy9cbiAgICAgKiAvLyBpdCB3YXMgcHJldmlvdXNseSBuZWVkZWQgdG8gY29udmVydCBpdFxuICAgICAqIC8vIHRvIGEgRGF0YVRleHR1cmUgd2l0aCBgcmVzdWx0LnRvRGF0YVRleHR1cmUoKWBcbiAgICAgKiBzY2VuZS5iYWNrZ3JvdW5kID0gcmVzdWx0LnJlbmRlclRhcmdldC50ZXh0dXJlXG4gICAgICogc2NlbmUuYmFja2dyb3VuZC5tYXBwaW5nID0gRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmdcbiAgICAgKlxuICAgICAqIC8vIHJlc3VsdCBtdXN0IGJlIG1hbnVhbGx5IGRpc3Bvc2VkXG4gICAgICogLy8gd2hlbiB5b3UgYXJlIGRvbmUgdXNpbmcgaXRcbiAgICAgKiByZXN1bHQuZGlzcG9zZSgpXG4gICAgICpcbiAgICAgKi9cbiAgICBjbGFzcyBHYWluTWFwTG9hZGVyIGV4dGVuZHMgTG9hZGVyQmFzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkcyBhIGdhaW5tYXAgdXNpbmcgc2VwYXJhdGUgZGF0YVxuICAgICAgICAgKiAqIHNkciBpbWFnZVxuICAgICAgICAgKiAqIGdhaW4gbWFwIGltYWdlXG4gICAgICAgICAqICogbWV0YWRhdGEganNvblxuICAgICAgICAgKlxuICAgICAgICAgKiB1c2VmdWwgZm9yIHdlYnAgZ2FpbiBtYXBzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1cmxzIEFuIGFycmF5IGluIHRoZSBmb3JtIG9mIFtzZHIuanBnLCBnYWlubWFwLmpwZywgbWV0YWRhdGEuanNvbl1cbiAgICAgICAgICogQHBhcmFtIG9uTG9hZCBMb2FkIGNvbXBsZXRlIGNhbGxiYWNrLCB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdFxuICAgICAgICAgKiBAcGFyYW0gb25Qcm9ncmVzcyBQcm9ncmVzcyBjYWxsYmFjaywgd2lsbCByZWNlaXZlIGEge0BsaW5rIFByb2dyZXNzRXZlbnR9XG4gICAgICAgICAqIEBwYXJhbSBvbkVycm9yIEVycm9yIGNhbGxiYWNrXG4gICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkKFtzZHJVcmwsIGdhaW5NYXBVcmwsIG1ldGFkYXRhVXJsXSwgb25Mb2FkLCBvblByb2dyZXNzLCBvbkVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBxdWFkUmVuZGVyZXIgPSB0aGlzLnByZXBhcmVRdWFkUmVuZGVyZXIoKTtcbiAgICAgICAgICAgIGxldCBzZHI7XG4gICAgICAgICAgICBsZXQgZ2Fpbk1hcDtcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRDaGVjayA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2RyICYmIGdhaW5NYXAgJiYgbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc29sdmVzICMxNlxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIocXVhZFJlbmRlcmVyLCBtZXRhZGF0YSwgc2RyLCBnYWluTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtRXJyb3Ioc2RyVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtRXJyb3IoZ2Fpbk1hcFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbUVycm9yKG1ldGFkYXRhVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25FcnJvciA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWRSZW5kZXJlci5kaXNwb3NlT25EZW1hbmRSZW5kZXJlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25Mb2FkID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Mb2FkKHF1YWRSZW5kZXJlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtRW5kKHNkclVybCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtRW5kKGdhaW5NYXBVcmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbUVuZChtZXRhZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgICAgIHF1YWRSZW5kZXJlci5kaXNwb3NlT25EZW1hbmRSZW5kZXJlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgc2RyTGVuZ3RoQ29tcHV0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICBsZXQgc2RyVG90YWwgPSAwO1xuICAgICAgICAgICAgbGV0IHNkckxvYWRlZCA9IDA7XG4gICAgICAgICAgICBsZXQgZ2Fpbk1hcExlbmd0aENvbXB1dGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IGdhaW5NYXBUb3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgZ2Fpbk1hcExvYWRlZCA9IDA7XG4gICAgICAgICAgICBsZXQgbWV0YWRhdGFMZW5ndGhDb21wdXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YVRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCBtZXRhZGF0YUxvYWRlZCA9IDA7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvblByb2dyZXNzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gc2RyVG90YWwgKyBnYWluTWFwVG90YWwgKyBtZXRhZGF0YVRvdGFsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2FkZWQgPSBzZHJMb2FkZWQgKyBnYWluTWFwTG9hZGVkICsgbWV0YWRhdGFMb2FkZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSBzZHJMZW5ndGhDb21wdXRhYmxlICYmIGdhaW5NYXBMZW5ndGhDb21wdXRhYmxlICYmIG1ldGFkYXRhTGVuZ3RoQ29tcHV0YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgb25Qcm9ncmVzcyhuZXcgUHJvZ3Jlc3NFdmVudCgncHJvZ3Jlc3MnLCB7IGxlbmd0aENvbXB1dGFibGUsIGxvYWRlZCwgdG90YWwgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KHNkclVybCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbVN0YXJ0KGdhaW5NYXBVcmwpO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLml0ZW1TdGFydChtZXRhZGF0YVVybCk7XG4gICAgICAgICAgICBjb25zdCBzZHJMb2FkZXIgPSBuZXcgdGhyZWUuRmlsZUxvYWRlcih0aGlzLl9pbnRlcm5hbExvYWRpbmdNYW5hZ2VyKTtcbiAgICAgICAgICAgIHNkckxvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XG4gICAgICAgICAgICBzZHJMb2FkZXIuc2V0UmVxdWVzdEhlYWRlcih0aGlzLnJlcXVlc3RIZWFkZXIpO1xuICAgICAgICAgICAgc2RyTG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtcbiAgICAgICAgICAgIHNkckxvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpO1xuICAgICAgICAgICAgc2RyTG9hZGVyLmxvYWQoc2RyVXJsLCBhc3luYyAoYnVmZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmXG4gICAgICAgICAgICAgICAgIHRoaXMgY29uZGl0aW9uIGV4aXN0cyBvbmx5IGJlY2F1c2Ugb2YgdGhyZWUuanMgdHlwZXMgKyBzdHJpY3QgbW9kZVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2RyIGJ1ZmZlcicpO1xuICAgICAgICAgICAgICAgIHNkciA9IGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkQ2hlY2soKTtcbiAgICAgICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2RyTGVuZ3RoQ29tcHV0YWJsZSA9IGUubGVuZ3RoQ29tcHV0YWJsZTtcbiAgICAgICAgICAgICAgICBzZHJMb2FkZWQgPSBlLmxvYWRlZDtcbiAgICAgICAgICAgICAgICBzZHJUb3RhbCA9IGUudG90YWw7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NIYW5kbGVyKCk7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbUVycm9yKHNkclVybCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgZ2Fpbk1hcExvYWRlciA9IG5ldyB0aHJlZS5GaWxlTG9hZGVyKHRoaXMuX2ludGVybmFsTG9hZGluZ01hbmFnZXIpO1xuICAgICAgICAgICAgZ2Fpbk1hcExvYWRlci5zZXRSZXNwb25zZVR5cGUoJ2FycmF5YnVmZmVyJyk7XG4gICAgICAgICAgICBnYWluTWFwTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtcbiAgICAgICAgICAgIGdhaW5NYXBMb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO1xuICAgICAgICAgICAgZ2Fpbk1hcExvYWRlci5zZXRXaXRoQ3JlZGVudGlhbHModGhpcy53aXRoQ3JlZGVudGlhbHMpO1xuICAgICAgICAgICAgZ2Fpbk1hcExvYWRlci5sb2FkKGdhaW5NYXBVcmwsIGFzeW5jIChidWZmZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgICAgICAgICAgICAgICAgdGhpcyBjb25kaXRpb24gZXhpc3RzIG9ubHkgYmVjYXVzZSBvZiB0aHJlZS5qcyB0eXBlcyArIHN0cmljdCBtb2RlXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJ1ZmZlciA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBnYWlubWFwIGJ1ZmZlcicpO1xuICAgICAgICAgICAgICAgIGdhaW5NYXAgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYXdhaXQgbG9hZENoZWNrKCk7XG4gICAgICAgICAgICB9LCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGdhaW5NYXBMZW5ndGhDb21wdXRhYmxlID0gZS5sZW5ndGhDb21wdXRhYmxlO1xuICAgICAgICAgICAgICAgIGdhaW5NYXBMb2FkZWQgPSBlLmxvYWRlZDtcbiAgICAgICAgICAgICAgICBnYWluTWFwVG90YWwgPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzSGFuZGxlcigpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLml0ZW1FcnJvcihnYWluTWFwVXJsKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YUxvYWRlciA9IG5ldyB0aHJlZS5GaWxlTG9hZGVyKHRoaXMuX2ludGVybmFsTG9hZGluZ01hbmFnZXIpO1xuICAgICAgICAgICAgLy8gbWV0YWRhdGFMb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdqc29uJylcbiAgICAgICAgICAgIG1ldGFkYXRhTG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtcbiAgICAgICAgICAgIG1ldGFkYXRhTG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtcbiAgICAgICAgICAgIG1ldGFkYXRhTG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyk7XG4gICAgICAgICAgICBtZXRhZGF0YUxvYWRlci5sb2FkKG1ldGFkYXRhVXJsLCBhc3luYyAoanNvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZlxuICAgICAgICAgICAgICAgICB0aGlzIGNvbmRpdGlvbiBleGlzdHMgb25seSBiZWNhdXNlIG9mIHRocmVlLmpzIHR5cGVzICsgc3RyaWN0IG1vZGVcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRhZGF0YSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBpbXBsZW1lbnQgY2hlY2sgb24gSlNPTiBmaWxlIGFuZCByZW1vdmUgdGhpcyBlc2xpbnQgZGlzYWJsZVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgbG9hZENoZWNrKCk7XG4gICAgICAgICAgICB9LCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTGVuZ3RoQ29tcHV0YWJsZSA9IGUubGVuZ3RoQ29tcHV0YWJsZTtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YUxvYWRlZCA9IGUubG9hZGVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhVG90YWwgPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIHByb2dyZXNzSGFuZGxlcigpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLml0ZW1FcnJvcihtZXRhZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHF1YWRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgVGhyZWUuanMgTG9hZGVyIGZvciBhIEpQRUcgd2l0aCBlbWJlZGRlZCBnYWlubWFwIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQGNhdGVnb3J5IExvYWRlcnNcbiAgICAgKiBAZ3JvdXAgTG9hZGVyc1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpbXBvcnQgeyBIRFJKUEdMb2FkZXIgfSBmcm9tICdAbW9ub2dyaWQvZ2Fpbm1hcC1qcydcbiAgICAgKiBpbXBvcnQge1xuICAgICAqICAgRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmcsXG4gICAgICogICBMaW5lYXJGaWx0ZXIsXG4gICAgICogICBNZXNoLFxuICAgICAqICAgTWVzaEJhc2ljTWF0ZXJpYWwsXG4gICAgICogICBQZXJzcGVjdGl2ZUNhbWVyYSxcbiAgICAgKiAgIFBsYW5lR2VvbWV0cnksXG4gICAgICogICBTY2VuZSxcbiAgICAgKiAgIFdlYkdMUmVuZGVyZXJcbiAgICAgKiB9IGZyb20gJ3RocmVlJ1xuICAgICAqXG4gICAgICogY29uc3QgcmVuZGVyZXIgPSBuZXcgV2ViR0xSZW5kZXJlcigpXG4gICAgICpcbiAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgSERSSlBHTG9hZGVyKHJlbmRlcmVyKVxuICAgICAqXG4gICAgICogY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9hZGVyLmxvYWRBc3luYygnZ2Fpbm1hcC5qcGVnJylcbiAgICAgKiAvLyBgcmVzdWx0YCBjYW4gYmUgdXNlZCB0byBwb3B1bGF0ZSBhIFRleHR1cmVcbiAgICAgKlxuICAgICAqIGNvbnN0IHNjZW5lID0gbmV3IFNjZW5lKClcbiAgICAgKiBjb25zdCBtZXNoID0gbmV3IE1lc2goXG4gICAgICogICBuZXcgUGxhbmVHZW9tZXRyeSgpLFxuICAgICAqICAgbmV3IE1lc2hCYXNpY01hdGVyaWFsKHsgbWFwOiByZXN1bHQucmVuZGVyVGFyZ2V0LnRleHR1cmUgfSlcbiAgICAgKiApXG4gICAgICogc2NlbmUuYWRkKG1lc2gpXG4gICAgICogcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoKSlcbiAgICAgKlxuICAgICAqIC8vIFN0YXJ0aW5nIGZyb20gdGhyZWUuanMgcjE1OVxuICAgICAqIC8vIGByZXN1bHQucmVuZGVyVGFyZ2V0LnRleHR1cmVgIGNhblxuICAgICAqIC8vIGFsc28gYmUgdXNlZCBhcyBFcXVpcmVjdGFuZ3VsYXIgc2NlbmUgYmFja2dyb3VuZFxuICAgICAqIC8vXG4gICAgICogLy8gaXQgd2FzIHByZXZpb3VzbHkgbmVlZGVkIHRvIGNvbnZlcnQgaXRcbiAgICAgKiAvLyB0byBhIERhdGFUZXh0dXJlIHdpdGggYHJlc3VsdC50b0RhdGFUZXh0dXJlKClgXG4gICAgICogc2NlbmUuYmFja2dyb3VuZCA9IHJlc3VsdC5yZW5kZXJUYXJnZXQudGV4dHVyZVxuICAgICAqIHNjZW5lLmJhY2tncm91bmQubWFwcGluZyA9IEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nXG4gICAgICpcbiAgICAgKiAvLyByZXN1bHQgbXVzdCBiZSBtYW51YWxseSBkaXNwb3NlZFxuICAgICAqIC8vIHdoZW4geW91IGFyZSBkb25lIHVzaW5nIGl0XG4gICAgICogcmVzdWx0LmRpc3Bvc2UoKVxuICAgICAqXG4gICAgICovXG4gICAgY2xhc3MgSERSSlBHTG9hZGVyIGV4dGVuZHMgTG9hZGVyQmFzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkcyBhIEpQRUcgY29udGFpbmluZyBnYWluIG1hcCBtZXRhZGF0YVxuICAgICAgICAgKiBSZW5kZXJzIGEgbm9ybWFsIFNEUiBpbWFnZSBpZiBnYWlubWFwIGRhdGEgaXMgbm90IGZvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1cmwgQW4gYXJyYXkgaW4gdGhlIGZvcm0gb2YgW3Nkci5qcGcsIGdhaW5tYXAuanBnLCBtZXRhZGF0YS5qc29uXVxuICAgICAgICAgKiBAcGFyYW0gb25Mb2FkIExvYWQgY29tcGxldGUgY2FsbGJhY2ssIHdpbGwgcmVjZWl2ZSB0aGUgcmVzdWx0XG4gICAgICAgICAqIEBwYXJhbSBvblByb2dyZXNzIFByb2dyZXNzIGNhbGxiYWNrLCB3aWxsIHJlY2VpdmUgYSB7QGxpbmsgUHJvZ3Jlc3NFdmVudH1cbiAgICAgICAgICogQHBhcmFtIG9uRXJyb3IgRXJyb3IgY2FsbGJhY2tcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICovXG4gICAgICAgIGxvYWQodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1YWRSZW5kZXJlciA9IHRoaXMucHJlcGFyZVF1YWRSZW5kZXJlcigpO1xuICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gbmV3IHRocmVlLkZpbGVMb2FkZXIodGhpcy5faW50ZXJuYWxMb2FkaW5nTWFuYWdlcik7XG4gICAgICAgICAgICBsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO1xuICAgICAgICAgICAgbG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtcbiAgICAgICAgICAgIGxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7XG4gICAgICAgICAgICBsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtU3RhcnQodXJsKTtcbiAgICAgICAgICAgIGxvYWRlci5sb2FkKHVybCwgYXN5bmMgKGpwZWcpID0+IHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgICAgICAgICAgICAgICAgdGhpcyBjb25kaXRpb24gZXhpc3RzIG9ubHkgYmVjYXVzZSBvZiB0aHJlZS5qcyB0eXBlcyArIHN0cmljdCBtb2RlXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpwZWcgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYnVmZmVyLCByZWNlaXZlZCBbc3RyaW5nXSwgd2FzIGV4cGVjdGluZyBbQXJyYXlCdWZmZXJdJyk7XG4gICAgICAgICAgICAgICAgY29uc3QganBlZ0J1ZmZlciA9IG5ldyBVaW50OEFycmF5KGpwZWcpO1xuICAgICAgICAgICAgICAgIGxldCBzZHJKUEVHO1xuICAgICAgICAgICAgICAgIGxldCBnYWluTWFwSlBFRztcbiAgICAgICAgICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0cmFjdGlvblJlc3VsdCA9IGF3YWl0IGV4dHJhY3RHYWlubWFwRnJvbUpQRUcoanBlZ0J1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdhaW4gbWFwIGlzIHN1Y2Nlc3NmdWxseSByZWNvbnN0cnVjdGVkXG4gICAgICAgICAgICAgICAgICAgIHNkckpQRUcgPSBleHRyYWN0aW9uUmVzdWx0LnNkcjtcbiAgICAgICAgICAgICAgICAgICAgZ2Fpbk1hcEpQRUcgPSBleHRyYWN0aW9uUmVzdWx0LmdhaW5NYXA7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gZXh0cmFjdGlvblJlc3VsdC5tZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBTRFIgdmVyc2lvbiBpZiB0aGlzIGlzIG5vdCBhIGdhaW5tYXBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBYTVBNZXRhZGF0YU5vdEZvdW5kRXJyb3IgfHwgZSBpbnN0YW5jZW9mIEdhaW5NYXBOb3RGb3VuZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWx1cmUgdG8gcmVjb25zdHJ1Y3QgYW4gSERSIGltYWdlIGZyb20gJHt1cmx9OiBHYWluIG1hcCBtZXRhZGF0YSBub3QgZm91bmQgaW4gdGhlIGZpbGUsIEhEUkpQR0xvYWRlciB3aWxsIHJlbmRlciB0aGUgU0RSIGpwZWdgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhaW5NYXBNaW46IFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYWluTWFwTWF4OiBbMSwgMSwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FtbWE6IFsxLCAxLCAxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZHJDYXBhY2l0eU1pbjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZHJDYXBhY2l0eU1heDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRIZHI6IFswLCAwLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRTZHI6IFswLCAwLCAwXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNkckpQRUcgPSBqcGVnQnVmZmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzb2x2ZXMgIzE2XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIocXVhZFJlbmRlcmVyLCBtZXRhZGF0YSwgc2RySlBFRywgZ2Fpbk1hcEpQRUcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uRXJyb3IgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcXVhZFJlbmRlcmVyLmRpc3Bvc2VPbkRlbWFuZFJlbmRlcmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkxvYWQgPT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZChxdWFkUmVuZGVyZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5pdGVtRW5kKHVybCk7XG4gICAgICAgICAgICAgICAgcXVhZFJlbmRlcmVyLmRpc3Bvc2VPbkRlbWFuZFJlbmRlcmVyKCk7XG4gICAgICAgICAgICB9LCBvblByb2dyZXNzLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkVycm9yID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHF1YWRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydHMuR2Fpbk1hcERlY29kZXJNYXRlcmlhbCA9IEdhaW5NYXBEZWNvZGVyTWF0ZXJpYWw7XG4gICAgZXhwb3J0cy5HYWluTWFwTG9hZGVyID0gR2Fpbk1hcExvYWRlcjtcbiAgICBleHBvcnRzLkhEUkpQR0xvYWRlciA9IEhEUkpQR0xvYWRlcjtcbiAgICBleHBvcnRzLkpQRUdSTG9hZGVyID0gSERSSlBHTG9hZGVyO1xuICAgIGV4cG9ydHMuTVBGRXh0cmFjdG9yID0gTVBGRXh0cmFjdG9yO1xuICAgIGV4cG9ydHMuUXVhZFJlbmRlcmVyID0gUXVhZFJlbmRlcmVyO1xuICAgIGV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xuICAgIGV4cG9ydHMuZXh0cmFjdEdhaW5tYXBGcm9tSlBFRyA9IGV4dHJhY3RHYWlubWFwRnJvbUpQRUc7XG4gICAgZXhwb3J0cy5leHRyYWN0WE1QID0gZXh0cmFjdFhNUDtcblxufSkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/node_modules/@monogrid/gainmap-js/dist/decode.umd.cjs\n");

/***/ })

};
;